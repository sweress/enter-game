(function(){
/** @license Copyright (c) 2020, Blockthrough All rights reserved.
 See license text at: https://blockthrough.com/license
*/(()=>{var __webpack_modules__={553:e=>{var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof m?t:m,o=Object.create(r.prototype),a=new E(i||[]);return o._invoke=function(e,t,n){var i=u;return function(r,o){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===r)throw o;return Z()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=z(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===u)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var d=l(e,t,n);if("normal"===d.type){if(i=n.done?g:h,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(i=g,n.method="throw",n.arg=d.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u="suspendedStart",h="suspendedYield",f="executing",g="completed",p={};function m(){}function w(){}function b(){}var v={};d(v,o,(function(){return this}));var M=Object.getPrototypeOf,N=M&&M(M(x([])));N&&N!==n&&i.call(N,o)&&(v=N);var D=b.prototype=m.prototype=Object.create(v);function y(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function X(e,t){function n(r,o,a,s){var d=l(e[r],e,o);if("throw"!==d.type){var c=d.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(d.arg)}var r;this._invoke=function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}}function z(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,z(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=l(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function V(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(V,this),this.reset(!0)}function x(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:Z}}function Z(){return{value:t,done:!0}}return w.prototype=b,d(D,"constructor",b),d(b,"constructor",w),w.displayName=d(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,d(e,s,"GeneratorFunction")),e.prototype=Object.create(D),e},e.awrap=function(e){return{__await:e}},y(X.prototype),d(X.prototype,a,(function(){return this})),e.AsyncIterator=X,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new X(c(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(D),d(D,s,"Generator"),d(D,o,(function(){return this})),d(D,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=x,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var d=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(d&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(d){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;_(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:x(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},757:(e,t,n)=>{e.exports=n(553)},905:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{yC:()=>DeviceTypeAll,Xh:()=>browser,Jv:()=>platform,Uh:()=>device,tq:()=>isMobile,l7:()=>getDeviceType});var PlatformUnknown="unknown",PlatformAndroid="android",PlatformIOS="ios",PlatformWindows="windows",PlatformLinux="linux",PlatformOSX="osx",PlatformWindowsPhone="windowsphone",BrowserUnknown="unknown",BrowserChrome="chrome",BrowserFirefox="firefox",BrowserIE="ie",BrowserEdge="edge",BrowserOpera="opera",BrowserSafari="safari",BrowserUCBrowser="uc",DeviceUnknown="unknown",DeviceHighEndPhone="highendphone",DeviceTablet="tablet",DevicePersonalComputer="pc",DeviceConnectedTV="tv",DeviceGameConsole="console",DeviceTypeAll="all",DeviceTypeDesktop="desktop",DeviceTypeMobile="mobile",browser=function browser(){var ua=navigator.userAgent;return/edge/i.test(ua)?BrowserEdge:/opera/i.test(ua)||/opr|opios/i.test(ua)?BrowserOpera:/chrome|chromium/i.test(ua)?BrowserChrome:/firefox|iceweasel|fxios/i.test(ua)?BrowserFirefox:/msie|trident/i.test(ua)?BrowserIE:/^((?!chrome|android).)*safari/i.test(ua)?BrowserSafari:/ucbrowser/i.test(ua)?BrowserUCBrowser:window.chrome?BrowserChrome:"undefined"!=typeof InstallTrigger?BrowserFirefox:eval("/*@cc_on!@*/false")||document.documentMode?BrowserIE:window.StyleMedia?BrowserEdge:BrowserUnknown},platform=function(){var e=navigator.userAgent;return/windows|win32/i.test(e)?PlatformWindows:/ipod|iphone|ipad/i.test(e)?PlatformIOS:/android/i.test(e)?PlatformAndroid:/macintosh|mac os x/i.test(e)?PlatformOSX:/linux/i.test(e)?PlatformLinux:/windows phone/i.test(e)?PlatformWindowsPhone:PlatformUnknown},device=function(){var e=navigator.userAgent;return/tablet|ipad/i.test(e)?DeviceTablet:/mobile/i.test(e)||/android|webos|iphone|ipod|blackberry|iemobile|windows phone|opera mini/i.test(e)||/ucbrowser/i.test(e)&&window.ucweb?DeviceHighEndPhone:DevicePersonalComputer};function isMobile(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))}function getDeviceType(){return isMobile()?DeviceTypeMobile:DeviceTypeDesktop}},552:(e,t,n)=>{"use strict";n.d(t,{z:()=>g,Z:()=>f});var i=n(2);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,s,d=n(942),c=n(614),l=n(302),u=Boolean(window.console&&window.console.info),h=!1;!function(){try{h=window.location.href.indexOf("bt_debug=true")>=0||"true"===window.localStorage.bt_debug}catch(e){h=!1}}();var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,i=void 0===n?"":n,o=t.level,a=void 0===o?g.DEFAULT:o;r(this,e),(0,d.Z)(this,"tag","Blockthrough"),(0,d.Z)(this,"prefix",""),this.setPrefix(i),this.setLevel(a)}var t,n,a;return t=e,n=[{key:"setPrefix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.prefix=e}},{key:"setLevel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.DEFAULT;X(e)?this.level=e:this.level=g.DEFAULT}},{key:"log",value:function(e,t,n,r){if(h&&u){if(arguments.length<3||!X(e)||"object"!==(0,i.Z)(t)||"string"!=typeof n)throw new TypeError;if(!(e<this.level)){var o=M(),a=N(t),s="";s+="%c["+this.tag+" - "+m[e]+"]%c",s+="%c[%s]%c ",a&&(s+="%c["+a+"]%c "),this.prefix&&(s+=this.prefix),s+=n;var d=[];d.push(s),d.push("color: #000000; background-color: "+w[e]),d.push("background-color: inherit"),d.push("color: #757575;"),d.push(D(o)),d.push("background-color: inherit"),a&&(d.push("color: "+y(t)),d.push("color: inherit")),d=d.concat(Array.prototype.slice.call(arguments,3)),console.info.apply(console,d)}}}},{key:"debugf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.DEBUG,e,t].concat(n)),z(i,p.DEBUG)}},{key:"infof",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.INFO,e,t].concat(n)),z(i,p.INFO)}},{key:"noticef",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.NOTICE,e,t].concat(n)),z(i,p.NOTICE)}},{key:"warningf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.WARNING,e,t].concat(n)),z(i,p.WARNING)}},{key:"errorf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.ERROR,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:2,event:"general_error_event",error:{name:t}}),z(i,p.ERROR)}},{key:"criticalf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.CRITICAL,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:2,event:"general_critical_event",error:{name:t}}),z(i,p.CRITICAL)}},{key:"alertf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.ALERT,e,t].concat(n)),z(i,p.ALERT)}},{key:"emergencyf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[g.EMERGENCY,e,t].concat(n)),z(i,p.EMERGENCY)}}],n&&o(t.prototype,n),a&&o(t,a),e}(),g={DEFAULT:0,DEBUG:1,INFO:2,NOTICE:3,WARNING:4,ERROR:5,CRITICAL:6,ALERT:7,EMERGENCY:8},p={DEBUG:0,INFO:1,NOTICE:2,WARNING:3,ERROR:4,CRITICAL:5,ALERT:6,EMERGENCY:7},m=(a={},(0,d.Z)(a,g.DEFAULT,"DFT"),(0,d.Z)(a,g.DEBUG,"DBG"),(0,d.Z)(a,g.INFO,"INF"),(0,d.Z)(a,g.NOTICE,"NTC"),(0,d.Z)(a,g.WARNING,"WRN"),(0,d.Z)(a,g.ERROR,"ERR"),(0,d.Z)(a,g.CRITICAL,"CRT"),(0,d.Z)(a,g.ALERT,"ALR"),(0,d.Z)(a,g.EMERGENCY,"EMR"),a),w=(s={},(0,d.Z)(s,g.DEFAULT,"#F5F5F5"),(0,d.Z)(s,g.DEBUG,"#BBDEFB"),(0,d.Z)(s,g.INFO,"#B3E5FC"),(0,d.Z)(s,g.NOTICE,"#DCEDC8"),(0,d.Z)(s,g.WARNING,"#FFE0B2"),(0,d.Z)(s,g.ERROR,"#FFCCBC"),(0,d.Z)(s,g.CRITICAL,"#E57373"),(0,d.Z)(s,g.ALERT,"#F06292"),(0,d.Z)(s,g.EMERGENCY,"#BA68C8"),s),b=["#B71C1C","#880E4F","#4A148C","#311B92","#1A237E","#0D47A1","#01579B","#006064","#004D40","#1B5E20","#33691E","#827717","#F57F17","#FF6F00","#E65100","#BF360C","#3E2723","#37474F"],v=(new Date).getTime();function M(){return(new Date).getTime()-v}function N(e){return e&&e.id||null}function D(e){return e<1e3?Math.round(e).toString()+"ms":(e/1e3).toFixed(2)+"s"}function y(e){var t=N(e);return t?b[function(e){for(var t=2166136261,n=0;n<e.length;++n)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(t)%b.length]:"#000000"}function X(e){return"number"==typeof e&&void 0!==m[e]}function z(e,t){if(e&&e.event&&e.sendToServer&&t&&(!e.sendPercentage||c.Z.commonUtils.getTrueByProbability(e.sendPercentage))){var n=Object.assign({},e,{severity:t});l.Y.fireEvent("sendLog",n)}}},302:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var i=new function(){this.events={},this.hasEventListener=function(e){return this.events.hasOwnProperty(e)},this.addEventListener=function(e,t){this.hasEventListener(e)?this.events[e].push(t):this.events[e]=[t]},this.removeEventListener=function(e,t){if(this.hasEventListener(e)){var n=this.events[e].indexOf(t);-1!=n&&this.events[e].splice(n,1)}},this.fireEvent=function(e,t,n,i){if(this.hasEventListener(e))for(var o=new r(e,t),a=this.events[e],s=a.length,d=0;d<s;d++){try{var c=a[d].call(n,o)}catch(e){console.error("CustomEvents - error in `fireEvent`:",e)}if(null!=c)return c;if(o.shouldStop)return}}},r=function(e,t){this.name=e,this.data=t,this.shouldStop=!1}},17:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var i={selectorPosition:{APPEND_CHILD:0,INSERT_BEFORE:1},complianceStatus:{UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4},acceptableStandardScreenSize:{width:1366,height:768},headerBiddingType:{prebid:1},refreshType:{UNKNOWN:0,ALL:1,VISIBLE:2,HIDDEN:3},elementVisibility:{VISIBLE:"VISIBLE",HIDDEN:"HIDDEN",NOT_FOUND:"NOT_FOUND"},htmlElements:["HTMLScriptElement","HTMLElement","HTMLVideoElement","HTMLAudioElement","HTMLHtmlElement","HTMLHeadElement","HTMLLinkElement","HTMLStyleElement","HTMLBodyElement","HTMLFormElement","HTMLSelectElement","HTMLOptionElement","HTMLInputElement","HTMLTextAreaElement","HTMLButtonElement","HTMLLabelElement","HTMLFieldSetElement","HTMLLegendElement","HTMLUListElement","HTMLOListElement","HTMLDListElement","HTMLDirectoryElement","HTMLMenuElement","HTMLLIElement","HTMLDivElement","HTMLParagraphElement","HTMLHeadingElement","HTMLQuoteElement","HTMLPreElement","HTMLBRElement","HTMLFontElement","HTMLHRElement","HTMLAnchorElement","HTMLImageElement","HTMLObjectElement","HTMLParamElement","HTMLMapElement","HTMLModElement","HTMLAreaElement","HTMLTableElement","HTMLTableCaptionElement","HTMLTableColElement","HTMLTableSectionElement","HTMLTableRowElement","HTMLTableCellElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement"]}},836:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=new function(){this.data={},this.setItem=function(e,t){this.data[e]=t},this.getItem=function(e){return this.data[e]},this.removeItem=function(e){delete this.data[e]},this.clearSharedObject=function(){this.data={}}},r=n(17),o=n(143);const a={SharedObject:i,consts:r.v,upoSettings:o.Im,whitelistingIFrame:undefined,cpbjs:undefined,uGoogletag:undefined}},143:(e,t,n)=>{"use strict";n.d(t,{VP:()=>r,k$:()=>o,Im:()=>a});var i="static.btloader.com",r="https://".concat(i,"/safeFrame.html?upapi=true"),o=!0,a={acceptableURLParam:"upapi=true",timeout:3e3,refreshTimeout:3e3,staticDomain:i,whitelistingIFrameSettings:{url:r,isOurOriginWhitelistingIFrame:o,publisherDomainWhitelistingIFrameCandidatesSrcs:["/robots.txt","/ads.txt"]},minTimeBetweenRefreshes:3e4,amazonBidderConfiguration:{enabled:!1,keepHbPb:!1},recoveryScriptVersion:"2.9.123"}},228:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>prebidLoader});var _services__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(614),_shared__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(836),prebidLoader=new function(){var subscriptionLayer=new _services__WEBPACK_IMPORTED_MODULE_0__.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){subscriptionLayer.subscribeForEvent(e,t)};var initPbjs=function initPbjs(){var prebidjsCode="LyogcHJlYmlkLmpzIHY1LjExLjAKVXBkYXRlZCA6IDIwMjItMDEtMTIqLwohZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LnVwYmpzQ2h1bms7d2luZG93LnVwYmpzQ2h1bms9ZnVuY3Rpb24obixvLGEpe2Zvcih2YXIgYyx1LHMsZD0wLGY9W107ZDxuLmxlbmd0aDtkKyspdT1uW2RdLHJbdV0mJmYucHVzaChyW3VdWzBdKSxyW3VdPTA7Zm9yKGMgaW4gbylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobyxjKSYmKGVbY109b1tjXSk7Zm9yKHQmJnQobixvLGEpO2YubGVuZ3RoOylmLnNoaWZ0KCkoKTtpZihhKWZvcihkPTA7ZDxhLmxlbmd0aDtkKyspcz1pKGkucz1hW2RdKTtyZXR1cm4gc307dmFyIG49e30scj17MzQ3OjB9O2Z1bmN0aW9uIGkodCl7aWYoblt0XSlyZXR1cm4gblt0XS5leHBvcnRzO3ZhciByPW5bdF09e2k6dCxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3RdLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLGkpLHIubD0hMCxyLmV4cG9ydHN9aS5tPWUsaS5jPW4saS5kPWZ1bmN0aW9uKGUsdCxuKXtpLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om59KX0saS5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBpLmQodCwiYSIsdCksdH0saS5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxpLnA9IiIsaS5vZT1mdW5jdGlvbihlKXt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9LGkoaS5zPTg3Nil9KHswOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJpbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGp9KSksdC5nZXRQcmViaWRJbnRlcm5hbD1mdW5jdGlvbigpe3JldHVybiBffSxuLmQodCwiYmluZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFV9KSksdC5nZXRVbmlxdWVJZGVudGlmaWVyU3RyPUQsdC5nZW5lcmF0ZVVVSUQ9Tix0LmdldEJpZElkUGFyYW1ldGVyPWZ1bmN0aW9uKGUsdCl7aWYodCYmdFtlXSlyZXR1cm4gdFtlXTtyZXR1cm4iIn0sdC50cnlBcHBlbmRRdWVyeVN0cmluZz1mdW5jdGlvbihlLHQsbil7aWYobilyZXR1cm4gZSt0KyI9IitlbmNvZGVVUklDb21wb25lbnQobikrIiYiO3JldHVybiBlfSx0LnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PSIiO2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0Kz1uKyI9IitlbmNvZGVVUklDb21wb25lbnQoZVtuXSkrIiYiKTtyZXR1cm4gdD10LnJlcGxhY2UoLyYkLywiIil9LHQudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aD4wP3NlKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGRlKGUsdCkpKX0pKS5qb2luKCImIik6IiJ9LHQuZ2V0QWRVbml0U2l6ZXM9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO3ZhciB0PVtdO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmQXJyYXkuaXNBcnJheShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKSl7dmFyIG49ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcztBcnJheS5pc0FycmF5KG5bMF0pP3Q9bjp0LnB1c2gobil9ZWxzZSBBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiYoQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKT90PWUuc2l6ZXM6dC5wdXNoKGUuc2l6ZXMpKTtyZXR1cm4gdH0sdC5wYXJzZVNpemVzSW5wdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgbj1lLnNwbGl0KCIsIikscj0vXihcZCkreChcZCkrJC9pO2lmKG4pZm9yKHZhciBpIGluIG4pdGUobixpKSYmbltpXS5tYXRjaChyKSYmdC5wdXNoKG5baV0pfWVsc2UgaWYoIm9iamVjdCI9PT1tKGUpKXt2YXIgbz1lLmxlbmd0aDtpZihvPjApaWYoMj09PW8mJiJudW1iZXIiPT10eXBlb2YgZVswXSYmIm51bWJlciI9PXR5cGVvZiBlWzFdKXQucHVzaChrKGUpKTtlbHNlIGZvcih2YXIgYT0wO2E8bzthKyspdC5wdXNoKGsoZVthXSkpfXJldHVybiB0fSx0LnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5PWssdC5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZT1mdW5jdGlvbihlKXtpZihQKGUpKXJldHVybnt3OmVbMF0saDplWzFdfX0sdC5nZXRXaW5kb3dUb3A9cSx0LmdldFdpbmRvd1NlbGY9TSx0LmdldFdpbmRvd0xvY2F0aW9uPUcsdC5sb2dNZXNzYWdlPVcsdC5sb2dJbmZvPUwsdC5sb2dXYXJuPUYsdC5sb2dFcnJvcj16LHQuaGFzQ29uc29sZUxvZ2dlcj1mdW5jdGlvbigpe3JldHVybiBUfSx0LmRlYnVnVHVybmVkT249SCx0LmNyZWF0ZUludmlzaWJsZUlmcmFtZT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3JldHVybiBlLmlkPUQoKSxlLmhlaWdodD0wLGUud2lkdGg9MCxlLmJvcmRlcj0iMHB4IixlLmhzcGFjZT0iMCIsZS52c3BhY2U9IjAiLGUubWFyZ2luV2lkdGg9IjAiLGUubWFyZ2luSGVpZ2h0PSIwIixlLnN0eWxlLmJvcmRlcj0iMCIsZS5zY3JvbGxpbmc9Im5vIixlLmZyYW1lQm9yZGVyPSIwIixlLnNyYz0iYWJvdXQ6YmxhbmsiLGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsZX0sdC5nZXRQYXJhbWV0ZXJCeU5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKEcoKS5zZWFyY2gpW2VdfHwiIn0sdC5pc0E9Syx0LmlzRm49Six0LmlzU3RyPVksdC5pc0FycmF5PVEsdC5pc051bWJlcj0kLHQuaXNQbGFpbk9iamVjdD1YLHQuaXNCb29sZWFuPWZ1bmN0aW9uKGUpe3JldHVybiBLKGUsIkJvb2xlYW4iKX0sdC5pc0VtcHR5PVosdC5pc0VtcHR5U3RyPWZ1bmN0aW9uKGUpe3JldHVybiBZKGUpJiYoIWV8fDA9PT1lLmxlbmd0aCl9LHQuX2VhY2g9ZWUsdC5jb250YWlucz1mdW5jdGlvbihlLHQpe2lmKFooZSkpcmV0dXJuITE7aWYoSihlLmluZGV4T2YpKXJldHVybi0xIT09ZS5pbmRleE9mKHQpO3ZhciBuPWUubGVuZ3RoO2Zvcig7bi0tOylpZihlW25dPT09dClyZXR1cm4hMDtyZXR1cm4hMX0sdC5fbWFwPWZ1bmN0aW9uKGUsdCl7aWYoWihlKSlyZXR1cm5bXTtpZihKKGUubWFwKSlyZXR1cm4gZS5tYXAodCk7dmFyIG49W107cmV0dXJuIGVlKGUsKGZ1bmN0aW9uKHIsaSl7bi5wdXNoKHQocixpLGUpKX0pKSxufSx0Lmhhc093bj10ZSx0Lmluc2VydEVsZW1lbnQ9bmUsdC50cmlnZ2VyUGl4ZWw9cmUsdC5jYWxsQnVybD1mdW5jdGlvbihlKXt2YXIgdD1lLnNvdXJjZSxuPWUuYnVybDt0PT09Uy5TMlMuU1JDJiZuJiZqLnRyaWdnZXJQaXhlbChuKX0sdC5pbnNlcnRIdG1sSW50b0lmcmFtZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm47dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7dC5pZD1EKCksdC53aWR0aD0wLHQuaGVpZ2h0PTAsdC5oc3BhY2U9IjAiLHQudnNwYWNlPSIwIix0Lm1hcmdpbldpZHRoPSIwIix0Lm1hcmdpbkhlaWdodD0iMCIsdC5zdHlsZS5kaXNwbGF5PSJub25lIix0LnN0eWxlLmhlaWdodD0iMHB4Iix0LnN0eWxlLndpZHRoPSIwcHgiLHQuc2Nyb2xsaW5nPSJubyIsdC5mcmFtZUJvcmRlcj0iMCIsdC5hbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSIsai5pbnNlcnRFbGVtZW50KHQsZG9jdW1lbnQsImJvZHkiKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQub3BlbigpLHQuY29udGVudFdpbmRvdy5kb2N1bWVudC53cml0ZShlKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKX0sdC5pbnNlcnRVc2VyU3luY0lmcmFtZT1pZSx0LmNyZWF0ZVRyYWNrUGl4ZWxIdG1sPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiIiO2U9ZC5jKGUpO3ZhciB0PWVuY29kZVVSSShlKSxuPSc8ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjBweDt0b3A6MHB4O3Zpc2liaWxpdHk6aGlkZGVuOyI+JztyZXR1cm4gbis9JzxpbWcgc3JjPSInK3QrJyI+PC9kaXY+J30sdC5jcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbD1vZSx0LmdldFZhbHVlU3RyaW5nPWFlLHQudW5pcXVlcz1jZSx0LmZsYXR0ZW49dWUsdC5nZXRCaWRSZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3ZhciBuO3JldHVybiB0LnNvbWUoKGZ1bmN0aW9uKHQpe3ZhciByPWMoKSh0LmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVyblsiYmlkSWQiLCJhZElkIiwiYmlkX2lkIl0uc29tZSgoZnVuY3Rpb24obil7cmV0dXJuIHRbbl09PT1lfSkpfSkpO3JldHVybiByJiYobj1yKSxyfSkpLG59LHQuZ2V0S2V5cz1zZSx0LmdldFZhbHVlPWRlLHQuZ2V0S2V5QnlWYWx1ZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikmJmVbbl09PT10KXJldHVybiBufSx0LmdldEJpZGRlckNvZGVzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnVwYmpzLmFkVW5pdHM7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpLnJlZHVjZSh1ZSxbXSl9KSkucmVkdWNlKHVlKS5maWx0ZXIoY2UpfSx0LmlzR3B0UHViYWRzRGVmaW5lZD1mZSx0LmlzQXBuR2V0VGFnRGVmaW5lZD1mdW5jdGlvbigpe2lmKHdpbmRvdy5hcG50YWcmJkood2luZG93LmFwbnRhZy5nZXRUYWcpKXJldHVybiEwfSxuLmQodCwiZ2V0SGlnaGVzdENwbSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxlfSkpLG4uZCh0LCJnZXRPbGRlc3RIaWdoZXN0Q3BtQmlkIiwoZnVuY3Rpb24oKXtyZXR1cm4gcGV9KSksbi5kKHQsImdldExhdGVzdEhpZ2hlc3RDcG1CaWQiLChmdW5jdGlvbigpe3JldHVybiBnZX0pKSx0LnNodWZmbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7Zm9yKDt0PjA7KXt2YXIgbj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdCk7dC0tO3ZhciByPWVbdF07ZVt0XT1lW25dLGVbbl09cn1yZXR1cm4gZX0sdC5hZFVuaXRzRmlsdGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoKShlLHQmJnQuYWRVbml0Q29kZSl9LHQuZGVlcENsb25lPXZlLHQuaW5JZnJhbWU9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGouZ2V0V2luZG93U2VsZigpIT09ai5nZXRXaW5kb3dUb3AoKX1jYXRjaChlKXtyZXR1cm4hMH19LHQuaXNTYWZhcmlCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuL14oKD8hY2hyb21lfGFuZHJvaWR8Y3Jpb3N8Znhpb3MpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sdC5yZXBsYWNlQXVjdGlvblByaWNlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wkXHtBVUNUSU9OX1BSSUNFXH0vZyx0KX0sdC5yZXBsYWNlQ2xpY2tUaHJvdWdoPWZ1bmN0aW9uKGUsdCl7aWYoIWV8fCF0fHwic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wke0NMSUNLVEhST1VHSH0vZyx0KX0sdC50aW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdC5nZXRQZXJmb3JtYW5jZU5vdz1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3cmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKXx8MH0sdC5oYXNEZXZpY2VBY2Nlc3M9ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PXIuYi5nZXRDb25maWcoImRldmljZUFjY2VzcyIpfSx0LmNoZWNrQ29va2llU3VwcG9ydD15ZSx0LmRlbGF5RXhlY3V0aW9uPWZ1bmN0aW9uKGUsdCl7aWYodDwxKXRocm93IG5ldyBFcnJvcigibnVtUmVxdWlyZWRDYWxscyBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLiBHb3QgIi5jb25jYXQodCkpO3ZhciBuPTA7cmV0dXJuIGZ1bmN0aW9uKCl7KytuPT09dCYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSx0Lmdyb3VwQnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuKGVbblt0XV09ZVtuW3RdXXx8W10pLnB1c2gobiksZX0pLHt9KX0sdC5nZXREZWZpbmVkUGFyYW1zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGgodCx5KHt9LG4sZVtuXSkpfSkse30pfSx0LmlzVmFsaWRNZWRpYVR5cGVzPWZ1bmN0aW9uKGUpe3ZhciB0PVsiYmFubmVyIiwibmF0aXZlIiwidmlkZW8iXTtpZighT2JqZWN0LmtleXMoZSkuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBzKCkodCxlKX0pKSlyZXR1cm4hMTtpZihlLnZpZGVvJiZlLnZpZGVvLmNvbnRleHQpcmV0dXJuIHMoKShbImluc3RyZWFtIiwib3V0c3RyZWFtIiwiYWRwb2QiXSxlLnZpZGVvLmNvbnRleHQpO3JldHVybiEwfSx0LmdldEJpZGRlclJlcXVlc3Q9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBjKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PXQmJighbnx8ZS5hZFVuaXRDb2RlPT09bil9KSkubGVuZ3RoPjB9KSl8fHtzdGFydDpudWxsLGF1Y3Rpb25JZDpudWxsfX0sdC5nZXRVc2VyQ29uZmlndXJlZFBhcmFtcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlPT09dH0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHN9KSkucmVkdWNlKHVlLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PW59KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXN8fHt9fSkpfSx0LmdldE9yaWdpbj1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24ub3JpZ2luP3dpbmRvdy5sb2NhdGlvbi5vcmlnaW46d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKyh3aW5kb3cubG9jYXRpb24ucG9ydD8iOiIrd2luZG93LmxvY2F0aW9uLnBvcnQ6IiIpfSx0LmdldEROVD1mdW5jdGlvbigpe3JldHVybiIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT13aW5kb3cuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob3RUcmFja3x8InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja30sdC5pc0FkVW5pdENvZGVNYXRjaGluZ1Nsb3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBoZShlLHQpfX0sdC5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGU9bWUsdC5nZXRHcHRTbG90SW5mb0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7dmFyIHQ7ZmUoKSYmKHQ9YygpKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSxtZShlKSkpO2lmKHQpcmV0dXJue2dwdFNsb3Q6dC5nZXRBZFVuaXRQYXRoKCksZGl2SWQ6dC5nZXRTbG90RWxlbWVudElkKCl9O3JldHVybnt9fSx0LnVuc3VwcG9ydGVkQmlkZGVyTWVzc2FnZT1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUubWVkaWFUeXBlc3x8e2Jhbm5lcjoiYmFubmVyIn0pLmpvaW4oIiwgIik7cmV0dXJuIlxuICAgICIuY29uY2F0KGUuY29kZSwiIGlzIGEgIikuY29uY2F0KG4sIiBhZCB1bml0XG4gICAgY29udGFpbmluZyBiaWRkZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCAiKS5jb25jYXQobiwiOiAiKS5jb25jYXQodCwiLlxuICAgIFRoaXMgYmlkZGVyIHdvbid0IGZldGNoIGRlbWFuZC5cbiAgIil9LHQuaXNJbnRlZ2VyPVNlLHQuY29udmVydENhbWVsVG9VbmRlcnNjb3JlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyg/Ol58XC4/KShbQS1aXSkvZywoZnVuY3Rpb24oZSx0KXtyZXR1cm4iXyIrdC50b0xvd2VyQ2FzZSgpfSkpLnJlcGxhY2UoL15fLywiIil9LHQuY2xlYW5PYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwIT09ZVtuXSYmKHRbbl09ZVtuXSksdH0pLHt9KX0sdC5waWNrPWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPT1tKGUpKXJldHVybnt9O3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24obixyLGkpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByKXJldHVybiBuO3ZhciBvPXIsYT1yLm1hdGNoKC9eKC4rPylcc2FzXHMoLis/KSQvaSk7YSYmKHI9YVsxXSxvPWFbMl0pO3ZhciBjPWVbcl07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRbaSsxXSYmKGM9dFtpKzFdKGMsbikpLHZvaWQgMCE9PWMmJihuW29dPWMpLG59KSx7fSl9LHQudHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3Jkcz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ImtleXdvcmRzIixuPVtdO3JldHVybiBlZShlLChmdW5jdGlvbihlLHIpe2lmKFEoZSkpe3ZhciBpPVtdO2VlKGUsKGZ1bmN0aW9uKGUpeygoZT1hZSh0KyIuIityLGUpKXx8IiI9PT1lKSYmaS5wdXNoKGUpfSkpLGU9aX1lbHNle2lmKCFZKGU9YWUodCsiLiIrcixlKSkpcmV0dXJuO2U9W2VdfW4ucHVzaCh7a2V5OnIsdmFsdWU6ZX0pfSkpLG59LHQuY29udmVydFR5cGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByLGk7dFtuXSYmKEooZVtuXSk/dFtuXT1lW25dKHRbbl0pOnRbbl09KHI9ZVtuXSxpPXRbbl0sInN0cmluZyI9PT1yP2kmJmkudG9TdHJpbmcoKToibnVtYmVyIj09PXI/TnVtYmVyKGkpOmkpLGlzTmFOKHRbbl0pJiZkZWxldGUgdC5rZXkpfSkpLHR9LHQuaXNBcnJheU9mTnVtcz1mdW5jdGlvbihlLHQpe3JldHVybiBRKGUpJiYoIXR8fGUubGVuZ3RoPT09dCkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBTZShlKX0pKX0sdC5maWxsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPHQ7cisrKXt2YXIgaT1YKGUpP3ZlKGUpOmU7bi5wdXNoKGkpfXJldHVybiBufSx0LmNodW5rPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPE1hdGguY2VpbChlLmxlbmd0aC90KTtyKyspe3ZhciBpPXIqdCxvPWkrdDtuLnB1c2goZS5zbGljZShpLG8pKX1yZXR1cm4gbn0sdC5nZXRNaW5WYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxnKGUpKX0sdC5nZXRNYXhWYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxnKGUpKX0sdC5jb21wYXJlT249ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIHRbZV08bltlXT8xOnRbZV0+bltlXT8tMTowfX0sdC5wYXJzZVFTPUVlLHQuZm9ybWF0UVM9QWUsdC5wYXJzZVVybD1mdW5jdGlvbihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTt0JiYibm9EZWNvZGVXaG9sZVVSTCJpbiB0JiZ0Lm5vRGVjb2RlV2hvbGVVUkw/bi5ocmVmPWU6bi5ocmVmPWRlY29kZVVSSUNvbXBvbmVudChlKTt2YXIgcj10JiYiZGVjb2RlU2VhcmNoQXNTdHJpbmciaW4gdCYmdC5kZWNvZGVTZWFyY2hBc1N0cmluZztyZXR1cm57aHJlZjpuLmhyZWYscHJvdG9jb2w6KG4ucHJvdG9jb2x8fCIiKS5yZXBsYWNlKC86JC8sIiIpLGhvc3RuYW1lOm4uaG9zdG5hbWUscG9ydDorbi5wb3J0LHBhdGhuYW1lOm4ucGF0aG5hbWUucmVwbGFjZSgvXig/IVwvKS8sIi8iKSxzZWFyY2g6cj9uLnNlYXJjaDpqLnBhcnNlUVMobi5zZWFyY2h8fCIiKSxoYXNoOihuLmhhc2h8fCIiKS5yZXBsYWNlKC9eIy8sIiIpLGhvc3Q6bi5ob3N0fHx3aW5kb3cubG9jYXRpb24uaG9zdH19LHQuYnVpbGRVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuKGUucHJvdG9jb2x8fCJodHRwIikrIjovLyIrKGUuaG9zdHx8ZS5ob3N0bmFtZSsoZS5wb3J0PyI6Ii5jb25jYXQoZS5wb3J0KToiIikpKyhlLnBhdGhuYW1lfHwiIikrKGUuc2VhcmNoPyI/Ii5jb25jYXQoai5mb3JtYXRRUyhlLnNlYXJjaHx8IiIpKToiIikrKGUuaGFzaD8iIyIuY29uY2F0KGUuaGFzaCk6IiIpfSx0LmRlZXBFcXVhbD1UZSx0Lm1lcmdlRGVlcD1mdW5jdGlvbiBlKHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksaT0xO2k8bjtpKyspcltpLTFdPWFyZ3VtZW50c1tpXTtpZighci5sZW5ndGgpcmV0dXJuIHQ7dmFyIG89ci5zaGlmdCgpO2lmKFgodCkmJlgobykpZm9yKHZhciBhIGluIG8pWChvW2FdKT8odFthXXx8aCh0LHkoe30sYSx7fSkpLGUodFthXSxvW2FdKSk6UShvW2FdKSYmdFthXT9RKHRbYV0pJiYodFthXT10W2FdLmNvbmNhdChvW2FdKSk6aCh0LHkoe30sYSxvW2FdKSk7cmV0dXJuIGUuYXBwbHkodm9pZCAwLFt0XS5jb25jYXQocikpfSx0LmN5cmI1M0hhc2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAscj1mdW5jdGlvbihlLHQpe2lmKEooTWF0aC5pbXVsKSlyZXR1cm4gTWF0aC5pbXVsKGUsdCk7dmFyIG49KDQxOTQzMDMmZSkqKHR8PTApO3JldHVybiA0MjkwNzcyOTkyJmUmJihuKz0oNDI5MDc3Mjk5MiZlKSp0fDApLDB8bn0saT0zNzM1OTI4NTU5Xm4sbz0xMTAzNTQ3OTkxXm4sYT0wO2E8ZS5sZW5ndGg7YSsrKXQ9ZS5jaGFyQ29kZUF0KGEpLGk9cihpXnQsMjY1NDQzNTc2MSksbz1yKG9edCwxNTk3MzM0Njc3KTtyZXR1cm4gaT1yKGleaT4+PjE2LDIyNDY4MjI1MDcpXnIob15vPj4+MTMsMzI2NjQ4OTkwOSksKDQyOTQ5NjcyOTYqKDIwOTcxNTEmKG89cihvXm8+Pj4xNiwyMjQ2ODIyNTA3KV5yKGleaT4+PjEzLDMyNjY0ODk5MDkpKSkrKGk+Pj4wKSkudG9TdHJpbmcoKX07dmFyIHI9bigzKSxpPW4oMTY2KSxvPW4ubihpKSxhPW4oMTEpLGM9bi5uKGEpLHU9bigxMikscz1uLm4odSksZD1uKDQzKSxmPW4oMTY3KTtuLmQodCwiZGVlcEFjY2VzcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGYuYX0pKTt2YXIgbD1uKDE2OCk7ZnVuY3Rpb24gcChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGIoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHYoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxiKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGIoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHYoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT92KGUsdCk6dm9pZCAwfX1mdW5jdGlvbiB2KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24geShlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gaCgpe3JldHVybihoPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbShlKXtyZXR1cm4obT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfW4uZCh0LCJkZWVwU2V0VmFsdWUiLChmdW5jdGlvbigpe3JldHVybiBsLmF9KSk7dmFyIFM9big1KSxFPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsQT1Cb29sZWFuKHdpbmRvdy5jb25zb2xlKSxUPUJvb2xlYW4oQSYmd2luZG93LmNvbnNvbGUubG9nKSxPPUJvb2xlYW4oQSYmd2luZG93LmNvbnNvbGUuaW5mbyksST1Cb29sZWFuKEEmJndpbmRvdy5jb25zb2xlLndhcm4pLHc9Qm9vbGVhbihBJiZ3aW5kb3cuY29uc29sZS5lcnJvciksQz1uKDkpLGo9e2NoZWNrQ29va2llU3VwcG9ydDp5ZSxjcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbDpvZSxnZXRXaW5kb3dTZWxmOk0sZ2V0V2luZG93VG9wOnEsZ2V0V2luZG93TG9jYXRpb246RyxpbnNlcnRVc2VyU3luY0lmcmFtZTppZSxpbnNlcnRFbGVtZW50Om5lLGlzRm46Six0cmlnZ2VyUGl4ZWw6cmUsbG9nRXJyb3I6eixsb2dXYXJuOkYsbG9nTWVzc2FnZTpXLGxvZ0luZm86TCxwYXJzZVFTOkVlLGZvcm1hdFFTOkFlLGRlZXBFcXVhbDpUZX0sXz17fTt2YXIgUixCPXt9LFU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0uYmluZChudWxsLDEsQikoKT09PUI/RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLG4uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpKX19LHg9KFI9MCxmdW5jdGlvbigpe3JldHVybisrUn0pO2Z1bmN0aW9uIEQoKXtyZXR1cm4geCgpK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cigyKX1mdW5jdGlvbiBOKGUpe3JldHVybiBlPyhlXih3aW5kb3cmJndpbmRvdy5jcnlwdG8mJndpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzP2NyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdJTE2OjE2Kk1hdGgucmFuZG9tKCkpPj5lLzQpLnRvU3RyaW5nKDE2KTooWzFlN10rLTFlMystNGUzKy04ZTMrLTFlMTEpLnJlcGxhY2UoL1swMThdL2csTil9ZnVuY3Rpb24gayhlKXtpZihQKGUpKXJldHVybiBlWzBdKyJ4IitlWzFdfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIFEoZSkmJjI9PT1lLmxlbmd0aCYmIWlzTmFOKGVbMF0pJiYhaXNOYU4oZVsxXSl9ZnVuY3Rpb24gcSgpe3JldHVybiB3aW5kb3cudG9wfWZ1bmN0aW9uIE0oKXtyZXR1cm4gd2luZG93LnNlbGZ9ZnVuY3Rpb24gRygpe3JldHVybiB3aW5kb3cubG9jYXRpb259ZnVuY3Rpb24gVygpe0goKSYmVCYmY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxWKGFyZ3VtZW50cywiTUVTU0FHRToiKSl9ZnVuY3Rpb24gTCgpe0goKSYmTyYmY29uc29sZS5pbmZvLmFwcGx5KGNvbnNvbGUsVihhcmd1bWVudHMsIklORk86IikpfWZ1bmN0aW9uIEYoKXtIKCkmJkkmJmNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLFYoYXJndW1lbnRzLCJXQVJOSU5HOiIpKSxDLmVtaXQoUy5FVkVOVFMuQVVDVElPTl9ERUJVRyx7dHlwZToiV0FSTklORyIsYXJndW1lbnRzOmFyZ3VtZW50c30pfWZ1bmN0aW9uIHooKXtIKCkmJncmJmNvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSxWKGFyZ3VtZW50cywiRVJST1I6IikpLEMuZW1pdChTLkVWRU5UUy5BVUNUSU9OX0RFQlVHLHt0eXBlOiJFUlJPUiIsYXJndW1lbnRzOmFyZ3VtZW50c30pfWZ1bmN0aW9uIFYoZSx0KXtlPVtdLnNsaWNlLmNhbGwoZSk7dmFyIG49ci5iLmdldEN1cnJlbnRCaWRkZXIoKTtyZXR1cm4gdCYmZS51bnNoaWZ0KHQpLG4mJmUudW5zaGlmdChpKCIjYWFhIikpLGUudW5zaGlmdChpKCIjM2I4OGMzIikpLGUudW5zaGlmdCgiJWNQcmViaWQiKyhuPyIlYyIuY29uY2F0KG4pOiIiKSksZTtmdW5jdGlvbiBpKGUpe3JldHVybiJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGNvbG9yOiAjZmZmOyBiYWNrZ3JvdW5kOiAiLmNvbmNhdChlLCI7IHBhZGRpbmc6IDFweCA0cHg7IGJvcmRlci1yYWRpdXM6IDNweDsiKX19ZnVuY3Rpb24gSCgpe3JldHVybiEhci5iLmdldENvbmZpZygiZGVidWciKX1mdW5jdGlvbiBLKGUsdCl7cmV0dXJuIEUuY2FsbChlKT09PSJbb2JqZWN0ICIrdCsiXSJ9ZnVuY3Rpb24gSihlKXtyZXR1cm4gSyhlLCJGdW5jdGlvbiIpfWZ1bmN0aW9uIFkoZSl7cmV0dXJuIEsoZSwiU3RyaW5nIil9ZnVuY3Rpb24gUShlKXtyZXR1cm4gSyhlLCJBcnJheSIpfWZ1bmN0aW9uICQoZSl7cmV0dXJuIEsoZSwiTnVtYmVyIil9ZnVuY3Rpb24gWChlKXtyZXR1cm4gSyhlLCJPYmplY3QiKX1mdW5jdGlvbiBaKGUpe2lmKCFlKXJldHVybiEwO2lmKFEoZSl8fFkoZSkpcmV0dXJuIShlLmxlbmd0aD4wKTtmb3IodmFyIHQgaW4gZSlpZihoYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZWUoZSx0KXtpZighWihlKSl7aWYoSihlLmZvckVhY2gpKXJldHVybiBlLmZvckVhY2godCx0aGlzKTt2YXIgbj0wLHI9ZS5sZW5ndGg7aWYocj4wKWZvcig7bjxyO24rKyl0KGVbbl0sbixlKTtlbHNlIGZvcihuIGluIGUpaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LmNhbGwodGhpcyxlW25dLG4pfX1mdW5jdGlvbiB0ZShlLHQpe3JldHVybiBlLmhhc093blByb3BlcnR5P2UuaGFzT3duUHJvcGVydHkodCk6dm9pZCAwIT09ZVt0XSYmZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbdF0hPT1lW3RdfWZ1bmN0aW9uIG5lKGUsdCxuLHIpe3ZhciBpO2UmJmUuc3JjJiYoZS5zcmM9ZC5jKGUuc3JjKSksdD10fHxkb2N1bWVudCxpPW4/dC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKTp0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIik7dHJ5e2lmKChpPWkubGVuZ3RoP2k6dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpKS5sZW5ndGgpe2k9aVswXTt2YXIgbz1yP251bGw6aS5maXJzdENoaWxkO3JldHVybiBpLmluc2VydEJlZm9yZShlLG8pfX1jYXRjaChlKXt9fWZ1bmN0aW9uIHJlKGUsdCl7dmFyIG49TigpLHI9e2V2ZW50OiJ1c2VyLXN5bmMiLG1ldGE6e2ZpcmVkOiEwLHVpZDpufX07ZC5lKG51bGwsInRyaWdnZXJpbmctcGl4ZWwtZmlyZWQiLFtdLHIpLGQuYSgpLnRoZW4oKGZ1bmN0aW9uKHIpe3ZhciBpPXIuZnJhbWU7aWYoci5pc0JUU2FmZUZyYW1lRG9tYWluKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uIGUobil7aWYobi5zb3VyY2U9PT1pLmNvbnRlbnRXaW5kb3cpe3ZhciByO3RyeXtyPUpTT04ucGFyc2Uobi5kYXRhKX1jYXRjaChlKXt9ciYmImRvbmVUcmlnZ2VyaW5nUGl4ZWwiPT1yLnR5cGUmJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZSksdCYmai5pc0ZuKHQpJiZ0KCkpfX0pKTt2YXIgbz0ibGV0IGltZyA9IG5ldyBJbWFnZSgpOyBmdW5jdGlvbiBkb25lKCkgeyB0b3AucG9zdE1lc3NhZ2UoeyB0eXBlOiBcImRvbmVUcmlnZ2VyaW5nUGl4ZWxcIiB9LCBcIipcIikgfTsgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkb25lKTsgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZG9uZSk7IGltZy5zcmMgPSBhdG9iKCciK2J0b2EoZSkrIicpOyI7aS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHt0eXBlOiJldmFsIixjb2RlOm99LCIqIik7dmFyIGE9e2V2ZW50OiJ1c2VyLXN5bmMiLG1ldGE6e3N1Y2Nlc3M6ITAsdWlkOm59fTtkLmUobnVsbCwidHJpZ2dlcmluZy1waXhlbC1zdWNjZXNzIixbXSxhKX1lbHNle3ZhciBjPW5ldyBpLmNvbnRlbnRXaW5kb3cuSW1hZ2U7dCYmai5pc0ZuKHQpJiYoYy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0KSxjLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIix0KSksYy5zcmM9ZX19KSl9ZnVuY3Rpb24gaWUoZSx0KXt2YXIgbj1qLmNyZWF0ZVRyYWNrUGl4ZWxJZnJhbWVIdG1sKGUsITEsImFsbG93LXNjcmlwdHMgYWxsb3ctc2FtZS1vcmlnaW4iKSxyPU4oKSxpPXtldmVudDoidXNlci1zeW5jIixtZXRhOntmaXJlZDohMCx1aWQ6cn19O2QuZShudWxsLCJpbnNlcnQtdXNlci1zeW5jLWlmcmFtZS1maXJlZCIsW10saSksZC5hKCkudGhlbigoZnVuY3Rpb24oZSl7dmFyIGk9ZS5mcmFtZTtpZihlLmlzQlRTYWZlRnJhbWVEb21haW4pe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24gZShuKXtpZihuLnNvdXJjZT09PWkuY29udGVudFdpbmRvdyl7dmFyIHI7dHJ5e3I9SlNPTi5wYXJzZShuLmRhdGEpfWNhdGNoKGUpe31yJiYiZG9uZVRyaWdnZXJpbmdQaXhlbCI9PXIudHlwZSYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlKSx0JiZqLmlzRm4odCkmJnQoKSl9fSkpO3ZhciBvPSJsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IGRpdi5pbm5lckhUTUwgPSBhdG9iKCciK2J0b2EobikrIicpOyBsZXQgaWZyYW1lID0gZGl2LmZpcnN0Q2hpbGQ7IGZ1bmN0aW9uIGRvbmUoKSB7IHRvcC5wb3N0TWVzc2FnZSh7IHR5cGU6IFwiZG9uZVRyaWdnZXJpbmdQaXhlbFwiIH0sIFwiKlwiKSB9OyBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRvbmUpOyBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBkb25lKTsgdHJ5IHsgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2h0bWwnKVswXS5pbnNlcnRCZWZvcmUoaWZyYW1lLCBudWxsKTsgfSBjYXRjaCAoZXJyKSB7IH0iO2kuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7dHlwZToiZXZhbCIsY29kZTpvfSwiKiIpO3ZhciBhPXtldmVudDoidXNlci1zeW5jIixtZXRhOntzdWNjZXNzOiEwLHVpZDpyfX07ZC5lKG51bGwsImluc2VydC11c2VyLXN5bmMtaWZyYW1lLXN1Y2Nlc3MiLFtdLGEpfWVsc2V7dmFyIGM9aS5jb250ZW50V2luZG93LmRvY3VtZW50LHU9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTt1LmlubmVySFRNTD1uO3ZhciBzPXUuZmlyc3RDaGlsZDt0JiZqLmlzRm4odCkmJihzLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHQpLHMuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLHQpKSxqLmluc2VydEVsZW1lbnQocyxjLCJodG1sIiwhMCl9fSkpfWZ1bmN0aW9uIG9lKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0sbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06IiI7cmV0dXJuIGU/KHQmJihlPWVuY29kZVVSSShlKSksbiYmKG49J3NhbmRib3g9IicuY29uY2F0KG4sJyInKSksIjxpZnJhbWUgIi5jb25jYXQobiwnIGlkPSInKS5jb25jYXQoRCgpLCciXG4gICAgICBmcmFtZWJvcmRlcj0iMCJcbiAgICAgIGFsbG93dHJhbnNwYXJlbmN5PSJ0cnVlIlxuICAgICAgbWFyZ2luaGVpZ2h0PSIwIiBtYXJnaW53aWR0aD0iMCJcbiAgICAgIHdpZHRoPSIwIiBoc3BhY2U9IjAiIHZzcGFjZT0iMCIgaGVpZ2h0PSIwIlxuICAgICAgc3R5bGU9ImhlaWdodDowcHg7d2lkdGg6MHB4O2Rpc3BsYXk6bm9uZTsiXG4gICAgICBzY3JvbGxpbmc9Im5vIlxuICAgICAgc3JjPSInKS5jb25jYXQoZSwnIj5cbiAgICA8L2lmcmFtZT4nKSk6IiJ9ZnVuY3Rpb24gYWUoZSx0LG4pe3JldHVybiBudWxsPT10P246WSh0KT90OiQodCk/dC50b1N0cmluZygpOnZvaWQgai5sb2dXYXJuKCJVbnN1cG9ydGVkIHR5cGUgZm9yIHBhcmFtOiAiK2UrIiByZXF1aXJlZCB0eXBlOiBTdHJpbmciKX1mdW5jdGlvbiBjZShlLHQsbil7cmV0dXJuIG4uaW5kZXhPZihlKT09PXR9ZnVuY3Rpb24gdWUoZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9ZnVuY3Rpb24gc2UoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpfWZ1bmN0aW9uIGRlKGUsdCl7cmV0dXJuIGVbdF19ZnVuY3Rpb24gZmUoKXtpZih3aW5kb3cuZ29vZ2xldGFnJiZKKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKSYmSih3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKSlyZXR1cm4hMH12YXIgbGU9YmUoInRpbWVUb1Jlc3BvbmQiLChmdW5jdGlvbihlLHQpe3JldHVybiBlPnR9KSkscGU9YmUoInJlc3BvbnNlVGltZXN0YW1wIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT50fSkpLGdlPWJlKCJyZXNwb25zZVRpbWVzdGFtcCIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU8dH0pKTtmdW5jdGlvbiBiZShlLHQpe3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBuLmNwbT09PXIuY3BtP3QobltlXSxyW2VdKT9yOm46bi5jcG08ci5jcG0/cjpufX1mdW5jdGlvbiB2ZShlKXtyZXR1cm4gbygpKGUpfWZ1bmN0aW9uIHllKCl7aWYod2luZG93Lm5hdmlnYXRvci5jb29raWVFbmFibGVkfHxkb2N1bWVudC5jb29raWUubGVuZ3RoKXJldHVybiEwfXZhciBoZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmdldEFkVW5pdFBhdGgoKT09PXR8fGUuZ2V0U2xvdEVsZW1lbnRJZCgpPT09dH07ZnVuY3Rpb24gbWUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBoZSh0LGUpfX1mdW5jdGlvbiBTZShlKXtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcj9OdW1iZXIuaXNJbnRlZ2VyKGUpOiJudW1iZXIiPT10eXBlb2YgZSYmaXNGaW5pdGUoZSkmJk1hdGguZmxvb3IoZSk9PT1lfWZ1bmN0aW9uIEVlKGUpe3JldHVybiBlP2UucmVwbGFjZSgvXlw/LywiIikuc3BsaXQoIiYiKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49cCh0LnNwbGl0KCI9IiksMikscj1uWzBdLGk9blsxXTtyZXR1cm4vXFtcXSQvLnRlc3Qocik/KGVbcj1yLnJlcGxhY2UoIltdIiwiIildPWVbcl18fFtdLGVbcl0ucHVzaChpKSk6ZVtyXT1pfHwiIixlfSkse30pOnt9fWZ1bmN0aW9uIEFlKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KGVbdF0pP2VbdF0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQodCwiW109IikuY29uY2F0KGUpfSkpLmpvaW4oIiYiKToiIi5jb25jYXQodCwiPSIpLmNvbmNhdChlW3RdKX0pKS5qb2luKCImIil9ZnVuY3Rpb24gVGUoZSx0KXtpZihlPT09dClyZXR1cm4hMDtpZigib2JqZWN0Ij09PW0oZSkmJm51bGwhPT1lJiYib2JqZWN0Ij09PW0odCkmJm51bGwhPT10KXtpZihPYmplY3Qua2V5cyhlKS5sZW5ndGghPT1PYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuIGluIGUpe2lmKCF0Lmhhc093blByb3BlcnR5KG4pKXJldHVybiExO2lmKCFUZShlW25dLHRbbl0pKXJldHVybiExfXJldHVybiEwfXJldHVybiExfX0sMTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwic3RvcmFnZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSksdC5yZWdpc3RlckJpZGRlcj1mdW5jdGlvbihlKXt2YXIgdD1BcnJheS5pc0FycmF5KGUuc3VwcG9ydGVkTWVkaWFUeXBlcyk/e3N1cHBvcnRlZE1lZGlhVHlwZXM6ZS5zdXBwb3J0ZWRNZWRpYVR5cGVzfTp2b2lkIDA7ZnVuY3Rpb24gbihlKXt2YXIgbj1DKGUpO2kuZGVmYXVsdC5yZWdpc3RlckJpZEFkYXB0ZXIobixlLmNvZGUsdCl9bihlKSxBcnJheS5pc0FycmF5KGUuYWxpYXNlcykmJmUuYWxpYXNlcy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcixvLGE9dDtPYmplY3QoeS5pc1BsYWluT2JqZWN0KSh0KSYmKGE9dC5jb2RlLHI9dC5ndmxpZCxvPXQuc2tpcFBic0FsaWFzaW5nKSxpLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVthXT1lLmNvZGUsbihPKHt9LGUse2NvZGU6YSxndmxpZDpyLHNraXBQYnNBbGlhc2luZzpvfSkpfSkpfSx0Lm5ld0JpZGRlcj1DLG4uZCh0LCJyZWdpc3RlclN5bmNJbm5lciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGp9KSksdC5wcmVsb2FkQmlkZGVyTWFwcGluZ0ZpbGU9Xyx0LmdldElhYlN1YkNhdGVnb3J5PWZ1bmN0aW9uKGUsdCl7dmFyIG49aS5kZWZhdWx0LmdldEJpZEFkYXB0ZXIoZSk7aWYobi5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKXt2YXIgcj1uLmdldFNwZWMoKS5nZXRNYXBwaW5nRmlsZUluZm8oKSxvPXIubG9jYWxTdG9yYWdlS2V5P3IubG9jYWxTdG9yYWdlS2V5Om4uZ2V0QmlkZGVyQ29kZSgpLGE9SS5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShvKTtpZihhKXt0cnl7YT1KU09OLnBhcnNlKGEpfWNhdGNoKHQpe09iamVjdCh5LmxvZ0Vycm9yKSgiRmFpbGVkIHRvIHBhcnNlICIuY29uY2F0KGUsIiBtYXBwaW5nIGRhdGEgc3RvcmVkIGluIGxvY2FsIHN0b3JhZ2UiKSl9cmV0dXJuIGEubWFwcGluZ1t0XT9hLm1hcHBpbmdbdF06bnVsbH19fSx0LmlzVmFsaWQ9Ujt2YXIgcj1uKDc3KSxpPW4oOCksbz1uKDMpLGE9big0MiksYz1uKDU2KSx1PW4oMzYpLHM9bigyMiksZD1uKDUpLGY9bi5uKGQpLGw9big5KSxwPW4ubihsKSxnPW4oMTIpLGI9bi5uKGcpLHY9big0KSx5PW4oMCksaD1uKDIpLG09bigxMCksUz1uKDcpO2Z1bmN0aW9uIEUoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1uKXJldHVybjt2YXIgcixpLG89W10sYT0hMCxjPSExO3RyeXtmb3Iobj1uLmNhbGwoZSk7IShhPShyPW4ubmV4dCgpKS5kb25lKSYmKG8ucHVzaChyLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7Yz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIEEoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIEEoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIEEoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBUKGUpe3JldHVybihUPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gTygpe3JldHVybihPPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEk9T2JqZWN0KFMuYSkoImJpZGRlckZhY3RvcnkiKSx3PVsicmVxdWVzdElkIiwiY3BtIiwidHRsIiwiY3JlYXRpdmVJZCIsIm5ldFJldmVudWUiLCJjdXJyZW5jeSJdO2Z1bmN0aW9uIEMoZSl7cmV0dXJuIE8obmV3IHIuYShlLmNvZGUpLHtnZXRTcGVjOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5mcmVlemUoZSl9LHJlZ2lzdGVyU3luY3M6dCxjYWxsQmlkczpmdW5jdGlvbihyLGksYyx1LHMsZCl7aWYoQXJyYXkuaXNBcnJheShyLmJpZHMpKXt2YXIgbD17fSxnPVtdLGI9ci5iaWRzLmZpbHRlcihuKTtpZigwIT09Yi5sZW5ndGgpe3ZhciB2PXt9O2IuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dltlLmJpZElkXT1lLGUuYWRVbml0Q29kZXx8KGUuYWRVbml0Q29kZT1lLnBsYWNlbWVudENvZGUpfSkpO3ZhciBoPWUuYnVpbGRSZXF1ZXN0cyhiLHIpO2lmKGgmJjAhPT1oLmxlbmd0aCl7QXJyYXkuaXNBcnJheShoKXx8KGg9W2hdKTt2YXIgbT1PYmplY3QoeS5kZWxheUV4ZWN1dGlvbikoZChTKSxoLmxlbmd0aCk7aC5mb3JFYWNoKChmdW5jdGlvbih0KXtzd2l0Y2godC5tZXRob2Qpe2Nhc2UiR0VUIjp1KCIiLmNvbmNhdCh0LnVybCkuY29uY2F0KGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIj8iLmNvbmNhdCgib2JqZWN0Ij09PVQoZSk/T2JqZWN0KHkucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnMpKGUpOmUpO3JldHVybiIifSh0LmRhdGEpKSx7c3VjY2VzczpkKG4pLGVycm9yOm99LHZvaWQgMCxPKHttZXRob2Q6IkdFVCIsd2l0aENyZWRlbnRpYWxzOiEwfSx0Lm9wdGlvbnMpKTticmVhaztjYXNlIlBPU1QiOnUodC51cmwse3N1Y2Nlc3M6ZChuKSxlcnJvcjpvfSwic3RyaW5nIj09dHlwZW9mIHQuZGF0YT90LmRhdGE6SlNPTi5zdHJpbmdpZnkodC5kYXRhKSxPKHttZXRob2Q6IlBPU1QiLGNvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9LHQub3B0aW9ucykpO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KHkubG9nV2FybikoIlNraXBwaW5nIGludmFsaWQgcmVxdWVzdCBmcm9tICIuY29uY2F0KGUuY29kZSwiLiBSZXF1ZXN0IHR5cGUgIikuY29uY2F0KHQudHlwZSwiIG11c3QgYmUgR0VUIG9yIFBPU1QiKSksbSgpfWZ1bmN0aW9uIG4obixvKXtzKGUuY29kZSk7dHJ5e249SlNPTi5wYXJzZShuKX1jYXRjaChlKXt9dmFyIGM7bj17Ym9keTpuLGhlYWRlcnM6e2dldDpvLmdldFJlc3BvbnNlSGVhZGVyLmJpbmQobyl9fSxnLnB1c2gobik7dHJ5e2M9ZS5pbnRlcnByZXRSZXNwb25zZShuLHQpfWNhdGNoKHQpe3JldHVybiBPYmplY3QoeS5sb2dFcnJvcikoIkJpZGRlciAiLmNvbmNhdChlLmNvZGUsIiBmYWlsZWQgdG8gaW50ZXJwcmV0IHRoZSBzZXJ2ZXIncyByZXNwb25zZS4gQ29udGludWluZyB3aXRob3V0IGJpZHMiKSxudWxsLHQpLHZvaWQgbSgpfWZ1bmN0aW9uIHUodCl7dmFyIG49dlt0LnJlcXVlc3RJZF07aWYobil7dC5vcmlnaW5hbENwbT10LmNwbSx0Lm9yaWdpbmFsQ3VycmVuY3k9dC5jdXJyZW5jeSx0Lm1ldGE9dC5tZXRhfHxPKHt9LHRbbi5iaWRkZXJdKTt2YXIgbz1PKE9iamVjdChhLmEpKGYuYS5TVEFUVVMuR09PRCxuKSx0KTshZnVuY3Rpb24oZSx0KXtsW2VdPSEwLFIoZSx0LFtyXSkmJmkoZSx0KX0obi5hZFVuaXRDb2RlLG8pfWVsc2UgT2JqZWN0KHkubG9nV2FybikoIkJpZGRlciAiLmNvbmNhdChlLmNvZGUsIiBtYWRlIGJpZCBmb3IgdW5rbm93biByZXF1ZXN0IElEOiAiKS5jb25jYXQodC5yZXF1ZXN0SWQsIi4gSWdub3JpbmcuIikpfWMmJihPYmplY3QoeS5pc0FycmF5KShjKT9jLmZvckVhY2godSk6dShjKSksbShjKX1mdW5jdGlvbiBvKHQpe3MoZS5jb2RlKSxPYmplY3QoeS5sb2dFcnJvcikoIlNlcnZlciBjYWxsIGZvciAiLmNvbmNhdChlLmNvZGUsIiBmYWlsZWQ6ICIpLmNvbmNhdCh0LCIuIENvbnRpbnVpbmcgd2l0aG91dCBiaWRzLiIpKSxtKCl9fSkpfWVsc2UgUygpfWVsc2UgUygpfWZ1bmN0aW9uIFMoKXtjKCksby5iLnJ1bldpdGhCaWRkZXIoZS5jb2RlLChmdW5jdGlvbigpe3AuYS5lbWl0KGYuYS5FVkVOVFMuQklEREVSX0RPTkUsciksdChnLHIuZ2RwckNvbnNlbnQsci51c3BDb25zZW50KX0pKX19fSk7ZnVuY3Rpb24gdCh0LG4scil7aihlLHQsbixyKX1mdW5jdGlvbiBuKHQpe3JldHVybiEhZS5pc0JpZFJlcXVlc3RWYWxpZCh0KXx8KE9iamVjdCh5LmxvZ1dhcm4pKCJJbnZhbGlkIGJpZCBzZW50IHRvIGJpZGRlciAiLmNvbmNhdChlLmNvZGUsIjogIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKSksITEpfX12YXIgaj1PYmplY3QobS5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQsbixyKXt2YXIgYT1vLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYy5hbGlhc1N5bmNFbmFibGVkIik7aWYoZS5nZXRVc2VyU3luY3MmJihhfHwhaS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbZS5jb2RlXSkpe3ZhciB1PW8uYi5nZXRDb25maWcoInVzZXJTeW5jLmZpbHRlclNldHRpbmdzIikscz1lLmdldFVzZXJTeW5jcyh7aWZyYW1lRW5hYmxlZDohKCF1fHwhdS5pZnJhbWUmJiF1LmFsbCkscGl4ZWxFbmFibGVkOiEoIXV8fCF1LmltYWdlJiYhdS5hbGwpfSx0LG4scik7cyYmKEFycmF5LmlzQXJyYXkocyl8fChzPVtzXSkscy5mb3JFYWNoKChmdW5jdGlvbih0KXtjLmEucmVnaXN0ZXJTeW5jKHQudHlwZSxlLmNvZGUsdC51cmwpfSkpKX19KSwicmVnaXN0ZXJTeW5jcyIpO2Z1bmN0aW9uIF8oZSx0KXtpZighby5iLmdldENvbmZpZygiYWRwb2QuYnJhbmRDYXRlZ29yeUV4Y2x1c2lvbiIpKXJldHVybiBlLmNhbGwodGhpcyx0KTt0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdCh5LmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpPT09aC5hfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pKX0pKS5yZWR1Y2UoeS5mbGF0dGVuLFtdKS5maWx0ZXIoeS51bmlxdWVzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1pLmRlZmF1bHQuZ2V0QmlkQWRhcHRlcihlKTtpZih0LmdldFNwZWMoKS5nZXRNYXBwaW5nRmlsZUluZm8pe3ZhciBuPXQuZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbygpLHI9bi5yZWZyZXNoSW5EYXlzP24ucmVmcmVzaEluRGF5czoxLG89bi5sb2NhbFN0b3JhZ2VLZXk/bi5sb2NhbFN0b3JhZ2VLZXk6dC5nZXRTcGVjKCkuY29kZSxhPUkuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uobyk7dHJ5eyghKGE9YT9KU09OLnBhcnNlKGEpOnZvaWQgMCl8fE9iamVjdCh5LnRpbWVzdGFtcCkoKT5hLmxhc3RVcGRhdGVkKzI0KnIqNjAqNjAqMWUzKSYmT2JqZWN0KHYuYSkobi51cmwse3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dHJ5e3Q9SlNPTi5wYXJzZSh0KTt2YXIgbj17bGFzdFVwZGF0ZWQ6T2JqZWN0KHkudGltZXN0YW1wKSgpLG1hcHBpbmc6dC5tYXBwaW5nfTtJLnNldERhdGFJbkxvY2FsU3RvcmFnZShvLEpTT04uc3RyaW5naWZ5KG4pKX1jYXRjaCh0KXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChlLCIgYmlkZGVyIHRyYW5zbGF0aW9uIG1hcHBpbmcgZmlsZSIpKX19LGVycm9yOmZ1bmN0aW9uKCl7T2JqZWN0KHkubG9nRXJyb3IpKCJGYWlsZWQgdG8gbG9hZCAiLmNvbmNhdChlLCIgYmlkZGVyIHRyYW5zbGF0aW9uIGZpbGUiKSl9fSl9Y2F0Y2godCl7T2JqZWN0KHkubG9nRXJyb3IpKCJGYWlsZWQgdG8gcGFyc2UgIi5jb25jYXQoZSwiIGJpZGRlciB0cmFuc2xhdGlvbiBtYXBwaW5nIGZpbGUiKSl9fX0pKSxlLmNhbGwodGhpcyx0KX1mdW5jdGlvbiBSKGUsdCxuKXtmdW5jdGlvbiByKGUpe3JldHVybiJJbnZhbGlkIGJpZCBmcm9tICIuY29uY2F0KHQuYmlkZGVyQ29kZSwiLiBJZ25vcmluZyBiaWQ6ICIpLmNvbmNhdChlKX1yZXR1cm4gZT90PyhpPU9iamVjdC5rZXlzKHQpLHcuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBiKCkoaSxlKSYmIWIoKShbdm9pZCAwLG51bGxdLHRbZV0pfSkpPyJuYXRpdmUiIT09dC5tZWRpYVR5cGV8fE9iamVjdCh1LmcpKHQsbik/InZpZGVvIiE9PXQubWVkaWFUeXBlfHxPYmplY3Qocy5kKSh0LG4pPyEoImJhbm5lciI9PT10Lm1lZGlhVHlwZSYmIWZ1bmN0aW9uKGUsdCxuKXtpZigodC53aWR0aHx8MD09PXBhcnNlSW50KHQud2lkdGgsMTApKSYmKHQuaGVpZ2h0fHwwPT09cGFyc2VJbnQodC5oZWlnaHQsMTApKSlyZXR1cm4gdC53aWR0aD1wYXJzZUludCh0LndpZHRoLDEwKSx0LmhlaWdodD1wYXJzZUludCh0LmhlaWdodCwxMCksITA7dmFyIHI9T2JqZWN0KHkuZ2V0QmlkZGVyUmVxdWVzdCkobix0LmJpZGRlckNvZGUsZSksaT1yJiZyLmJpZHMmJnIuYmlkc1swXSYmci5iaWRzWzBdLnNpemVzLG89T2JqZWN0KHkucGFyc2VTaXplc0lucHV0KShpKTtpZigxPT09by5sZW5ndGgpe3ZhciBhPUUob1swXS5zcGxpdCgieCIpLDIpLGM9YVswXSx1PWFbMV07cmV0dXJuIHQud2lkdGg9cGFyc2VJbnQoYywxMCksdC5oZWlnaHQ9cGFyc2VJbnQodSwxMCksITB9cmV0dXJuITF9KGUsdCxuKSl8fChPYmplY3QoeS5sb2dFcnJvcikocigiQmFubmVyIGJpZHMgcmVxdWlyZSBhIHdpZHRoIGFuZCBoZWlnaHQiKSksITEpOihPYmplY3QoeS5sb2dFcnJvcikocigiVmlkZW8gYmlkIGRvZXMgbm90IGhhdmUgcmVxdWlyZWQgdmFzdFVybCBvciByZW5kZXJlciBwcm9wZXJ0eSIpKSwhMSk6KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJOYXRpdmUgYmlkIG1pc3Npbmcgc29tZSByZXF1aXJlZCBwcm9wZXJ0aWVzLiIpKSwhMSk6KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJCaWRkZXIgIi5jb25jYXQodC5iaWRkZXJDb2RlLCIgaXMgbWlzc2luZyByZXF1aXJlZCBwYXJhbXMuIENoZWNrIGh0dHA6Ly9wcmViaWQub3JnL2Rldi1kb2NzL2JpZGRlci1hZGFwdGVyLTEuaHRtbCBmb3IgbGlzdCBvZiBwYXJhbXMuIikpKSwhMSkpOihPYmplY3QoeS5sb2dXYXJuKSgiU29tZSBhZGFwdGVyIHRyaWVkIHRvIGFkZCBhbiB1bmRlZmluZWQgYmlkIGZvciAiLmNvbmNhdChlLCIuIikpLCExKTooT2JqZWN0KHkubG9nV2FybikoIk5vIGFkVW5pdENvZGUgd2FzIHN1cHBsaWVkIHRvIGFkZEJpZFJlc3BvbnNlLiIpLCExKTt2YXIgaX1PYmplY3QobS5hKSgiY2hlY2tBZFVuaXRTZXR1cCIpLmJlZm9yZShfKX0sMTA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLHQuZD1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxNSxyPWUuZ2V0SG9va3Moe2hvb2s6dH0pOzA9PT1yLmxlbmd0aCYmZS5iZWZvcmUodCxuKX0sdC5jPWZ1bmN0aW9uKGUsdCl7YSgiYXN5bmMiLChmdW5jdGlvbihlKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KHZvaWQgMCxmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBvKGUpfShuPWUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KG4pfHxmdW5jdGlvbihlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbyhlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP28oZSx0KTp2b2lkIDB9fShuKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKSk7dmFyIG59KSl9KSxlKShbXSl9LHQuZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKW5bci0xXT1hcmd1bWVudHNbcl07YyhlKS5iZWZvcmUoKGZ1bmN0aW9uKGUsdCl7dC5wdXNoKG4pLGUodCl9KSl9O3ZhciByPW4oMTY5KSxpPW4ubihyKTtmdW5jdGlvbiBvKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIGE9aSgpKHtyZWFkeTppLmEuU1lOQ3xpLmEuQVNZTkN8aS5hLlFVRVVFfSksYz1hLmdldH0sMTAxOmZ1bmN0aW9uKGUsdCxuKXtuKDEwMik7dmFyIHI9big1Myk7ZS5leHBvcnRzPXIoIkFycmF5IiwiZmluZCIpfSwxMDI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oNTkpLmZpbmQsbz1uKDUyKSxhPSJmaW5kIixjPSEwO2EgaW5bXSYmQXJyYXkoMSkuZmluZCgoZnVuY3Rpb24oKXtjPSExfSkpLHIoe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwLGZvcmNlZDpjfSx7ZmluZDpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLG8oYSl9LDEwMzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMyksaT1uKDEwNCksbz1uKDQ1KSxhPW4oNDYpLGM9big1OCksdT1uKDMxKSxzPW4oNzkpLGQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjt0LmY9cj9kOmZ1bmN0aW9uKGUsdCl7aWYoZT1hKGUpLHQ9Yyh0LCEwKSxzKXRyeXtyZXR1cm4gZChlLHQpfWNhdGNoKGUpe31pZih1KGUsdCkpcmV0dXJuIG8oIWkuZi5jYWxsKGUsdCksZVt0XSl9fSwxMDQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isbz1pJiYhci5jYWxsKHsxOjJ9LDEpO3QuZj1vP2Z1bmN0aW9uKGUpe3ZhciB0PWkodGhpcyxlKTtyZXR1cm4hIXQmJnQuZW51bWVyYWJsZX06cn0sMTA1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KSxpPS8jfFwucHJvdG90eXBlXC4vLG89ZnVuY3Rpb24oZSx0KXt2YXIgbj1jW2EoZSldO3JldHVybiBuPT1zfHxuIT11JiYoImZ1bmN0aW9uIj09dHlwZW9mIHQ/cih0KTohIXQpfSxhPW8ubm9ybWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSkucmVwbGFjZShpLCIuIikudG9Mb3dlckNhc2UoKX0sYz1vLmRhdGE9e30sdT1vLk5BVElWRT0iTiIscz1vLlBPTFlGSUxMPSJQIjtlLmV4cG9ydHM9b30sMTA2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKSxpPW4oMTA3KSxvPW4oMjQpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIGkoZSkmJigiZnVuY3Rpb24iIT10eXBlb2Yobj1lLmNvbnN0cnVjdG9yKXx8biE9PUFycmF5JiYhaShuLnByb3RvdHlwZSk/cihuKSYmbnVsbD09PShuPW5bb10pJiYobj12b2lkIDApOm49dm9pZCAwKSxuZXcodm9pZCAwPT09bj9BcnJheTpuKSgwPT09dD8wOnQpfX0sMTA3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDQ3KTtlLmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIkFycmF5Ij09cihlKX19LDEwODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNSksaT1uKDMyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt0cnl7aShyLGUsdCl9Y2F0Y2gobil7cltlXT10fXJldHVybiB0fX0sMTA5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89bigyNSksYT1uKDExMCksYz1vLnByb2Nlc3MsdT1jJiZjLnZlcnNpb25zLHM9dSYmdS52ODtzP2k9KHI9cy5zcGxpdCgiLiIpKVswXTw0PzE6clswXStyWzFdOmEmJighKHI9YS5tYXRjaCgvRWRnZVwvKFxkKykvKSl8fHJbMV0+PTc0KSYmKHI9YS5tYXRjaCgvQ2hyb21lXC8oXGQrKS8pKSYmKGk9clsxXSksZS5leHBvcnRzPWkmJitpfSwxMTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMDEpO2UuZXhwb3J0cz1yfSwxMTA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpO2UuZXhwb3J0cz1yKCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiKXx8IiJ9LDExMTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big4Mik7ZS5leHBvcnRzPXImJiFTeW1ib2wuc2hhbSYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3J9LDExMjpmdW5jdGlvbihlLHQsbil7bigxMTMpO3ZhciByPW4oNTMpO2UuZXhwb3J0cz1yKCJBcnJheSIsImluY2x1ZGVzIil9LDExMzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big4MykuaW5jbHVkZXMsbz1uKDUyKTtyKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMH0se2luY2x1ZGVzOmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksbygiaW5jbHVkZXMiKX0sMTE0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDYwKSxpPU1hdGgubWF4LG89TWF0aC5taW47ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG49cihlKTtyZXR1cm4gbjwwP2kobit0LDApOm8obix0KX19LDExNTpmdW5jdGlvbihlLHQsbil7bigxMTYpLG4oMTMzKSxuKDk0KSxuKDEzNSk7dmFyIHI9big1MCk7ZS5leHBvcnRzPXIuU2V0fSwxMTY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDExNyksaT1uKDEyMik7ZS5leHBvcnRzPXIoIlNldCIsKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbMF06dm9pZCAwKX19KSxpKX0sMTE3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDI1KSxvPW4oODUpLGE9bigyOSksYz1uKDMyKSx1PW4oMTkpLHM9big4OCksZD1uKDMwKSxmPW4oNjYpLGw9bigzNCkuZixwPW4oNTkpLmZvckVhY2gsZz1uKDMzKSxiPW4oNTUpLHY9Yi5zZXQseT1iLmdldHRlckZvcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBiLGg9LTEhPT1lLmluZGV4T2YoIk1hcCIpLG09LTEhPT1lLmluZGV4T2YoIldlYWsiKSxTPWg/InNldCI6ImFkZCIsRT1pW2VdLEE9RSYmRS5wcm90b3R5cGUsVD17fTtpZihnJiYiZnVuY3Rpb24iPT10eXBlb2YgRSYmKG18fEEuZm9yRWFjaCYmIWEoKGZ1bmN0aW9uKCl7KG5ldyBFKS5lbnRyaWVzKCkubmV4dCgpfSkpKSl7Yj10KChmdW5jdGlvbih0LG4pe3Yocyh0LGIsZSkse3R5cGU6ZSxjb2xsZWN0aW9uOm5ldyBFfSksbnVsbCE9biYmdShuLHRbU10se3RoYXQ6dCxBU19FTlRSSUVTOmh9KX0pKTt2YXIgTz15KGUpO3AoWyJhZGQiLCJjbGVhciIsImRlbGV0ZSIsImZvckVhY2giLCJnZXQiLCJoYXMiLCJzZXQiLCJrZXlzIiwidmFsdWVzIiwiZW50cmllcyJdLChmdW5jdGlvbihlKXt2YXIgdD0iYWRkIj09ZXx8InNldCI9PWU7IShlIGluIEEpfHxtJiYiY2xlYXIiPT1lfHxjKGIucHJvdG90eXBlLGUsKGZ1bmN0aW9uKG4scil7dmFyIGk9Tyh0aGlzKS5jb2xsZWN0aW9uO2lmKCF0JiZtJiYhZChuKSlyZXR1cm4iZ2V0Ij09ZSYmdm9pZCAwO3ZhciBvPWlbZV0oMD09PW4/MDpuLHIpO3JldHVybiB0P3RoaXM6b30pKX0pKSxtfHxsKGIucHJvdG90eXBlLCJzaXplIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBPKHRoaXMpLmNvbGxlY3Rpb24uc2l6ZX19KX1lbHNlIGI9bi5nZXRDb25zdHJ1Y3Rvcih0LGUsaCxTKSxvLlJFUVVJUkVEPSEwO3JldHVybiBmKGIsZSwhMSwhMCksVFtlXT1iLHIoe2dsb2JhbDohMCxmb3JjZWQ6ITB9LFQpLG18fG4uc2V0U3Ryb25nKGIsZSxoKSxifX0sMTE4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KTtlLmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5pc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSl9LDExOTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNjUpLGk9big2NCk7ZS5leHBvcnRzPXI/e30udG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCAiK2kodGhpcykrIl0ifX0sMTI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTEyKTtlLmV4cG9ydHM9cn0sMTIwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI1KSxpPW4oMTIxKSxvPXIuV2Vha01hcDtlLmV4cG9ydHM9ImZ1bmN0aW9uIj09dHlwZW9mIG8mJi9uYXRpdmUgY29kZS8udGVzdChpKG8pKX0sMTIxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDYxKSxpPUZ1bmN0aW9uLnRvU3RyaW5nOyJmdW5jdGlvbiIhPXR5cGVvZiByLmluc3BlY3RTb3VyY2UmJihyLmluc3BlY3RTb3VyY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY2FsbChlKX0pLGUuZXhwb3J0cz1yLmluc3BlY3RTb3VyY2V9LDEyMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMzQpLmYsaT1uKDg5KSxvPW4oMTI3KSxhPW4oMjYpLGM9big4OCksdT1uKDE5KSxzPW4oNjgpLGQ9bigxMzIpLGY9bigzMyksbD1uKDg1KS5mYXN0S2V5LHA9big1NSksZz1wLnNldCxiPXAuZ2V0dGVyRm9yO2UuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LG4scyl7dmFyIGQ9ZSgoZnVuY3Rpb24oZSxyKXtjKGUsZCx0KSxnKGUse3R5cGU6dCxpbmRleDppKG51bGwpLGZpcnN0OnZvaWQgMCxsYXN0OnZvaWQgMCxzaXplOjB9KSxmfHwoZS5zaXplPTApLG51bGwhPXImJnUocixlW3NdLHt0aGF0OmUsQVNfRU5UUklFUzpufSl9KSkscD1iKHQpLHY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1wKGUpLGE9eShlLHQpO3JldHVybiBhP2EudmFsdWU9bjooby5sYXN0PWE9e2luZGV4Omk9bCh0LCEwKSxrZXk6dCx2YWx1ZTpuLHByZXZpb3VzOnI9by5sYXN0LG5leHQ6dm9pZCAwLHJlbW92ZWQ6ITF9LG8uZmlyc3R8fChvLmZpcnN0PWEpLHImJihyLm5leHQ9YSksZj9vLnNpemUrKzplLnNpemUrKywiRiIhPT1pJiYoby5pbmRleFtpXT1hKSksZX0seT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9cChlKSxpPWwodCk7aWYoIkYiIT09aSlyZXR1cm4gci5pbmRleFtpXTtmb3Iobj1yLmZpcnN0O247bj1uLm5leHQpaWYobi5rZXk9PXQpcmV0dXJuIG59O3JldHVybiBvKGQucHJvdG90eXBlLHtjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgZT1wKHRoaXMpLHQ9ZS5pbmRleCxuPWUuZmlyc3Q7bjspbi5yZW1vdmVkPSEwLG4ucHJldmlvdXMmJihuLnByZXZpb3VzPW4ucHJldmlvdXMubmV4dD12b2lkIDApLGRlbGV0ZSB0W24uaW5kZXhdLG49bi5uZXh0O2UuZmlyc3Q9ZS5sYXN0PXZvaWQgMCxmP2Uuc2l6ZT0wOnRoaXMuc2l6ZT0wfSxkZWxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXAodCkscj15KHQsZSk7aWYocil7dmFyIGk9ci5uZXh0LG89ci5wcmV2aW91cztkZWxldGUgbi5pbmRleFtyLmluZGV4XSxyLnJlbW92ZWQ9ITAsbyYmKG8ubmV4dD1pKSxpJiYoaS5wcmV2aW91cz1vKSxuLmZpcnN0PT1yJiYobi5maXJzdD1pKSxuLmxhc3Q9PXImJihuLmxhc3Q9byksZj9uLnNpemUtLTp0LnNpemUtLX1yZXR1cm4hIXJ9LGZvckVhY2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49cCh0aGlzKSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTt0PXQ/dC5uZXh0Om4uZmlyc3Q7KWZvcihyKHQudmFsdWUsdC5rZXksdGhpcyk7dCYmdC5yZW1vdmVkOyl0PXQucHJldmlvdXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4hIXkodGhpcyxlKX19KSxvKGQucHJvdG90eXBlLG4/e2dldDpmdW5jdGlvbihlKXt2YXIgdD15KHRoaXMsZSk7cmV0dXJuIHQmJnQudmFsdWV9LHNldDpmdW5jdGlvbihlLHQpe3JldHVybiB2KHRoaXMsMD09PWU/MDplLHQpfX06e2FkZDpmdW5jdGlvbihlKXtyZXR1cm4gdih0aGlzLGU9MD09PWU/MDplLGUpfX0pLGYmJnIoZC5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcCh0aGlzKS5zaXplfX0pLGR9LHNldFN0cm9uZzpmdW5jdGlvbihlLHQsbil7dmFyIHI9dCsiIEl0ZXJhdG9yIixpPWIodCksbz1iKHIpO3MoZSx0LChmdW5jdGlvbihlLHQpe2codGhpcyx7dHlwZTpyLHRhcmdldDplLHN0YXRlOmkoZSksa2luZDp0LGxhc3Q6dm9pZCAwfSl9KSwoZnVuY3Rpb24oKXtmb3IodmFyIGU9byh0aGlzKSx0PWUua2luZCxuPWUubGFzdDtuJiZuLnJlbW92ZWQ7KW49bi5wcmV2aW91cztyZXR1cm4gZS50YXJnZXQmJihlLmxhc3Q9bj1uP24ubmV4dDplLnN0YXRlLmZpcnN0KT8ia2V5cyI9PXQ/e3ZhbHVlOm4ua2V5LGRvbmU6ITF9OiJ2YWx1ZXMiPT10P3t2YWx1ZTpuLnZhbHVlLGRvbmU6ITF9Ont2YWx1ZTpbbi5rZXksbi52YWx1ZV0sZG9uZTohMX06KGUudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KX0pLG4/ImVudHJpZXMiOiJ2YWx1ZXMiLCFuLCEwKSxkKHQpfX19LDEyMzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMyksaT1uKDM0KSxvPW4oMTYpLGE9bigxMjQpO2UuZXhwb3J0cz1yP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7byhlKTtmb3IodmFyIG4scj1hKHQpLGM9ci5sZW5ndGgsdT0wO2M+dTspaS5mKGUsbj1yW3UrK10sdFtuXSk7cmV0dXJuIGV9fSwxMjQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTI1KSxpPW4oOTApO2UuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSxpKX19LDEyNTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMSksaT1uKDQ2KSxvPW4oODMpLmluZGV4T2YsYT1uKDU0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixjPWkoZSksdT0wLHM9W107Zm9yKG4gaW4gYykhcihhLG4pJiZyKGMsbikmJnMucHVzaChuKTtmb3IoO3QubGVuZ3RoPnU7KXIoYyxuPXRbdSsrXSkmJih+byhzLG4pfHxzLnB1c2gobikpO3JldHVybiBzfX0sMTI2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI3KTtlLmV4cG9ydHM9cigiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiKX0sMTI3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDkxKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaSBpbiB0KW4mJm4udW5zYWZlJiZlW2ldP2VbaV09dFtpXTpyKGUsaSx0W2ldLG4pO3JldHVybiBlfX0sMTI4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big5MikuSXRlcmF0b3JQcm90b3R5cGUsaT1uKDg5KSxvPW4oNDUpLGE9big2NiksYz1uKDQwKSx1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIHM9dCsiIEl0ZXJhdG9yIjtyZXR1cm4gZS5wcm90b3R5cGU9aShyLHtuZXh0Om8oMSxuKX0pLGEoZSxzLCExLCEwKSxjW3NdPXUsZX19LDEyOTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSk7ZS5leHBvcnRzPSFyKChmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPW51bGwsT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBlKSE9PWUucHJvdG90eXBlfSkpfSwxMzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT11LHQuYz1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS51cmwpfSx0LmI9ZnVuY3Rpb24oZSx0KXtlLnJlbmRlcih0KX07dmFyIHI9bigzNyksaT1uKDApLG89bigxMSksYT1uLm4obyksYz0ib3V0c3RyZWFtIjtmdW5jdGlvbiB1KGUpe3ZhciB0PXRoaXMsbj1lLnVybCxvPWUuY29uZmlnLGE9ZS5pZCx1PWUuY2FsbGJhY2ssZD1lLmxvYWRlZCxmPWUuYWRVbml0Q29kZTt0aGlzLnVybD1uLHRoaXMuY29uZmlnPW8sdGhpcy5oYW5kbGVycz17fSx0aGlzLmlkPWEsdGhpcy5sb2FkZWQ9ZCx0aGlzLmNtZD1bXSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7ImZ1bmN0aW9uIj09dHlwZW9mIGU/dC5sb2FkZWQ/ZS5jYWxsKCk6dC5jbWQucHVzaChlKTppLmxvZ0Vycm9yKCJDb21tYW5kcyBnaXZlbiB0byBSZW5kZXJlci5wdXNoIG11c3QgYmUgd3JhcHBlZCBpbiBhIGZ1bmN0aW9uIil9LHRoaXMuY2FsbGJhY2s9dXx8ZnVuY3Rpb24oKXt0LmxvYWRlZD0hMCx0LnByb2Nlc3MoKX0sdGhpcy5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLG89ZnVuY3Rpb24oKXtlLl9yZW5kZXI/ZS5fcmVuZGVyLmFwcGx5KGUsdCk6aS5sb2dXYXJuKCJObyByZW5kZXIgZnVuY3Rpb24gd2FzIHByb3ZpZGVkLCBwbGVhc2UgdXNlIC5zZXRSZW5kZXIgb24gdGhlIHJlbmRlcmVyIil9O3MoZik/KGkubG9nV2FybigiRXh0ZXJuYWwgSnMgbm90IGxvYWRlZCBieSBSZW5kZXJlciBzaW5jZSByZW5kZXJlciB1cmwgYW5kIGNhbGxiYWNrIGlzIGFscmVhZHkgZGVmaW5lZCBvbiBhZFVuaXQgIi5jb25jYXQoZikpLG8oKSk6KHRoaXMuY21kLnVuc2hpZnQobyksT2JqZWN0KHIuYSkobixjLHRoaXMuY2FsbGJhY2spKX0uYmluZCh0aGlzKX1mdW5jdGlvbiBzKGUpe3ZhciB0PXVwYmpzLmFkVW5pdHMsbj1hKCkodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29kZT09PWV9KSk7aWYoIW4pcmV0dXJuITE7dmFyIHI9aS5kZWVwQWNjZXNzKG4sInJlbmRlcmVyIiksbz0hIShyJiZyLnVybCYmci5yZW5kZXIpLGM9aS5kZWVwQWNjZXNzKG4sIm1lZGlhVHlwZXMudmlkZW8ucmVuZGVyZXIiKSx1PSEhKGMmJmMudXJsJiZjLnJlbmRlcik7cmV0dXJuISEobyYmITAhPT1yLmJhY2t1cE9ubHl8fHUmJiEwIT09Yy5iYWNrdXBPbmx5KX11Lmluc3RhbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1KHt1cmw6ZS51cmwsY29uZmlnOmUuY29uZmlnLGlkOmUuaWQsY2FsbGJhY2s6ZS5jYWxsYmFjayxsb2FkZWQ6ZS5sb2FkZWQsYWRVbml0Q29kZTplLmFkVW5pdENvZGV9KX0sdS5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnfSx1LnByb3RvdHlwZS5zZXRSZW5kZXI9ZnVuY3Rpb24oZSl7dGhpcy5fcmVuZGVyPWV9LHUucHJvdG90eXBlLnNldEV2ZW50SGFuZGxlcnM9ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVycz1lfSx1LnByb3RvdHlwZS5oYW5kbGVWaWRlb0V2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PWUuaWQsbj1lLmV2ZW50TmFtZTsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5oYW5kbGVyc1tuXSYmdGhpcy5oYW5kbGVyc1tuXSgpLGkubG9nTWVzc2FnZSgiUHJlYmlkIFJlbmRlcmVyIGV2ZW50IGZvciBpZCAiLmNvbmNhdCh0LCIgdHlwZSAiKS5jb25jYXQobikpfSx1LnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmNtZC5sZW5ndGg+MDspdHJ5e3RoaXMuY21kLnNoaWZ0KCkuY2FsbCgpfWNhdGNoKGUpe2kubG9nRXJyb3IoIkVycm9yIHByb2Nlc3NpbmcgUmVuZGVyZXIgY29tbWFuZDogIixlKX19fSwxMzA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9bigxMzEpO2UuZXhwb3J0cz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24oKXt2YXIgZSx0PSExLG49e307dHJ5eyhlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0KS5jYWxsKG4sW10pLHQ9biBpbnN0YW5jZW9mIEFycmF5fWNhdGNoKGUpe31yZXR1cm4gZnVuY3Rpb24obixvKXtyZXR1cm4gcihuKSxpKG8pLHQ/ZS5jYWxsKG4sbyk6bi5fX3Byb3RvX189byxufX0oKTp2b2lkIDApfSwxMzE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighcihlKSYmbnVsbCE9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBzZXQgIitTdHJpbmcoZSkrIiBhcyBhIHByb3RvdHlwZSIpO3JldHVybiBlfX0sMTMyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyNyksaT1uKDM0KSxvPW4oMjQpLGE9bigzMyksYz1vKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXIoZSksbj1pLmY7YSYmdCYmIXRbY10mJm4odCxjLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSwxMzM6ZnVuY3Rpb24oZSx0KXt9LDEzNDpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2MCksaT1uKDQ4KSxvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe3ZhciBvLGEsYz1TdHJpbmcoaSh0KSksdT1yKG4pLHM9Yy5sZW5ndGg7cmV0dXJuIHU8MHx8dT49cz9lPyIiOnZvaWQgMDoobz1jLmNoYXJDb2RlQXQodSkpPDU1Mjk2fHxvPjU2MzE5fHx1KzE9PT1zfHwoYT1jLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fGE+NTczNDM/ZT9jLmNoYXJBdCh1KTpvOmU/Yy5zbGljZSh1LHUrMik6YS01NjMyMCsoby01NTI5Njw8MTApKzY1NTM2fX07ZS5leHBvcnRzPXtjb2RlQXQ6byghMSksY2hhckF0Om8oITApfX0sMTM1OmZ1bmN0aW9uKGUsdCxuKXtuKDEzNik7dmFyIHI9bigxMzcpLGk9bigyNSksbz1uKDY0KSxhPW4oMzIpLGM9big0MCksdT1uKDI0KSgidG9TdHJpbmdUYWciKTtmb3IodmFyIHMgaW4gcil7dmFyIGQ9aVtzXSxmPWQmJmQucHJvdG90eXBlO2YmJm8oZikhPT11JiZhKGYsdSxzKSxjW3NdPWMuQXJyYXl9fSwxMzY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDQ2KSxpPW4oNTIpLG89big0MCksYT1uKDU1KSxjPW4oNjgpLHU9IkFycmF5IEl0ZXJhdG9yIixzPWEuc2V0LGQ9YS5nZXR0ZXJGb3IodSk7ZS5leHBvcnRzPWMoQXJyYXksIkFycmF5IiwoZnVuY3Rpb24oZSx0KXtzKHRoaXMse3R5cGU6dSx0YXJnZXQ6cihlKSxpbmRleDowLGtpbmQ6dH0pfSksKGZ1bmN0aW9uKCl7dmFyIGU9ZCh0aGlzKSx0PWUudGFyZ2V0LG49ZS5raW5kLHI9ZS5pbmRleCsrO3JldHVybiF0fHxyPj10Lmxlbmd0aD8oZS50YXJnZXQ9dm9pZCAwLHt2YWx1ZTp2b2lkIDAsZG9uZTohMH0pOiJrZXlzIj09bj97dmFsdWU6cixkb25lOiExfToidmFsdWVzIj09bj97dmFsdWU6dFtyXSxkb25lOiExfTp7dmFsdWU6W3IsdFtyXV0sZG9uZTohMX19KSwidmFsdWVzIiksby5Bcmd1bWVudHM9by5BcnJheSxpKCJrZXlzIiksaSgidmFsdWVzIiksaSgiZW50cmllcyIpfSwxMzc6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e0NTU1J1bGVMaXN0OjAsQ1NTU3R5bGVEZWNsYXJhdGlvbjowLENTU1ZhbHVlTGlzdDowLENsaWVudFJlY3RMaXN0OjAsRE9NUmVjdExpc3Q6MCxET01TdHJpbmdMaXN0OjAsRE9NVG9rZW5MaXN0OjEsRGF0YVRyYW5zZmVySXRlbUxpc3Q6MCxGaWxlTGlzdDowLEhUTUxBbGxDb2xsZWN0aW9uOjAsSFRNTENvbGxlY3Rpb246MCxIVE1MRm9ybUVsZW1lbnQ6MCxIVE1MU2VsZWN0RWxlbWVudDowLE1lZGlhTGlzdDowLE1pbWVUeXBlQXJyYXk6MCxOYW1lZE5vZGVNYXA6MCxOb2RlTGlzdDoxLFBhaW50UmVxdWVzdExpc3Q6MCxQbHVnaW46MCxQbHVnaW5BcnJheTowLFNWR0xlbmd0aExpc3Q6MCxTVkdOdW1iZXJMaXN0OjAsU1ZHUGF0aFNlZ0xpc3Q6MCxTVkdQb2ludExpc3Q6MCxTVkdTdHJpbmdMaXN0OjAsU1ZHVHJhbnNmb3JtTGlzdDowLFNvdXJjZUJ1ZmZlckxpc3Q6MCxTdHlsZVNoZWV0TGlzdDowLFRleHRUcmFja0N1ZUxpc3Q6MCxUZXh0VHJhY2tMaXN0OjAsVG91Y2hMaXN0OjB9fSwxMzg6ZnVuY3Rpb24oZSx0LG4pe24oMTUpKHt0YXJnZXQ6IlNldCIsc3RhdDohMH0se2Zyb206bigxMzkpfSl9LDEzOTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjEpLGk9bigyNiksbz1uKDE5KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQsbixhLGMsdT1hcmd1bWVudHMubGVuZ3RoLHM9dT4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7cmV0dXJuIHIodGhpcyksKHQ9dm9pZCAwIT09cykmJnIocyksbnVsbD09ZT9uZXcgdGhpczoobj1bXSx0PyhhPTAsYz1pKHMsdT4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMiksbyhlLChmdW5jdGlvbihlKXtuLnB1c2goYyhlLGErKykpfSkpKTpvKGUsbi5wdXNoLHt0aGF0Om59KSxuZXcgdGhpcyhuKSl9fSwxNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cudXBianN9LHdpbmRvdy51cGJqcz13aW5kb3cudXBianN8fHt9LHdpbmRvdy51cGJqcy5jbWQ9d2luZG93LnVwYmpzLmNtZHx8W10sd2luZG93LnVwYmpzLnF1ZT13aW5kb3cudXBianMucXVlfHxbXSx3aW5kb3cuX3BianNHbG9iYWxzPXdpbmRvdy5fcGJqc0dsb2JhbHN8fFtdLHdpbmRvdy5fcGJqc0dsb2JhbHMucHVzaCgidXBianMiKX0sMTQwOmZ1bmN0aW9uKGUsdCxuKXtuKDE1KSh7dGFyZ2V0OiJTZXQiLHN0YXQ6ITB9LHtvZjpuKDE0MSl9KX0sMTQxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSk7ZS0tOyl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gbmV3IHRoaXModCl9fSwxNDI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigxNDMpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7YWRkQWxsOmZ1bmN0aW9uKCl7cmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfSwxNDM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE2KSxpPW4oMjEpO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgZT1yKHRoaXMpLHQ9aShlLmFkZCksbj0wLG89YXJndW1lbnRzLmxlbmd0aDtuPG87bisrKXQuY2FsbChlLGFyZ3VtZW50c1tuXSk7cmV0dXJuIGV9fSwxNDQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigxNDUpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZGVsZXRlQWxsOmZ1bmN0aW9uKCl7cmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfSwxNDU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE2KSxpPW4oMjEpO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PXIodGhpcyksbj1pKHQuZGVsZXRlKSxvPSEwLGE9MCxjPWFyZ3VtZW50cy5sZW5ndGg7YTxjO2ErKyllPW4uY2FsbCh0LGFyZ3VtZW50c1thXSksbz1vJiZlO3JldHVybiEhb319LDE0NjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDE2KSxhPW4oMjYpLGM9bigzNSksdT1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2V2ZXJ5OmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1jKHQpLHI9YShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO3JldHVybiF1KG4sKGZ1bmN0aW9uKGUsbil7aWYoIXIoZSxlLHQpKXJldHVybiBuKCl9KSx7SVNfSVRFUkFUT1I6ITAsSU5URVJSVVBURUQ6ITB9KS5zdG9wcGVkfX0pfSwxNDc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigyNyksYT1uKDE2KSxjPW4oMjEpLHU9big0MSkscz1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2RpZmZlcmVuY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPW5ldyh1KHQsbygiU2V0IikpKSh0KSxyPWMobi5kZWxldGUpO3JldHVybiBzKGUsKGZ1bmN0aW9uKGUpe3IuY2FsbChuLGUpfSkpLG59fSl9LDE0ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDI3KSxhPW4oMTYpLGM9bigyMSksdT1uKDI2KSxzPW4oNDEpLGQ9bigzNSksZj1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2ZpbHRlcjpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49ZCh0KSxyPXUoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKSxpPW5ldyhzKHQsbygiU2V0IikpKSxsPWMoaS5hZGQpO3JldHVybiBmKG4sKGZ1bmN0aW9uKGUpe3IoZSxlLHQpJiZsLmNhbGwoaSxlKX0pLHtJU19JVEVSQVRPUjohMH0pLGl9fSl9LDE0OTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDE2KSxhPW4oMjYpLGM9bigzNSksdT1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2ZpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWModCkscj1hKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7cmV0dXJuIHUobiwoZnVuY3Rpb24oZSxuKXtpZihyKGUsZSx0KSlyZXR1cm4gbihlKX0pLHtJU19JVEVSQVRPUjohMCxJTlRFUlJVUFRFRDohMH0pLnJlc3VsdH19KX0sMTU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDI1KSxpPW4oMTAzKS5mLG89bigxMDUpLGE9big1MCksYz1uKDI2KSx1PW4oMzIpLHM9bigzMSksZD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0LG4scil7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodCk7Y2FzZSAyOnJldHVybiBuZXcgZSh0LG4pfXJldHVybiBuZXcgZSh0LG4scil9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdC5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdH07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG4sZixsLHAsZyxiLHYseSxoPWUudGFyZ2V0LG09ZS5nbG9iYWwsUz1lLnN0YXQsRT1lLnByb3RvLEE9bT9yOlM/cltoXToocltoXXx8e30pLnByb3RvdHlwZSxUPW0/YTphW2hdfHwoYVtoXT17fSksTz1ULnByb3RvdHlwZTtmb3IobCBpbiB0KW49IW8obT9sOmgrKFM/Ii4iOiIjIikrbCxlLmZvcmNlZCkmJkEmJnMoQSxsKSxnPVRbbF0sbiYmKGI9ZS5ub1RhcmdldEdldD8oeT1pKEEsbCkpJiZ5LnZhbHVlOkFbbF0pLHA9biYmYj9iOnRbbF0sbiYmdHlwZW9mIGc9PXR5cGVvZiBwfHwodj1lLmJpbmQmJm4/YyhwLHIpOmUud3JhcCYmbj9kKHApOkUmJiJmdW5jdGlvbiI9PXR5cGVvZiBwP2MoRnVuY3Rpb24uY2FsbCxwKTpwLChlLnNoYW18fHAmJnAuc2hhbXx8ZyYmZy5zaGFtKSYmdSh2LCJzaGFtIiwhMCksVFtsXT12LEUmJihzKGEsZj1oKyJQcm90b3R5cGUiKXx8dShhLGYse30pLGFbZl1bbF09cCxlLnJlYWwmJk8mJiFPW2xdJiZ1KE8sbCxwKSkpfX0sMTUwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMjcpLGE9bigxNiksYz1uKDIxKSx1PW4oNDEpLHM9bigxOSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtpbnRlcnNlY3Rpb246ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPW5ldyh1KHQsbygiU2V0IikpKSxyPWModC5oYXMpLGk9YyhuLmFkZCk7cmV0dXJuIHMoZSwoZnVuY3Rpb24oZSl7ci5jYWxsKHQsZSkmJmkuY2FsbChuLGUpfSkpLG59fSl9LDE1MTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDE2KSxhPW4oMjEpLGM9bigxOSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtpc0Rpc2pvaW50RnJvbTpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49YSh0Lmhhcyk7cmV0dXJuIWMoZSwoZnVuY3Rpb24oZSxyKXtpZighMD09PW4uY2FsbCh0LGUpKXJldHVybiByKCl9KSx7SU5URVJSVVBURUQ6ITB9KS5zdG9wcGVkfX0pfSwxNTI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigyNyksYT1uKDE2KSxjPW4oMjEpLHU9big5NSkscz1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2lzU3Vic2V0T2Y6ZnVuY3Rpb24oZSl7dmFyIHQ9dSh0aGlzKSxuPWEoZSkscj1uLmhhcztyZXR1cm4iZnVuY3Rpb24iIT10eXBlb2YgciYmKG49bmV3KG8oIlNldCIpKShlKSxyPWMobi5oYXMpKSwhcyh0LChmdW5jdGlvbihlLHQpe2lmKCExPT09ci5jYWxsKG4sZSkpcmV0dXJuIHQoKX0pLHtJU19JVEVSQVRPUjohMCxJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE1MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDE2KSxhPW4oMjEpLGM9bigxOSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtpc1N1cGVyc2V0T2Y6ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWEodC5oYXMpO3JldHVybiFjKGUsKGZ1bmN0aW9uKGUscil7aWYoITE9PT1uLmNhbGwodCxlKSlyZXR1cm4gcigpfSkse0lOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTU0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMTYpLGE9bigzNSksYz1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2pvaW46ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWEodCkscj12b2lkIDA9PT1lPyIsIjpTdHJpbmcoZSksaT1bXTtyZXR1cm4gYyhuLGkucHVzaCx7dGhhdDppLElTX0lURVJBVE9SOiEwfSksaS5qb2luKHIpfX0pfSwxNTU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigyNyksYT1uKDE2KSxjPW4oMjEpLHU9bigyNikscz1uKDQxKSxkPW4oMzUpLGY9bigxOSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHttYXA6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPWQodCkscj11KGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyksaT1uZXcocyh0LG8oIlNldCIpKSksbD1jKGkuYWRkKTtyZXR1cm4gZihuLChmdW5jdGlvbihlKXtsLmNhbGwoaSxyKGUsZSx0KSl9KSx7SVNfSVRFUkFUT1I6ITB9KSxpfX0pfSwxNTY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigxNiksYT1uKDIxKSxjPW4oMzUpLHU9bigxOSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtyZWR1Y2U6ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWModCkscj1hcmd1bWVudHMubGVuZ3RoPDIsaT1yP3ZvaWQgMDphcmd1bWVudHNbMV07aWYoYShlKSx1KG4sKGZ1bmN0aW9uKG4pe3I/KHI9ITEsaT1uKTppPWUoaSxuLG4sdCl9KSx7SVNfSVRFUkFUT1I6ITB9KSxyKXRocm93IFR5cGVFcnJvcigiUmVkdWNlIG9mIGVtcHR5IHNldCB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKTtyZXR1cm4gaX19KX0sMTU3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMTYpLGE9bigyNiksYz1uKDM1KSx1PW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7c29tZTpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49Yyh0KSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTtyZXR1cm4gdShuLChmdW5jdGlvbihlLG4pe2lmKHIoZSxlLHQpKXJldHVybiBuKCl9KSx7SVNfSVRFUkFUT1I6ITAsSU5URVJSVVBURUQ6ITB9KS5zdG9wcGVkfX0pfSwxNTg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigyNyksYT1uKDE2KSxjPW4oMjEpLHU9big0MSkscz1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3N5bW1ldHJpY0RpZmZlcmVuY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPW5ldyh1KHQsbygiU2V0IikpKSh0KSxyPWMobi5kZWxldGUpLGk9YyhuLmFkZCk7cmV0dXJuIHMoZSwoZnVuY3Rpb24oZSl7ci5jYWxsKG4sZSl8fGkuY2FsbChuLGUpfSkpLG59fSl9LDE1OTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDI3KSxhPW4oMTYpLGM9bigyMSksdT1uKDQxKSxzPW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7dW5pb246ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPW5ldyh1KHQsbygiU2V0IikpKSh0KTtyZXR1cm4gcyhlLGMobi5hZGQpLHt0aGF0Om59KSxufX0pfSwxNjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFyKGUpKXRocm93IFR5cGVFcnJvcihTdHJpbmcoZSkrIiBpcyBub3QgYW4gb2JqZWN0Iik7cmV0dXJuIGV9fSwxNjA6ZnVuY3Rpb24oZSx0LG4pe24oOTQpLG4oMTYxKTt2YXIgcj1uKDUwKTtlLmV4cG9ydHM9ci5BcnJheS5mcm9tfSwxNjE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTUpLGk9bigxNjIpO3Ioe3RhcmdldDoiQXJyYXkiLHN0YXQ6ITAsZm9yY2VkOiFuKDE2NSkoKGZ1bmN0aW9uKGUpe0FycmF5LmZyb20oZSl9KSl9LHtmcm9tOml9KX0sMTYyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyNiksaT1uKDQ5KSxvPW4oMTYzKSxhPW4oODYpLGM9big1MSksdT1uKDE2NCkscz1uKDYzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQsbixkLGYsbCxwLGc9aShlKSxiPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzP3RoaXM6QXJyYXksdj1hcmd1bWVudHMubGVuZ3RoLHk9dj4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsaD12b2lkIDAhPT15LG09cyhnKSxTPTA7aWYoaCYmKHk9cih5LHY+Mj9hcmd1bWVudHNbMl06dm9pZCAwLDIpKSxudWxsPT1tfHxiPT1BcnJheSYmYShtKSlmb3Iobj1uZXcgYih0PWMoZy5sZW5ndGgpKTt0PlM7UysrKXA9aD95KGdbU10sUyk6Z1tTXSx1KG4sUyxwKTtlbHNlIGZvcihsPShmPW0uY2FsbChnKSkubmV4dCxuPW5ldyBiOyEoZD1sLmNhbGwoZikpLmRvbmU7UysrKXA9aD9vKGYseSxbZC52YWx1ZSxTXSwhMCk6ZC52YWx1ZSx1KG4sUyxwKTtyZXR1cm4gbi5sZW5ndGg9UyxufX0sMTYzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oODcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixvKXt0cnl7cmV0dXJuIG8/dChyKG4pWzBdLG5bMV0pOnQobil9Y2F0Y2godCl7dGhyb3cgaShlKSx0fX19LDE2NDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNTgpLGk9bigzNCksbz1uKDQ1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBhPXIodCk7YSBpbiBlP2kuZihlLGEsbygwLG4pKTplW2FdPW59fSwxNjU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjQpKCJpdGVyYXRvciIpLGk9ITE7dHJ5e3ZhciBvPTAsYT17bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOiEhbysrfX0scmV0dXJuOmZ1bmN0aW9uKCl7aT0hMH19O2Fbcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sQXJyYXkuZnJvbShhLChmdW5jdGlvbigpe3Rocm93IDJ9KSl9Y2F0Y2goZSl7fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhaSlyZXR1cm4hMTt2YXIgbj0hMTt0cnl7dmFyIG89e307b1tyXT1mdW5jdGlvbigpe3JldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6bj0hMH19fX0sZShvKX1jYXRjaChlKXt9cmV0dXJuIG59fSwxNjY6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24gZSh0KXt2YXIgbj1BcnJheS5pc0FycmF5KHQpP1tdOnt9O2Zvcih2YXIgciBpbiB0KXt2YXIgaT10W3JdO25bcl09aSYmIm9iamVjdCI9PXR5cGVvZiBpP2UoaSk6aX1yZXR1cm4gbn19LDE2NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQsbixyLGkpe2Zvcih0PXQuc3BsaXQ/dC5zcGxpdCgiLiIpOnQscj0wO3I8dC5sZW5ndGg7cisrKWU9ZT9lW3Rbcl1dOmk7cmV0dXJuIGU9PT1pP246ZX19LDE2ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQsbil7dC5zcGxpdCYmKHQ9dC5zcGxpdCgiLiIpKTtmb3IodmFyIHIsaT0wLG89dC5sZW5ndGgsYT1lO2k8bzsrK2kpcj1hW3RbaV1dLGE9YVt0W2ldXT1pPT09by0xP246bnVsbCE9cj9yOiF+dFtpKzFdLmluZGV4T2YoIi4iKSYmK3RbaSsxXT4tMT9bXTp7fX19LDE2OTpmdW5jdGlvbihlLHQpewovKgoqIEBsaWNlbnNlIE1JVAoqIEZ1biBIb29rcyB2MC45LjEwCiogKGMpIEBzbmFwd2ljaAoqLwpjLlNZTkM9MSxjLkFTWU5DPTIsYy5RVUVVRT00O3ZhciBuPU9iamVjdC5mcmVlemUoe3VzZVByb3h5OiEwLHJlYWR5OjB9KSxyPW5ldyBXZWFrTWFwLGk9IjIsMSwwIj09PVsxXS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bZSx0LG5dfSksMikudG9TdHJpbmcoKT9BcnJheS5wcm90b3R5cGUucmVkdWNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1PYmplY3QodGhpcyksaT1yLmxlbmd0aD4+PjAsbz0wO2lmKHQpbj10O2Vsc2V7Zm9yKDtvPGkmJiEobyBpbiByKTspbysrO249cltvKytdfWZvcig7bzxpOylvIGluIHImJihuPWUobixyW29dLG8scikpLG8rKztyZXR1cm4gbn07ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLHQpfXZhciBhPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe3JldHVybiBpLmNhbGwobyhhcmd1bWVudHMsMSksKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQmJk9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2Vbbl09dFtuXX0pKSxlfSksZSl9O2Z1bmN0aW9uIGMoZSl7dmFyIHQsdT17fSxzPVtdO2Z1bmN0aW9uIGQoZSx0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9nLmNhbGwobnVsbCwic3luYyIsZSx0KToic3RyaW5nIj09dHlwZW9mIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiB0P2cuYXBwbHkobnVsbCxhcmd1bWVudHMpOiJvYmplY3QiPT10eXBlb2YgZT9mLmFwcGx5KG51bGwsYXJndW1lbnRzKTp2b2lkIDB9ZnVuY3Rpb24gZihlLHQsbil7dmFyIHI9ITA7dm9pZCAwPT09dCYmKHQ9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkscj0hMSk7dmFyIGk9e30sbz1bImNvbnN0cnVjdG9yIl07ZG97KHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiEoImZ1bmN0aW9uIiE9dHlwZW9mIGVbdF18fC0xIT09by5pbmRleE9mKHQpfHx0Lm1hdGNoKC9eXy8pKX0pKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9dC5zcGxpdCgiOiIpLG89clswXSxhPXJbMV18fCJzeW5jIjtpZighaVtvXSl7dmFyIGM9ZVtvXTtpW29dPWVbb109ZyhhLGMsbj9bbixvXTp2b2lkIDApfX0pKSxlPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKX13aGlsZShyJiZlKTtyZXR1cm4gaX1mdW5jdGlvbiBsKGUpe3ZhciBuPUFycmF5LmlzQXJyYXkoZSk/ZTplLnNwbGl0KCIuIik7cmV0dXJuIGkuY2FsbChuLChmdW5jdGlvbihyLGksbyl7dmFyIGE9cltpXSxjPSExO3JldHVybiBhfHwobz09PW4ubGVuZ3RoLTE/KHR8fHMucHVzaCgoZnVuY3Rpb24oKXtjfHxjb25zb2xlLndhcm4oImZ1bi1ob29rczogcmVmZXJlbmNlZCAnIitlKyInIGJ1dCBpdCB3YXMgbmV2ZXIgY3JlYXRlZCIpfSkpLHJbaV09cCgoZnVuY3Rpb24oZSl7cltpXT1lLGM9ITB9KSkpOnJbaV09e30pfSksdSl9ZnVuY3Rpb24gcChlKXt2YXIgdD1bXSxuPVtdLGk9ZnVuY3Rpb24oKXt9LG89e2JlZm9yZTpmdW5jdGlvbihlLG4pe3JldHVybiB1LmNhbGwodGhpcyx0LCJiZWZvcmUiLGUsbil9LGFmdGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUuY2FsbCh0aGlzLG4sImFmdGVyIixlLHQpfSxnZXRIb29rczpmdW5jdGlvbihlKXt2YXIgcj10LmNvbmNhdChuKTsib2JqZWN0Ij09dHlwZW9mIGUmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZXZlcnkoKGZ1bmN0aW9uKG4pe3JldHVybiB0W25dPT09ZVtuXX0pKX0pKSk7dHJ5e2Eocix7cmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pKSx0aGlzfX0pfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoImVycm9yIGFkZGluZyBgcmVtb3ZlYCB0byBhcnJheSwgZGlkIHlvdSBtb2RpZnkgQXJyYXkucHJvdG90eXBlPyIpfXJldHVybiByfSxyZW1vdmVBbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRIb29rcygpLnJlbW92ZSgpfX0sYz17aW5zdGFsbDpmdW5jdGlvbihyLG8sYSl7dGhpcy50eXBlPXIsaT1hLGEodCxuKSxlJiZlKG8pfX07cmV0dXJuIHIuc2V0KG8uYWZ0ZXIsYyksbztmdW5jdGlvbiB1KGUscixvLGEpe3ZhciBjPXtob29rOm8sdHlwZTpyLHByaW9yaXR5OmF8fDEwLHJlbW92ZTpmdW5jdGlvbigpe3ZhciByPWUuaW5kZXhPZihjKTstMSE9PXImJihlLnNwbGljZShyLDEpLGkodCxuKSl9fTtyZXR1cm4gZS5wdXNoKGMpLGUuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5wcmlvcml0eS1lLnByaW9yaXR5fSkpLGkodCxuKSx0aGlzfX1mdW5jdGlvbiBnKG4saSx1KXt2YXIgZD1pLmFmdGVyJiZyLmdldChpLmFmdGVyKTtpZihkKXtpZihkLnR5cGUhPT1uKXRocm93ImZ1bi1ob29rczogcmVjcmVhdGVkIGhvb2thYmxlIHdpdGggZGlmZmVyZW50IHR5cGUiO3JldHVybiBpfXZhciBmLGcsYj11P2wodSk6cCgpLHY9e2dldDpmdW5jdGlvbihlLHQpe3JldHVybiBiW3RdfHxSZWZsZWN0LmdldC5hcHBseShSZWZsZWN0LGFyZ3VtZW50cyl9fTtyZXR1cm4gdHx8cy5wdXNoKHkpLGUudXNlUHJveHkmJiJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSYmUHJveHkucmV2b2NhYmxlP2c9bmV3IFByb3h5KGksdik6YShnPWZ1bmN0aW9uKCl7cmV0dXJuIHYuYXBwbHk/di5hcHBseShpLHRoaXMsbyhhcmd1bWVudHMpKTppLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYiksci5nZXQoZy5hZnRlcikuaW5zdGFsbChuLGcsKGZ1bmN0aW9uKGUsdCl7dmFyIHIsaT1bXTtlLmxlbmd0aHx8dC5sZW5ndGg/KGUuZm9yRWFjaChhKSxyPWkucHVzaCh2b2lkIDApLTEsdC5mb3JFYWNoKGEpLGY9ZnVuY3Rpb24oZSx0LGEpe3ZhciBjLHU9MCxzPSJhc3luYyI9PT1uJiYiZnVuY3Rpb24iPT10eXBlb2YgYVthLmxlbmd0aC0xXSYmYS5wb3AoKTtmdW5jdGlvbiBkKGUpeyJzeW5jIj09PW4/Yz1lOnMmJnMuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIGYoZSl7aWYoaVt1XSl7dmFyIHI9byhhcmd1bWVudHMpO3JldHVybiBmLmJhaWw9ZCxyLnVuc2hpZnQoZiksaVt1KytdLmFwcGx5KHQscil9InN5bmMiPT09bj9jPWU6cyYmcy5hcHBseShudWxsLGFyZ3VtZW50cyl9cmV0dXJuIGlbcl09ZnVuY3Rpb24oKXt2YXIgcj1vKGFyZ3VtZW50cywxKTsiYXN5bmMiPT09biYmcyYmKGRlbGV0ZSBmLmJhaWwsci5wdXNoKGYpKTt2YXIgaT1lLmFwcGx5KHQscik7InN5bmMiPT09biYmZihpKX0sZi5hcHBseShudWxsLGEpLGN9KTpmPXZvaWQgMDtmdW5jdGlvbiBhKGUpe2kucHVzaChlLmhvb2spfXkoKX0pKSxnO2Z1bmN0aW9uIHkoKXshdCYmKCJzeW5jIiE9PW58fGUucmVhZHkmYy5TWU5DKSYmKCJhc3luYyIhPT1ufHxlLnJlYWR5JmMuQVNZTkMpPyJzeW5jIiE9PW4mJmUucmVhZHkmYy5RVUVVRT92LmFwcGx5PWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3MucHVzaCgoZnVuY3Rpb24oKXtnLmFwcGx5KGVbMV0sZVsyXSl9KSl9OnYuYXBwbHk9ZnVuY3Rpb24oKXt0aHJvdyJmdW4taG9va3M6IGhvb2tlZCBmdW5jdGlvbiBub3QgcmVhZHkifTp2LmFwcGx5PWZ9fXJldHVybihlPWEoe30sbixlKSkucmVhZHk/ZC5yZWFkeT1mdW5jdGlvbigpe3Q9ITAsZnVuY3Rpb24oZSl7Zm9yKHZhciB0O3Q9ZS5zaGlmdCgpOyl0KCl9KHMpfTp0PSEwLGQuZ2V0PWwsZH1lLmV4cG9ydHM9Y30sMTc6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ITB9LDE5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oODYpLG89big1MSksYT1uKDI2KSxjPW4oNjMpLHU9big4Nykscz1mdW5jdGlvbihlLHQpe3RoaXMuc3RvcHBlZD1lLHRoaXMucmVzdWx0PXR9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGQsZixsLHAsZyxiLHYseT1uJiZuLnRoYXQsaD0hKCFufHwhbi5BU19FTlRSSUVTKSxtPSEoIW58fCFuLklTX0lURVJBVE9SKSxTPSEoIW58fCFuLklOVEVSUlVQVEVEKSxFPWEodCx5LDEraCtTKSxBPWZ1bmN0aW9uKGUpe3JldHVybiBkJiZ1KGQpLG5ldyBzKCEwLGUpfSxUPWZ1bmN0aW9uKGUpe3JldHVybiBoPyhyKGUpLFM/RShlWzBdLGVbMV0sQSk6RShlWzBdLGVbMV0pKTpTP0UoZSxBKTpFKGUpfTtpZihtKWQ9ZTtlbHNle2lmKCJmdW5jdGlvbiIhPXR5cGVvZihmPWMoZSkpKXRocm93IFR5cGVFcnJvcigiVGFyZ2V0IGlzIG5vdCBpdGVyYWJsZSIpO2lmKGkoZikpe2ZvcihsPTAscD1vKGUubGVuZ3RoKTtwPmw7bCsrKWlmKChnPVQoZVtsXSkpJiZnIGluc3RhbmNlb2YgcylyZXR1cm4gZztyZXR1cm4gbmV3IHMoITEpfWQ9Zi5jYWxsKGUpfWZvcihiPWQubmV4dDshKHY9Yi5jYWxsKGQpKS5kb25lOyl7dHJ5e2c9VCh2LnZhbHVlKX1jYXRjaChlKXt0aHJvdyB1KGQpLGV9aWYoIm9iamVjdCI9PXR5cGVvZiBnJiZnJiZnIGluc3RhbmNlb2YgcylyZXR1cm4gZ31yZXR1cm4gbmV3IHMoITEpfX0sMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj0ibmF0aXZlIixpPSJ2aWRlbyIsbz0iYmFubmVyIixhPSJhZHBvZCJ9LDIwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciByPW4oMyksaT1uKDApO3ZhciBvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHQ9ci5iLmdldENvbmZpZygicGFnZVVybCIpO2lmKHQpcmV0dXJuIHQ7dHJ5e3ZhciBuPWUucXVlcnlTZWxlY3RvcigibGlua1tyZWw9J2Nhbm9uaWNhbCddIik7aWYobnVsbCE9PW4pcmV0dXJuIG4uaHJlZn1jYXRjaChlKXt9cmV0dXJuIG51bGx9cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4sbyxhLGM9W10sdT1mdW5jdGlvbihlKXt0cnl7aWYoIWUubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zKXJldHVybjtyZXR1cm4gZS5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnN9Y2F0Y2goZSl7fX0oZSkscz1yLmIuZ2V0Q29uZmlnKCJtYXhOZXN0ZWRJZnJhbWVzIiksZD0hMSxmPTAsbD0hMSxwPSExO2Rve3ZhciBnPW4sYj1wLHY9dm9pZCAwLHk9ITEsaD1udWxsO3A9ITEsbj1uP24ucGFyZW50OmU7dHJ5e3Y9bi5sb2NhdGlvbi5ocmVmfHxudWxsfWNhdGNoKGUpe3k9ITB9aWYoeSlpZihiKXt2YXIgbT1nLmNvbnRleHQ7dHJ5e289aD1tLnNvdXJjZVVybCxsPSEwLG49PT1lLnRvcCYmKGQ9ITApLG0uY2Fub25pY2FsVXJsJiYoYT1tLmNhbm9uaWNhbFVybCl9Y2F0Y2goZSl7fX1lbHNle09iamVjdChpLmxvZ1dhcm4pKCJUcnlpbmcgdG8gYWNjZXNzIGNyb3NzIGRvbWFpbiBpZnJhbWUuIENvbnRpbnVpbmcgd2l0aG91dCByZWZlcnJlciBhbmQgbG9jYXRpb24iKTt0cnl7dmFyIFM9Zy5kb2N1bWVudC5yZWZlcnJlcjtTJiYoaD1TLG49PT1lLnRvcCYmKGQ9ITApKX1jYXRjaChlKXt9IWgmJnUmJnVbZi0xXSYmKGg9dVtmLTFdKSxoJiYhbCYmKG89aCl9ZWxzZXtpZih2JiYobz1oPXYsbD0hMSxuPT09ZS50b3ApKXtkPSEwO3ZhciBFPXQobi5kb2N1bWVudCk7RSYmKGE9RSl9bi5jb250ZXh0JiZuLmNvbnRleHQuc291cmNlVXJsJiYocD0hMCl9Yy5wdXNoKGgpLGYrK313aGlsZShuIT09ZS50b3AmJmY8cyk7cmV0dXJuIGMucmV2ZXJzZSgpLHtyZWZlcmVyOm98fG51bGwscmVhY2hlZFRvcDpkLGlzQW1wOmwsbnVtSWZyYW1lczpmLTEsc3RhY2s6YyxjYW5vbmljYWxVcmw6YXx8bnVsbH19fSh3aW5kb3cpfSwyMTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtyZXR1cm4gZX19LDIxMzpmdW5jdGlvbihlLHQsbil7bigyMTQpO3ZhciByPW4oNTMpO2UuZXhwb3J0cz1yKCJBcnJheSIsImZpbmRJbmRleCIpfSwyMTQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oNTkpLmZpbmRJbmRleCxvPW4oNTIpLGE9ImZpbmRJbmRleCIsYz0hMDthIGluW10mJkFycmF5KDEpLmZpbmRJbmRleCgoZnVuY3Rpb24oKXtjPSExfSkpLHIoe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwLGZvcmNlZDpjfSx7ZmluZEluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksbyhhKX0sMjE5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKCl7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGgsITEpfTt2YXIgcj1uKDkpLGk9bi5uKHIpLG89bigzNiksYT1uKDUpLGM9bi5uKGEpLHU9bigwKSxzPW4oMjMpLGQ9bigxMSksZj1uLm4oZCksbD1uKDEzKSxwPW4oMTIpLGc9bi5uKHApLGI9bigzKSx2PWMuYS5FVkVOVFMuQklEX1dPTix5PWMuYS5FVkVOVFMuU1RBTEVfUkVOREVSO2Z1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5tZXNzYWdlPyJtZXNzYWdlIjoiZGF0YSIsbj17fTt0cnl7bj1KU09OLnBhcnNlKGVbdF0pfWNhdGNoKGUpe3JldHVybn1pZihuJiZuLmFkSWQpe3ZhciByPWYoKShzLmEuZ2V0Qmlkc1JlY2VpdmVkKCksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWQ9PT1uLmFkSWR9KSk7aWYociYmIlByZWJpZCBSZXF1ZXN0Ij09PW4ubWVzc2FnZSl7aWYoci5zdGF0dXM9PT1jLmEuQklEX1NUQVRVUy5SRU5ERVJFRCYmKE9iamVjdCh1LmxvZ1dhcm4pKCJBZCBpZCAiLmNvbmNhdChyLmFkSWQsIiBoYXMgYmVlbiByZW5kZXJlZCBiZWZvcmUiKSksaS5hLmVtaXQoeSxyKSxPYmplY3QodS5kZWVwQWNjZXNzKShiLmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpLCJzdXBwcmVzc1N0YWxlUmVuZGVyIikpKXJldHVybjshZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmFkSWQscj1lLmFkLGk9ZS5hZFVybCxvPWUud2lkdGgsYT1lLmhlaWdodCxjPWUucmVuZGVyZXIscz1lLmNwbTtPYmplY3QobC5jKShjKT9PYmplY3QobC5iKShjLGUpOm4mJihtKGUpLHQuc291cmNlLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHttZXNzYWdlOiJSZW5kZXIgU2VjdXJlIENyZWF0aXZlIixhZDpPYmplY3QodS5yZXBsYWNlQXVjdGlvblByaWNlKShyLHMpLGFkVXJsOk9iamVjdCh1LnJlcGxhY2VBdWN0aW9uUHJpY2UpKGkscyksYWRJZDpuLHdpZHRoOm8saGVpZ2h0OmF9KSx0Lm9yaWdpbikpfShyLGUpLHMuYS5hZGRXaW5uaW5nQmlkKHIpLGkuYS5lbWl0KHYscil9aWYociYmIlByZWJpZCBOYXRpdmUiPT09bi5tZXNzYWdlKXtpZigiYXNzZXRSZXF1ZXN0Ij09PW4uYWN0aW9uKXt2YXIgYT1PYmplY3Qoby5kKShuLHIpO3JldHVybiB2b2lkIGUuc291cmNlLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KGEpLGUub3JpZ2luKX1pZigiYWxsQXNzZXRSZXF1ZXN0Ij09PW4uYWN0aW9uKXt2YXIgZD1PYmplY3Qoby5jKShuLHIpO2Uuc291cmNlLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KGQpLGUub3JpZ2luKX1lbHNlInJlc2l6ZU5hdGl2ZUhlaWdodCI9PT1uLmFjdGlvbiYmKHIuaGVpZ2h0PW4uaGVpZ2h0LHIud2lkdGg9bi53aWR0aCxtKHIpKTtpZigiY2xpY2siPT09T2JqZWN0KG8uYikobixyKSlyZXR1cm47cy5hLmFkZFdpbm5pbmdCaWQociksaS5hLmVtaXQodixyKX19fWZ1bmN0aW9uIG0oZSl7dmFyIHQ9ZS5hZElkLG49ZS5hZFVuaXRDb2RlLHI9ZS53aWR0aCxpPWUuaGVpZ2h0O1siZGl2IiwiaWZyYW1lIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG89ZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSx0KXt2YXIgbjtPYmplY3QodS5pc0dwdFB1YmFkc0RlZmluZWQpKCkmJihuPWZ1bmN0aW9uKGUpe3ZhciB0PWYoKSh3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCksKGZ1bmN0aW9uKHQpe3JldHVybiBmKCkodC5nZXRUYXJnZXRpbmdLZXlzKCksKGZ1bmN0aW9uKG4pe3JldHVybiBnKCkodC5nZXRUYXJnZXRpbmcobiksZSl9KSl9KSk7cmV0dXJuIHQmJnQuZ2V0U2xvdEVsZW1lbnRJZCgpfShlKSk7IW4mJk9iamVjdCh1LmlzQXBuR2V0VGFnRGVmaW5lZCkoKSYmKG49ZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LmFwbnRhZy5nZXRUYWcoZSk7cmV0dXJuIHQmJnQudGFyZ2V0SWR9KHQpKTtufHwobj10KTtyZXR1cm4gbn0odCxuKSxpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHIpO3JldHVybiBpJiZpLnF1ZXJ5U2VsZWN0b3IoZSl9KGUrJzpub3QoW3N0eWxlKj0iZGlzcGxheTogbm9uZSJdKScpO2lmKG8pe3ZhciBhPW8uc3R5bGU7YS53aWR0aD1yKyJweCIsYS5oZWlnaHQ9aSsicHgifWVsc2UgT2JqZWN0KHUubG9nV2FybikoIlVuYWJsZSB0byBsb2NhdGUgbWF0Y2hpbmcgcGFnZSBlbGVtZW50IGZvciBhZFVuaXRDb2RlICIuY29uY2F0KG4sIi4gIENhbid0IHJlc2l6ZSBpdCB0byBhZCdzIGRpbWVuc2lvbnMuICBQbGVhc2UgcmV2aWV3IHNldHVwLiIpKX0pKX19LDIyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSx0LmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3Qoci5nZXRCaWRSZXF1ZXN0KShlLnJlcXVlc3RJZCx0KSxpPW4mJk9iamVjdChyLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8iKSxvPWkmJk9iamVjdChyLmRlZXBBY2Nlc3MpKGksImNvbnRleHQiKTtyZXR1cm4gcyhlLG4saSxvKX0sbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO24oOCk7dmFyIHI9bigwKSxpPW4oMyksbz1uKDEyKSxhPShuLm4obyksbigxMCkpLGM9Im91dHN0cmVhbSIsdT0iaW5zdHJlYW0iO3ZhciBzPU9iamVjdChhLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSx0LG4sbyl7cmV0dXJuIXR8fG4mJm8hPT1jP2kuYi5nZXRDb25maWcoImNhY2hlLnVybCIpfHwhZS52YXN0WG1sfHxlLnZhc3RVcmw/ISghZS52YXN0VXJsJiYhZS52YXN0WG1sKTooT2JqZWN0KHIubG9nRXJyb3IpKCdcbiAgICAgICAgVGhpcyBiaWQgY29udGFpbnMgb25seSB2YXN0WG1sIGFuZCB3aWxsIG5vdCB3b3JrIHdoZW4gYSBwcmViaWQgY2FjaGUgdXJsIGlzIG5vdCBzcGVjaWZpZWQuXG4gICAgICAgIFRyeSBlbmFibGluZyBwcmViaWQgY2FjaGUgd2l0aCB1cGJqcy5zZXRDb25maWcoeyBjYWNoZToge3VybDogIi4uLiJ9IH0pO1xuICAgICAgJyksITEpOm8hPT1jfHwhIShlLnJlbmRlcmVyfHx0LnJlbmRlcmVyfHxuLnJlbmRlcmVyKX0pLCJjaGVja1ZpZGVvQmlkU2V0dXAiKX0sMjIwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUpe3ZhciB0O3RyeXtlPWV8fHdpbmRvdy5zZXNzaW9uU3RvcmFnZSx0PUpTT04ucGFyc2UoZS5nZXRJdGVtKHUpKX1jYXRjaChlKXt9dCYmcCh0LCEwKX07dmFyIHIsaSxvPW4oMyksYT1uKDApLGM9bigyOCksdT0idXBianM6ZGVidWdnaW5nIjtmdW5jdGlvbiBzKGUpe09iamVjdChhLmxvZ01lc3NhZ2UpKCJERUJVRzogIitlKX1mdW5jdGlvbiBkKGUpe09iamVjdChhLmxvZ1dhcm4pKCJERUJVRzogIitlKX1mdW5jdGlvbiBmKGUpe3I9eS5iaW5kKGUpLGMuYy5iZWZvcmUociw1KSxpPWguYmluZChlKSxjLmUuYmVmb3JlKGksNSl9ZnVuY3Rpb24gbCgpe2MuYy5nZXRIb29rcyh7aG9vazpyfSkucmVtb3ZlKCksYy5lLmdldEhvb2tzKHtob29rOml9KS5yZW1vdmUoKX1mdW5jdGlvbiBwKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07by5iLnNldENvbmZpZyh7ZGVidWc6ITB9KSxsKCksZihlKSxzKCJiaWRkZXIgb3ZlcnJpZGVzIGVuYWJsZWQiLmNvbmNhdCh0PyIgZnJvbSBzZXNzaW9uIjoiIikpfWZ1bmN0aW9uIGcoZSx0LG4pe3JldHVybiEoIWUuYmlkZGVyfHxlLmJpZGRlcj09PXQpfHwhKCFlLmFkVW5pdENvZGV8fGUuYWRVbml0Q29kZT09PW4pfWZ1bmN0aW9uIGIoZSx0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmLTE9PT1lLmluZGV4T2YodCl9ZnVuY3Rpb24gdihlLHQsbil7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1bImFkVW5pdENvZGUiLCJiaWRkZXIiXS5pbmRleE9mKGUpfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxyKXtyZXR1cm4gcygiYmlkZGVyIG92ZXJyaWRlcyBjaGFuZ2VkICciLmNvbmNhdCh0LmFkVW5pdENvZGUsIi8iKS5jb25jYXQodC5iaWRkZXJDb2RlLCInICIpLmNvbmNhdChuLCIuIikuY29uY2F0KHIsIiBmcm9tICciKS5jb25jYXQodFtyXSwiLmpzJyB0byAnIikuY29uY2F0KGVbcl0sIiciKSksdFtyXT1lW3JdLHR9KSx0KX1mdW5jdGlvbiB5KGUsdCxuKXt2YXIgcj10aGlzO2Ioci5iaWRkZXJzLG4uYmlkZGVyQ29kZSk/ZCgiYmlkZGVyICciLmNvbmNhdChuLmJpZGRlckNvZGUsIicgZXhjbHVkZWQgZnJvbSBhdWN0aW9uIGJ5IGJpZGRlciBvdmVycmlkZXMiKSk6KEFycmF5LmlzQXJyYXkoci5iaWRzKSYmci5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2coZSxuLmJpZGRlckNvZGUsdCl8fHYoZSxuLCJiaWRkZXIiKX0pKSxlKHQsbikpfWZ1bmN0aW9uIGgoZSx0KXt2YXIgbj10aGlzLHI9dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFiKG4uYmlkZGVycyxlLmJpZGRlckNvZGUpfHwoZCgiYmlkUmVxdWVzdCAnIi5jb25jYXQoZS5iaWRkZXJDb2RlLCInIGV4Y2x1ZGVkIGZyb20gYXVjdGlvbiBieSBiaWRkZXIgb3ZlcnJpZGVzIikpLCExKX0pKTtBcnJheS5pc0FycmF5KG4uYmlkUmVxdWVzdHMpJiZyLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uYmlkUmVxdWVzdHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKG4pe2codCxlLmJpZGRlckNvZGUsbi5hZFVuaXRDb2RlKXx8dih0LG4sImJpZFJlcXVlc3QiKX0pKX0pKX0pKSxlKHIpfWZ1bmN0aW9uIG0oZSl7aWYoZS5lbmFibGVkKXt0cnl7d2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0odSxKU09OLnN0cmluZ2lmeShlKSl9Y2F0Y2goZSl7fXAoZSl9ZWxzZXtsKCkscygiYmlkZGVyIG92ZXJyaWRlcyBkaXNhYmxlZCIpO3RyeXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSh1KX1jYXRjaChlKXt9fX1vLmIuZ2V0Q29uZmlnKCJkZWJ1Z2dpbmciLChmdW5jdGlvbihlKXtyZXR1cm4gbShlLmRlYnVnZ2luZyl9KSl9LDIzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciByPW4oMCksaT1uKDI4KSxvPW4oMTEpLGE9bi5uKG8pLGM9big1KTt2YXIgdT1mdW5jdGlvbigpe3ZhciBlPVtdLHQ9e307cmV0dXJuIHQuYWRkV2lubmluZ0JpZD1mdW5jdGlvbih0KXt2YXIgbj1hKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXVjdGlvbklkKCk9PT10LmF1Y3Rpb25JZH0pKTtuPyh0LnN0YXR1cz1jLkJJRF9TVEFUVVMuUkVOREVSRUQsbi5hZGRXaW5uaW5nQmlkKHQpKTpPYmplY3Qoci5sb2dXYXJuKSgiQXVjdGlvbiBub3QgZm91bmQgd2hlbiBhZGRpbmcgd2lubmluZyBiaWQiKX0sdC5nZXRBbGxXaW5uaW5nQmlkcz1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0V2lubmluZ0JpZHMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sdC5nZXRCaWRzUmVxdWVzdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRCaWRSZXF1ZXN0cygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pfSx0LmdldE5vQmlkcz1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0Tm9CaWRzKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LHQuZ2V0Qmlkc1JlY2VpdmVkPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtpZihlLmdldEF1Y3Rpb25TdGF0dXMoKT09PWkuYSlyZXR1cm4gZS5nZXRCaWRzUmVjZWl2ZWQoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfSx0LmdldEFsbEJpZHNGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKHQpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0Qmlkc1JlY2VpdmVkKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5hZFVuaXRDb2RlPT09dH0pKX0sdC5nZXRBZFVuaXRzPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBZFVuaXRzKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LHQuZ2V0QWRVbml0Q29kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEFkVW5pdENvZGVzKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKHIudW5pcXVlcyl9LHQuY3JlYXRlQXVjdGlvbj1mdW5jdGlvbih0KXt2YXIgbj10LmFkVW5pdHMscj10LmFkVW5pdENvZGVzLG89dC5jYWxsYmFjayxhPXQuY2JUaW1lb3V0LGM9dC5sYWJlbHMsdT10LmF1Y3Rpb25JZCxzPU9iamVjdChpLmspKHthZFVuaXRzOm4sYWRVbml0Q29kZXM6cixjYWxsYmFjazpvLGNiVGltZW91dDphLGxhYmVsczpjLGF1Y3Rpb25JZDp1fSk7cmV0dXJuIGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0ocyksc30sdC5maW5kQmlkQnlBZElkPWZ1bmN0aW9uKHQpe3JldHVybiBhKCkoZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEJpZHNSZWNlaXZlZCgpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZElkPT09dH0pKX0sdC5nZXRTdGFuZGFyZEJpZGRlckFkU2VydmVyVGFyZ2V0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChpLmopKClbYy5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXX0sdC5zZXRTdGF0dXNGb3JCaWRzPWZ1bmN0aW9uKG4scil7dmFyIGk9dC5maW5kQmlkQnlBZElkKG4pO2lmKGkmJihpLnN0YXR1cz1yKSxpJiZyPT09Yy5CSURfU1RBVFVTLkJJRF9UQVJHRVRJTkdfU0VUKXt2YXIgbz1hKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXVjdGlvbklkKCk9PT1pLmF1Y3Rpb25JZH0pKTtvJiZvLnNldEJpZFRhcmdldGluZyhpKX19LHQuZ2V0TGFzdEF1Y3Rpb25JZD1mdW5jdGlvbigpe3JldHVybiBlLmxlbmd0aCYmZVtlLmxlbmd0aC0xXS5nZXRBdWN0aW9uSWQoKX0sdC5jbGVhckFsbEF1Y3Rpb25zPWZ1bmN0aW9uKCl7ZS5sZW5ndGg9MH0sdH0oKX0sMjQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjUpLGk9big4MSksbz1uKDMxKSxhPW4oNjIpLGM9big4MiksdT1uKDExMSkscz1pKCJ3a3MiKSxkPXIuU3ltYm9sLGY9dT9kOmQmJmQud2l0aG91dFNldHRlcnx8YTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8ocyxlKSYmKGN8fCJzdHJpbmciPT10eXBlb2Ygc1tlXSl8fChjJiZvKGQsZSk/c1tlXT1kW2VdOnNbZV09ZigiU3ltYm9sLiIrZSkpLHNbZV19fSwyNTpmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpe3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLk1hdGg9PU1hdGgmJmV9O2UuZXhwb3J0cz1uKCJvYmplY3QiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyl8fG4oIm9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyl8fG4oIm9iamVjdCI9PXR5cGVvZiBzZWxmJiZzZWxmKXx8bigib2JqZWN0Ij09dHlwZW9mIHQmJnQpfHxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpfHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfSkuY2FsbCh0LG4oMzkpKX0sMjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjEpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7aWYocihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChuKXtjYXNlIDA6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuY2FsbCh0KX07Y2FzZSAxOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZS5jYWxsKHQsbil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gZS5jYWxsKHQsbixyKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihuLHIsaSl7cmV0dXJuIGUuY2FsbCh0LG4scixpKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LDI3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDUwKSxpPW4oMjUpLG89ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTp2b2lkIDB9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/byhyW2VdKXx8byhpW2VdKTpyW2VdJiZyW2VdW3RdfHxpW2VdJiZpW2VdW3RdfX0sMjg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBJfSkpLHQuaz1mdW5jdGlvbihlKXt2YXIgdCxuLG8sYSxzPWUuYWRVbml0cyxkPWUuYWRVbml0Q29kZXMsZj1lLmNhbGxiYWNrLHA9ZS5jYlRpbWVvdXQsdj1lLmxhYmVscyxVPWUuYXVjdGlvbklkLGs9cyxQPXYscT1kLE09W10sVz1bXSxMPVtdLEY9VXx8Uy5nZW5lcmF0ZVVVSUQoKSx6PWYsVj1wLEg9W10sSz1uZXcgU2V0O2Z1bmN0aW9uIEooKXtyZXR1cm57YXVjdGlvbklkOkYsdGltZXN0YW1wOnQsYXVjdGlvbkVuZDpuLGF1Y3Rpb25TdGF0dXM6byxhZFVuaXRzOmssYWRVbml0Q29kZXM6cSxsYWJlbHM6UCxiaWRkZXJSZXF1ZXN0czpNLG5vQmlkczpMLGJpZHNSZWNlaXZlZDpXLHdpbm5pbmdCaWRzOkgsdGltZW91dDpWfX1mdW5jdGlvbiBZKGUsdCl7aWYodCYmY2xlYXJUaW1lb3V0KGEpLHZvaWQgMD09PW4pe3ZhciBpPVtdO2UmJihTLmxvZ01lc3NhZ2UoIkF1Y3Rpb24gIi5jb25jYXQoRiwiIHRpbWVkT3V0IikpLGM9SywoaT1NLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuKGUuYmlkc3x8W10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWMuaGFzKGUuYmlkZGVyKX0pKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntiaWRJZDplLmJpZElkLGJpZGRlcjplLmJpZGRlcixhZFVuaXRDb2RlOmUuYWRVbml0Q29kZSxhdWN0aW9uSWQ6ZS5hdWN0aW9uSWR9fSkpKS5sZW5ndGgmJkEuZW1pdChULkVWRU5UUy5CSURfVElNRU9VVCxpKSksbz1JLG49RGF0ZS5ub3coKSxBLmVtaXQoVC5FVkVOVFMuQVVDVElPTl9FTkQsSigpKSxCKGssKGZ1bmN0aW9uKCl7dHJ5e2lmKG51bGwhPXope3ZhciB0PXEsbj1XLmZpbHRlcihTLmJpbmQuY2FsbChyLmFkVW5pdHNGaWx0ZXIsdGhpcyx0KSkucmVkdWNlKEcse30pO3ouYXBwbHkodXBianMsW24sZSxGXSksej1udWxsfX1jYXRjaChlKXtTLmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgYmlkc0JhY2tIYW5kbGVyIixudWxsLGUpfWZpbmFsbHl7aS5sZW5ndGgmJkUuY2FsbFRpbWVkT3V0QmlkZGVycyhzLGksVik7dmFyIG89dS5iLmdldENvbmZpZygidXNlclN5bmMiKXx8e307by5lbmFibGVPdmVycmlkZXx8bShvLnN5bmNEZWxheSl9fSkpfXZhciBjfWZ1bmN0aW9uIFEoKXt1LmIucmVzZXRCaWRkZXIoKSxTLmxvZ0luZm8oIkJpZHMgUmVjZWl2ZWQgZm9yIEF1Y3Rpb24gd2l0aCBpZDogIi5jb25jYXQoRiksVyksbz1JLFkoITEsITApfWZ1bmN0aW9uICQoZSl7Sy5hZGQoZSl9ZnVuY3Rpb24gWChlKXt2YXIgdD10aGlzO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ7dD1lLE09TS5jb25jYXQodCl9KSk7dmFyIG49e30scz17YmlkUmVxdWVzdHM6ZSxydW46ZnVuY3Rpb24oKXt2YXIgcyxwO3M9WS5iaW5kKG51bGwsITApLHA9c2V0VGltZW91dChzLFYpLGE9cCxvPU8sQS5lbWl0KFQuRVZFTlRTLkFVQ1RJT05fSU5JVCxKKCkpO3ZhciB2PWZ1bmN0aW9uKGUsdCl7dmFyIG49MCxvPSExLGE9bmV3IFNldCxzPXt9O2Z1bmN0aW9uIGQoKXtuLS0sbyYmMD09PW4mJmUoKX1mdW5jdGlvbiBmKGUsbyl7dmFyIGE9dGhpcyxmPXQuZ2V0QmlkUmVxdWVzdHMoKTtpZihvLmFkZFJlcXVlc3RPbmx5JiZhLmlzRHluYW1pYyYmIWYuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyUmVxdWVzdElkPT09YS5iaWRkZXJSZXF1ZXN0SWR9KSkpZi5wdXNoKGEpO2Vsc2V7c1tvLnJlcXVlc3RJZF09ITAsbisrO3ZhciBwPXQuZ2V0QXVjdGlvbklkKCksZz1mdW5jdGlvbihlKXt2YXIgdD1lLmFkVW5pdENvZGUsbj1lLmJpZCxvPWUuYmlkZGVyUmVxdWVzdCxhPWUuYXVjdGlvbklkLHM9by5zdGFydCxkPWgoe30sbix7YXVjdGlvbklkOmEscmVzcG9uc2VUaW1lc3RhbXA6T2JqZWN0KHIudGltZXN0YW1wKSgpLHJlcXVlc3RUaW1lc3RhbXA6cyxjcG06cGFyc2VGbG9hdChuLmNwbSl8fDAsYmlkZGVyOm4uYmlkZGVyQ29kZSxhZFVuaXRDb2RlOnR9KTtkLnRpbWVUb1Jlc3BvbmQ9ZC5yZXNwb25zZVRpbWVzdGFtcC1kLnJlcXVlc3RUaW1lc3RhbXAsQS5lbWl0KFQuRVZFTlRTLkJJRF9BREpVU1RNRU5ULGQpO3ZhciBmPW8uYmlkcyYmbCgpKG8uYmlkcywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZT09dCYmZS5iaWRJZD09ZC5yZXF1ZXN0SWR9KSkscD1mJiZmLnJlbmRlcmVyLGc9ZC5tZWRpYVR5cGUsYj1mJiZmLm1lZGlhVHlwZXMmJmYubWVkaWFUeXBlc1tnXSx2PWImJmIucmVuZGVyZXIsbT1udWxsO3YmJnYudXJsJiZ2LnJlbmRlciYmKCEwIT09di5iYWNrdXBPbmx5fHwhbi5yZW5kZXJlcik/bT12OnAmJnAudXJsJiZwLnJlbmRlciYmKCEwIT09cC5iYWNrdXBPbmx5fHwhbi5yZW5kZXJlcikmJihtPXApO20mJihkLnJlbmRlcmVyPWMuYS5pbnN0YWxsKHt1cmw6bS51cmx9KSxkLnJlbmRlcmVyLnNldFJlbmRlcihtLnJlbmRlcikpO3ZhciBTPU4obi5tZWRpYVR5cGUsZix1LmIuZ2V0Q29uZmlnKCJtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5IikpLEU9T2JqZWN0KGkuYSkoZC5jcG0sIm9iamVjdCI9PT15KFMpP1M6dS5iLmdldENvbmZpZygiY3VzdG9tUHJpY2VCdWNrZXQiKSx1LmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5ncmFudWxhcml0eU11bHRpcGxpZXIiKSk7cmV0dXJuIGQucGJMZz1FLmxvdyxkLnBiTWc9RS5tZWQsZC5wYkhnPUUuaGlnaCxkLnBiQWc9RS5hdXRvLGQucGJEZz1FLmRlbnNlLGQucGJDZz1FLmN1c3RvbSxkfSh7YWRVbml0Q29kZTplLGJpZDpvLGJpZGRlclJlcXVlc3Q6YSxhdWN0aW9uSWQ6cH0pOyJ2aWRlbyI9PT1nLm1lZGlhVHlwZT9mdW5jdGlvbihlLHQsbixpKXt2YXIgbz0hMCxhPU9iamVjdChyLmdldEJpZFJlcXVlc3QpKHQub3JpZ2luYWxSZXF1ZXN0SWR8fHQucmVxdWVzdElkLFtuXSksYz1hJiZPYmplY3Qoci5kZWVwQWNjZXNzKShhLCJtZWRpYVR5cGVzLnZpZGVvIikscz1jJiZPYmplY3Qoci5kZWVwQWNjZXNzKShjLCJjb250ZXh0Iik7dS5iLmdldENvbmZpZygiY2FjaGUudXJsIikmJnMhPT1iLmImJighdC52aWRlb0NhY2hlS2V5fHx1LmIuZ2V0Q29uZmlnKCJjYWNoZS5pZ25vcmVCaWRkZXJDYWNoZUtleSIpPyhvPSExLEQoZSx0LGksYSkpOnQudmFzdFVybHx8KFMubG9nRXJyb3IoInZpZGVvQ2FjaGVLZXkgc3BlY2lmaWVkIGJ1dCBub3QgcmVxdWlyZWQgdmFzdFVybCBmb3IgdmlkZW8gYmlkIiksbz0hMSkpO28mJih4KGUsdCksaSgpKX0odCxnLGEsZCk6KHgodCxnKSxkKCkpfX1mdW5jdGlvbiBwKCl7dmFyIHI9dGhpcyxpPXQuZ2V0QmlkUmVxdWVzdHMoKTtpZigiczJzQmlkZGVyUGxhY2Vob2xkZXIiIT09ci5iaWRkZXJDb2RlKXt2YXIgYz11LmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpO2lmKGEuYWRkKHIpLGMmJiFTLmlzRW1wdHkoYykpe3ZhciBkPWMuc2Vjb25kYXJ5QmlkZGVycztkJiYhaS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGcoKShkLGUuYmlkZGVyQ29kZSl9KSkmJihpPWkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZygpKGQsZS5iaWRkZXJDb2RlKX0pKSl9bz1pLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gYS5oYXMoZSl9KSksci5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3NbZS5iaWRJZF18fCh0LmFkZE5vQmlkKGUpLEEuZW1pdChULkVWRU5UUy5OT19CSUQsZSkpfSkpLG8mJjA9PT1uJiZlKCl9ZWxzZXt2YXIgZj1pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyUmVxdWVzdElkfSkpLmluZGV4T2Yoci5iaWRkZXJSZXF1ZXN0SWQpO2Y+LTEmJmkuc3BsaWNlKGYsMSl9fXJldHVybnthZGRCaWRSZXNwb25zZTpmLGFkYXB0ZXJEb25lOnB9fShRLHQpO0UuY2FsbEJpZHMoayxlLChmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO18uYXBwbHkoe2Rpc3BhdGNoOnYuYWRkQmlkUmVzcG9uc2UsYmlkZGVyUmVxdWVzdDp0aGlzfSx0KX0pLHYuYWRhcHRlckRvbmUse3JlcXVlc3Q6ZnVuY3Rpb24oZSx0KXtmKHcsdCksZihuLGUpLENbZV18fChDW2VdPXtTUkE6ITAsb3JpZ2luOnR9KSxuW2VdPjEmJihDW2VdLlNSQT0hMSl9LGRvbmU6ZnVuY3Rpb24oZSl7d1tlXS0tLGpbMF0mJmQoalswXSkmJmouc2hpZnQoKX19LFYsJCl9fTtmdW5jdGlvbiBkKGUpe3ZhciB0PSEwLG49dS5iLmdldENvbmZpZygibWF4UmVxdWVzdHNQZXJPcmlnaW4iKXx8NDtyZXR1cm4gZS5iaWRSZXF1ZXN0cy5zb21lKChmdW5jdGlvbihlKXt2YXIgcj0xLGk9dm9pZCAwIT09ZS5zcmMmJmUuc3JjPT09VC5TMlMuU1JDPyJzMnMiOmUuYmlkZGVyQ29kZTtyZXR1cm4gQ1tpXSYmKCExPT09Q1tpXS5TUkEmJihyPU1hdGgubWluKGUuYmlkcy5sZW5ndGgsbikpLHdbQ1tpXS5vcmlnaW5dK3I+biYmKHQ9ITEpKSwhdH0pKSx0JiZlLnJ1bigpLHR9ZnVuY3Rpb24gZihlLHQpe3ZvaWQgMD09PWVbdF0/ZVt0XT0xOmVbdF0rK31kKHMpfHwoUy5sb2dXYXJuKCJxdWV1ZWluZyBhdWN0aW9uIGR1ZSB0byBsaW1pdGVkIGVuZHBvaW50IGNhcGFjaXR5Iiksai5wdXNoKHMpKX1yZXR1cm57YWRkQmlkUmVjZWl2ZWQ6ZnVuY3Rpb24oZSl7Vz1XLmNvbmNhdChlKX0sYWRkTm9CaWQ6ZnVuY3Rpb24oZSl7TD1MLmNvbmNhdChlKX0sZXhlY3V0ZUNhbGxiYWNrOlksY2FsbEJpZHM6ZnVuY3Rpb24oKXtvPSJzdGFydGVkIix0PURhdGUubm93KCk7dmFyIGU9RS5tYWtlQmlkUmVxdWVzdHMoayx0LEYsVixQKTtTLmxvZ0luZm8oIkJpZHMgUmVxdWVzdGVkIGZvciBBdWN0aW9uIHdpdGggaWQ6ICIuY29uY2F0KEYpLGUpLGUubGVuZ3RoPDE/KFMubG9nV2FybigiTm8gdmFsaWQgYmlkIHJlcXVlc3RzIHJldHVybmVkIGZvciBhdWN0aW9uIiksUSgpKTpSLmNhbGwoe2Rpc3BhdGNoOlgsY29udGV4dDp0aGlzfSxlKX0sYWRkV2lubmluZ0JpZDpmdW5jdGlvbihlKXtIPUguY29uY2F0KGUpLEUuY2FsbEJpZFdvbkJpZGRlcihlLmJpZGRlcixlLHMpfSxzZXRCaWRUYXJnZXRpbmc6ZnVuY3Rpb24oZSl7RS5jYWxsU2V0VGFyZ2V0aW5nQmlkZGVyKGUuYmlkZGVyLGUpfSxnZXRXaW5uaW5nQmlkczpmdW5jdGlvbigpe3JldHVybiBIfSxnZXRUaW1lb3V0OmZ1bmN0aW9uKCl7cmV0dXJuIFZ9LGdldEF1Y3Rpb25JZDpmdW5jdGlvbigpe3JldHVybiBGfSxnZXRBdWN0aW9uU3RhdHVzOmZ1bmN0aW9uKCl7cmV0dXJuIG99LGdldEFkVW5pdHM6ZnVuY3Rpb24oKXtyZXR1cm4ga30sZ2V0QWRVbml0Q29kZXM6ZnVuY3Rpb24oKXtyZXR1cm4gcX0sZ2V0QmlkUmVxdWVzdHM6ZnVuY3Rpb24oKXtyZXR1cm4gTX0sZ2V0Qmlkc1JlY2VpdmVkOmZ1bmN0aW9uKCl7cmV0dXJuIFd9LGdldE5vQmlkczpmdW5jdGlvbigpe3JldHVybiBMfX19LG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKSxuLmQodCwiZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSksdC5nPVUsdC5kPXgsbi5kKHQsImYiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLG4uZCh0LCJpIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSxuLmQodCwiaCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFB9KSksdC5qPXE7dmFyIHI9bigwKSxpPW4oNDQpLG89bigzNiksYT1uKDk4KSxjPW4oMTMpLHU9bigzKSxzPW4oNTYpLGQ9bigxMCksZj1uKDExKSxsPW4ubihmKSxwPW4oMTIpLGc9bi5uKHApLGI9bigyMiksdj1uKDIpO2Z1bmN0aW9uIHkoZSl7cmV0dXJuKHk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBoKCl7cmV0dXJuKGg9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbT1zLmEuc3luY1VzZXJzLFM9bigwKSxFPW4oOCkuZGVmYXVsdCxBPW4oOSksVD1uKDUpLE89ImluUHJvZ3Jlc3MiLEk9ImNvbXBsZXRlZCI7QS5vbihULkVWRU5UUy5CSURfQURKVVNUTUVOVCwoZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5iaWRkZXJDb2RlLHI9ZS5jcG07aWYodXBianMuYmlkZGVyU2V0dGluZ3MmJihuJiZ1cGJqcy5iaWRkZXJTZXR0aW5nc1tuXSYmImZ1bmN0aW9uIj09dHlwZW9mIHVwYmpzLmJpZGRlclNldHRpbmdzW25dLmJpZENwbUFkanVzdG1lbnQ/dD11cGJqcy5iaWRkZXJTZXR0aW5nc1tuXS5iaWRDcG1BZGp1c3RtZW50OnVwYmpzLmJpZGRlclNldHRpbmdzW1QuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdJiYiZnVuY3Rpb24iPT10eXBlb2YgdXBianMuYmlkZGVyU2V0dGluZ3NbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0uYmlkQ3BtQWRqdXN0bWVudCYmKHQ9dXBianMuYmlkZGVyU2V0dGluZ3NbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0uYmlkQ3BtQWRqdXN0bWVudCksdCkpdHJ5e3I9dChlLmNwbSxoKHt9LGUpKX1jYXRjaChlKXtTLmxvZ0Vycm9yKCJFcnJvciBkdXJpbmcgYmlkIGFkanVzdG1lbnQiLCJiaWRtYW5hZ2VyLmpzIixlKX1yPj0wJiYoZS5jcG09cil9KGUpfSkpO3ZhciB3PXt9LEM9e30saj1bXTt2YXIgXz1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQpe3RoaXMuZGlzcGF0Y2guY2FsbCh0aGlzLmJpZGRlclJlcXVlc3QsZSx0KX0pLCJhZGRCaWRSZXNwb25zZSIpLFI9T2JqZWN0KGQuYikoInN5bmMiLChmdW5jdGlvbihlKXt0aGlzLmRpc3BhdGNoLmNhbGwodGhpcy5jb250ZXh0LGUpfSksImFkZEJpZGRlclJlcXVlc3RzIiksQj1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQpe3QmJnQoKX0pLCJiaWRzQmFja0NhbGxiYWNrIik7ZnVuY3Rpb24gVShlLHQpe3QudGltZVRvUmVzcG9uZD5lLmdldFRpbWVvdXQoKSt1LmIuZ2V0Q29uZmlnKCJ0aW1lb3V0QnVmZmVyIikmJmUuZXhlY3V0ZUNhbGxiYWNrKCEwKX1mdW5jdGlvbiB4KGUsdCl7dmFyIG49ZS5nZXRCaWRSZXF1ZXN0cygpLHI9bCgpKG4sKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlckNvZGU9PT10LmJpZGRlckNvZGV9KSk7IWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoZS5iaWRkZXJDb2RlJiYoZS5jcG0+MHx8ZS5kZWFsSWQpKXt2YXIgcj1sKCkodC5iaWRzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZS5hZFVuaXRDb2RlfSkpO249ZnVuY3Rpb24oZSx0LG4pe2lmKCF0KXJldHVybnt9O3ZhciByPXt9LGk9dXBianMuYmlkZGVyU2V0dGluZ3M7aWYoaSl7TShyLHEodC5tZWRpYVR5cGUsZSxuKSx0KSxlJiZpW2VdJiZpW2VdW1QuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR10mJihNKHIsaVtlXSx0KSx0LnNlbmRTdGFuZGFyZFRhcmdldGluZz1pW2VdLnNlbmRTdGFuZGFyZFRhcmdldGluZyl9dC5uYXRpdmUmJihyPWgoe30scixPYmplY3Qoby5lKSh0LG4pKSk7cmV0dXJuIHJ9KGUuYmlkZGVyQ29kZSxlLHIpfWUuYWRzZXJ2ZXJUYXJnZXRpbmc9aChlLmFkc2VydmVyVGFyZ2V0aW5nfHx7fSxuKX0odCxyKSxBLmVtaXQoVC5FVkVOVFMuQklEX1JFU1BPTlNFLHQpLGUuYWRkQmlkUmVjZWl2ZWQodCksVShlLHQpfXZhciBEPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLHIpe09iamVjdChhLmIpKFt0XSwoZnVuY3Rpb24ocixpKXtyPyhTLmxvZ1dhcm4oIkZhaWxlZCB0byBzYXZlIHRvIHRoZSB2aWRlbyBjYWNoZTogIi5jb25jYXQociwiLiBWaWRlbyBiaWQgbXVzdCBiZSBkaXNjYXJkZWQuIikpLFUoZSx0KSk6IiI9PT1pWzBdLnV1aWQ/KFMubG9nV2FybigiU3VwcGxpZWQgdmlkZW8gY2FjaGUga2V5IHdhcyBhbHJlYWR5IGluIHVzZSBieSBQcmViaWQgQ2FjaGU7IGNhY2hpbmcgYXR0ZW1wdCB3YXMgcmVqZWN0ZWQuIFZpZGVvIGJpZCBtdXN0IGJlIGRpc2NhcmRlZC4iKSxVKGUsdCkpOih0LnZpZGVvQ2FjaGVLZXk9aVswXS51dWlkLHQudmFzdFVybHx8KHQudmFzdFVybD1PYmplY3QoYS5hKSh0LnZpZGVvQ2FjaGVLZXkpKSx4KGUsdCksbigpKX0pLHIpfSksImNhbGxQcmViaWRDYWNoZSIpO2Z1bmN0aW9uIE4oZSx0LG4pe2lmKGUmJm4pe2lmKGU9PT12LmQpe3ZhciBpPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMuIi5jb25jYXQodi5kLCIuY29udGV4dCIpLCJpbnN0cmVhbSIpO2lmKG5bIiIuY29uY2F0KHYuZCwiLSIpLmNvbmNhdChpKV0pcmV0dXJuIG5bIiIuY29uY2F0KHYuZCwiLSIpLmNvbmNhdChpKV19cmV0dXJuIG5bZV19fXZhciBrPWZ1bmN0aW9uKGUsdCl7dmFyIG49TihlLHQsdS5iLmdldENvbmZpZygibWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSIpKTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJm4/InN0cmluZyI9PXR5cGVvZiBuP246ImN1c3RvbSI6dS5iLmdldENvbmZpZygicHJpY2VHcmFudWxhcml0eSIpfSxQPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZT09PVQuR1JBTlVMQVJJVFlfT1BUSU9OUy5BVVRPP3QucGJBZzplPT09VC5HUkFOVUxBUklUWV9PUFRJT05TLkRFTlNFP3QucGJEZzplPT09VC5HUkFOVUxBUklUWV9PUFRJT05TLkxPVz90LnBiTGc6ZT09PVQuR1JBTlVMQVJJVFlfT1BUSU9OUy5NRURJVU0/dC5wYk1nOmU9PT1ULkdSQU5VTEFSSVRZX09QVElPTlMuSElHSD90LnBiSGc6ZT09PVQuR1JBTlVMQVJJVFlfT1BUSU9OUy5DVVNUT00/dC5wYkNnOnZvaWQgMH19O2Z1bmN0aW9uIHEoZSx0LG4pe2Z1bmN0aW9uIGkoZSx0KXtyZXR1cm57a2V5OmUsdmFsOiJmdW5jdGlvbiI9PXR5cGVvZiB0P2Z1bmN0aW9uKGUpe3JldHVybiB0KGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuZ2V0VmFsdWUpKGUsdCl9fX12YXIgbz1ULlRBUkdFVElOR19LRVlTLGE9ayhlLG4pLGM9dXBianMuYmlkZGVyU2V0dGluZ3M7aWYoY1tULkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXXx8KGNbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF09e30pLGNbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF1bVC5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXXx8KGNbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF1bVC5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXT1baShvLkJJRERFUiwiYmlkZGVyQ29kZSIpLGkoby5BRF9JRCwiYWRJZCIpLGkoby5QUklDRV9CVUNLRVQsUChhKSksaShvLlNJWkUsInNpemUiKSxpKG8uREVBTCwiZGVhbElkIiksaShvLlNPVVJDRSwic291cmNlIiksaShvLkZPUk1BVCwibWVkaWFUeXBlIiksaShvLkFET01BSU4sKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1ldGEmJmUubWV0YS5hZHZlcnRpc2VyRG9tYWlucyYmZS5tZXRhLmFkdmVydGlzZXJEb21haW5zLmxlbmd0aD4wP2UubWV0YS5hZHZlcnRpc2VyRG9tYWluc1swXToiIn0pKV0pLCJ2aWRlbyI9PT1lKXt2YXIgcz1jW1QuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdW1QuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR107aWYoW28uVVVJRCxvLkNBQ0hFX0lEXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2b2lkIDA9PT1sKCkocywoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5PT09ZX0pKSYmcy5wdXNoKGkoZSwidmlkZW9DYWNoZUtleSIpKX0pKSx1LmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSYmKCF0fHwhMSE9PVMuZGVlcEFjY2VzcyhjLCIiLmNvbmNhdCh0LCIuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nIikpKSl7dmFyIGQ9T2JqZWN0KHIucGFyc2VVcmwpKHUuYi5nZXRDb25maWcoImNhY2hlLnVybCIpKTt2b2lkIDA9PT1sKCkocywoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5PT09by5DQUNIRV9IT1NUfSkpJiZzLnB1c2goaShvLkNBQ0hFX0hPU1QsKGZ1bmN0aW9uKGUpe3JldHVybiBTLmRlZXBBY2Nlc3MoZSwiYWRzZXJ2ZXJUYXJnZXRpbmcuIi5jb25jYXQoby5DQUNIRV9IT1NUKSk/ZS5hZHNlcnZlclRhcmdldGluZ1tvLkNBQ0hFX0hPU1RdOmQuaG9zdG5hbWV9KSkpfX1yZXR1cm4gY1tULkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXX1mdW5jdGlvbiBNKGUsdCxuKXt2YXIgcj10W1QuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR107cmV0dXJuIG4uc2l6ZT1uLmdldFNpemUoKSxTLl9lYWNoKHIsKGZ1bmN0aW9uKHIpe3ZhciBpPXIua2V5LG89ci52YWw7aWYoZVtpXSYmUy5sb2dXYXJuKCJUaGUga2V5OiAiK2krIiBpcyBnZXR0aW5nIG92ZXdyaXR0ZW4iKSxTLmlzRm4obykpdHJ5e289byhuKX1jYXRjaChlKXtTLmxvZ0Vycm9yKCJiaWRtYW5hZ2VyIiwiRVJST1IiLGUpfSh2b2lkIDA9PT10LnN1cHByZXNzRW1wdHlLZXlzfHwhMCE9PXQuc3VwcHJlc3NFbXB0eUtleXMpJiZpIT09VC5UQVJHRVRJTkdfS0VZUy5ERUFMfHwhUy5pc0VtcHR5U3RyKG8pJiZudWxsIT1vP2VbaV09bzpTLmxvZ0luZm8oInN1cHByZXNzaW5nIGVtcHR5IGtleSAnIitpKyInIGZyb20gYWRzZXJ2ZXIgdGFyZ2V0aW5nIil9KSksZX1mdW5jdGlvbiBHKGUsdCl7cmV0dXJuIGVbdC5hZFVuaXRDb2RlXXx8KGVbdC5hZFVuaXRDb2RlXT17YmlkczpbXX0pLGVbdC5hZFVuaXRDb2RlXS5iaWRzLnB1c2godCksZX19LDI5OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19fSwzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBFfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gSX0pKTt2YXIgcj1uKDQ0KSxpPW4oMTEpLG89bi5uKGkpLGE9bigxMiksYz1uLm4oYSksdT1uKDg0KSxzPW4ubih1KSxkPW4oMCksZj1bImZwZCJdO2Z1bmN0aW9uIGwoZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLHIsaT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG4scixpPXt9LG89T2JqZWN0LmtleXMoZSk7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyluPW9bcl0sdC5pbmRleE9mKG4pPj0wfHwoaVtuXT1lW25dKTtyZXR1cm4gaX0oZSx0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2ZvcihyPTA7cjxvLmxlbmd0aDtyKyspbj1vW3JdLHQuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbikmJihpW25dPWVbbl0pfXJldHVybiBpfWZ1bmN0aW9uIHAoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIGcoZSl7cmV0dXJuKGc9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBiKCl7cmV0dXJuKGI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdj1uKDk2KSx5PW4oMCksaD1uKDUpLG09IlRSVUUiPT09eS5nZXRQYXJhbWV0ZXJCeU5hbWUoaC5ERUJVR19NT0RFKS50b1VwcGVyQ2FzZSgpLFM9d2luZG93LmxvY2F0aW9uLm9yaWdpbixFPSJyYW5kb20iLEE9e307QVtFXT0hMCxBLmZpeGVkPSEwO3ZhciBUPUUsTz17TE9XOiJsb3ciLE1FRElVTToibWVkaXVtIixISUdIOiJoaWdoIixBVVRPOiJhdXRvIixERU5TRToiZGVuc2UiLENVU1RPTToiY3VzdG9tIn07dmFyIEk9ZnVuY3Rpb24oKXt2YXIgZSx0LG4saT1bXSxhPW51bGw7ZnVuY3Rpb24gdSgpe2U9e307dmFyIGk9e19kZWJ1ZzptLGdldCBkZWJ1Zygpe3JldHVybiB0aGlzLl9kZWJ1Z30sc2V0IGRlYnVnKGUpe3RoaXMuX2RlYnVnPWV9LF9iaWRkZXJUaW1lb3V0OjNlMyxnZXQgYmlkZGVyVGltZW91dCgpe3JldHVybiB0aGlzLl9iaWRkZXJUaW1lb3V0fSxzZXQgYmlkZGVyVGltZW91dChlKXt0aGlzLl9iaWRkZXJUaW1lb3V0PWV9LF9wdWJsaXNoZXJEb21haW46UyxnZXQgcHVibGlzaGVyRG9tYWluKCl7cmV0dXJuIHRoaXMuX3B1Ymxpc2hlckRvbWFpbn0sc2V0IHB1Ymxpc2hlckRvbWFpbihlKXt0aGlzLl9wdWJsaXNoZXJEb21haW49ZX0sX3ByaWNlR3JhbnVsYXJpdHk6Ty5NRURJVU0sc2V0IHByaWNlR3JhbnVsYXJpdHkoZSl7YyhlKSYmKCJzdHJpbmciPT10eXBlb2YgZT90aGlzLl9wcmljZUdyYW51bGFyaXR5PWEoZSk/ZTpPLk1FRElVTTp5LmlzUGxhaW5PYmplY3QoZSkmJih0aGlzLl9jdXN0b21QcmljZUJ1Y2tldD1lLHRoaXMuX3ByaWNlR3JhbnVsYXJpdHk9Ty5DVVNUT00seS5sb2dNZXNzYWdlKCJVc2luZyBjdXN0b20gcHJpY2UgZ3JhbnVsYXJpdHkiKSkpfSxnZXQgcHJpY2VHcmFudWxhcml0eSgpe3JldHVybiB0aGlzLl9wcmljZUdyYW51bGFyaXR5fSxfY3VzdG9tUHJpY2VCdWNrZXQ6e30sZ2V0IGN1c3RvbVByaWNlQnVja2V0KCl7cmV0dXJuIHRoaXMuX2N1c3RvbVByaWNlQnVja2V0fSxfbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eTp7fSxnZXQgbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSgpe3JldHVybiB0aGlzLl9tZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5fSxzZXQgbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eShlKXt2YXIgdD10aGlzO3RoaXMuX21lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHk9T2JqZWN0LmtleXMoZSkucmVkdWNlKChmdW5jdGlvbihuLHIpe3JldHVybiBjKGVbcl0pPyJzdHJpbmciPT10eXBlb2YgZT9uW3JdPWEoZVtyXSk/ZVtyXTp0Ll9wcmljZUdyYW51bGFyaXR5OnkuaXNQbGFpbk9iamVjdChlKSYmKG5bcl09ZVtyXSx5LmxvZ01lc3NhZ2UoIlVzaW5nIGN1c3RvbSBwcmljZSBncmFudWxhcml0eSBmb3IgIi5jb25jYXQocikpKTp5LmxvZ1dhcm4oIkludmFsaWQgcHJpY2UgZ3JhbnVsYXJpdHkgZm9yIG1lZGlhIHR5cGU6ICIuY29uY2F0KHIpKSxufSkse30pfSxfc2VuZEFsbEJpZHM6dHJ1ZSxnZXQgZW5hYmxlU2VuZEFsbEJpZHMoKXtyZXR1cm4gdGhpcy5fc2VuZEFsbEJpZHN9LHNldCBlbmFibGVTZW5kQWxsQmlkcyhlKXt0aGlzLl9zZW5kQWxsQmlkcz1lfSxfdXNlQmlkQ2FjaGU6ZmFsc2UsZ2V0IHVzZUJpZENhY2hlKCl7cmV0dXJuIHRoaXMuX3VzZUJpZENhY2hlfSxzZXQgdXNlQmlkQ2FjaGUoZSl7dGhpcy5fdXNlQmlkQ2FjaGU9ZX0sX2RldmljZUFjY2Vzczp0cnVlLGdldCBkZXZpY2VBY2Nlc3MoKXtyZXR1cm4gdGhpcy5fZGV2aWNlQWNjZXNzfSxzZXQgZGV2aWNlQWNjZXNzKGUpe3RoaXMuX2RldmljZUFjY2Vzcz1lfSxfYmlkZGVyU2VxdWVuY2U6VCxnZXQgYmlkZGVyU2VxdWVuY2UoKXtyZXR1cm4gdGhpcy5fYmlkZGVyU2VxdWVuY2V9LHNldCBiaWRkZXJTZXF1ZW5jZShlKXtBW2VdP3RoaXMuX2JpZGRlclNlcXVlbmNlPWU6eS5sb2dXYXJuKCJJbnZhbGlkIG9yZGVyOiAiLmNvbmNhdChlLCIuIEJpZGRlciBTZXF1ZW5jZSB3YXMgbm90IHNldC4iKSl9LF90aW1lb3V0QnVmZmVyOjQwMCxnZXQgdGltZW91dEJ1ZmZlcigpe3JldHVybiB0aGlzLl90aW1lb3V0QnVmZmVyfSxzZXQgdGltZW91dEJ1ZmZlcihlKXt0aGlzLl90aW1lb3V0QnVmZmVyPWV9LF9kaXNhYmxlQWpheFRpbWVvdXQ6ZmFsc2UsZ2V0IGRpc2FibGVBamF4VGltZW91dCgpe3JldHVybiB0aGlzLl9kaXNhYmxlQWpheFRpbWVvdXR9LHNldCBkaXNhYmxlQWpheFRpbWVvdXQoZSl7dGhpcy5fZGlzYWJsZUFqYXhUaW1lb3V0PWV9LF9tYXhOZXN0ZWRJZnJhbWVzOjEwLGdldCBtYXhOZXN0ZWRJZnJhbWVzKCl7cmV0dXJuIHRoaXMuX21heE5lc3RlZElmcmFtZXN9LHNldCBtYXhOZXN0ZWRJZnJhbWVzKGUpe3RoaXMuX21heE5lc3RlZElmcmFtZXM9ZX0sX2F1Y3Rpb25PcHRpb25zOnt9LGdldCBhdWN0aW9uT3B0aW9ucygpe3JldHVybiB0aGlzLl9hdWN0aW9uT3B0aW9uc30sc2V0IGF1Y3Rpb25PcHRpb25zKGUpeyhmdW5jdGlvbihlKXtpZigheS5pc1BsYWluT2JqZWN0KGUpKXJldHVybiB5LmxvZ1dhcm4oIkF1Y3Rpb24gT3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpLCExO2Zvcih2YXIgdD0wLG49T2JqZWN0LmtleXMoZSk7dDxuLmxlbmd0aDt0Kyspe3ZhciByPW5bdF07aWYoInNlY29uZGFyeUJpZGRlcnMiIT09ciYmInN1cHByZXNzU3RhbGVSZW5kZXIiIT09cilyZXR1cm4geS5sb2dXYXJuKCJBdWN0aW9uIE9wdGlvbnMgZ2l2ZW4gYW4gaW5jb3JyZWN0IHBhcmFtOiAiLmNvbmNhdChyKSksITE7aWYoInNlY29uZGFyeUJpZGRlcnMiPT09cil7aWYoIXkuaXNBcnJheShlW3JdKSlyZXR1cm4geS5sb2dXYXJuKCJBdWN0aW9uIE9wdGlvbnMgIi5jb25jYXQociwiIG11c3QgYmUgb2YgdHlwZSBBcnJheSIpKSwhMTtpZighZVtyXS5ldmVyeSh5LmlzU3RyKSlyZXR1cm4geS5sb2dXYXJuKCJBdWN0aW9uIE9wdGlvbnMgIi5jb25jYXQociwiIG11c3QgYmUgb25seSBzdHJpbmciKSksITF9ZWxzZSBpZigic3VwcHJlc3NTdGFsZVJlbmRlciI9PT1yJiYheS5pc0Jvb2xlYW4oZVtyXSkpcmV0dXJuIHkubG9nV2FybigiQXVjdGlvbiBPcHRpb25zICIuY29uY2F0KHIsIiBtdXN0IGJlIG9mIHR5cGUgYm9vbGVhbiIpKSwhMX1yZXR1cm4hMH0pKGUpJiYodGhpcy5fYXVjdGlvbk9wdGlvbnM9ZSl9fTtmdW5jdGlvbiBhKGUpe3JldHVybiBvKCkoT2JqZWN0LmtleXMoTyksKGZ1bmN0aW9uKHQpe3JldHVybiBlPT09T1t0XX0pKX1mdW5jdGlvbiBjKGUpe2lmKCFlKXJldHVybiB5LmxvZ0Vycm9yKCJQcmViaWQgRXJyb3I6IG5vIHZhbHVlIHBhc3NlZCB0byBgc2V0UHJpY2VHcmFudWxhcml0eSgpYCIpLCExO2lmKCJzdHJpbmciPT10eXBlb2YgZSlhKGUpfHx5LmxvZ1dhcm4oIlByZWJpZCBXYXJuaW5nOiBzZXRQcmljZUdyYW51bGFyaXR5IHdhcyBjYWxsZWQgd2l0aCBpbnZhbGlkIHNldHRpbmcsIHVzaW5nIGBtZWRpdW1gIGFzIGRlZmF1bHQuIik7ZWxzZSBpZih5LmlzUGxhaW5PYmplY3QoZSkmJiFPYmplY3Qoci5iKShlKSlyZXR1cm4geS5sb2dFcnJvcigiSW52YWxpZCBjdXN0b20gcHJpY2UgdmFsdWUgcGFzc2VkIHRvIGBzZXRQcmljZUdyYW51bGFyaXR5KClgIiksITE7cmV0dXJuITB9dCYmQyhPYmplY3Qua2V5cyh0KS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHRbbl0hPT1pW25dJiYoZVtuXT1pW25dfHx7fSksZX0pLHt9KSksdD1pLG49e319ZnVuY3Rpb24gaCgpe2lmKGEmJm4mJnkuaXNQbGFpbk9iamVjdChuW2FdKSl7dmFyIGU9blthXSxyPW5ldyBzLmEoT2JqZWN0LmtleXModCkuY29uY2F0KE9iamVjdC5rZXlzKGUpKSk7cmV0dXJuIHYocikucmVkdWNlKChmdW5jdGlvbihuLHIpe3JldHVybiB2b2lkIDA9PT1lW3JdP25bcl09dFtyXTp2b2lkIDA9PT10W3JdP25bcl09ZVtyXTp5LmlzUGxhaW5PYmplY3QoZVtyXSk/bltyXT1PYmplY3QoZC5tZXJnZURlZXApKHt9LHRbcl0sZVtyXSk6bltyXT1lW3JdLG59KSx7fSl9cmV0dXJuIGIoe30sdCl9ZnVuY3Rpb24gRShlKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9ImNvbnRleHQiPT09bj8ic2l0ZSI6bjt0W3JdPSJzaXRlIj09PXJ8fCJ1c2VyIj09PXI/T2JqZWN0LmtleXMoZVtuXSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3JldHVybiJkYXRhIj09PXI/eS5tZXJnZURlZXAodCx7ZXh0OntkYXRhOmVbbl1bcl19fSk6eS5tZXJnZURlZXAodCxwKHt9LHIsZVtuXVtyXSkpLHR9KSx7fSk6ZVtuXX0pKSx0fWZ1bmN0aW9uIEkoZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImNvbnRleHQiPT09ZX0pKS5mb3JFYWNoKChmdW5jdGlvbihuKXtPYmplY3Qua2V5cyhlW25dKS5mb3JFYWNoKChmdW5jdGlvbihyKXsiZGF0YSI9PT1yP3kubWVyZ2VEZWVwKHQse2V4dDp7ZGF0YTplW25dW3JdfX0pOiJvYmplY3QiIT09ZyhlW25dW3JdKXx8QXJyYXkuaXNBcnJheShlW25dW3JdKT95Lm1lcmdlRGVlcCh0LHtleHQ6e2RhdGE6cCh7fSxyLnRvTG93ZXJDYXNlKCksZVtuXVtyXSl9fSk6T2JqZWN0LmtleXMoZVtuXVtyXSkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7eS5tZXJnZURlZXAodCx7ZXh0OntkYXRhOnAoe30sci50b0xvd2VyQ2FzZSgpLHAoe30saS50b0xvd2VyQ2FzZSgpLGVbbl1bcl1baV0pKX19KX0pKX0pKX0pKSx0fWZ1bmN0aW9uIHcoZSx0KXt2YXIgbj10O2lmKCJzdHJpbmciIT10eXBlb2YgZSYmKG49ZSxlPSIqIiksImZ1bmN0aW9uIj09dHlwZW9mIG4pe3ZhciByPXt0b3BpYzplLGNhbGxiYWNrOm59O3JldHVybiBpLnB1c2gociksZnVuY3Rpb24oKXtpLnNwbGljZShpLmluZGV4T2YociksMSl9fXkubG9nRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIEMoZSl7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBjKCkodCxlLnRvcGljKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmNhbGxiYWNrKHAoe30sdC50b3BpYyxlW3QudG9waWNdKSl9KSksaS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiIqIj09PWUudG9waWN9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2FsbGJhY2soZSl9KSl9ZnVuY3Rpb24gaihlLHQpe2E9ZTt0cnl7cmV0dXJuIHQoKX1maW5hbGx5e18oKX19ZnVuY3Rpb24gXygpe2E9bnVsbH1yZXR1cm4gdSgpLHtnZXRDdXJyZW50QmlkZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LHJlc2V0QmlkZGVyOl8sZ2V0Q29uZmlnOmZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzLmxlbmd0aDw9MSYmImZ1bmN0aW9uIiE9dHlwZW9mKGFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXSkpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXTtyZXR1cm4gZT95LmRlZXBBY2Nlc3MoaCgpLGUpOmgoKX1yZXR1cm4gdy5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX0sc2V0Q29uZmlnOmZ1bmN0aW9uKG4pe2lmKHkuaXNQbGFpbk9iamVjdChuKSl7dmFyIHI9T2JqZWN0LmtleXMobiksaT17fTtyLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBvPSJmcGQiPT09cj8ib3J0YjIiOnIsYT0iZnBkIj09PXI/RShuW3JdKTpuW3JdO3kuaXNQbGFpbk9iamVjdChlW29dKSYmeS5pc1BsYWluT2JqZWN0KGEpJiYoYT1iKHt9LGVbb10sYSkpLGlbb109dFtvXT1hfSkpLEMoaSl9ZWxzZSB5LmxvZ0Vycm9yKCJzZXRDb25maWcgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpfSxzZXREZWZhdWx0czpmdW5jdGlvbihuKXt5LmlzUGxhaW5PYmplY3QoZSk/KGIoZSxuKSxiKHQsbikpOnkubG9nRXJyb3IoImRlZmF1bHRzIG11c3QgYmUgYW4gb2JqZWN0Iil9LHJlc2V0Q29uZmlnOnUscnVuV2l0aEJpZGRlcjpqLGNhbGxiYWNrV2l0aEJpZGRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpe2Zvcih2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkociksbz0wO288cjtvKyspaVtvXT1hcmd1bWVudHNbb107cmV0dXJuIGooZSwobj15LmJpbmQpLmNhbGwuYXBwbHkobixbdCx0aGlzXS5jb25jYXQoaSkpKX15LmxvZ1dhcm4oImNvbmZpZy5jYWxsYmFja1dpdGhCaWRkZXIgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24iKX19fSxzZXRCaWRkZXJDb25maWc6ZnVuY3Rpb24oZSl7dHJ5eyFmdW5jdGlvbihlKXtpZigheS5pc1BsYWluT2JqZWN0KGUpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCI7aWYoIUFycmF5LmlzQXJyYXkoZS5iaWRkZXJzKXx8IWUuYmlkZGVycy5sZW5ndGgpdGhyb3cic2V0QmlkZGVyQ29uZmlnIGJpZGRlciBvcHRpb25zIG11c3QgY29udGFpbiBhIGJpZGRlcnMgbGlzdCB3aXRoIGF0IGxlYXN0IDEgYmlkZGVyIjtpZigheS5pc1BsYWluT2JqZWN0KGUuY29uZmlnKSl0aHJvdyJzZXRCaWRkZXJDb25maWcgYmlkZGVyIG9wdGlvbnMgbXVzdCBjb250YWluIGEgY29uZmlnIG9iamVjdCJ9KGUpLGUuYmlkZGVycy5mb3JFYWNoKChmdW5jdGlvbih0KXtuW3RdfHwoblt0XT17fSksT2JqZWN0LmtleXMoZS5jb25maWcpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBpPSJmcGQiPT09cj8ib3J0YjIiOnIsbz0iZnBkIj09PXI/RShlLmNvbmZpZ1tyXSk6ZS5jb25maWdbcl07eS5pc1BsYWluT2JqZWN0KG8pP25bdF1baV09Yih7fSxuW3RdW2ldfHx7fSxvKTpuW3RdW2ldPW99KSl9KSl9Y2F0Y2goZSl7eS5sb2dFcnJvcihlKX19LGdldEJpZGRlckNvbmZpZzpmdW5jdGlvbigpe3JldHVybiBufSxjb252ZXJ0QWRVbml0RnBkOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZnBkPyhlLm9ydGIySW1wP3kubWVyZ2VEZWVwKGUub3J0YjJJbXAsSShlLmZwZCkpOmUub3J0YjJJbXA9SShlLmZwZCksdC5wdXNoKGZ1bmN0aW9uKGUpe2UuZnBkO3JldHVybiBsKGUsZil9KGUpKSk6dC5wdXNoKGUpfSkpLHR9LGdldExlZ2FjeUZwZDpmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09PWcoZSkpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj0ic2l0ZSI9PT1uPyJjb250ZXh0IjpuO3Rbcl09ImNvbnRleHQiPT09cnx8InVzZXIiPT09cj9PYmplY3Qua2V5cyhlW25dKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJkYXRhIiE9PWV9KSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3JldHVybiJleHQiPT09cj95Lm1lcmdlRGVlcCh0LGVbbl1bcl0pOnkubWVyZ2VEZWVwKHQscCh7fSxyLGVbbl1bcl0pKSx0fSkse30pOmVbbl19KSksdH19LGdldExlZ2FjeUltcEZwZDpmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09PWcoZSkpe3ZhciB0PXt9O3JldHVybiB5LmRlZXBBY2Nlc3MoZSwiZXh0LmRhdGEiKSYmT2JqZWN0LmtleXMoZS5leHQuZGF0YSkuZm9yRWFjaCgoZnVuY3Rpb24obil7InBiYWRzbG90Ij09PW4/eS5tZXJnZURlZXAodCx7Y29udGV4dDp7cGJBZFNsb3Q6ZS5leHQuZGF0YVtuXX19KToiYWRzZXJ2ZXIiPT09bj95Lm1lcmdlRGVlcCh0LHtjb250ZXh0OnthZFNlcnZlcjplLmV4dC5kYXRhW25dfX0pOnkubWVyZ2VEZWVwKHQse2NvbnRleHQ6e2RhdGE6cCh7fSxuLGUuZXh0LmRhdGFbbl0pfX0pfSkpLHR9fX19KCl9LDMwOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LDMxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDQ5KSxpPXt9Lmhhc093blByb3BlcnR5O2UuZXhwb3J0cz1PYmplY3QuaGFzT3dufHxmdW5jdGlvbihlLHQpe3JldHVybiBpLmNhbGwocihlKSx0KX19LDMyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oMzQpLG89big0NSk7ZS5leHBvcnRzPXI/ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBpLmYoZSx0LG8oMSxuKSl9OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1uLGV9fSwzMzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSk7ZS5leHBvcnRzPSFyKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV19KSl9LDM0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oNzkpLG89bigxNiksYT1uKDU4KSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt0LmY9cj9jOmZ1bmN0aW9uKGUsdCxuKXtpZihvKGUpLHQ9YSh0LCEwKSxvKG4pLGkpdHJ5e3JldHVybiBjKGUsdCxuKX1jYXRjaChlKXt9aWYoImdldCJpbiBufHwic2V0ImluIG4pdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCIpO3JldHVybiJ2YWx1ZSJpbiBuJiYoZVt0XT1uLnZhbHVlKSxlfX0sMzQ3OmZ1bmN0aW9uKGUsdCxuKXtuKDM0OCk7dmFyIHI9big1Myk7ZS5leHBvcnRzPXIoIlN0cmluZyIsImluY2x1ZGVzIil9LDM0ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigzNDkpLG89big0OCk7cih7dGFyZ2V0OiJTdHJpbmciLHByb3RvOiEwLGZvcmNlZDohbigzNTEpKCJpbmNsdWRlcyIpfSx7aW5jbHVkZXM6ZnVuY3Rpb24oZSl7cmV0dXJuISF+U3RyaW5nKG8odGhpcykpLmluZGV4T2YoaShlKSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSl9LDM0OTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzNTApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihyKGUpKXRocm93IFR5cGVFcnJvcigiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zIik7cmV0dXJuIGV9fSwzNTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNyksaT1uKDk1KTtlLmV4cG9ydHM9cj9pOmZ1bmN0aW9uKGUpe3JldHVybiBTZXQucHJvdG90eXBlLnZhbHVlcy5jYWxsKGUpfX0sMzUwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKSxpPW4oNDcpLG89bigyNCkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiByKGUpJiYodm9pZCAwIT09KHQ9ZVtvXSk/ISF0OiJSZWdFeHAiPT1pKGUpKX19LDM1MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNCkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PS8uLzt0cnl7Ii8uLyJbZV0odCl9Y2F0Y2gobil7dHJ5e3JldHVybiB0W3JdPSExLCIvLi8iW2VdKHQpfWNhdGNoKGUpe319cmV0dXJuITF9fSwzNjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJmIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSksdC5oPWZ1bmN0aW9uKGUpe2lmKGUmJmUudHlwZSYmZnVuY3Rpb24oZSl7aWYoIWV8fCFvKCkoT2JqZWN0LmtleXMocCksZSkpcmV0dXJuIE9iamVjdChyLmxvZ0Vycm9yKSgiIi5jb25jYXQoZSwiIG5hdGl2ZVBhcmFtIGlzIG5vdCBzdXBwb3J0ZWQiKSksITE7cmV0dXJuITB9KGUudHlwZSkpcmV0dXJuIHBbZS50eXBlXTtyZXR1cm4gZX0sdC5nPWZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0KHIuZ2V0QmlkUmVxdWVzdCkoZS5yZXF1ZXN0SWQsdCk7aWYoIW4pcmV0dXJuITE7aWYoIU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm5hdGl2ZS5jbGlja1VybCIpKXJldHVybiExO3ZhciBpPW4ubmF0aXZlUGFyYW1zO2lmKCFpKXJldHVybiEwO3ZhciBhPU9iamVjdC5rZXlzKGkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV0ucmVxdWlyZWR9KSksYz1PYmplY3Qua2V5cyhlLm5hdGl2ZSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZS5uYXRpdmVbdF19KSk7cmV0dXJuIGEuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBvKCkoYyxlKX0pKX0sdC5iPWZ1bmN0aW9uKGUsdCl7dmFyIG47ImNsaWNrIj09PWUuYWN0aW9uP249dC5uYXRpdmUmJnQubmF0aXZlLmNsaWNrVHJhY2tlcnM6KG49dC5uYXRpdmUmJnQubmF0aXZlLmltcHJlc3Npb25UcmFja2Vycyx0Lm5hdGl2ZSYmdC5uYXRpdmUuamF2YXNjcmlwdFRyYWNrZXJzJiZPYmplY3Qoci5pbnNlcnRIdG1sSW50b0lmcmFtZSkodC5uYXRpdmUuamF2YXNjcmlwdFRyYWNrZXJzKSk7cmV0dXJuKG58fFtdKS5mb3JFYWNoKHIudHJpZ2dlclBpeGVsKSxlLmFjdGlvbn0sdC5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49e307T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLnJlbmRlcmVyVXJsIik/ZS5uYXRpdmUucmVuZGVyZXJVcmw9Zyh0Lm5hdGl2ZVBhcmFtcy5yZW5kZXJlclVybCk6T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLmFkVGVtcGxhdGUiKSYmKGUubmF0aXZlLmFkVGVtcGxhdGU9Zyh0Lm5hdGl2ZVBhcmFtcy5hZFRlbXBsYXRlKSk7dmFyIGk9ITEhPT1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuc2VuZFRhcmdldGluZ0tleXMiKSxvPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O09iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm5hdGl2ZVBhcmFtcy5leHQiKSYmT2JqZWN0LmtleXMoZS5uYXRpdmVQYXJhbXMuZXh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdPSJoYl9uYXRpdmVfIi5jb25jYXQoZSl9KSk7cmV0dXJuIHUodSh7fSxkLk5BVElWRV9LRVlTKSx0KX0odCksYT11KHUoe30sZS5uYXRpdmUpLGUubmF0aXZlLmV4dCk7cmV0dXJuIGRlbGV0ZSBhLmV4dCxPYmplY3Qua2V5cyhhKS5mb3JFYWNoKChmdW5jdGlvbihhKXt2YXIgYz1vW2FdLHU9ZyhlLm5hdGl2ZVthXSl8fGcoT2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibmF0aXZlLmV4dC4iLmNvbmNhdChhKSkpO2lmKCJhZFRlbXBsYXRlIiE9PWEmJmMmJnUpe3ZhciBzPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy4iLmNvbmNhdChhLCIuc2VuZElkIikpO2lmKCJib29sZWFuIiE9dHlwZW9mIHMmJihzPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5leHQuIi5jb25jYXQoYSwiLnNlbmRJZCIpKSkscyl1PSIiLmNvbmNhdChjLCI6IikuY29uY2F0KGUuYWRJZCk7dmFyIGQ9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLiIuY29uY2F0KGEsIi5zZW5kVGFyZ2V0aW5nS2V5cyIpKTsiYm9vbGVhbiIhPXR5cGVvZiBkJiYoZD1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuZXh0LiIuY29uY2F0KGEsIi5zZW5kVGFyZ2V0aW5nS2V5cyIpKSksKCJib29sZWFuIj09dHlwZW9mIGQ/ZDppKSYmKG5bY109dSl9fSkpLG59LHQuZD1mdW5jdGlvbihlLHQpe3ZhciBuPXttZXNzYWdlOiJhc3NldFJlc3BvbnNlIixhZElkOmUuYWRJZCxhc3NldHM6W119O3QubmF0aXZlLmhhc093blByb3BlcnR5KCJhZFRlbXBsYXRlIikmJihuLmFkVGVtcGxhdGU9Zyh0Lm5hdGl2ZS5hZFRlbXBsYXRlKSk7dC5uYXRpdmUuaGFzT3duUHJvcGVydHkoInJlbmRlcmVyVXJsIikmJihuLnJlbmRlcmVyVXJsPWcodC5uYXRpdmUucmVuZGVyZXJVcmwpKTtyZXR1cm4gZS5hc3NldHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9T2JqZWN0KHIuZ2V0S2V5QnlWYWx1ZSkoZC5OQVRJVkVfS0VZUyxlKSxvPWcodC5uYXRpdmVbaV0pO24uYXNzZXRzLnB1c2goe2tleTppLHZhbHVlOm99KX0pKSxufSx0LmM9ZnVuY3Rpb24oZSx0KXt2YXIgbj17bWVzc2FnZToiYXNzZXRSZXNwb25zZSIsYWRJZDplLmFkSWQsYXNzZXRzOltdfTtyZXR1cm4gT2JqZWN0LmtleXModC5uYXRpdmUpLmZvckVhY2goKGZ1bmN0aW9uKGUscil7aWYoImFkVGVtcGxhdGUiPT09ZSYmdC5uYXRpdmVbZV0pbi5hZFRlbXBsYXRlPWcodC5uYXRpdmVbZV0pO2Vsc2UgaWYoInJlbmRlcmVyVXJsIj09PWUmJnQubmF0aXZlW2VdKW4ucmVuZGVyZXJVcmw9Zyh0Lm5hdGl2ZVtlXSk7ZWxzZSBpZigiZXh0Ij09PWUpT2JqZWN0LmtleXModC5uYXRpdmVbZV0pLmZvckVhY2goKGZ1bmN0aW9uKHIpe2lmKHQubmF0aXZlW2VdW3JdKXt2YXIgaT1nKHQubmF0aXZlW2VdW3JdKTtuLmFzc2V0cy5wdXNoKHtrZXk6cix2YWx1ZTppfSl9fSkpO2Vsc2UgaWYodC5uYXRpdmVbZV0mJmQuTkFUSVZFX0tFWVMuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBpPWcodC5uYXRpdmVbZV0pO24uYXNzZXRzLnB1c2goe2tleTplLHZhbHVlOml9KX19KSksbn07dmFyIHI9bigwKSxpPW4oMTIpLG89bi5uKGkpO2Z1bmN0aW9uIGEoZSl7cmV0dXJuKGE9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBjKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiB1KGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2MoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtzKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpjKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHMoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfXZhciBkPW4oNSksZj1bXSxsPU9iamVjdC5rZXlzKGQuTkFUSVZFX0tFWVMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGQuTkFUSVZFX0tFWVNbZV19KSkscD17aW1hZ2U6e2ltYWdlOntyZXF1aXJlZDohMH0sdGl0bGU6e3JlcXVpcmVkOiEwfSxzcG9uc29yZWRCeTp7cmVxdWlyZWQ6ITB9LGNsaWNrVXJsOntyZXF1aXJlZDohMH0sYm9keTp7cmVxdWlyZWQ6ITF9LGljb246e3JlcXVpcmVkOiExfX19O2Z1bmN0aW9uIGcoZSl7cmV0dXJuIm9iamVjdCI9PT1hKGUpJiZlLnVybD9lLnVybDplfX0sMzc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0LG4pe2lmKCF0fHwhZSlyZXR1cm4gdm9pZCBvLmxvZ0Vycm9yKCJjYW5ub3QgbG9hZCBleHRlcm5hbCBzY3JpcHQgd2l0aG91dCB1cmwgYW5kIG1vZHVsZUNvZGUiKTtpZihlPWEuYyhlKSwhaSgpKHUsdCkpcmV0dXJuIHZvaWQgby5sb2dFcnJvcigiIi5jb25jYXQodCwiIG5vdCB3aGl0ZWxpc3RlZCBmb3IgbG9hZGluZyBleHRlcm5hbCBKYXZhU2NyaXB0IikpO2lmKGNbZV0pcmV0dXJuIG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYoY1tlXS5sb2FkZWQ/bigpOmNbZV0uY2FsbGJhY2tzLnB1c2gobikpLGNbZV0udGFnO2NbZV09e2xvYWRlZDohMSx0YWc6bnVsbCxjYWxsYmFja3M6W119LG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiZjW2VdLmNhbGxiYWNrcy5wdXNoKG4pO3JldHVybiBvLmxvZ1dhcm4oIm1vZHVsZSAiLmNvbmNhdCh0LCIgaXMgbG9hZGluZyBleHRlcm5hbCBKYXZhU2NyaXB0IikpLGZ1bmN0aW9uKHQsbil7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7ci50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLHIuYXN5bmM9ITAsY1tlXS50YWc9cixyLnJlYWR5U3RhdGU/ci5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXsibG9hZGVkIiE9PXIucmVhZHlTdGF0ZSYmImNvbXBsZXRlIiE9PXIucmVhZHlTdGF0ZXx8KHIub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsbigpKX06ci5vbmxvYWQ9ZnVuY3Rpb24oKXtuKCl9O3JldHVybiByLnNyYz10LG8uaW5zZXJ0RWxlbWVudChyKSxyfShlLChmdW5jdGlvbigpe2NbZV0ubG9hZGVkPSEwO3RyeXtmb3IodmFyIHQ9MDt0PGNbZV0uY2FsbGJhY2tzLmxlbmd0aDt0KyspY1tlXS5jYWxsYmFja3NbdF0oKX1jYXRjaChlKXtvLmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgY2FsbGJhY2siLCJhZGxvYWRlci5qczpsb2FkRXh0ZXJuYWxTY3JpcHQiLGUpfX0pKX07dmFyIHI9bigxMiksaT1uLm4ociksbz1uKDApLGE9big0MyksYz17fSx1PVsiYWRsb294IiwiY3JpdGVvIiwib3V0c3RyZWFtIiwiYWRhZ2lvIiwiYnJvd3NpIl19LDM4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBBfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSx0LmM9TyxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSk7dmFyIHI9bigwKSxpPW4oMyksbz1uKDM2KSxhPW4oMjMpLGM9big5NyksdT1uKDIpLHM9bigxMCksZD1uKDEyKSxmPW4ubihkKSxsPW4oMTEpLHA9bi5uKGwpO2Z1bmN0aW9uIGcoKXtyZXR1cm4oZz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGIoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHkoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHkoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHkoZSx0KX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciBoPW4oMCksbT1uKDUpLFM9W10sRT1PYmplY3Qua2V5cyhtLlRBUkdFVElOR19LRVlTKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBtLlRBUkdFVElOR19LRVlTW2VdfSkpLEE9e2lzQmlkTm90RXhwaXJlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXNwb25zZVRpbWVzdGFtcCsxZTMqZS50dGwtMWUzPk9iamVjdChyLnRpbWVzdGFtcCkoKX0saXNVbnVzZWRCaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJihlLnN0YXR1cyYmIWYoKShbbS5CSURfU1RBVFVTLlJFTkRFUkVEXSxlLnN0YXR1cyl8fCFlLnN0YXR1cyl9fSxUPU9iamVjdChzLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107aWYoIW8pe3ZhciBhPVtdLGM9aS5iLmdldENvbmZpZygic2VuZEJpZHNDb250cm9sLmRlYWxQcmlvcml0aXphdGlvbiIpLHU9T2JqZWN0KHIuZ3JvdXBCeSkoZSwiYWRVbml0Q29kZSIpO3JldHVybiBPYmplY3Qua2V5cyh1KS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1bXSxvPU9iamVjdChyLmdyb3VwQnkpKHVbZV0sImJpZGRlckNvZGUiKTtPYmplY3Qua2V5cyhvKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gaS5wdXNoKG9bZV0ucmVkdWNlKHQpKX0pKSxuPjA/KGk9Yz9pLnNvcnQoTyghMCkpOmkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jcG0tZS5jcG19KSksYS5wdXNoLmFwcGx5KGEsdihpLnNsaWNlKDAsbikpKSk6YS5wdXNoLmFwcGx5KGEsdihpKSl9KSksYX1yZXR1cm4gZX0pKTtmdW5jdGlvbiBPKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwIT09dC5hZHNlcnZlclRhcmdldGluZy5oYl9kZWFsJiZ2b2lkIDA9PT1uLmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWw/LTE6dm9pZCAwPT09dC5hZHNlcnZlclRhcmdldGluZy5oYl9kZWFsJiZ2b2lkIDAhPT1uLmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWw/MTplP24uY3BtLXQuY3BtOm4uYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfcGItdC5hZHNlcnZlclRhcmdldGluZy5oYl9wYn19dmFyIEk9ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj17fTtmdW5jdGlvbiBhKGUsdCl7cmV0dXJuIGUuYWRzZXJ2ZXJUYXJnZXRpbmcmJnQmJihoLmlzQXJyYXkodCkmJmYoKSh0LGUuYWRVbml0Q29kZSl8fCJzdHJpbmciPT10eXBlb2YgdCYmZS5hZFVuaXRDb2RlPT09dCl9ZnVuY3Rpb24gcyhlLHQpe2lmKCEwPT09aS5iLmdldENvbmZpZygidGFyZ2V0aW5nQ29udHJvbHMuYWx3YXlzSW5jbHVkZURlYWxzIikpe3ZhciBuPUUuY29uY2F0KG8uYSk7cmV0dXJuIFQodCxyLmdldEhpZ2hlc3RDcG0pLm1hcCgoZnVuY3Rpb24odCl7aWYodC5kZWFsSWQmJmEodCxlKSlyZXR1cm4gYih7fSx0LmFkVW5pdENvZGUsRCh0LG4uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dC5hZHNlcnZlclRhcmdldGluZ1tlXX0pKSkpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9cmV0dXJuW119ZnVuY3Rpb24gZChlLHQpe3ZhciBuPWcoe30sbS5UQVJHRVRJTkdfS0VZUyxtLk5BVElWRV9LRVlTKSxpPU9iamVjdC5rZXlzKG4pLG89e307T2JqZWN0KHIubG9nSW5mbykoImFsbG93VGFyZ2V0aW5nS2V5cyAtIGFsbG93ZWQga2V5cyBbICIuY29uY2F0KHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbltlXX0pKS5qb2luKCIsICIpLCIgXSIpKSxlLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0LmtleXMoZSlbMF0sYT1lW3JdLmZpbHRlcigoZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0LmtleXMoZSlbMF0sYT0wPT09aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAwPT09ci5pbmRleE9mKG5bZV0pfSkpLmxlbmd0aHx8cCgpKHQsKGZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07cmV0dXJuIDA9PT1yLmluZGV4T2YodCl9KSk7cmV0dXJuIG9bcl09IWEsYX0pKTtlW3JdPWF9KSk7dmFyIGE9T2JqZWN0LmtleXMobykuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gb1tlXX0pKTtyZXR1cm4gT2JqZWN0KHIubG9nSW5mbykoImFsbG93VGFyZ2V0aW5nS2V5cyAtIHJlbW92ZWQga2V5cyBbICIuY29uY2F0KGEuam9pbigiLCAiKSwiIF0iKSksZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlW09iamVjdC5rZXlzKGUpWzBdXS5sZW5ndGg+MH0pKX1mdW5jdGlvbiBsKGUsdCl7dmFyIG49T2JqZWN0KHIuZGVlcENsb25lKShlKTtyZXR1cm4gT2JqZWN0LmtleXMobikubWFwKChmdW5jdGlvbihlKXtyZXR1cm57YWRVbml0Q29kZTplLGFkc2VydmVyVGFyZ2V0aW5nOm5bZV19fSkpLnNvcnQoTygpKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsaSxvLGEpe3ZhciBjLHU9KGM9aS5hZHNlcnZlclRhcmdldGluZyxPYmplY3Qua2V5cyhjKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIiIuY29uY2F0KHQsIiUzZCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoY1t0XSksIiUyNiIpfSksIiIpKTtvKzE9PT1hLmxlbmd0aCYmKHU9dS5zbGljZSgwLC0zKSk7dmFyIHM9aS5hZFVuaXRDb2RlLGQ9dS5sZW5ndGg7cmV0dXJuIGQ8PXQ/KHQtPWQsT2JqZWN0KHIubG9nSW5mbykoIkFkVW5pdCAnIi5jb25jYXQocywiJyBhdWN0aW9uIGtleXMgY29tcHJpc2VkIG9mICIpLmNvbmNhdChkLCIgY2hhcmFjdGVycy4gIERlZHVjdGVkIGZyb20gcnVubmluZyB0aHJlc2hvbGQ7IG5ldyBsaW1pdCBpcyAiKS5jb25jYXQodCksbltzXSksZVtzXT1uW3NdKTpPYmplY3Qoci5sb2dXYXJuKSgiVGhlIGZvbGxvd2luZyBrZXlzIGZvciBhZFVuaXRDb2RlICciLmNvbmNhdChzLCInIGV4Y2VlZGVkIHRoZSBjdXJyZW50IGxpbWl0IG9mIHRoZSAnYXVjdGlvbktleU1heENoYXJzJyBzZXR0aW5nLlxuVGhlIGtleS1zZXQgc2l6ZSB3YXMgIikuY29uY2F0KGQsIiwgdGhlIGN1cnJlbnQgYWxsb3R0ZWQgYW1vdW50IHdhcyAiKS5jb25jYXQodCwiLlxuIiksbltzXSksbysxPT09YS5sZW5ndGgmJjA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJk9iamVjdChyLmxvZ0Vycm9yKSgiTm8gYXVjdGlvbiB0YXJnZXRpbmcga2V5cyB3ZXJlIHBlcm1pdHRlZCBkdWUgdG8gdGhlIHNldHRpbmcgaW4gc2V0Q29uZmlnKHRhcmdldGluZ0NvbnRyb2xzLmF1Y3Rpb25LZXlNYXhDaGFycykuICBQbGVhc2UgcmV2aWV3IHNldHVwIGFuZCBjb25zaWRlciBhZGp1c3RpbmcuIiksZX0pLHt9KX1mdW5jdGlvbiB5KGUpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoe30sT2JqZWN0LmtleXMoZSlbMF0sZVtPYmplY3Qua2V5cyhlKVswXV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYih7fSxPYmplY3Qua2V5cyhlKVswXSxlW09iamVjdC5rZXlzKGUpWzBdXS5qb2luKCIsICIpKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcodCxlKX0pLHt9KSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKHQpWzBdO3JldHVybiBlW25dPWcoe30sZVtuXSx0W25dKSxlfSkse30pfWZ1bmN0aW9uIEkodCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P1t0XTpoLmlzQXJyYXkodCk/dDplLmdldEFkVW5pdENvZGVzKCl8fFtdfWZ1bmN0aW9uIHcoKXt2YXIgdD1lLmdldEJpZHNSZWNlaXZlZCgpO3JldHVybiBpLmIuZ2V0Q29uZmlnKCJ1c2VCaWRDYWNoZSIpfHwodD10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZS5hZFVuaXRDb2RlXT09PWUuYXVjdGlvbklkfSkpKSx0PXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoZSwidmlkZW8uY29udGV4dCIpIT09dS5hfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciIhPT1lLm1lZGlhVHlwZXx8T2JqZWN0KGMuYykoW2Uud2lkdGgsZS5oZWlnaHRdKX0pKS5maWx0ZXIoQS5pc1VudXNlZEJpZCkuZmlsdGVyKEEuaXNCaWROb3RFeHBpcmVkKSxUKHQsci5nZXRPbGRlc3RIaWdoZXN0Q3BtQmlkKX1mdW5jdGlvbiBDKGUsbil7dmFyIHI9dC5nZXRXaW5uaW5nQmlkcyhlLG4pLGk9aigpO3JldHVybiByPXIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYih7fSxlLmFkVW5pdENvZGUsT2JqZWN0LmtleXMoZS5hZHNlcnZlclRhcmdldGluZykuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09ZS5zZW5kU3RhbmRhcmRUYXJnZXRpbmd8fGUuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nfHwtMT09PWkuaW5kZXhPZih0KX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7dmFyIHI9W2UuYWRzZXJ2ZXJUYXJnZXRpbmdbbl1dLGk9Yih7fSxuLnN1YnN0cmluZygwLDIwKSxyKTtpZihuPT09bS5UQVJHRVRJTkdfS0VZUy5ERUFMKXt2YXIgbz1iKHt9LCIiLmNvbmNhdChuLCJfIikuY29uY2F0KGUuYmlkZGVyQ29kZSkuc3Vic3RyaW5nKDAsMjApLHIpO3JldHVybltdLmNvbmNhdCh2KHQpLFtpLG9dKX1yZXR1cm5bXS5jb25jYXQodih0KSxbaV0pfSksW10pKX0pKX1mdW5jdGlvbiBqKCl7cmV0dXJuIGUuZ2V0U3RhbmRhcmRCaWRkZXJBZFNlcnZlclRhcmdldGluZygpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5fSkpLmNvbmNhdChFKS5maWx0ZXIoci51bmlxdWVzKX1mdW5jdGlvbiBfKGUsdCxuLGkpe3JldHVybiBPYmplY3Qua2V5cyh0LmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIoUigpKS5mb3JFYWNoKChmdW5jdGlvbihuKXtlLmxlbmd0aCYmZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuLmFkVW5pdENvZGU9PT10LmFkVW5pdENvZGUmJm4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV19fShuKSkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7aC5pc0FycmF5KG4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV0pfHwobi5hZHNlcnZlclRhcmdldGluZ1tlXT1bbi5hZHNlcnZlclRhcmdldGluZ1tlXV0pLG4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV09bi5hZHNlcnZlclRhcmdldGluZ1tlXS5jb25jYXQodC5hZHNlcnZlclRhcmdldGluZ1tlXSkuZmlsdGVyKHIudW5pcXVlcyksZGVsZXRlIHQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV19fShuKSl9KSksZS5wdXNoKHQpLGV9ZnVuY3Rpb24gUigpe3ZhciBlPWooKS5jb25jYXQoby5hKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuLTE9PT1lLmluZGV4T2YodCl9fWZ1bmN0aW9uIEIoZSl7cmV0dXJuIGIoe30sZS5hZFVuaXRDb2RlLE9iamVjdC5rZXlzKGUuYWRzZXJ2ZXJUYXJnZXRpbmcpLmZpbHRlcihSKCkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGIoe30sdC5zdWJzdHJpbmcoMCwyMCksW2UuYWRzZXJ2ZXJUYXJnZXRpbmdbdF1dKX0pKSl9ZnVuY3Rpb24gVShlLHQpe3JldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGYoKShlLHQuYWRVbml0Q29kZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZyh7fSxlKX0pKS5yZWR1Y2UoXyxbXSkubWFwKEIpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9ZnVuY3Rpb24geChlLHQpe3ZhciBuPUUuY29uY2F0KG8uYSksYz1pLmIuZ2V0Q29uZmlnKCJzZW5kQmlkc0NvbnRyb2wuYmlkTGltaXQiKSx1PVQodCxyLmdldEhpZ2hlc3RDcG0sYykscz1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbGxvd1NlbmRBbGxCaWRzVGFyZ2V0aW5nS2V5cyIpLGQ9cz9zLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG0uVEFSR0VUSU5HX0tFWVNbZV19KSk6bjtyZXR1cm4gdS5tYXAoKGZ1bmN0aW9uKHQpe2lmKGEodCxlKSlyZXR1cm4gYih7fSx0LmFkVW5pdENvZGUsRCh0LG4uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dC5hZHNlcnZlclRhcmdldGluZ1tlXSYmLTEhPT1kLmluZGV4T2YoZSl9KSkpKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfWZ1bmN0aW9uIEQoZSx0KXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBiKHt9LCIiLmNvbmNhdCh0LCJfIikuY29uY2F0KGUuYmlkZGVyQ29kZSkuc3Vic3RyaW5nKDAsMjApLFtlLmFkc2VydmVyVGFyZ2V0aW5nW3RdXSl9KSl9ZnVuY3Rpb24gTih0KXtmdW5jdGlvbiBuKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLG0uSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElORyl9cmV0dXJuIGUuZ2V0QWRVbml0cygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGYoKSh0LGUuY29kZSkmJm4oZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYih7fSxlLmNvZGUsZnVuY3Rpb24oZSl7dmFyIHQ9bihlKTtyZXR1cm4gT2JqZWN0LmtleXModCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaC5pc1N0cih0W2VdKSYmKHRbZV09dFtlXS5zcGxpdCgiLCIpKSxoLmlzQXJyYXkodFtlXSl8fCh0W2VdPVt0W2VdXSksYih7fSxlLHRbZV0pfSkpfShlKSl9KSl9cmV0dXJuIHQuc2V0TGF0ZXN0QXVjdGlvbkZvckFkVW5pdD1mdW5jdGlvbihlLHQpe25bZV09dH0sdC5yZXNldFByZXNldFRhcmdldGluZz1mdW5jdGlvbih0LG4pe2lmKE9iamVjdChyLmlzR3B0UHViYWRzRGVmaW5lZCkoKSl7dmFyIGk9SSh0KSxvPWUuZ2V0QWRVbml0cygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGYoKShpLGUuY29kZSl9KSk7d2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWguaXNGbihuKSYmbihlKTtTLmZvckVhY2goKGZ1bmN0aW9uKG4pe28uZm9yRWFjaCgoZnVuY3Rpb24ocil7KHIuY29kZT09PWUuZ2V0QWRVbml0UGF0aCgpfHxyLmNvZGU9PT1lLmdldFNsb3RFbGVtZW50SWQoKXx8aC5pc0ZuKHQpJiZ0KHIuY29kZSkpJiZlLnNldFRhcmdldGluZyhuLG51bGwpfSkpfSkpfSkpfX0sdC5yZXNldFByZXNldFRhcmdldGluZ0FTVD1mdW5jdGlvbihlKXtJKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5hcG50YWcuZ2V0VGFnKGUpO2lmKHQmJnQua2V5d29yZHMpe3ZhciBuPU9iamVjdC5rZXlzKHQua2V5d29yZHMpLHI9e307bi5mb3JFYWNoKChmdW5jdGlvbihlKXtmKCkoUyxlLnRvTG93ZXJDYXNlKCkpfHwocltlXT10LmtleXdvcmRzW2VdKX0pKSx3aW5kb3cuYXBudGFnLm1vZGlmeVRhZyhlLHtrZXl3b3JkczpyfSl9fSkpfSx0LmdldEFsbFRhcmdldGluZz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dygpLG49SShlKSxvPUMobix0KS5jb25jYXQoVShuLHQpKS5jb25jYXQoaS5iLmdldENvbmZpZygiZW5hYmxlU2VuZEFsbEJpZHMiKT94KG4sdCk6cyhuLHQpKS5jb25jYXQoTihuKSk7by5tYXAoKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24odCl7ZVt0XS5tYXAoKGZ1bmN0aW9uKGUpey0xPT09Uy5pbmRleE9mKE9iamVjdC5rZXlzKGUpWzBdKSYmKFM9T2JqZWN0LmtleXMoZSkuY29uY2F0KFMpKX0pKX0pKX0pKTt2YXIgYT1PYmplY3Qua2V5cyhnKHt9LG0uREVGQVVMVF9UQVJHRVRJTkdfS0VZUyxtLk5BVElWRV9LRVlTKSksYz1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbGxvd1RhcmdldGluZ0tleXMiKXx8YTtBcnJheS5pc0FycmF5KGMpJiZjLmxlbmd0aD4wJiYobz1kKG8sYykpLG89eShvKTt2YXIgdT1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMiKTtyZXR1cm4gdSYmKE9iamVjdChyLmxvZ0luZm8pKCJEZXRlY3RlZCAndGFyZ2V0aW5nQ29udHJvbHMuYXVjdGlvbktleU1heENoYXJzJyB3YXMgYWN0aXZlIGZvciB0aGlzIGF1Y3Rpb247IHNldCB3aXRoIGEgbGltaXQgb2YgIi5jb25jYXQodSwiIGNoYXJhY3RlcnMuICBSdW5uaW5nIGNoZWNrcyBvbiBhdWN0aW9uIGtleXMuLi4iKSksbz1sKG8sdSkpLG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7b1tlXXx8KG9bZV09e30pfSkpLG99LHQuc2V0VGFyZ2V0aW5nRm9yR1BUPWZ1bmN0aW9uKGUsdCl7d2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdC5rZXlzKGUpLmZpbHRlcih0P3Qobik6T2JqZWN0KHIuaXNBZFVuaXRDb2RlTWF0Y2hpbmdTbG90KShuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKGVbdF0pLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBpPWVbdF1bcl07InN0cmluZyI9PXR5cGVvZiBpJiYoaT1pLnNwbGl0KCIsIikpLChpPWkubGVuZ3RoPjE/W2ldOmkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGgubG9nTWVzc2FnZSgiQXR0ZW1wdGluZyB0byBzZXQga2V5IHZhbHVlIGZvciBzbG90OiAiLmNvbmNhdChuLmdldFNsb3RFbGVtZW50SWQoKSwiIGtleTogIikuY29uY2F0KHIsIiB2YWx1ZTogIikuY29uY2F0KGUpKSxlfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uc2V0VGFyZ2V0aW5nKHIsZSl9KSl9KSl9KSl9KSl9LHQuZ2V0V2lubmluZ0JpZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOncoKSxuPUkoZSk7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG4sZS5hZFVuaXRDb2RlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNwbT4wfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZX0pKS5maWx0ZXIoci51bmlxdWVzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWU/dDpudWxsfSkpLnJlZHVjZShyLmdldEhpZ2hlc3RDcG0pfSkpfSx0LnNldFRhcmdldGluZ0ZvckFzdD1mdW5jdGlvbihlKXt2YXIgbj10LmdldEFsbFRhcmdldGluZyhlKTt0cnl7dC5yZXNldFByZXNldFRhcmdldGluZ0FTVChlKX1jYXRjaChlKXtoLmxvZ0Vycm9yKCJ1bmFibGUgdG8gcmVzZXQgdGFyZ2V0aW5nIGZvciBBU1QiK2UpfU9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhuW2VdKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihoLmxvZ01lc3NhZ2UoIkF0dGVtcHRpbmcgdG8gc2V0IHRhcmdldGluZyBmb3IgdGFyZ2V0SWQ6ICIuY29uY2F0KGUsIiBrZXk6ICIpLmNvbmNhdCh0LCIgdmFsdWU6ICIpLmNvbmNhdChuW2VdW3RdKSksaC5pc1N0cihuW2VdW3RdKXx8aC5pc0FycmF5KG5bZV1bdF0pKXt2YXIgcj17fTt0LnNlYXJjaCgvcHRbMC05XS8pPDA/clt0LnRvVXBwZXJDYXNlKCldPW5bZV1bdF06clt0XT1uW2VdW3RdLHdpbmRvdy5hcG50YWcuc2V0S2V5d29yZHMoZSxyLHtvdmVycmlkZUtleVZhbHVlOiEwfSl9fSkpfSkpfSx0LmlzQXBudGFnRGVmaW5lZD1mdW5jdGlvbigpe2lmKHdpbmRvdy5hcG50YWcmJmguaXNGbih3aW5kb3cuYXBudGFnLnNldEtleXdvcmRzKSlyZXR1cm4hMH0sdH0oYS5hKX0sMzk6ZnVuY3Rpb24oZSx0KXt2YXIgbjtuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e249bnx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKXx8KDAsZXZhbCkoInRoaXMiKX1jYXRjaChlKXsib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX1lLmV4cG9ydHM9bn0sNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSx0LmI9czt2YXIgcj1uKDMpLGk9big0Myk7ZnVuY3Rpb24gbygpe3JldHVybihvPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYShlKXtyZXR1cm4oYT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBjPW4oMCksdT1zKCk7ZnVuY3Rpb24gcygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTozZTMsdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj10LnJlcXVlc3QsdT10LmRvbmU7cmV0dXJuIGZ1bmN0aW9uKHQscyxkKXt2YXIgZj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e307dHJ5e3ZhciBsLHA9Zi5tZXRob2R8fChkPyJQT1NUIjoiR0VUIiksZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7dD1pLmModCksZy5ocmVmPXQ7dmFyIGI9Im9iamVjdCI9PT1hKHMpJiZudWxsIT09cz9zOntzdWNjZXNzOmZ1bmN0aW9uKCl7Yy5sb2dNZXNzYWdlKCJ4aHIgc3VjY2VzcyIpfSxlcnJvcjpmdW5jdGlvbihlKXtjLmxvZ0Vycm9yKCJ4aHIgZXJyb3IiLG51bGwsZSl9fTtpZigiZnVuY3Rpb24iPT10eXBlb2YgcyYmKGIuc3VjY2Vzcz1zKSwobD1uZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT09bC5yZWFkeVN0YXRlKXsiZnVuY3Rpb24iPT10eXBlb2YgdSYmdShnLm9yaWdpbik7dmFyIGU9bC5zdGF0dXM7ZT49MjAwJiZlPDMwMHx8MzA0PT09ZT9iLnN1Y2Nlc3MobC5yZXNwb25zZVRleHQsbCk6Yi5lcnJvcihsLnN0YXR1c1RleHQsbCl9fSxyLmIuZ2V0Q29uZmlnKCJkaXNhYmxlQWpheFRpbWVvdXQiKXx8KGwub250aW1lb3V0PWZ1bmN0aW9uKCl7Yy5sb2dFcnJvcigiICB4aHIgdGltZW91dCBhZnRlciAiLGwudGltZW91dCwibXMiKX0pLCJHRVQiPT09cCYmZCl7dmFyIHY9Yy5wYXJzZVVybCh0LGYpO28odi5zZWFyY2gsZCksdD1jLmJ1aWxkVXJsKHYpfWwub3BlbihwLHQsITApLHIuYi5nZXRDb25maWcoImRpc2FibGVBamF4VGltZW91dCIpfHwobC50aW1lb3V0PWUpLGYud2l0aENyZWRlbnRpYWxzJiYobC53aXRoQ3JlZGVudGlhbHM9ITApLGMuX2VhY2goZi5jdXN0b21IZWFkZXJzLChmdW5jdGlvbihlLHQpe2wuc2V0UmVxdWVzdEhlYWRlcih0LGUpfSkpLGYucHJlZmxpZ2h0JiZsLnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpLGwuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixmLmNvbnRlbnRUeXBlfHwidGV4dC9wbGFpbiIpLCJmdW5jdGlvbiI9PXR5cGVvZiBuJiZuKGcub3JpZ2luKSwiUE9TVCI9PT1wJiZkP2wuc2VuZChkKTpsLnNlbmQoKX1jYXRjaChlKXtjLmxvZ0Vycm9yKCJ4aHIgY29uc3RydWN0aW9uIixlKSwib2JqZWN0Ij09PWEocykmJm51bGwhPT1zJiZzLmVycm9yKGUpfX19fSw0MDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sNDE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9bigyMSksbz1uKDI0KSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLGE9cihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09YXx8bnVsbD09KG49cihhKVtvXSk/dDppKG4pfX0sNDI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkoZSx0KX07dmFyIHI9bigwKTtmdW5jdGlvbiBpKGUsdCl7dmFyIG49dCYmdC5zcmN8fCJjbGllbnQiLGk9ZXx8MDt0aGlzLmJpZGRlckNvZGU9dCYmdC5iaWRkZXJ8fCIiLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuc3RhdHVzTWVzc2FnZT1mdW5jdGlvbigpe3N3aXRjaChpKXtjYXNlIDA6cmV0dXJuIlBlbmRpbmciO2Nhc2UgMTpyZXR1cm4iQmlkIGF2YWlsYWJsZSI7Y2FzZSAyOnJldHVybiJCaWQgcmV0dXJuZWQgZW1wdHkgb3IgZXJyb3IgcmVzcG9uc2UiO2Nhc2UgMzpyZXR1cm4iQmlkIHRpbWVkIG91dCJ9fSgpLHRoaXMuYWRJZD1yLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSx0aGlzLnJlcXVlc3RJZD10JiZ0LmJpZElkLHRoaXMubWVkaWFUeXBlPSJiYW5uZXIiLHRoaXMuc291cmNlPW4sdGhpcy5nZXRTdGF0dXNDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIGl9LHRoaXMuZ2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRoKyJ4Iit0aGlzLmhlaWdodH19fSw0MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXtpLnB1c2goZSl9LHQuYz1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZTtyZXR1cm4gaS5mb3JFYWNoKChmdW5jdGlvbihlKXt0PWUodCl9KSksdH1jYXRjaCh0KXtyZXR1cm4gZX19LHQuYT1mdW5jdGlvbigpe3JldHVybiBvfSx0LmY9ZnVuY3Rpb24oZSl7cihlKX0sdC5kPWZ1bmN0aW9uKGUpe2EucHVzaChlKX0sdC5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOltdLHI9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7YS5mb3JFYWNoKChmdW5jdGlvbihpKXtpKGUsdCxuLHIpfSkpfTt2YXIgcixpPVtdO3ZhciBvPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyPWV9KSk7dmFyIGE9W119LDQ0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcj1uKDExKSxpPW4ubihyKSxvPW4oMCksYT17YnVja2V0czpbe21heDo1LGluY3JlbWVudDouNX1dfSxjPXtidWNrZXRzOlt7bWF4OjIwLGluY3JlbWVudDouMX1dfSx1PXtidWNrZXRzOlt7bWF4OjIwLGluY3JlbWVudDouMDF9XX0scz17YnVja2V0czpbe21heDozLGluY3JlbWVudDouMDF9LHttYXg6OCxpbmNyZW1lbnQ6LjA1fSx7bWF4OjIwLGluY3JlbWVudDouNX1dfSxkPXtidWNrZXRzOlt7bWF4OjUsaW5jcmVtZW50Oi4wNX0se21heDoxMCxpbmNyZW1lbnQ6LjF9LHttYXg6MjAsaW5jcmVtZW50Oi41fV19O2Z1bmN0aW9uIGYoZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MSxyPXBhcnNlRmxvYXQoZSk7cmV0dXJuIGlzTmFOKHIpJiYocj0iIikse2xvdzoiIj09PXI/IiI6bChlLGEsbiksbWVkOiIiPT09cj8iIjpsKGUsYyxuKSxoaWdoOiIiPT09cj8iIjpsKGUsdSxuKSxhdXRvOiIiPT09cj8iIjpsKGUsZCxuKSxkZW5zZToiIj09PXI/IiI6bChlLHMsbiksY3VzdG9tOiIiPT09cj8iIjpsKGUsdCxuKX19ZnVuY3Rpb24gbChlLHQsbil7dmFyIHI9IiI7aWYoIXAodCkpcmV0dXJuIHI7dmFyIG89dC5idWNrZXRzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5tYXg+dC5tYXg/ZTp0fSkse21heDowfSksYT0wLGM9aSgpKHQuYnVja2V0cywoZnVuY3Rpb24odCl7aWYoZT5vLm1heCpuKXt2YXIgaT10LnByZWNpc2lvbjt2b2lkIDA9PT1pJiYoaT0yKSxyPSh0Lm1heCpuKS50b0ZpeGVkKGkpfWVsc2V7aWYoZTw9dC5tYXgqbiYmZT49YSpuKXJldHVybiB0Lm1pbj1hLHQ7YT10Lm1heH19KSk7cmV0dXJuIGMmJihyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj12b2lkIDAhPT10LnByZWNpc2lvbj90LnByZWNpc2lvbjoyLGk9dC5pbmNyZW1lbnQqbixvPXQubWluKm4sYT1NYXRoLnBvdygxMCxyKzIpLGM9KGUqYS1vKmEpLyhpKmEpLHU9TWF0aC5mbG9vcihjKSppK287cmV0dXJuKHU9TnVtYmVyKHUudG9GaXhlZCgxMCkpKS50b0ZpeGVkKHIpfShlLGMsbikpLHJ9ZnVuY3Rpb24gcChlKXtpZihvLmlzRW1wdHkoZSl8fCFlLmJ1Y2tldHN8fCFBcnJheS5pc0FycmF5KGUuYnVja2V0cykpcmV0dXJuITE7dmFyIHQ9ITA7cmV0dXJuIGUuYnVja2V0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm1heCYmZS5pbmNyZW1lbnR8fCh0PSExKX0pKSx0fX0sNDU6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSw0NjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big3OCksaT1uKDQ4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIoaShlKSl9fSw0NzpmdW5jdGlvbihlLHQpe3ZhciBuPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0sNDg6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICIrZSk7cmV0dXJuIGV9fSw0OTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big0OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QocihlKSl9fSw1OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXtKU09OX01BUFBJTkc6e1BMX0NPREU6ImNvZGUiLFBMX1NJWkU6InNpemVzIixQTF9CSURTOiJiaWRzIixCRF9CSURERVI6ImJpZGRlciIsQkRfSUQ6InBhcmFtc2QiLEJEX1BMX0lEOiJwbGFjZW1lbnRJZCIsQURTRVJWRVJfVEFSR0VUSU5HOiJhZHNlcnZlclRhcmdldGluZyIsQkRfU0VUVElOR19TVEFOREFSRDoic3RhbmRhcmQifSxERUJVR19NT0RFOiJwYmpzX2RlYnVnIixTVEFUVVM6e0dPT0Q6MSxOT19CSUQ6Mn0sQ0I6e1RZUEU6e0FMTF9CSURTX0JBQ0s6ImFsbFJlcXVlc3RlZEJpZHNCYWNrIixBRF9VTklUX0JJRFNfQkFDSzoiYWRVbml0Qmlkc0JhY2siLEJJRF9XT046ImJpZFdvbiIsUkVRVUVTVF9CSURTOiJyZXF1ZXN0QmlkcyJ9fSxFVkVOVFM6e0FVQ1RJT05fSU5JVDoiYXVjdGlvbkluaXQiLEFVQ1RJT05fRU5EOiJhdWN0aW9uRW5kIixCSURfQURKVVNUTUVOVDoiYmlkQWRqdXN0bWVudCIsQklEX1RJTUVPVVQ6ImJpZFRpbWVvdXQiLEJJRF9SRVFVRVNURUQ6ImJpZFJlcXVlc3RlZCIsQklEX1JFU1BPTlNFOiJiaWRSZXNwb25zZSIsTk9fQklEOiJub0JpZCIsQklEX1dPTjoiYmlkV29uIixCSURERVJfRE9ORToiYmlkZGVyRG9uZSIsU0VUX1RBUkdFVElORzoic2V0VGFyZ2V0aW5nIixCRUZPUkVfUkVRVUVTVF9CSURTOiJiZWZvcmVSZXF1ZXN0QmlkcyIsUkVRVUVTVF9CSURTOiJyZXF1ZXN0QmlkcyIsQUREX0FEX1VOSVRTOiJhZGRBZFVuaXRzIixBRF9SRU5ERVJfRkFJTEVEOiJhZFJlbmRlckZhaWxlZCIsQURfUkVOREVSX1NVQ0NFRURFRDoiYWRSZW5kZXJTdWNjZWVkZWQiLFRDRjJfRU5GT1JDRU1FTlQ6InRjZjJFbmZvcmNlbWVudCIsQVVDVElPTl9ERUJVRzoiYXVjdGlvbkRlYnVnIixCSURfVklFV0FCTEU6ImJpZFZpZXdhYmxlIixTVEFMRV9SRU5ERVI6InN0YWxlUmVuZGVyIn0sQURfUkVOREVSX0ZBSUxFRF9SRUFTT046e1BSRVZFTlRfV1JJVElOR19PTl9NQUlOX0RPQ1VNRU5UOiJwcmV2ZW50V3JpdGluZ09uTWFpbkRvY3VtZW50IixOT19BRDoibm9BZCIsRVhDRVBUSU9OOiJleGNlcHRpb24iLENBTk5PVF9GSU5EX0FEOiJjYW5ub3RGaW5kQWQiLE1JU1NJTkdfRE9DX09SX0FESUQ6Im1pc3NpbmdEb2NPckFkaWQifSxFVkVOVF9JRF9QQVRIUzp7YmlkV29uOiJhZFVuaXRDb2RlIn0sR1JBTlVMQVJJVFlfT1BUSU9OUzp7TE9XOiJsb3ciLE1FRElVTToibWVkaXVtIixISUdIOiJoaWdoIixBVVRPOiJhdXRvIixERU5TRToiZGVuc2UiLENVU1RPTToiY3VzdG9tIn0sVEFSR0VUSU5HX0tFWVM6e0JJRERFUjoiaGJfYmlkZGVyIixBRF9JRDoiaGJfYWRpZCIsUFJJQ0VfQlVDS0VUOiJoYl9wYiIsU0laRToiaGJfc2l6ZSIsREVBTDoiaGJfZGVhbCIsU09VUkNFOiJoYl9zb3VyY2UiLEZPUk1BVDoiaGJfZm9ybWF0IixVVUlEOiJoYl91dWlkIixDQUNIRV9JRDoiaGJfY2FjaGVfaWQiLENBQ0hFX0hPU1Q6ImhiX2NhY2hlX2hvc3QiLEFET01BSU46ImhiX2Fkb21haW4ifSxERUZBVUxUX1RBUkdFVElOR19LRVlTOntCSURERVI6ImhiX2JpZGRlciIsQURfSUQ6ImhiX2FkaWQiLFBSSUNFX0JVQ0tFVDoiaGJfcGIiLFNJWkU6ImhiX3NpemUiLERFQUw6ImhiX2RlYWwiLEZPUk1BVDoiaGJfZm9ybWF0IixVVUlEOiJoYl91dWlkIixDQUNIRV9IT1NUOiJoYl9jYWNoZV9ob3N0In0sTkFUSVZFX0tFWVM6e3RpdGxlOiJoYl9uYXRpdmVfdGl0bGUiLGJvZHk6ImhiX25hdGl2ZV9ib2R5Iixib2R5MjoiaGJfbmF0aXZlX2JvZHkyIixwcml2YWN5TGluazoiaGJfbmF0aXZlX3ByaXZhY3kiLHByaXZhY3lJY29uOiJoYl9uYXRpdmVfcHJpdmljb24iLHNwb25zb3JlZEJ5OiJoYl9uYXRpdmVfYnJhbmQiLGltYWdlOiJoYl9uYXRpdmVfaW1hZ2UiLGljb246ImhiX25hdGl2ZV9pY29uIixjbGlja1VybDoiaGJfbmF0aXZlX2xpbmt1cmwiLGRpc3BsYXlVcmw6ImhiX25hdGl2ZV9kaXNwbGF5dXJsIixjdGE6ImhiX25hdGl2ZV9jdGEiLHJhdGluZzoiaGJfbmF0aXZlX3JhdGluZyIsYWRkcmVzczoiaGJfbmF0aXZlX2FkZHJlc3MiLGRvd25sb2FkczoiaGJfbmF0aXZlX2Rvd25sb2FkcyIsbGlrZXM6ImhiX25hdGl2ZV9saWtlcyIscGhvbmU6ImhiX25hdGl2ZV9waG9uZSIscHJpY2U6ImhiX25hdGl2ZV9wcmljZSIsc2FsZVByaWNlOiJoYl9uYXRpdmVfc2FsZXByaWNlIixyZW5kZXJlclVybDoiaGJfcmVuZGVyZXJfdXJsIixhZFRlbXBsYXRlOiJoYl9hZFRlbXBsYXRlIn0sUzJTOntTUkM6InMycyIsREVGQVVMVF9FTkRQT0lOVDoiaHR0cHM6Ly9wcmViaWQuYWRueHMuY29tL3Bicy92MS9vcGVucnRiMi9hdWN0aW9uIixTWU5DRURfQklEREVSU19LRVk6InBianNTeW5jcyJ9LEJJRF9TVEFUVVM6e0JJRF9UQVJHRVRJTkdfU0VUOiJ0YXJnZXRpbmdTZXQiLFJFTkRFUkVEOiJyZW5kZXJlZCIsQklEX1JFSkVDVEVEOiJiaWRSZWplY3RlZCJ9fX0sNTA6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LDUxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDYwKSxpPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP2kocihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sNTI6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSw1MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNyk7ZS5leHBvcnRzPXJ9LDU0OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXt9fSw1NTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9bigxMjApLGM9bigyNSksdT1uKDMwKSxzPW4oMzIpLGQ9bigzMSksZj1uKDYxKSxsPW4oNjcpLHA9big1NCksZz0iT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWQiLGI9Yy5XZWFrTWFwO2lmKGF8fGYuc3RhdGUpe3ZhciB2PWYuc3RhdGV8fChmLnN0YXRlPW5ldyBiKSx5PXYuZ2V0LGg9di5oYXMsbT12LnNldDtyPWZ1bmN0aW9uKGUsdCl7aWYoaC5jYWxsKHYsZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihnKTtyZXR1cm4gdC5mYWNhZGU9ZSxtLmNhbGwodixlLHQpLHR9LGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHkuY2FsbCh2LGUpfHx7fX0sbz1mdW5jdGlvbihlKXtyZXR1cm4gaC5jYWxsKHYsZSl9fWVsc2V7dmFyIFM9bCgic3RhdGUiKTtwW1NdPSEwLHI9ZnVuY3Rpb24oZSx0KXtpZihkKGUsUykpdGhyb3cgbmV3IFR5cGVFcnJvcihnKTtyZXR1cm4gdC5mYWNhZGU9ZSxzKGUsUyx0KSx0fSxpPWZ1bmN0aW9uKGUpe3JldHVybiBkKGUsUyk/ZVtTXTp7fX0sbz1mdW5jdGlvbihlKXtyZXR1cm4gZChlLFMpfX1lLmV4cG9ydHM9e3NldDpyLGdldDppLGhhczpvLGVuZm9yY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSk/aShlKTpyKGUse30pfSxnZXR0ZXJGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuO2lmKCF1KHQpfHwobj1pKHQpKS50eXBlIT09ZSl0aHJvdyBUeXBlRXJyb3IoIkluY29tcGF0aWJsZSByZWNlaXZlciwgIitlKyIgcmVxdWlyZWQiKTtyZXR1cm4gbn19fX0sNTY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHI9bigwKSxpPW4oMyksbz1uKDEyKSxhPW4ubihvKSxjPW4oNyk7ZnVuY3Rpb24gdShlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gcyhlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gcyhlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gcyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIGQoKXtyZXR1cm4oZD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWkuYi5zZXREZWZhdWx0cyh7dXNlclN5bmM6ci5kZWVwQ2xvbmUoe3N5bmNFbmFibGVkOiEwLGZpbHRlclNldHRpbmdzOntpbWFnZTp7YmlkZGVyczoiKiIsZmlsdGVyOiJpbmNsdWRlIn19LHN5bmNzUGVyQmlkZGVyOjUsc3luY0RlbGF5OjNlMyxhdWN0aW9uRGVsYXk6MH0pfSk7dmFyIGY9T2JqZWN0KGMuYSkoInVzZXJzeW5jIik7dmFyIGw9IXIuaXNTYWZhcmlCcm93c2VyKCkmJmYuY29va2llc0FyZUVuYWJsZWQoKSxwPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49e2ltYWdlOltdLGlmcmFtZTpbXX0sbz1uZXcgU2V0LGM9e30scz17aW1hZ2U6ITAsaWZyYW1lOiExfSxmPWUuY29uZmlnO2Z1bmN0aW9uIGwoKXtpZihmLnN5bmNFbmFibGVkJiZlLmJyb3dzZXJTdXBwb3J0c0Nvb2tpZXMpe3RyeXshZnVuY3Rpb24oKXtpZighcy5pbWFnZSlyZXR1cm47cChuLmltYWdlLChmdW5jdGlvbihlKXt2YXIgdD11KGUsMiksbj10WzBdLGk9dFsxXTtyLmxvZ01lc3NhZ2UoIkludm9raW5nIGltYWdlIHBpeGVsIHVzZXIgc3luYyBmb3IgYmlkZGVyOiAiLmNvbmNhdChuKSksci50cmlnZ2VyUGl4ZWwoaSl9KSl9KCksZnVuY3Rpb24oKXtpZighcy5pZnJhbWUpcmV0dXJuO3Aobi5pZnJhbWUsKGZ1bmN0aW9uKGUpe3ZhciB0PXUoZSwyKSxuPXRbMF0saT10WzFdO3IubG9nTWVzc2FnZSgiSW52b2tpbmcgaWZyYW1lIHVzZXIgc3luYyBmb3IgYmlkZGVyOiAiLmNvbmNhdChuKSksci5pbnNlcnRVc2VyU3luY0lmcmFtZShpKX0pKX0oKX1jYXRjaChlKXtyZXR1cm4gci5sb2dFcnJvcigiRXJyb3IgZmlyaW5nIHVzZXIgc3luY3MiLGUpfW49e2ltYWdlOltdLGlmcmFtZTpbXX19fWZ1bmN0aW9uIHAoZSx0KXtyLnNodWZmbGUoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dChlKSxvLmFkZChlWzBdKX0pKX1mdW5jdGlvbiBnKGUsdCl7dmFyIG49Zi5maWx0ZXJTZXR0aW5ncztpZihmdW5jdGlvbihlLHQpe2lmKGUuYWxsJiZlW3RdKXJldHVybiByLmxvZ1dhcm4oJ0RldGVjdGVkIHByZXNlbmNlIG9mIHRoZSAiZmlsdGVyU2V0dGluZ3MuYWxsIiBhbmQgImZpbHRlclNldHRpbmdzLicuY29uY2F0KHQsJyIgaW4gdXNlclN5bmMgY29uZmlnLiAgWW91IGNhbm5vdCBtaXggImFsbCIgd2l0aCAiaWZyYW1lL2ltYWdlIiBjb25maWdzOyB0aGV5IGFyZSBtdXR1YWxseSBleGNsdXNpdmUuJykpLCExO3ZhciBuPWUuYWxsP2UuYWxsOmVbdF0saT1lLmFsbD8iYWxsIjp0O2lmKCFuKXJldHVybiExO3ZhciBvPW4uZmlsdGVyLGE9bi5iaWRkZXJzO2lmKG8mJiJpbmNsdWRlIiE9PW8mJiJleGNsdWRlIiE9PW8pcmV0dXJuIHIubG9nV2FybignVXNlclN5bmMgImZpbHRlclNldHRpbmdzLicuY29uY2F0KGksIi5maWx0ZXJcIiBzZXR0aW5nICciKS5jb25jYXQobywiJyBpcyBub3QgYSB2YWxpZCBvcHRpb247IHVzZSBlaXRoZXIgJ2luY2x1ZGUnIG9yICdleGNsdWRlJy4iKSksITE7aWYoIioiIT09YSYmIShBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aD4wJiZhLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gci5pc1N0cihlKSYmIioiIT09ZX0pKSkpcmV0dXJuIHIubG9nV2FybignRGV0ZWN0ZWQgYW4gaW52YWxpZCBzZXR1cCBpbiB1c2VyU3luYyAiZmlsdGVyU2V0dGluZ3MuJy5jb25jYXQoaSwiLmJpZGRlcnNcIjsgdXNlIGVpdGhlciAnKicgKHRvIHJlcHJlc2VudCBhbGwgYmlkZGVycykgb3IgYW4gYXJyYXkgb2YgYmlkZGVycy4iKSksITE7cmV0dXJuITB9KG4sZSkpe3NbZV09ITA7dmFyIGk9bi5hbGw/bi5hbGw6bltlXSxvPSIqIj09PWkuYmlkZGVycz9bdF06aS5iaWRkZXJzO3JldHVybntpbmNsdWRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIWEoKShlLHQpfSxleGNsdWRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEoKShlLHQpfX1baS5maWx0ZXJ8fCJpbmNsdWRlIl0obyx0KX1yZXR1cm4hc1tlXX1yZXR1cm4gaS5iLmdldENvbmZpZygidXNlclN5bmMiLChmdW5jdGlvbihlKXtpZihlLnVzZXJTeW5jKXt2YXIgdD1lLnVzZXJTeW5jLmZpbHRlclNldHRpbmdzO3IuaXNQbGFpbk9iamVjdCh0KSYmKHQuaW1hZ2V8fHQuYWxsfHwoZS51c2VyU3luYy5maWx0ZXJTZXR0aW5ncy5pbWFnZT17YmlkZGVyczoiKiIsZmlsdGVyOiJpbmNsdWRlIn0pKX1mPWQoZixlLnVzZXJTeW5jKX0pKSx0LnJlZ2lzdGVyU3luYz1mdW5jdGlvbihlLGksYSl7cmV0dXJuIG8uaGFzKGkpP3IubG9nTWVzc2FnZSgnYWxyZWFkeSBmaXJlZCBzeW5jcyBmb3IgIicuY29uY2F0KGksJyIsIGlnbm9yaW5nIHJlZ2lzdGVyU3luYyBjYWxsJykpOmYuc3luY0VuYWJsZWQmJnIuaXNBcnJheShuW2VdKT9pPzAhPT1mLnN5bmNzUGVyQmlkZGVyJiZOdW1iZXIoY1tpXSk+PWYuc3luY3NQZXJCaWRkZXI/ci5sb2dXYXJuKCdOdW1iZXIgb2YgdXNlciBzeW5jcyBleGNlZWRlZCBmb3IgIicuY29uY2F0KGksJyInKSk6dC5jYW5CaWRkZXJSZWdpc3RlclN5bmMoZSxpKT8obltlXS5wdXNoKFtpLGFdKSx2b2lkKGM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT9lW3RdKz0xOmVbdF09MSxlfShjLGkpKSk6ci5sb2dXYXJuKCdCaWRkZXIgIicuY29uY2F0KGksJyIgbm90IHBlcm1pdHRlZCB0byByZWdpc3RlciB0aGVpciAiJykuY29uY2F0KGUsJyIgdXNlclN5bmMgcGl4ZWxzLicpKTpyLmxvZ1dhcm4oIkJpZGRlciBpcyByZXF1aXJlZCBmb3IgcmVnaXN0ZXJpbmcgc3luYyIpOnIubG9nV2FybignVXNlciBzeW5jIHR5cGUgIicuY29uY2F0KGUsJyIgbm90IHN1cHBvcnRlZCcpKX0sdC5zeW5jVXNlcnM9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MDtpZihlKXJldHVybiBzZXRUaW1lb3V0KGwsTnVtYmVyKGUpKTtsKCl9LHQudHJpZ2dlclVzZXJTeW5jcz1mdW5jdGlvbigpe2YuZW5hYmxlT3ZlcnJpZGUmJnQuc3luY1VzZXJzKCl9LHQuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWYuZmlsdGVyU2V0dGluZ3N8fCFnKGUsdCl9LHR9KHtjb25maWc6aS5iLmdldENvbmZpZygidXNlclN5bmMiKSxicm93c2VyU3VwcG9ydHNDb29raWVzOmx9KX0sNTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0KXtvLmFkU2VydmVycz1vLmFkU2VydmVyc3x8e30sby5hZFNlcnZlcnNbZV09by5hZFNlcnZlcnNbZV18fHt9LE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe28uYWRTZXJ2ZXJzW2VdW25dP09iamVjdChpLmxvZ1dhcm4pKCJBdHRlbXB0aW5nIHRvIGFkZCBhbiBhbHJlYWR5IHJlZ2lzdGVyZWQgZnVuY3Rpb24gcHJvcGVydHkgIi5jb25jYXQobiwiIGZvciBBZFNlcnZlciAiKS5jb25jYXQoZSwiLiIpKTpvLmFkU2VydmVyc1tlXVtuXT10W25dfSkpfTt2YXIgcj1uKDE0KSxpPW4oMCksbz1PYmplY3Qoci5hKSgpfSw1ODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXIoZSkpcmV0dXJuIGU7dmFyIG4saTtpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwoZSkpKXJldHVybiBpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihuPWUudmFsdWVPZikmJiFyKGk9bi5jYWxsKGUpKSlyZXR1cm4gaTtpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKG49ZS50b1N0cmluZykmJiFyKGk9bi5jYWxsKGUpKSlyZXR1cm4gaTt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0sNTk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjYpLGk9big3OCksbz1uKDQ5KSxhPW4oNTEpLGM9bigxMDYpLHU9W10ucHVzaCxzPWZ1bmN0aW9uKGUpe3ZhciB0PTE9PWUsbj0yPT1lLHM9Mz09ZSxkPTQ9PWUsZj02PT1lLGw9Nz09ZSxwPTU9PWV8fGY7cmV0dXJuIGZ1bmN0aW9uKGcsYix2LHkpe2Zvcih2YXIgaCxtLFM9byhnKSxFPWkoUyksQT1yKGIsdiwzKSxUPWEoRS5sZW5ndGgpLE89MCxJPXl8fGMsdz10P0koZyxUKTpufHxsP0koZywwKTp2b2lkIDA7VD5PO08rKylpZigocHx8TyBpbiBFKSYmKG09QShoPUVbT10sTyxTKSxlKSlpZih0KXdbT109bTtlbHNlIGlmKG0pc3dpdGNoKGUpe2Nhc2UgMzpyZXR1cm4hMDtjYXNlIDU6cmV0dXJuIGg7Y2FzZSA2OnJldHVybiBPO2Nhc2UgMjp1LmNhbGwodyxoKX1lbHNlIHN3aXRjaChlKXtjYXNlIDQ6cmV0dXJuITE7Y2FzZSA3OnUuY2FsbCh3LGgpfXJldHVybiBmPy0xOnN8fGQ/ZDp3fX07ZS5leHBvcnRzPXtmb3JFYWNoOnMoMCksbWFwOnMoMSksZmlsdGVyOnMoMiksc29tZTpzKDMpLGV2ZXJ5OnMoNCksZmluZDpzKDUpLGZpbmRJbmRleDpzKDYpLGZpbHRlck91dDpzKDcpfX0sNjA6ZnVuY3Rpb24oZSx0KXt2YXIgbj1NYXRoLmNlaWwscj1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP3I6bikoZSl9fSw2MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNSksaT1uKDEwOCksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixhPXJbb118fGkobyx7fSk7ZS5leHBvcnRzPWF9LDYyOmZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPU1hdGgucmFuZG9tKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIitTdHJpbmcodm9pZCAwPT09ZT8iIjplKSsiKV8iKygrK24rcikudG9TdHJpbmcoMzYpfX0sNjM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjQpLGk9big0MCksbz1uKDI0KSgiaXRlcmF0b3IiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSlyZXR1cm4gZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW3IoZSldfX0sNjQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjUpLGk9big0Nyksbz1uKDI0KSgidG9TdHJpbmdUYWciKSxhPSJBcmd1bWVudHMiPT1pKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7ZS5leHBvcnRzPXI/aTpmdW5jdGlvbihlKXt2YXIgdCxuLHI7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yobj1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PU9iamVjdChlKSxvKSk/bjphP2kodCk6Ik9iamVjdCI9PShyPWkodCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6cn19LDY1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17fTtyW24oMjQpKCJ0b1N0cmluZ1RhZyIpXT0ieiIsZS5leHBvcnRzPSJbb2JqZWN0IHpdIj09PVN0cmluZyhyKX0sNjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjUpLGk9bigzNCkuZixvPW4oMzIpLGE9bigzMSksYz1uKDExOSksdT1uKDI0KSgidG9TdHJpbmdUYWciKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4scyl7aWYoZSl7dmFyIGQ9bj9lOmUucHJvdG90eXBlO2EoZCx1KXx8aShkLHUse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSkscyYmIXImJm8oZCwidG9TdHJpbmciLGMpfX19LDY3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDgxKSxpPW4oNjIpLG89cigia2V5cyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gb1tlXXx8KG9bZV09aShlKSl9fSw2ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxMjgpLG89big5MyksYT1uKDEzMCksYz1uKDY2KSx1PW4oMzIpLHM9big5MSksZD1uKDI0KSxmPW4oMTcpLGw9big0MCkscD1uKDkyKSxnPXAuSXRlcmF0b3JQcm90b3R5cGUsYj1wLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMsdj1kKCJpdGVyYXRvciIpLHk9ImtleXMiLGg9InZhbHVlcyIsbT0iZW50cmllcyIsUz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4sZCxwLEUsQSl7aShuLHQsZCk7dmFyIFQsTyxJLHc9ZnVuY3Rpb24oZSl7aWYoZT09PXAmJkIpcmV0dXJuIEI7aWYoIWImJmUgaW4gXylyZXR1cm4gX1tlXTtzd2l0Y2goZSl7Y2FzZSB5OmNhc2UgaDpjYXNlIG06cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzKX19LEM9dCsiIEl0ZXJhdG9yIixqPSExLF89ZS5wcm90b3R5cGUsUj1fW3ZdfHxfWyJAQGl0ZXJhdG9yIl18fHAmJl9bcF0sQj0hYiYmUnx8dyhwKSxVPSJBcnJheSI9PXQmJl8uZW50cmllc3x8UjtpZihVJiYoVD1vKFUuY2FsbChuZXcgZSkpLGchPT1PYmplY3QucHJvdG90eXBlJiZULm5leHQmJihmfHxvKFQpPT09Z3x8KGE/YShULGcpOiJmdW5jdGlvbiIhPXR5cGVvZiBUW3ZdJiZ1KFQsdixTKSksYyhULEMsITAsITApLGYmJihsW0NdPVMpKSkscD09aCYmUiYmUi5uYW1lIT09aCYmKGo9ITAsQj1mdW5jdGlvbigpe3JldHVybiBSLmNhbGwodGhpcyl9KSxmJiYhQXx8X1t2XT09PUJ8fHUoXyx2LEIpLGxbdF09QixwKWlmKE89e3ZhbHVlczp3KGgpLGtleXM6RT9COncoeSksZW50cmllczp3KG0pfSxBKWZvcihJIGluIE8pKGJ8fGp8fCEoSSBpbiBfKSkmJnMoXyxJLE9bSV0pO2Vsc2Ugcih7dGFyZ2V0OnQscHJvdG86ITAsZm9yY2VkOmJ8fGp9LE8pO3JldHVybiBPfX0sNjk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9bigwKSxpPXt9O2Z1bmN0aW9uIG8oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKGUsdCl7dmFyIG49aVtlXT1pW2VdfHx7YmlkZGVyczp7fX07cmV0dXJuIHQ/bi5iaWRkZXJzW3RdPW4uYmlkZGVyc1t0XXx8e306bn0oZSxuKTtyZXR1cm4gclt0XT0oclt0XXx8MCkrMSxyW3RdfXZhciBhPXtpbmNyZW1lbnRSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSwicmVxdWVzdHNDb3VudGVyIil9LGluY3JlbWVudEJpZGRlclJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBvKGUsInJlcXVlc3RzQ291bnRlciIsdCl9LGluY3JlbWVudEJpZGRlcldpbnNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oZSwid2luc0NvdW50ZXIiLHQpfSxnZXRSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGksIiIuY29uY2F0KGUsIi5yZXF1ZXN0c0NvdW50ZXIiKSl8fDB9LGdldEJpZGRlclJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShpLCIiLmNvbmNhdChlLCIuYmlkZGVycy4iKS5jb25jYXQodCwiLnJlcXVlc3RzQ291bnRlciIpKXx8MH0sZ2V0QmlkZGVyV2luc0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoaSwiIi5jb25jYXQoZSwiLmJpZGRlcnMuIikuY29uY2F0KHQsIi53aW5zQ291bnRlciIpKXx8MH19fSw3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSx0LmE9ZnVuY3Rpb24oZSl7cmV0dXJuIHMoe21vZHVsZU5hbWU6ZSxtb2R1bGVUeXBlOiJjb3JlIn0pfSx0LmI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyh7Z3ZsaWQ6ZSxtb2R1bGVOYW1lOnR9KX07dmFyIHI9bigxMCksaT1uKDApLG89bigxMiksYT1uLm4obyksYz1bImNvcmUiLCJwcmViaWQtbW9kdWxlIl0sdT1bXTtmdW5jdGlvbiBzKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5ndmxpZCxuPWUubW9kdWxlTmFtZSxyPWUubW9kdWxlVHlwZTtmdW5jdGlvbiBvKGUpe2lmKGEoKShjLHIpKXtyZXR1cm4gZSh7dmFsaWQ6ITB9KX12YXIgbztyZXR1cm4gZCh0LG4se2hhc0VuZm9yY2VtZW50SG9vazohMX0sKGZ1bmN0aW9uKHQpe2lmKHQmJnQuaGFzRW5mb3JjZW1lbnRIb29rKW89ZSh0KTtlbHNle3ZhciBuPXtoYXNFbmZvcmNlbWVudEhvb2s6ITEsdmFsaWQ6aS5oYXNEZXZpY2VBY2Nlc3MoKX07bz1lKG4pfX0pKSxvfXZhciBzPWZ1bmN0aW9uKGUsdCxuLHIsaSxhKXt2YXIgYz1mdW5jdGlvbihvKXtpZihvJiZvLnZhbGlkKXt2YXIgYT1pJiYiIiE9PWk/IiA7ZG9tYWluPSIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChpKSk6IiIsYz1uJiYiIiE9PW4/IiA7ZXhwaXJlcz0iLmNvbmNhdChuKToiIix1PW51bGwhPXImJiJub25lIj09ci50b0xvd2VyQ2FzZSgpPyI7IFNlY3VyZSI6IiI7ZG9jdW1lbnQuY29va2llPSIiLmNvbmNhdChlLCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0KSkuY29uY2F0KGMsIjsgcGF0aD0vIikuY29uY2F0KGEpLmNvbmNhdChyPyI7IFNhbWVTaXRlPSIuY29uY2F0KHIpOiIiKS5jb25jYXQodSl9fTtpZighYXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGEpcmV0dXJuIG8oYyk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8oYyk7YShlKX0pKX0sZj1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe2lmKHQmJnQudmFsaWQpe3ZhciBuPXdpbmRvdy5kb2N1bWVudC5jb29raWUubWF0Y2goIihefDspXFxzKiIrZSsiXFxzKj1cXHMqKFteO10qKVxccyooO3wkKSIpO3JldHVybiBuP2RlY29kZVVSSUNvbXBvbmVudChuWzJdKTpudWxsfXJldHVybiBudWxsfTtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIG8obik7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8obik7dChlKX0pKX0sbD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtpZihlJiZlLnZhbGlkKXRyeXtyZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oInByZWJpZC5jb29raWVUZXN0IiwiMSIpLCIxIj09PWxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwcmViaWQuY29va2llVGVzdCIpfWNhdGNoKGUpe31maW5hbGx5e3RyeXtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgicHJlYmlkLmNvb2tpZVRlc3QiKX1jYXRjaChlKXt9fXJldHVybiExfTtpZighZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUpcmV0dXJuIG8odCk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBuPW8odCk7ZShuKX0pKX0scD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS52YWxpZCkmJighIWkuY2hlY2tDb29raWVTdXBwb3J0KCl8fCh3aW5kb3cuZG9jdW1lbnQuY29va2llPSJwcmViaWQuY29va2llVGVzdCIsLTEhPT13aW5kb3cuZG9jdW1lbnQuY29va2llLmluZGV4T2YoInByZWJpZC5jb29raWVUZXN0IikpKX07aWYoIWV8fCJmdW5jdGlvbiIhPXR5cGVvZiBlKXJldHVybiBvKHQpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgbj1vKHQpO2Uobil9KSl9LGc9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKG4pe24mJm4udmFsaWQmJnkoKSYmd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsdCl9O2lmKCFufHwiZnVuY3Rpb24iIT10eXBlb2YgbilyZXR1cm4gbyhyKTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIGU9byhyKTtuKGUpfSkpfSxiPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQudmFsaWQmJnkoKT93aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSk6bnVsbH07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LHY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXt0JiZ0LnZhbGlkJiZ5KCkmJndpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKX07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LHk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS52YWxpZCl0cnl7cmV0dXJuISF3aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKGUpe2kubG9nRXJyb3IoIkxvY2FsIHN0b3JhZ2UgYXBpIGRpc2FibGVkIil9cmV0dXJuITF9O2lmKCFlfHwiZnVuY3Rpb24iIT10eXBlb2YgZSlyZXR1cm4gbyh0KTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIG49byh0KTtlKG4pfSkpfSxoPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24odCl7aWYodCYmdC52YWxpZCl7dmFyIG49W107aWYoaS5oYXNEZXZpY2VBY2Nlc3MoKSlmb3IodmFyIHI9ZG9jdW1lbnQuY29va2llLnNwbGl0KCI7Iik7ci5sZW5ndGg7KXt2YXIgbz1yLnBvcCgpLGE9by5pbmRleE9mKCI9Iik7YT1hPDA/by5sZW5ndGg6YSxkZWNvZGVVUklDb21wb25lbnQoby5zbGljZSgwLGEpLnJlcGxhY2UoL15ccysvLCIiKSkuaW5kZXhPZihlKT49MCYmbi5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChvLnNsaWNlKGErMSkpKX1yZXR1cm4gbn19O2lmKCF0fHwiZnVuY3Rpb24iIT10eXBlb2YgdClyZXR1cm4gbyhuKTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIGU9byhuKTt0KGUpfSkpfTtyZXR1cm57c2V0Q29va2llOnMsZ2V0Q29va2llOmYsbG9jYWxTdG9yYWdlSXNFbmFibGVkOmwsY29va2llc0FyZUVuYWJsZWQ6cCxzZXREYXRhSW5Mb2NhbFN0b3JhZ2U6ZyxnZXREYXRhRnJvbUxvY2FsU3RvcmFnZTpiLHJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlOnYsaGFzTG9jYWxTdG9yYWdlOnksZmluZFNpbWlsYXJDb29raWVzOmh9fXZhciBkPU9iamVjdChyLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLHIpe3Iobil9KSwidmFsaWRhdGVTdG9yYWdlRW5mb3JjZW1lbnQiKX0sNzQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjEzKTtlLmV4cG9ydHM9cn0sNzU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsImFkVW5pdFNldHVwQ2hlY2tzIiwoZnVuY3Rpb24oKXtyZXR1cm4gWX0pKSxuLmQodCwiY2hlY2tBZFVuaXRTZXR1cCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFF9KSksdC5leGVjdXRlQ2FsbGJhY2tzPWVlO3ZhciByPW4oMTQpLGk9bigwKSxvPW4oMjE5KSxhPW4oNTYpLGM9bigzKSx1PW4oMjMpLHM9bigzOCksZD1uKDEwKSxmPW4oMjIwKSxsPW4oMTIpLHA9bi5uKGwpLGc9big2OSksYj1uKDEzKSx2PW4oNDIpLHk9big3KSxoPW4oNDMpO2Z1bmN0aW9uIG0oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIFMoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIFMoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIFMoZSx0KX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gUyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIEUoKXtyZXR1cm4oRT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBBPU9iamVjdChyLmEpKCksVD1uKDUpLE89bigwKSxJPW4oOCkuZGVmYXVsdCx3PW4oOSksQz1hLmEudHJpZ2dlclVzZXJTeW5jcyxqPVQuRVZFTlRTLF89ai5BRERfQURfVU5JVFMsUj1qLkJJRF9XT04sQj1qLlJFUVVFU1RfQklEUyxVPWouU0VUX1RBUkdFVElORyx4PWouQURfUkVOREVSX0ZBSUxFRCxEPWouQURfUkVOREVSX1NVQ0NFRURFRCxOPWouU1RBTEVfUkVOREVSLGs9VC5BRF9SRU5ERVJfRkFJTEVEX1JFQVNPTixQPWsuUFJFVkVOVF9XUklUSU5HX09OX01BSU5fRE9DVU1FTlQscT1rLk5PX0FELE09ay5FWENFUFRJT04sRz1rLkNBTk5PVF9GSU5EX0FELFc9ay5NSVNTSU5HX0RPQ19PUl9BRElELEw9e2JpZFdvbjpmdW5jdGlvbihlKXt2YXIgdD11LmEuZ2V0Qmlkc1JlcXVlc3RlZCgpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGV9KSl9KSkucmVkdWNlKGkuZmxhdHRlbikuZmlsdGVyKGkudW5pcXVlcyk7aWYoIU8uY29udGFpbnModCxlKSlyZXR1cm4gdm9pZCBPLmxvZ0Vycm9yKCdUaGUgIicrZSsnIiBwbGFjZW1lbnQgaXMgbm90IGRlZmluZWQuJyk7cmV0dXJuITB9fTtmdW5jdGlvbiBGKGUsdCxuKXtlLmRlZmF1bHRWaWV3JiZlLmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudCYmKGUuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50LndpZHRoPXQsZS5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQuaGVpZ2h0PW4pfWZ1bmN0aW9uIHooZSx0KXt2YXIgbj1bXTtyZXR1cm4gTy5pc0FycmF5KGUpJiYodD9lLmxlbmd0aD09PXQ6ZS5sZW5ndGg+MCkmJihlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuaXNBcnJheU9mTnVtcykoZSwyKX0pKT9uPWU6T2JqZWN0KGkuaXNBcnJheU9mTnVtcykoZSwyKSYmbi5wdXNoKGUpKSxufWZ1bmN0aW9uIFYoZSl7dmFyIHQ9Ty5kZWVwQ2xvbmUoZSksbj10Lm1lZGlhVHlwZXMuYmFubmVyLHI9eihuLnNpemVzKTtyZXR1cm4gci5sZW5ndGg+MD8obi5zaXplcz1yLHQuc2l6ZXM9cik6KE8ubG9nRXJyb3IoIkRldGVjdGVkIGEgbWVkaWFUeXBlcy5iYW5uZXIgb2JqZWN0IHdpdGhvdXQgYSBwcm9wZXIgc2l6ZXMgZmllbGQuICBQbGVhc2UgZW5zdXJlIHRoZSBzaXplcyBhcmUgbGlzdGVkIGxpa2U6IFtbMzAwLCAyNTBdLCAuLi5dLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLmJhbm5lciBvYmplY3QgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMuYmFubmVyKSx0fWZ1bmN0aW9uIEgoZSl7dmFyIHQ9Ty5kZWVwQ2xvbmUoZSksbj10Lm1lZGlhVHlwZXMudmlkZW87aWYobi5wbGF5ZXJTaXplKXt2YXIgcj0ibnVtYmVyIj09dHlwZW9mIG4ucGxheWVyU2l6ZVswXT8yOjEsaT16KG4ucGxheWVyU2l6ZSxyKTtpLmxlbmd0aD4wPygyPT09ciYmTy5sb2dJbmZvKCJUcmFuc2Zvcm1pbmcgdmlkZW8ucGxheWVyU2l6ZSBmcm9tIFs2NDAsNDgwXSB0byBbWzY0MCw0ODBdXSBzbyBpdCdzIGluIHRoZSBwcm9wZXIgZm9ybWF0LiIpLG4ucGxheWVyU2l6ZT1pLHQuc2l6ZXM9aSk6KE8ubG9nRXJyb3IoIkRldGVjdGVkIGluY29ycmVjdCBjb25maWd1cmF0aW9uIG9mIG1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZS4gIFBsZWFzZSBzcGVjaWZ5IG9ubHkgb25lIHNldCBvZiBkaW1lbnNpb25zIGluIGEgZm9ybWF0IGxpa2U6IFtbNjQwLCA0ODBdXS4gUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSl9cmV0dXJuIHR9ZnVuY3Rpb24gSyhlKXt2YXIgdD1PLmRlZXBDbG9uZShlKSxuPXQubWVkaWFUeXBlcy5uYXRpdmU7cmV0dXJuIG4uaW1hZ2UmJm4uaW1hZ2Uuc2l6ZXMmJiFBcnJheS5pc0FycmF5KG4uaW1hZ2Uuc2l6ZXMpJiYoTy5sb2dFcnJvcigiUGxlYXNlIHVzZSBhbiBhcnJheSBvZiBzaXplcyBmb3IgbmF0aXZlLmltYWdlLnNpemVzIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5zaXplcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2Uuc2l6ZXMpLG4uaW1hZ2UmJm4uaW1hZ2UuYXNwZWN0X3JhdGlvcyYmIUFycmF5LmlzQXJyYXkobi5pbWFnZS5hc3BlY3RfcmF0aW9zKSYmKE8ubG9nRXJyb3IoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zIHByb3BlcnR5IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgdC5tZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zKSxuLmljb24mJm4uaWNvbi5zaXplcyYmIUFycmF5LmlzQXJyYXkobi5pY29uLnNpemVzKSYmKE8ubG9nRXJyb3IoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pY29uLnNpemVzIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pY29uLnNpemVzIHByb3BlcnR5IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgdC5tZWRpYVR5cGVzLm5hdGl2ZS5pY29uLnNpemVzKSx0fWZ1bmN0aW9uIEooZSx0KXt2YXIgbj1PLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdCh0LCIucG9zIikpO2lmKCFufHwhTy5pc051bWJlcihuKXx8IWlzRmluaXRlKG4pKXt2YXIgcj0iVmFsdWUgb2YgcHJvcGVydHkgJ3Bvcycgb24gYWQgdW5pdCAiLmNvbmNhdChlLmNvZGUsIiBzaG91bGQgYmUgb2YgdHlwZTogTnVtYmVyIik7Ty5sb2dXYXJuKHIpLHcuZW1pdChULkVWRU5UUy5BVUNUSU9OX0RFQlVHLHt0eXBlOiJXQVJOSU5HIixhcmd1bWVudHM6cn0pLGRlbGV0ZSBlLm1lZGlhVHlwZXNbdF0ucG9zfXJldHVybiBlfU9iamVjdChmLmEpKCksQS5iaWRkZXJTZXR0aW5ncz1BLmJpZGRlclNldHRpbmdzfHx7fSxBLmxpYkxvYWRlZD0hMCxBLnZlcnNpb249InY1LjExLjAiLE8ubG9nSW5mbygiUHJlYmlkLmpzIHY1LjExLjAgbG9hZGVkIiksQS5pbnN0YWxsZWRNb2R1bGVzPVsiY29uc2VudE1hbmFnZW1lbnQiLCJjb25zZW50TWFuYWdlbWVudFVzcCIsIjMzYWNyb3NzQmlkQWRhcHRlciIsImFtYXpvbkJpZEFkYXB0ZXIiLCJhZGZCaWRBZGFwdGVyIiwiYW9sQmlkQWRhcHRlciIsImFkeW91bGlrZUJpZEFkYXB0ZXIiLCJhcHBuZXh1c0JpZEFkYXB0ZXIiLCJjb252ZXJzYW50QmlkQWRhcHRlciIsImNyaXRlb0JpZEFkYXB0ZXIiLCJndW1ndW1CaWRBZGFwdGVyIiwiZW14X2RpZ2l0YWxCaWRBZGFwdGVyIiwiaW1wcm92ZWRpZ2l0YWxCaWRBZGFwdGVyIiwiaXhCaWRBZGFwdGVyIiwic21hcnRhZHNlcnZlckJpZEFkYXB0ZXIiLCJvcGVueEJpZEFkYXB0ZXIiLCJtZWRpYW5ldEJpZEFkYXB0ZXIiLCJjb25zdW1hYmxlQmlkQWRhcHRlciIsInRyaXBsZWxpZnRCaWRBZGFwdGVyIiwidW5kZXJkb2dtZWRpYUJpZEFkYXB0ZXIiLCJwdWJtYXRpY0JpZEFkYXB0ZXIiLCJwdWxzZXBvaW50QmlkQWRhcHRlciIsInJ1Ymljb25CaWRBZGFwdGVyIiwic29ub2JpQmlkQWRhcHRlciIsInNvdnJuQmlkQWRhcHRlciIsInNoYXJldGhyb3VnaEJpZEFkYXB0ZXIiLCJkaXN0cmljdG1ETVhCaWRBZGFwdGVyIiwibG9ja2VyZG9tZUJpZEFkYXB0ZXIiLCJyaHl0aG1vbmVCaWRBZGFwdGVyIiwiY3VycmVuY3kiLCJzY2hhaW4iLCJ1c2VySWQiLCJwdWJQcm92aWRlZElkU3lzdGVtIiwieWllbGRsYWJCaWRBZGFwdGVyIiwicHVic3RhY2tBbmFseXRpY3NBZGFwdGVyIiwibm9iaWRCaWRBZGFwdGVyIiwic29ydGFibGVCaWRBZGFwdGVyIiwicHJlYmlkU2VydmVyQmlkQWRhcHRlciIsImJyaWdodGNvbUJpZEFkYXB0ZXIiLCJ0cnVzdHhCaWRBZGFwdGVyIiwiaWQ1SWRTeXN0ZW0iXSxBLmFkVW5pdHM9QS5hZFVuaXRzfHxbXSxBLnNldENvb2tpZUZyYW1lPWZ1bmN0aW9uKGUpe08ubG9nSW5mbygiSW52b2tpbmcgdXBianMuc2V0Q29va2llRnJhbWUiLGFyZ3VtZW50cyksaC5mKGUpfSxBLm9uQmVmb3JlUmVxdWVzdD1mdW5jdGlvbihlKXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLm9uQmVmb3JlUmVxdWVzdCIsYXJndW1lbnRzKSxoLmIoZSl9LEEub25TZW5kTG9nPWZ1bmN0aW9uKGUpe08ubG9nSW5mbygiSW52b2tpbmcgdXBianMub25TZW5kTG9nIixhcmd1bWVudHMpLGguZChlKX0sQS50cmlnZ2VyVXNlclN5bmNzPUM7dmFyIFk9e3ZhbGlkYXRlQmFubmVyTWVkaWFUeXBlOlYsdmFsaWRhdGVWaWRlb01lZGlhVHlwZTpILHZhbGlkYXRlTmF0aXZlTWVkaWFUeXBlOkssdmFsaWRhdGVTaXplczp6fSxRPU9iamVjdChkLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG4scixpLG89ZS5tZWRpYVR5cGVzLGE9ZS5iaWRzO2lmKGEmJk8uaXNBcnJheShhKSlpZihvJiYwIT09T2JqZWN0LmtleXMobykubGVuZ3RoKXtvLmJhbm5lciYmKG49VihlKSxvLmJhbm5lci5oYXNPd25Qcm9wZXJ0eSgicG9zIikmJihuPUoobiwiYmFubmVyIikpKSxvLnZpZGVvJiYocj1IKG58fGUpLG8udmlkZW8uaGFzT3duUHJvcGVydHkoInBvcyIpJiYocj1KKHIsInZpZGVvIikpKSxvLm5hdGl2ZSYmKGk9SyhyfHwobnx8ZSkpKTt2YXIgYz1FKHt9LG4scixpKTt0LnB1c2goYyl9ZWxzZSBPLmxvZ0Vycm9yKCJEZXRlY3RlZCBhZFVuaXQuY29kZSAnIi5jb25jYXQoZS5jb2RlLCInIGRpZCBub3QgaGF2ZSBhICdtZWRpYVR5cGVzJyBvYmplY3QgZGVmaW5lZC4gIFRoaXMgaXMgYSByZXF1aXJlZCBmaWVsZCBmb3IgdGhlIGF1Y3Rpb24sIHNvIHRoaXMgYWRVbml0IGhhcyBiZWVuIHJlbW92ZWQuIikpO2Vsc2UgTy5sb2dFcnJvcigiRGV0ZWN0ZWQgYWRVbml0LmNvZGUgJyIuY29uY2F0KGUuY29kZSwiJyBkaWQgbm90IGhhdmUgJ2FkVW5pdC5iaWRzJyBkZWZpbmVkIG9yICdhZFVuaXQuYmlkcycgaXMgbm90IGFuIGFycmF5LiBSZW1vdmluZyBhZFVuaXQgZnJvbSBhdWN0aW9uLiIpKX0pKSx0fSksImNoZWNrQWRVbml0U2V0dXAiKTtmdW5jdGlvbiAkKGUpe3ZhciB0PXUuYVtlXSgpLmZpbHRlcihPLmJpbmQuY2FsbChpLmFkVW5pdHNGaWx0ZXIsdGhpcyx1LmEuZ2V0QWRVbml0Q29kZXMoKSkpLG49dS5hLmdldExhc3RBdWN0aW9uSWQoKTtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGV9KSkuZmlsdGVyKGkudW5pcXVlcykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmF1Y3Rpb25JZD09PW4mJnQuYWRVbml0Q29kZT09PWV9KSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmZVswXSYmZVswXS5hZFVuaXRDb2RlfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9e30sbj1lWzBdLmFkVW5pdENvZGUscj17YmlkczplfSxuIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0O3ZhciB0LG4scn0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEUoZSx0KX0pLHt9KX1mdW5jdGlvbiBYKGUpe3ZhciB0PWUucmVhc29uLG49ZS5tZXNzYWdlLHI9ZS5iaWQsaT1lLmlkLG89e3JlYXNvbjp0LG1lc3NhZ2U6bn07ciYmKG8uYmlkPXIpLGkmJihvLmFkSWQ9aSksTy5sb2dFcnJvcihuKSx3LmVtaXQoeCxvKX1mdW5jdGlvbiBaKGUpe3ZhciB0PWUuZG9jLG49ZS5iaWQscj1lLmlkLGk9e2RvYzp0fTtuJiYoaS5iaWQ9biksciYmKGkuYWRJZD1yKSx3LmVtaXQoRCxpKX1mdW5jdGlvbiBlZShlLHQpe2Z1bmN0aW9uIG4oZSl7Zm9yKHZhciB0O3Q9ZS5zaGlmdCgpOyl0KCl9bih5LmMpLG4odGUpLGUuY2FsbCh0aGlzLHQpfUEuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlU3RyPWZ1bmN0aW9uKGUpe2lmKE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlU3RyIixhcmd1bWVudHMpLGUpe3ZhciB0PUEuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlKGUpO3JldHVybiBPLnRyYW5zZm9ybUFkU2VydmVyVGFyZ2V0aW5nT2JqKHQpfU8ubG9nTWVzc2FnZSgiTmVlZCB0byBjYWxsIGdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0ciB3aXRoIGFkdW5pdENvZGUiKX0sQS5nZXRIaWdoZXN0VW51c2VkQmlkUmVzcG9uc2VGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXUuYS5nZXRBbGxCaWRzRm9yQWRVbml0Q29kZShlKS5maWx0ZXIocy5hLmlzVW51c2VkQmlkKS5maWx0ZXIocy5hLmlzQmlkTm90RXhwaXJlZCk7cmV0dXJuIHQubGVuZ3RoP3QucmVkdWNlKGkuZ2V0SGlnaGVzdENwbSk6e319Ty5sb2dNZXNzYWdlKCJOZWVkIHRvIGNhbGwgZ2V0SGlnaGVzdFVudXNlZEJpZFJlc3BvbnNlRm9yQWRVbml0Q29kZSB3aXRoIGFkdW5pdENvZGUiKX0sQS5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIEEuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmcoZSlbZV19LEEuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTy5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5nZXRBZHNlcnZlclRhcmdldGluZyIsYXJndW1lbnRzKSxzLmQuZ2V0QWxsVGFyZ2V0aW5nKGUsdCl9LEEuZ2V0Tm9CaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMuZ2V0Tm9CaWRzIixhcmd1bWVudHMpLCQoImdldE5vQmlkcyIpfSxBLmdldE5vQmlkc0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7cmV0dXJue2JpZHM6dS5hLmdldE5vQmlkcygpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWV9KSl9fSxBLmdldEJpZFJlc3BvbnNlcz1mdW5jdGlvbigpe3JldHVybiBPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmdldEJpZFJlc3BvbnNlcyIsYXJndW1lbnRzKSwkKCJnZXRCaWRzUmVjZWl2ZWQiKX0sQS5nZXRCaWRSZXNwb25zZXNGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3JldHVybntiaWRzOnUuYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lfSkpfX0sQS5zZXRUYXJnZXRpbmdGb3JHUFRBc3luYz1mdW5jdGlvbihlLHQpe2lmKE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMuc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmMiLGFyZ3VtZW50cyksT2JqZWN0KGkuaXNHcHRQdWJhZHNEZWZpbmVkKSgpKXt2YXIgbj1zLmQuZ2V0QWxsVGFyZ2V0aW5nKGUpO3MuZC5yZXNldFByZXNldFRhcmdldGluZyhlLHQpLHMuZC5zZXRUYXJnZXRpbmdGb3JHUFQobix0KSxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhuW2VdKS5mb3JFYWNoKChmdW5jdGlvbih0KXsiaGJfYWRpZCI9PT10JiZ1LmEuc2V0U3RhdHVzRm9yQmlkcyhuW2VdW3RdLFQuQklEX1NUQVRVUy5CSURfVEFSR0VUSU5HX1NFVCl9KSl9KSksdy5lbWl0KFUsbil9ZWxzZSBPLmxvZ0Vycm9yKCJ3aW5kb3cuZ29vZ2xldGFnIGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBwYWdlIil9LEEuc2V0VGFyZ2V0aW5nRm9yQXN0PWZ1bmN0aW9uKGUpe08ubG9nSW5mbygiSW52b2tpbmcgdXBianMuc2V0VGFyZ2V0aW5nRm9yQW4iLGFyZ3VtZW50cykscy5kLmlzQXBudGFnRGVmaW5lZCgpPyhzLmQuc2V0VGFyZ2V0aW5nRm9yQXN0KGUpLHcuZW1pdChVLHMuZC5nZXRBbGxUYXJnZXRpbmcoKSkpOk8ubG9nRXJyb3IoIndpbmRvdy5hcG50YWcgaXMgbm90IGRlZmluZWQgb24gdGhlIHBhZ2UiKX0sQS5yZW5kZXJBZD1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQsbil7aWYoTy5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZW5kZXJBZCIsYXJndW1lbnRzKSxPLmxvZ01lc3NhZ2UoIkNhbGxpbmcgcmVuZGVyQWQgd2l0aCBhZElkIDoiK3QpLGUmJnQpdHJ5e3ZhciByPXUuYS5maW5kQmlkQnlBZElkKHQpO2lmKHIpe3ZhciBpPSEwO2lmKHImJnIuc3RhdHVzPT09VC5CSURfU1RBVFVTLlJFTkRFUkVEJiYoTy5sb2dXYXJuKCJBZCBpZCAiLmNvbmNhdChyLmFkSWQsIiBoYXMgYmVlbiByZW5kZXJlZCBiZWZvcmUiKSksdy5lbWl0KE4sciksTy5kZWVwQWNjZXNzKGMuYi5nZXRDb25maWcoImF1Y3Rpb25PcHRpb25zIiksInN1cHByZXNzU3RhbGVSZW5kZXIiKSYmKGk9ITEpKSxpKXtpZihyLmFkPU8ucmVwbGFjZUF1Y3Rpb25QcmljZShyLmFkLHIuY3BtKSxyLmFkVXJsPU8ucmVwbGFjZUF1Y3Rpb25QcmljZShyLmFkVXJsLHIuY3BtKSxuJiZuLmNsaWNrVGhyb3VnaCl7dmFyIG89bi5jbGlja1Rocm91Z2g7ci5hZD1PLnJlcGxhY2VDbGlja1Rocm91Z2goci5hZCxvKSxyLmFkVXJsPU8ucmVwbGFjZUNsaWNrVGhyb3VnaChyLmFkVXJsLG8pfXUuYS5hZGRXaW5uaW5nQmlkKHIpLHcuZW1pdChSLHIpO3ZhciBhPXIuaGVpZ2h0LHM9ci53aWR0aCxkPXIuYWQsZj1yLm1lZGlhVHlwZSxsPXIuYWRVcmwscD1yLnJlbmRlcmVyLGc9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgiQ3JlYXRpdmUgIi5jb25jYXQoci5jcmVhdGl2ZUlkLCIgc2VydmVkIGJ5ICIpLmNvbmNhdChyLmJpZGRlciwiIFByZWJpZC5qcyBIZWFkZXIgQmlkZGluZyIpKTtpZihPYmplY3QoYi5jKShwKSlPYmplY3QoYi5iKShwLHIpLE8uaW5zZXJ0RWxlbWVudChnLGUsImh0bWwiKSxaKHtkb2M6ZSxiaWQ6cixpZDp0fSk7ZWxzZSBpZihlPT09ZG9jdW1lbnQmJiFPLmluSWZyYW1lKCl8fCJ2aWRlbyI9PT1mKXt2YXIgdj0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkLiBBZCByZW5kZXIgY2FsbCBhZCBpZCAiLmNvbmNhdCh0LCIgd2FzIHByZXZlbnRlZCBmcm9tIHdyaXRpbmcgdG8gdGhlIG1haW4gZG9jdW1lbnQuIik7WCh7cmVhc29uOlAsbWVzc2FnZTp2LGJpZDpyLGlkOnR9KX1lbHNlIGlmKGQpe2lmKG5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJmaXJlZm94LyIpPi0xKXt2YXIgeT0vZmlyZWZveFwvKFtcZFwuXSspLyxoPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCh5KVsxXTtoJiZwYXJzZUludChoLDEwKTw2NyYmZS5vcGVuKCJ0ZXh0L2h0bWwiLCJyZXBsYWNlIil9ZS53cml0ZShkKSxlLmNsb3NlKCksRihlLHMsYSksTy5pbnNlcnRFbGVtZW50KGcsZSwiaHRtbCIpLE8uY2FsbEJ1cmwociksWih7ZG9jOmUsYmlkOnIsaWQ6dH0pfWVsc2UgaWYobCl7dmFyIG09Ty5jcmVhdGVJbnZpc2libGVJZnJhbWUoKTttLmhlaWdodD1hLG0ud2lkdGg9cyxtLnN0eWxlLmRpc3BsYXk9ImlubGluZSIsbS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIixtLnNyYz1sLE8uaW5zZXJ0RWxlbWVudChtLGUsImJvZHkiKSxGKGUscyxhKSxPLmluc2VydEVsZW1lbnQoZyxlLCJodG1sIiksTy5jYWxsQnVybChyKSxaKHtkb2M6ZSxiaWQ6cixpZDp0fSl9ZWxzZXt2YXIgUz0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkLiBObyBhZCBmb3IgYmlkIHJlc3BvbnNlIGlkOiAiLmNvbmNhdCh0KTtYKHtyZWFzb246cSxtZXNzYWdlOlMsYmlkOnIsaWQ6dH0pfX19ZWxzZXt2YXIgRT0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkLiBDYW5ub3QgZmluZCBhZCBieSBnaXZlbiBpZCA6ICIuY29uY2F0KHQpO1goe3JlYXNvbjpHLG1lc3NhZ2U6RSxpZDp0fSl9fWNhdGNoKGUpe3ZhciBBPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQgSWQgOiIuY29uY2F0KHQsIiB0byB0aGUgcGFnZToiKS5jb25jYXQoZS5tZXNzYWdlKTtYKHtyZWFzb246TSxtZXNzYWdlOkEsaWQ6dH0pfWVsc2V7dmFyIEk9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZCBJZCA6Ii5jb25jYXQodCwiIHRvIHRoZSBwYWdlLiBNaXNzaW5nIGRvY3VtZW50IG9yIGFkSWQiKTtYKHtyZWFzb246VyxtZXNzYWdlOkksaWQ6dH0pfX0pKSxBLnJlbW92ZUFkVW5pdD1mdW5jdGlvbihlKXsoTy5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZW1vdmVBZFVuaXQiLGFyZ3VtZW50cyksZSk/KE8uaXNBcnJheShlKT9lOltlXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PUEuYWRVbml0cy5sZW5ndGgtMTt0Pj0wO3QtLSlBLmFkVW5pdHNbdF0uY29kZT09PWUmJkEuYWRVbml0cy5zcGxpY2UodCwxKX0pKTpBLmFkVW5pdHM9W119LEEucmVxdWVzdEJpZHM9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmJpZHNCYWNrSGFuZGxlcixuPWUudGltZW91dCxyPWUuYWRVbml0cyxpPWUuYWRVbml0Q29kZXMsbz1lLmxhYmVscyxhPWUuYXVjdGlvbklkO3cuZW1pdChCKTt2YXIgZD1ufHxjLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iik7cj1yJiZjLmIuY29udmVydEFkVW5pdEZwZChPLmlzQXJyYXkocik/cjpbcl0pfHxBLmFkVW5pdHMsTy5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZXF1ZXN0QmlkcyIsYXJndW1lbnRzKTt2YXIgZj1yLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBPLmRlZXBBY2Nlc3MoZSwib3J0YjJJbXAuZXh0LnByZWJpZC5zdG9yZWRyZXF1ZXN0Iil9KSksbD1bXSxiPWMuYi5nZXRDb25maWcoInMyc0NvbmZpZyIpO2ImJihsPUFycmF5LmlzQXJyYXkoYik/YjpbYl0pO3ZhciB2PVtdO2lmKGwuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZiYmZS5iaWRkZXJzLnB1c2goInMyc0JpZGRlclBsYWNlaG9sZGVyIiksdi5wdXNoLmFwcGx5KHYsbShlLmJpZGRlcnMpKX0pKSxyPVEociksaSYmaS5sZW5ndGg/cj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHAoKShpLGUuY29kZSl9KSk6aT1yJiZyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29kZX0pKSxyLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC5rZXlzKGUubWVkaWFUeXBlc3x8e2Jhbm5lcjoiYmFubmVyIn0pOyFlLmJpZHMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIj09PWUuYmlkZGVyfSkpJiZ2LmluY2x1ZGVzKCJzMnNCaWRkZXJQbGFjZWhvbGRlciIpJiZPLmRlZXBBY2Nlc3MoZSwib3J0YjJJbXAuZXh0LnByZWJpZC5zdG9yZWRyZXF1ZXN0IikmJmUuYmlkcy5wdXNoKHtiaWRkZXI6InMyc0JpZGRlclBsYWNlaG9sZGVyIn0pO3ZhciBuPWUuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pKSxyPUkuYmlkZGVyUmVnaXN0cnksaT12P24uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hcCgpKHYsZSl9KSk6bjtlLnRyYW5zYWN0aW9uSWQ9Ty5nZW5lcmF0ZVVVSUQoKSxpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBpPXJbbl0sbz1pJiZpLmdldFNwZWMmJmkuZ2V0U3BlYygpLGE9byYmby5zdXBwb3J0ZWRNZWRpYVR5cGVzfHxbImJhbm5lciJdO3Quc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHAoKShhLGUpfSkpP2cuYS5pbmNyZW1lbnRCaWRkZXJSZXF1ZXN0c0NvdW50ZXIoZS5jb2RlLG4pOihPLmxvZ1dhcm4oTy51bnN1cHBvcnRlZEJpZGRlck1lc3NhZ2UoZSxuKSksZS5iaWRzPWUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlciE9PW59KSkpfSkpLGcuYS5pbmNyZW1lbnRSZXF1ZXN0c0NvdW50ZXIoZS5jb2RlKX0pKSxyJiYwIT09ci5sZW5ndGgpe3ZhciB5PXUuYS5jcmVhdGVBdWN0aW9uKHthZFVuaXRzOnIsYWRVbml0Q29kZXM6aSxjYWxsYmFjazp0LGNiVGltZW91dDpkLGxhYmVsczpvLGF1Y3Rpb25JZDphfSksaD1yLmxlbmd0aDtoPjE1JiZPLmxvZ0luZm8oIkN1cnJlbnQgYXVjdGlvbiAiLmNvbmNhdCh5LmdldEF1Y3Rpb25JZCgpLCIgY29udGFpbnMgIikuY29uY2F0KGgsIiBhZFVuaXRzLiIpLHIpLGkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHMuZC5zZXRMYXRlc3RBdWN0aW9uRm9yQWRVbml0KGUseS5nZXRBdWN0aW9uSWQoKSl9KSkseS5jYWxsQmlkcygpfWVsc2UgaWYoTy5sb2dNZXNzYWdlKCJObyBhZFVuaXRzIGNvbmZpZ3VyZWQuIE5vIGJpZHMgcmVxdWVzdGVkLiIpLCJmdW5jdGlvbiI9PXR5cGVvZiB0KXRyeXt0KCl9Y2F0Y2goZSl7Ty5sb2dFcnJvcigiRXJyb3IgZXhlY3V0aW5nIGJpZHNCYWNrSGFuZGxlciIsbnVsbCxlKX19KSksQS5yZXF1ZXN0Qmlkcy5iZWZvcmUoZWUsNDkpLEEuYWRkQWRVbml0cz1mdW5jdGlvbihlKXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmFkZEFkVW5pdHMiLGFyZ3VtZW50cyksQS5hZFVuaXRzLnB1c2guYXBwbHkoQS5hZFVuaXRzLGMuYi5jb252ZXJ0QWRVbml0RnBkKE8uaXNBcnJheShlKT9lOltlXSkpLHcuZW1pdChfKX0sQS5vbkV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLm9uRXZlbnQiLGFyZ3VtZW50cyksTy5pc0ZuKHQpPyFufHxMW2VdLmNhbGwobnVsbCxuKT93Lm9uKGUsdCxuKTpPLmxvZ0Vycm9yKCdUaGUgaWQgcHJvdmlkZWQgaXMgbm90IHZhbGlkIGZvciBldmVudCAiJytlKyciIGFuZCBubyBoYW5kbGVyIHdhcyBzZXQuJyk6Ty5sb2dFcnJvcignVGhlIGV2ZW50IGhhbmRsZXIgcHJvdmlkZWQgaXMgbm90IGEgZnVuY3Rpb24gYW5kIHdhcyBub3Qgc2V0IG9uIGV2ZW50ICInK2UrJyIuJyl9LEEub2ZmRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe08ubG9nSW5mbygiSW52b2tpbmcgdXBianMub2ZmRXZlbnQiLGFyZ3VtZW50cyksbiYmIUxbZV0uY2FsbChudWxsLG4pfHx3Lm9mZihlLHQsbil9LEEuZ2V0RXZlbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMuZ2V0RXZlbnRzIiksdy5nZXRFdmVudHMoKX0sQS5yZWdpc3RlckJpZEFkYXB0ZXI9ZnVuY3Rpb24oZSx0KXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnJlZ2lzdGVyQmlkQWRhcHRlciIsYXJndW1lbnRzKTt0cnl7SS5yZWdpc3RlckJpZEFkYXB0ZXIoZSgpLHQpfWNhdGNoKGUpe08ubG9nRXJyb3IoIkVycm9yIHJlZ2lzdGVyaW5nIGJpZGRlciBhZGFwdGVyIDogIitlLm1lc3NhZ2UpfX0sQS5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXI9ZnVuY3Rpb24oZSl7Ty5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXIiLGFyZ3VtZW50cyk7dHJ5e0kucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyKGUpfWNhdGNoKGUpe08ubG9nRXJyb3IoIkVycm9yIHJlZ2lzdGVyaW5nIGFuYWx5dGljcyBhZGFwdGVyIDogIitlLm1lc3NhZ2UpfX0sQS5jcmVhdGVCaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMuY3JlYXRlQmlkIixhcmd1bWVudHMpLE9iamVjdCh2LmEpKGUpfTt2YXIgdGU9W10sbmU9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSl7ZSYmIU8uaXNFbXB0eShlKT8oTy5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5lbmFibGVBbmFseXRpY3MgZm9yOiAiLGUpLEkuZW5hYmxlQW5hbHl0aWNzKGUpKTpPLmxvZ0Vycm9yKCJ1cGJqcy5lbmFibGVBbmFseXRpY3Mgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIG9wdGlvbiB7fSIpfSksImVuYWJsZUFuYWx5dGljc0NiIik7ZnVuY3Rpb24gcmUoZSl7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lLmNhbGxlZCl0cnl7ZS5jYWxsKCksZS5jYWxsZWQ9ITB9Y2F0Y2goZSl7Ty5sb2dFcnJvcigiRXJyb3IgcHJvY2Vzc2luZyBjb21tYW5kIDoiLCJwcmViaWQuanMiLGUpfX0pKX1BLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbihlKXt0ZS5wdXNoKG5lLmJpbmQodGhpcyxlKSl9LEEuYWxpYXNCaWRkZXI9ZnVuY3Rpb24oZSx0LG4pe08ubG9nSW5mbygiSW52b2tpbmcgdXBianMuYWxpYXNCaWRkZXIiLGFyZ3VtZW50cyksZSYmdD9JLmFsaWFzQmlkQWRhcHRlcihlLHQsbik6Ty5sb2dFcnJvcigiYmlkZGVyQ29kZSBhbmQgYWxpYXMgbXVzdCBiZSBwYXNzZWQgYXMgYXJndW1lbnRzIiwidXBianMuYWxpYXNCaWRkZXIiKX0sQS5nZXRBbGxXaW5uaW5nQmlkcz1mdW5jdGlvbigpe3JldHVybiB1LmEuZ2V0QWxsV2lubmluZ0JpZHMoKX0sQS5nZXRBbGxQcmViaWRXaW5uaW5nQmlkcz1mdW5jdGlvbigpe3JldHVybiB1LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGF0dXM9PT1ULkJJRF9TVEFUVVMuQklEX1RBUkdFVElOR19TRVR9KSl9LEEuZ2V0SGlnaGVzdENwbUJpZHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHMuZC5nZXRXaW5uaW5nQmlkcyhlKX0sQS5tYXJrV2lubmluZ0JpZEFzVXNlZD1mdW5jdGlvbihlKXt2YXIgdD1bXTtlLmFkVW5pdENvZGUmJmUuYWRJZD90PXUuYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkSWQ9PT1lLmFkSWQmJnQuYWRVbml0Q29kZT09PWUuYWRVbml0Q29kZX0pKTplLmFkVW5pdENvZGU/dD1zLmQuZ2V0V2lubmluZ0JpZHMoZS5hZFVuaXRDb2RlKTplLmFkSWQ/dD11LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZElkPT09ZS5hZElkfSkpOk8ubG9nV2FybigiSW1wcm9wZXIgdXNlIG9mIG1hcmtXaW5uaW5nQmlkQXNVc2VkLiBJdCBuZWVkcyBhbiBhZFVuaXRDb2RlIG9yIGFuIGFkSWQgdG8gZnVuY3Rpb24uIiksdC5sZW5ndGg+MCYmKHRbMF0uc3RhdHVzPVQuQklEX1NUQVRVUy5SRU5ERVJFRCl9LEEuZ2V0Q29uZmlnPWMuYi5nZXRDb25maWcsQS5zZXRDb25maWc9Yy5iLnNldENvbmZpZyxBLnNldEJpZGRlckNvbmZpZz1jLmIuc2V0QmlkZGVyQ29uZmlnLEEucXVlLnB1c2goKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChvLmEpKCl9KSksQS5jbWQucHVzaD1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSl0cnl7ZS5jYWxsKCl9Y2F0Y2goZSl7Ty5sb2dFcnJvcigiRXJyb3IgcHJvY2Vzc2luZyBjb21tYW5kIDoiLGUubWVzc2FnZSxlLnN0YWNrKX1lbHNlIE8ubG9nRXJyb3IoIkNvbW1hbmRzIHdyaXR0ZW4gaW50byB1cGJqcy5jbWQucHVzaCBtdXN0IGJlIHdyYXBwZWQgaW4gYSBmdW5jdGlvbiIpfSxBLnF1ZS5wdXNoPUEuY21kLnB1c2gsQS5wcm9jZXNzUXVldWU9ZnVuY3Rpb24oKXtkLmIucmVhZHkoKSxyZShBLnF1ZSkscmUoQS5jbWQpfSx0LmRlZmF1bHQ9QX0sNzY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzQ3KTtlLmV4cG9ydHM9cn0sNzc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtyZXR1cm57Y2FsbEJpZHM6ZnVuY3Rpb24oKXt9LHNldEJpZGRlckNvZGU6ZnVuY3Rpb24oZSl7dD1lfSxnZXRCaWRkZXJDb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHR9fX19LDc4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KSxpPW4oNDcpLG89IiIuc3BsaXQ7ZS5leHBvcnRzPXIoKGZ1bmN0aW9uKCl7cmV0dXJuIU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1pKGUpP28uY2FsbChlLCIiKTpPYmplY3QoZSl9Ok9iamVjdH0sNzk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9bigyOSksbz1uKDgwKTtlLmV4cG9ydHM9IXImJiFpKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobygiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpfSw4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJnZHByRGF0YUhhbmRsZXIiLChmdW5jdGlvbigpe3JldHVybiBCfSkpLG4uZCh0LCJ1c3BEYXRhSGFuZGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIFV9KSksbi5kKHQsImNvcHBhRGF0YUhhbmRsZXIiLChmdW5jdGlvbigpe3JldHVybiB4fSkpLG4uZCh0LCJjbGllbnRUZXN0QWRhcHRlcnMiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLG4uZCh0LCJhbGxTMlNCaWRkZXJzIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKSx0LmdldEFsbFMyU0JpZGRlcnM9ayx0LnNldFMyU1Rlc3RpbmdNb2R1bGU9ZnVuY3Rpb24oZSl7RT1lfTt2YXIgcj1uKDApLGk9big5Nyksbz1uKDM2KSxhPW4oMSksYz1uKDQpLHU9bigzKSxzPW4oMTApLGQ9bigxMiksZj1uLm4oZCksbD1uKDExKSxwPW4ubihsKSxnPW4oNjkpLGI9bigyMCk7ZnVuY3Rpb24gdihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGgoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHkoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG0oZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxoKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGgoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIG0oZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9tKGUsdCk6dm9pZCAwfX1mdW5jdGlvbiBtKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gUygpe3JldHVybihTPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEUsQT1uKDApLFQ9big1KSxPPW4oOSksST17fSx3PUkuYmlkZGVyUmVnaXN0cnk9e30sQz1JLmFsaWFzUmVnaXN0cnk9e30saj1bXTt1LmIuZ2V0Q29uZmlnKCJzMnNDb25maWciLChmdW5jdGlvbihlKXtlJiZlLnMyc0NvbmZpZyYmKGo9QXJyYXkuaXNBcnJheShlLnMyc0NvbmZpZyk/ZS5zMnNDb25maWc6W2UuczJzQ29uZmlnXSl9KSk7dmFyIF89e307dmFyIFI9T2JqZWN0KHMuYikoInN5bmMiLChmdW5jdGlvbihlKXt2YXIgdD1lLmJpZGRlckNvZGUsbj1lLmF1Y3Rpb25JZCxhPWUuYmlkZGVyUmVxdWVzdElkLGM9ZS5hZFVuaXRzLHU9ZS5sYWJlbHMscz1lLnNyYztyZXR1cm4gYy5yZWR1Y2UoKGZ1bmN0aW9uKGUsYyl7dmFyIGQ9T2JqZWN0KGkuYikoT2JqZWN0KGkuYSkoYyx1KSxjLm1lZGlhVHlwZXMsYy5zaXplcyksZj1kLmFjdGl2ZSxsPWQubWVkaWFUeXBlcyxwPWQuZmlsdGVyUmVzdWx0cztyZXR1cm4gZj9wJiZBLmxvZ0luZm8oJ1NpemUgbWFwcGluZyBmaWx0ZXJlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIiBiYW5uZXIgc2l6ZXMgZnJvbSAnKSxwLmJlZm9yZSwidG8gIixwLmFmdGVyKTpBLmxvZ0luZm8oJ1NpemUgbWFwcGluZyBkaXNhYmxlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIicpKSxmJiZlLnB1c2goYy5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyPT09dH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIGQ9Yy5uYXRpdmVQYXJhbXN8fEEuZGVlcEFjY2VzcyhjLCJtZWRpYVR5cGVzLm5hdGl2ZSIpO2QmJih0PVMoe30sdCx7bmF0aXZlUGFyYW1zOk9iamVjdChvLmgpKGQpfSkpLHQ9Uyh7fSx0LE9iamVjdChyLmdldERlZmluZWRQYXJhbXMpKGMsWyJvcnRiMkltcCIsIm1lZGlhVHlwZSIsInJlbmRlcmVyIiwic3RvcmVkQXVjdGlvblJlc3BvbnNlIl0pKTt2YXIgZj1PYmplY3QoaS5iKShPYmplY3QoaS5hKSh0LHUpLGwpLHA9Zi5hY3RpdmUsYj1mLm1lZGlhVHlwZXMsdj1mLmZpbHRlclJlc3VsdHM7cmV0dXJuIHA/diYmQS5sb2dJbmZvKCdTaXplIG1hcHBpbmcgZmlsdGVyZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyIgYmlkZGVyICInKS5jb25jYXQodC5iaWRkZXIsJyIgYmFubmVyIHNpemVzIGZyb20gJyksdi5iZWZvcmUsInRvICIsdi5hZnRlcik6QS5sb2dJbmZvKCdTaXplIG1hcHBpbmcgZGVhY3RpdmF0ZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyIgYmlkZGVyICInKS5jb25jYXQodC5iaWRkZXIsJyInKSksQS5pc1ZhbGlkTWVkaWFUeXBlcyhiKT90PVMoe30sdCx7bWVkaWFUeXBlczpifSk6QS5sb2dFcnJvcigibWVkaWFUeXBlcyBpcyBub3QgY29ycmVjdGx5IGNvbmZpZ3VyZWQgZm9yIGFkdW5pdCAiLmNvbmNhdChjLmNvZGUpKSxwJiZlLnB1c2goUyh7fSx0LHthZFVuaXRDb2RlOmMuY29kZSx0cmFuc2FjdGlvbklkOmMudHJhbnNhY3Rpb25JZCxzaXplczpBLmRlZXBBY2Nlc3MoYiwiYmFubmVyLnNpemVzIil8fEEuZGVlcEFjY2VzcyhiLCJ2aWRlby5wbGF5ZXJTaXplIil8fFtdLGJpZElkOnQuYmlkX2lkfHxBLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxiaWRkZXJSZXF1ZXN0SWQ6YSxhdWN0aW9uSWQ6bixzcmM6cyxiaWRSZXF1ZXN0c0NvdW50OmcuYS5nZXRSZXF1ZXN0c0NvdW50ZXIoYy5jb2RlKSxiaWRkZXJSZXF1ZXN0c0NvdW50OmcuYS5nZXRCaWRkZXJSZXF1ZXN0c0NvdW50ZXIoYy5jb2RlLHQuYmlkZGVyKSxiaWRkZXJXaW5zQ291bnQ6Zy5hLmdldEJpZGRlcldpbnNDb3VudGVyKGMuY29kZSx0LmJpZGRlcil9KSksZX0pLFtdKSksZX0pLFtdKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiIiIT09ZX0pKX0pLCJnZXRCaWRzIik7dmFyIEI9e2NvbnNlbnREYXRhOm51bGwsc2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oZSl7Qi5jb25zZW50RGF0YT1lfSxnZXRDb25zZW50RGF0YTpmdW5jdGlvbigpe3JldHVybiBCLmNvbnNlbnREYXRhfX0sVT17Y29uc2VudERhdGE6bnVsbCxzZXRDb25zZW50RGF0YTpmdW5jdGlvbihlKXtVLmNvbnNlbnREYXRhPWV9LGdldENvbnNlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIFUuY29uc2VudERhdGF9fSx4PXtnZXRDb3BwYTpmdW5jdGlvbigpe3JldHVybiEhdS5iLmdldENvbmZpZygiY29wcGEiKX19LEQ9W10sTj1bXTtmdW5jdGlvbiBrKCl7SS5zMlNUZXN0aW5nRW5hYmxlZD0hMSxqLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UmJmUuZW5hYmxlZCYmZS5iaWRkZXJzJiZlLmJpZGRlcnMubGVuZ3RoJiZOLnB1c2guYXBwbHkoTix5KGUuYmlkZGVycykpfSkpfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIGUmJmUuZW5hYmxlZCYmZS50ZXN0aW5nJiZFfWZ1bmN0aW9uIHEoZSx0LG4pe3RyeXt2YXIgaT13W2VdLmdldFNwZWMoKTtpJiZpW3RdJiYiZnVuY3Rpb24iPT10eXBlb2YgaVt0XSYmKEEubG9nSW5mbygiSW52b2tpbmcgIi5jb25jYXQoZSwiLiIpLmNvbmNhdCh0KSksdS5iLnJ1bldpdGhCaWRkZXIoZSxyLmJpbmQuY2FsbChpW3RdLGksbikpKX1jYXRjaChuKXtBLmxvZ1dhcm4oIkVycm9yIGNhbGxpbmcgIi5jb25jYXQodCwiIG9mICIpLmNvbmNhdChlKSl9fUkubWFrZUJpZFJlcXVlc3RzPU9iamVjdChzLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSx0LG4saSxvKXtPLmVtaXQoVC5FVkVOVFMuQkVGT1JFX1JFUVVFU1RfQklEUyxlKTt2YXIgYT1PYmplY3Qoci5nZXRCaWRkZXJDb2RlcykoZSk7dS5iLmdldENvbmZpZygiYmlkZGVyU2VxdWVuY2UiKT09PXUuYSYmKGE9T2JqZWN0KHIuc2h1ZmZsZSkoYSkpO3ZhciBjPU9iamVjdChiLmEpKCkscz1hLGQ9W107MD09PU4ubGVuZ3RoJiZrKCksai5mb3JFYWNoKChmdW5jdGlvbih0KXt0JiZ0LmVuYWJsZWQmJihQKHQpJiYoRS5jYWxjdWxhdGVCaWRTb3VyY2VzKHQpLEUuZ2V0U291cmNlQmlkZGVyTWFwKGUsTilbRS5DTElFTlRdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2YoKShELGUpfHxELnB1c2goZSl9KSkpKX0pKSxzPWEuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZigpKE4sZSl8fGYoKShELGUpfSkpO3ZhciBsPU47ai5mb3JFYWNoKChmdW5jdGlvbihyKXtpZihyJiZyLmVuYWJsZWQpeyhmdW5jdGlvbihlKXtyZXR1cm4gQm9vbGVhbihQKGUpJiZlLnRlc3RTZXJ2ZXJPbmx5KX0pKHIpJiZmdW5jdGlvbihlLHQpe3JldHVybiBCb29sZWFuKHAoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gcCgpKGUuYmlkcywoZnVuY3Rpb24oZSl7cmV0dXJuKGUuYmlkU291cmNlfHx0LmJpZGRlckNvbnRyb2wmJnQuYmlkZGVyQ29udHJvbFtlLmJpZGRlcl0pJiZlLmZpbmFsU291cmNlPT09RS5TRVJWRVJ9KSl9KSkpfShlLHIpJiYoQS5sb2dXYXJuKCJ0ZXN0U2VydmVyT25seTogVHJ1ZS4gIEFsbCBjbGllbnQgcmVxdWVzdHMgd2lsbCBiZSBzdXBwcmVzc2VkLiIpLHMubGVuZ3RoPTApO3ZhciBpPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5iaWRkZXJzLHI9QS5kZWVwQ2xvbmUoZSk7cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWRzPWUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmKCkobixlLmJpZGRlcikmJighUCh0KXx8ZS5maW5hbFNvdXJjZSE9PUUuQ0xJRU5UKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZF9pZD1BLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxlfSkpfSkpLHIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMCE9PWUuYmlkcy5sZW5ndGh9KSl9KGUsciksYT1BLmdlbmVyYXRlVVVJRCgpO2wuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHU9QS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCkscz17YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDp1LHRpZDphLGJpZHM6Uih7YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDp1LGFkVW5pdHM6QS5kZWVwQ2xvbmUoaSksbGFiZWxzOm8sc3JjOlQuUzJTLlNSQ30pLGF1Y3Rpb25TdGFydDp0LHRpbWVvdXQ6ci50aW1lb3V0LHNyYzpULlMyUy5TUkMscmVmZXJlckluZm86Y307MCE9PXMuYmlkcy5sZW5ndGgmJmQucHVzaChzKX0pKSxpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoZCwoZnVuY3Rpb24odCl7cmV0dXJuIHAoKSh0LmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJpZElkPT09ZS5iaWRfaWR9KSl9KSl9KSk7ZS5iaWRzPXR9KSksZC5mb3JFYWNoKChmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmFkVW5pdHNTMlNDb3B5JiYoZS5hZFVuaXRzUzJTQ29weT1pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5sZW5ndGg+MH0pKSl9KSl9fSkpO3ZhciBnPWZ1bmN0aW9uKGUpe3ZhciB0PUEuZGVlcENsb25lKGUpO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkcz1lLmJpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hRC5sZW5ndGh8fGUuZmluYWxTb3VyY2UhPT1FLlNFUlZFUn0pKX0pKSx0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIDAhPT1lLmJpZHMubGVuZ3RofSkpfShlKTtyZXR1cm4gcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1BLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxhPXtiaWRkZXJDb2RlOmUsYXVjdGlvbklkOm4sYmlkZGVyUmVxdWVzdElkOnIsYmlkczpSKHtiaWRkZXJDb2RlOmUsYXVjdGlvbklkOm4sYmlkZGVyUmVxdWVzdElkOnIsYWRVbml0czpBLmRlZXBDbG9uZShnKSxsYWJlbHM6byxzcmM6ImNsaWVudCJ9KSxhdWN0aW9uU3RhcnQ6dCx0aW1lb3V0OmkscmVmZXJlckluZm86Y30sdT13W2VdO3V8fEEubG9nRXJyb3IoIlRyeWluZyB0byBtYWtlIGEgcmVxdWVzdCBmb3IgYmlkZGVyIHRoYXQgZG9lcyBub3QgZXhpc3Q6ICIuY29uY2F0KGUpKSx1JiZhLmJpZHMmJjAhPT1hLmJpZHMubGVuZ3RoJiZkLnB1c2goYSl9KSksQi5nZXRDb25zZW50RGF0YSgpJiZkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZ2RwckNvbnNlbnQ9Qi5nZXRDb25zZW50RGF0YSgpfSkpLFUuZ2V0Q29uc2VudERhdGEoKSYmZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnVzcENvbnNlbnQ9VS5nZXRDb25zZW50RGF0YSgpfSkpLGR9KSwibWFrZUJpZFJlcXVlc3RzIiksSS5jYWxsQmlkcz1mdW5jdGlvbihlLHQsbixpLG8sYSxzKXtpZih0Lmxlbmd0aCl7dmFyIGQ9dih0LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVtOdW1iZXIodm9pZCAwIT09dC5zcmMmJnQuc3JjPT09VC5TMlMuU1JDKV0ucHVzaCh0KSxlfSksW1tdLFtdXSksMiksbD1kWzBdLHA9ZFsxXSxnPVtdO3AuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PS0xLG49MDtuPGcubGVuZ3RoOysrbilpZihlLnRpZD09PWdbbl0udGlkKXt0PW47YnJlYWt9dDw9LTEmJmcucHVzaChlKX0pKTt2YXIgYj0wO2ouZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZSYmZ1tiXSYmZigpKGUuYmlkZGVycyxnW2JdLmJpZGRlckNvZGUpKXt2YXIgdD1PYmplY3QoYy5iKShhLG8/e3JlcXVlc3Q6by5yZXF1ZXN0LmJpbmQobnVsbCwiczJzIiksZG9uZTpvLmRvbmV9OnZvaWQgMCksdT1lLmJpZGRlcnMscz13W2UuYWRhcHRlcl0sZD1nW2JdLnRpZCxsPWdbYl0uYWRVbml0c1MyU0NvcHksdj1wLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGlkPT09ZH0pKTtpZihzKXt2YXIgeT17dGlkOmQsYWRfdW5pdHM6bCxzMnNDb25maWc6ZX07aWYoeS5hZF91bml0cy5sZW5ndGgpe3ZhciBoPXYubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydD1PYmplY3Qoci50aW1lc3RhbXApKCksaS5iaW5kKGUpfSkpLG09eS5hZF91bml0cy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KCh0LmJpZHN8fFtdKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQuYmlkZGVyKX0pLFtdKSl9KSxbXSk7QS5sb2dNZXNzYWdlKCJDQUxMSU5HIFMyUyBIRUFERVIgQklEREVSUyA9PT09ICIuY29uY2F0KHUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG0sZSl9KSkuam9pbigiLCIpKSksdi5mb3JFYWNoKChmdW5jdGlvbihlKXtPLmVtaXQoVC5FVkVOVFMuQklEX1JFUVVFU1RFRCxlKX0pKSxzLmNhbGxCaWRzKHkscCwoZnVuY3Rpb24oZSx0KXt2YXIgaT1PYmplY3Qoci5nZXRCaWRkZXJSZXF1ZXN0KShwLHQuYmlkZGVyQ29kZSxlKTtpJiZuLmNhbGwoaSxlLHQpfSksKGZ1bmN0aW9uKCl7cC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRHluYW1pY30pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtoLnB1c2goaS5iaW5kKGUpKX0pKSxoLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlKCl9KSl9KSx0KX19ZWxzZSBBLmxvZ0Vycm9yKCJtaXNzaW5nICIrZS5hZGFwdGVyKTtiKyt9fSkpLGwuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zdGFydD1PYmplY3Qoci50aW1lc3RhbXApKCk7dmFyIHQ9d1tlLmJpZGRlckNvZGVdO3UuYi5ydW5XaXRoQmlkZGVyKGUuYmlkZGVyQ29kZSwoZnVuY3Rpb24oKXtBLmxvZ01lc3NhZ2UoIkNBTExJTkcgQklEREVSIiksTy5lbWl0KFQuRVZFTlRTLkJJRF9SRVFVRVNURUQsZSl9KSk7dmFyIGQ9T2JqZWN0KGMuYikoYSxvP3tyZXF1ZXN0Om8ucmVxdWVzdC5iaW5kKG51bGwsZS5iaWRkZXJDb2RlKSxkb25lOm8uZG9uZX06dm9pZCAwKSxmPWkuYmluZChlKTt0cnl7dS5iLnJ1bldpdGhCaWRkZXIoZS5iaWRkZXJDb2RlLHIuYmluZC5jYWxsKHQuY2FsbEJpZHMsdCxlLG4uYmluZChlKSxmLGQscyx1LmIuY2FsbGJhY2tXaXRoQmlkZGVyKGUuYmlkZGVyQ29kZSkpKX1jYXRjaCh0KXtBLmxvZ0Vycm9yKCIiLmNvbmNhdChlLmJpZGRlckNvZGUsIiBCaWQgQWRhcHRlciBlbWl0dGVkIGFuIHVuY2F1Z2h0IGVycm9yIHdoZW4gcGFyc2luZyB0aGVpciBiaWRSZXF1ZXN0Iikse2U6dCxiaWRSZXF1ZXN0OmV9KSxmKCl9fSkpfWVsc2UgQS5sb2dXYXJuKCJjYWxsQmlkcyBleGVjdXRlZCB3aXRoIG5vIGJpZFJlcXVlc3RzLiAgV2VyZSB0aGV5IGZpbHRlcmVkIGJ5IGxhYmVscyBvciBzaXppbmc/Iil9LEkudmlkZW9BZGFwdGVycz1bXSxJLnJlZ2lzdGVyQmlkQWRhcHRlcj1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxyPW4uc3VwcG9ydGVkTWVkaWFUeXBlcyxpPXZvaWQgMD09PXI/W106cjtlJiZ0PyJmdW5jdGlvbiI9PXR5cGVvZiBlLmNhbGxCaWRzPyh3W3RdPWUsZigpKGksInZpZGVvIikmJkkudmlkZW9BZGFwdGVycy5wdXNoKHQpLGYoKShpLCJuYXRpdmUiKSYmby5mLnB1c2godCkpOkEubG9nRXJyb3IoIkJpZGRlciBhZGFwdG9yIGVycm9yIGZvciBiaWRkZXIgY29kZTogIit0KyJiaWRkZXIgbXVzdCBpbXBsZW1lbnQgYSBjYWxsQmlkcygpIGZ1bmN0aW9uIik6QS5sb2dFcnJvcigiYmlkQWRhcHRlciBvciBiaWRkZXJDb2RlIG5vdCBzcGVjaWZpZWQiKX0sSS5hbGlhc0JpZEFkYXB0ZXI9ZnVuY3Rpb24oZSx0LG4pe2lmKHZvaWQgMD09PXdbdF0pe3ZhciByPXdbZV07aWYodm9pZCAwPT09cil7dmFyIGk9W107ai5mb3JFYWNoKChmdW5jdGlvbihuKXtpZihuLmJpZGRlcnMmJm4uYmlkZGVycy5sZW5ndGgpe3ZhciByPW4mJm4uYmlkZGVycztuJiZmKCkocix0KT9DW3RdPWU6aS5wdXNoKGUpfX0pKSxpLmZvckVhY2goKGZ1bmN0aW9uKGUpe0EubG9nRXJyb3IoJ2JpZGRlckNvZGUgIicrZSsnIiBpcyBub3QgYW4gZXhpc3RpbmcgYmlkZGVyLicsImFkYXB0ZXJNYW5hZ2VyLmFsaWFzQmlkQWRhcHRlciIpfSkpfWVsc2UgdHJ5e3ZhciBjLHU9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGYoKShJLnZpZGVvQWRhcHRlcnMsZSkmJnQucHVzaCgidmlkZW8iKSxmKCkoby5mLGUpJiZ0LnB1c2goIm5hdGl2ZSIpLHR9KGUpO2lmKHIuY29uc3RydWN0b3IucHJvdG90eXBlIT1PYmplY3QucHJvdG90eXBlKShjPW5ldyByLmNvbnN0cnVjdG9yKS5zZXRCaWRkZXJDb2RlKHQpO2Vsc2V7dmFyIHM9ci5nZXRTcGVjKCksZD1uJiZuLmd2bGlkLGw9biYmbi5za2lwUGJzQWxpYXNpbmc7Yz1PYmplY3QoYS5uZXdCaWRkZXIpKFMoe30scyx7Y29kZTp0LGd2bGlkOmQsc2tpcFBic0FsaWFzaW5nOmx9KSksQ1t0XT1lfUkucmVnaXN0ZXJCaWRBZGFwdGVyKGMsdCx7c3VwcG9ydGVkTWVkaWFUeXBlczp1fSl9Y2F0Y2godCl7QS5sb2dFcnJvcihlKyIgYmlkZGVyIGRvZXMgbm90IGN1cnJlbnRseSBzdXBwb3J0IGFsaWFzaW5nLiIsImFkYXB0ZXJNYW5hZ2VyLmFsaWFzQmlkQWRhcHRlciIpfX1lbHNlIEEubG9nTWVzc2FnZSgnYWxpYXMgbmFtZSAiJyt0KyciIGhhcyBiZWVuIGFscmVhZHkgc3BlY2lmaWVkLicpfSxJLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcj1mdW5jdGlvbihlKXt2YXIgdD1lLmFkYXB0ZXIsbj1lLmNvZGUscj1lLmd2bGlkO3QmJm4/ImZ1bmN0aW9uIj09dHlwZW9mIHQuZW5hYmxlQW5hbHl0aWNzPyh0LmNvZGU9bixfW25dPXthZGFwdGVyOnQsZ3ZsaWQ6cn0pOkEubG9nRXJyb3IoJ1ByZWJpZCBFcnJvcjogQW5hbHl0aWNzIGFkYXB0b3IgZXJyb3IgZm9yIGFuYWx5dGljcyAiJy5jb25jYXQobiwnIlxuICAgICAgICBhbmFseXRpY3MgYWRhcHRlciBtdXN0IGltcGxlbWVudCBhbiBlbmFibGVBbmFseXRpY3MoKSBmdW5jdGlvbicpKTpBLmxvZ0Vycm9yKCJQcmViaWQgRXJyb3I6IGFuYWx5dGljc0FkYXB0ZXIgb3IgYW5hbHl0aWNzQ29kZSBub3Qgc3BlY2lmaWVkIil9LEkuZW5hYmxlQW5hbHl0aWNzPWZ1bmN0aW9uKGUpe0EuaXNBcnJheShlKXx8KGU9W2VdKSxBLl9lYWNoKGUsKGZ1bmN0aW9uKGUpe3ZhciB0PV9bZS5wcm92aWRlcl0uYWRhcHRlcjt0P3QuZW5hYmxlQW5hbHl0aWNzKGUpOkEubG9nRXJyb3IoIlByZWJpZCBFcnJvcjogbm8gYW5hbHl0aWNzIGFkYXB0ZXIgZm91bmQgaW4gcmVnaXN0cnkgZm9yXG4gICAgICAgICIuY29uY2F0KGUucHJvdmlkZXIsIi4iKSl9KSl9LEkuZ2V0QmlkQWRhcHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gd1tlXX0sSS5nZXRBbmFseXRpY3NBZGFwdGVyPWZ1bmN0aW9uKGUpe3JldHVybiBfW2VdfSxJLmNhbGxUaW1lZE91dEJpZGRlcnM9ZnVuY3Rpb24oZSx0LG4pe3Q9dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmFtcz1BLmdldFVzZXJDb25maWd1cmVkUGFyYW1zKGUsdC5hZFVuaXRDb2RlLHQuYmlkZGVyKSx0LnRpbWVvdXQ9bix0fSkpLHQ9QS5ncm91cEJ5KHQsImJpZGRlciIpLE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3EoZSwib25UaW1lb3V0Iix0W2VdKX0pKX0sSS5jYWxsQmlkV29uQmlkZGVyPWZ1bmN0aW9uKGUsdCxuKXt0LnBhcmFtcz1BLmdldFVzZXJDb25maWd1cmVkUGFyYW1zKG4sdC5hZFVuaXRDb2RlLHQuYmlkZGVyKSxnLmEuaW5jcmVtZW50QmlkZGVyV2luc0NvdW50ZXIodC5hZFVuaXRDb2RlLHQuYmlkZGVyKSxxKGUsIm9uQmlkV29uIix0KX0sSS5jYWxsU2V0VGFyZ2V0aW5nQmlkZGVyPWZ1bmN0aW9uKGUsdCl7cShlLCJvblNldFRhcmdldGluZyIsdCl9LEkuY2FsbEJpZFZpZXdhYmxlQmlkZGVyPWZ1bmN0aW9uKGUsdCl7cShlLCJvbkJpZFZpZXdhYmxlIix0KX0sdC5kZWZhdWx0PUl9LDgwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI1KSxpPW4oMzApLG89ci5kb2N1bWVudCxhPWkobykmJmkoby5jcmVhdGVFbGVtZW50KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGE/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0sODE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTcpLGk9big2MSk7KGUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBpW2VdfHwoaVtlXT12b2lkIDAhPT10P3Q6e30pfSkoInZlcnNpb25zIixbXSkucHVzaCh7dmVyc2lvbjoiMy4xNS4xIixtb2RlOnI/InB1cmUiOiJnbG9iYWwiLGNvcHlyaWdodDoiwqkgMjAyMSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSJ9KX0sODI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTA5KSxpPW4oMjkpO2UuZXhwb3J0cz0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiFpKChmdW5jdGlvbigpe3ZhciBlPVN5bWJvbCgpO3JldHVybiFTdHJpbmcoZSl8fCEoT2JqZWN0KGUpaW5zdGFuY2VvZiBTeW1ib2wpfHwhU3ltYm9sLnNoYW0mJnImJnI8NDF9KSl9LDgzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDQ2KSxpPW4oNTEpLG89bigxMTQpLGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixhKXt2YXIgYyx1PXIodCkscz1pKHUubGVuZ3RoKSxkPW8oYSxzKTtpZihlJiZuIT1uKXtmb3IoO3M+ZDspaWYoKGM9dVtkKytdKSE9YylyZXR1cm4hMH1lbHNlIGZvcig7cz5kO2QrKylpZigoZXx8ZCBpbiB1KSYmdVtkXT09PW4pcmV0dXJuIGV8fGR8fDA7cmV0dXJuIWUmJi0xfX07ZS5leHBvcnRzPXtpbmNsdWRlczphKCEwKSxpbmRleE9mOmEoITEpfX0sODQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTE1KTtuKDEzOCksbigxNDApLG4oMTQyKSxuKDE0NCksbigxNDYpLG4oMTQ3KSxuKDE0OCksbigxNDkpLG4oMTUwKSxuKDE1MSksbigxNTIpLG4oMTUzKSxuKDE1NCksbigxNTUpLG4oMTU2KSxuKDE1NyksbigxNTgpLG4oMTU5KSxlLmV4cG9ydHM9cn0sODU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTQpLGk9bigzMCksbz1uKDMxKSxhPW4oMzQpLmYsYz1uKDYyKSx1PW4oMTE4KSxzPWMoIm1ldGEiKSxkPTAsZj1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSxsPWZ1bmN0aW9uKGUpe2EoZSxzLHt2YWx1ZTp7b2JqZWN0SUQ6Ik8iKyArK2Qsd2Vha0RhdGE6e319fSl9LHA9ZS5leHBvcnRzPXtSRVFVSVJFRDohMSxmYXN0S2V5OmZ1bmN0aW9uKGUsdCl7aWYoIWkoZSkpcmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlP2U6KCJzdHJpbmciPT10eXBlb2YgZT8iUyI6IlAiKStlO2lmKCFvKGUscykpe2lmKCFmKGUpKXJldHVybiJGIjtpZighdClyZXR1cm4iRSI7bChlKX1yZXR1cm4gZVtzXS5vYmplY3RJRH0sZ2V0V2Vha0RhdGE6ZnVuY3Rpb24oZSx0KXtpZighbyhlLHMpKXtpZighZihlKSlyZXR1cm4hMDtpZighdClyZXR1cm4hMTtsKGUpfXJldHVybiBlW3NdLndlYWtEYXRhfSxvbkZyZWV6ZTpmdW5jdGlvbihlKXtyZXR1cm4gdSYmcC5SRVFVSVJFRCYmZihlKSYmIW8oZSxzKSYmbChlKSxlfX07cltzXT0hMH0sODY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjQpLGk9big0MCksbz1yKCJpdGVyYXRvciIpLGE9QXJyYXkucHJvdG90eXBlO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKGkuQXJyYXk9PT1lfHxhW29dPT09ZSl9fSw4NzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmV0dXJuO2lmKHZvaWQgMCE9PXQpcmV0dXJuIHIodC5jYWxsKGUpKS52YWx1ZX19LDg3NjpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNzUpfSw4ODpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgVHlwZUVycm9yKCJJbmNvcnJlY3QgIisobj9uKyIgIjoiIikrImludm9jYXRpb24iKTtyZXR1cm4gZX19LDg5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPW4oMTYpLG89bigxMjMpLGE9big5MCksYz1uKDU0KSx1PW4oMTI2KSxzPW4oODApLGQ9big2NyksZj1kKCJJRV9QUk9UTyIpLGw9ZnVuY3Rpb24oKXt9LHA9ZnVuY3Rpb24oZSl7cmV0dXJuIjxzY3JpcHQ+IitlKyI8LyIrInNjcmlwdD4ifSxnPWZ1bmN0aW9uKCl7dHJ5e3I9ZG9jdW1lbnQuZG9tYWluJiZuZXcgQWN0aXZlWE9iamVjdCgiaHRtbGZpbGUiKX1jYXRjaChlKXt9dmFyIGUsdDtnPXI/ZnVuY3Rpb24oZSl7ZS53cml0ZShwKCIiKSksZS5jbG9zZSgpO3ZhciB0PWUucGFyZW50V2luZG93Lk9iamVjdDtyZXR1cm4gZT1udWxsLHR9KHIpOigodD1zKCJpZnJhbWUiKSkuc3R5bGUuZGlzcGxheT0ibm9uZSIsdS5hcHBlbmRDaGlsZCh0KSx0LnNyYz1TdHJpbmcoImphdmFzY3JpcHQ6IiksKGU9dC5jb250ZW50V2luZG93LmRvY3VtZW50KS5vcGVuKCksZS53cml0ZShwKCJkb2N1bWVudC5GPU9iamVjdCIpKSxlLmNsb3NlKCksZS5GKTtmb3IodmFyIG49YS5sZW5ndGg7bi0tOylkZWxldGUgZy5wcm90b3R5cGVbYVtuXV07cmV0dXJuIGcoKX07Y1tmXT0hMCxlLmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gbnVsbCE9PWU/KGwucHJvdG90eXBlPWkoZSksbj1uZXcgbCxsLnByb3RvdHlwZT1udWxsLG5bZl09ZSk6bj1nKCksdm9pZCAwPT09dD9uOm8obix0KX19LDk6ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoKXtyZXR1cm4ocj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBpPW4oMCksbz1uKDUpLGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLGM9QXJyYXkucHJvdG90eXBlLnB1c2gsdT1pLl9tYXAoby5FVkVOVFMsKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLHM9by5FVkVOVF9JRF9QQVRIUyxkPVtdO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9e307ZnVuY3Rpb24gbih0LG4pe2kubG9nTWVzc2FnZSgiRW1pdHRpbmcgZXZlbnQgZm9yOiAiK3QpO3ZhciByPW5bMF18fHt9LG89cltzW3RdXSxhPWVbdF18fHtxdWU6W119LHU9aS5fbWFwKGEsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KSksZj1bXTtkLnB1c2goe2V2ZW50VHlwZTp0LGFyZ3M6cixpZDpvLGVsYXBzZWRUaW1lOmkuZ2V0UGVyZm9ybWFuY2VOb3coKX0pLG8mJmkuY29udGFpbnModSxvKSYmYy5hcHBseShmLGFbb10ucXVlKSxjLmFwcGx5KGYsYS5xdWUpLGkuX2VhY2goZiwoZnVuY3Rpb24oZSl7aWYoZSl0cnl7ZS5hcHBseShudWxsLG4pfWNhdGNoKGUpe2kubG9nRXJyb3IoIkVycm9yIGV4ZWN1dGluZyBoYW5kbGVyOiIsImV2ZW50cy5qcyIsZSl9fSkpfXJldHVybiB0Lm9uPWZ1bmN0aW9uKHQsbixyKXtpZihmdW5jdGlvbihlKXtyZXR1cm4gaS5jb250YWlucyh1LGUpfSh0KSl7dmFyIG89ZVt0XXx8e3F1ZTpbXX07cj8ob1tyXT1vW3JdfHx7cXVlOltdfSxvW3JdLnF1ZS5wdXNoKG4pKTpvLnF1ZS5wdXNoKG4pLGVbdF09b31lbHNlIGkubG9nRXJyb3IoIldyb25nIGV2ZW50IG5hbWUgOiAiK3QrIiBWYWxpZCBldmVudCBuYW1lcyA6Iit1KX0sdC5lbWl0PWZ1bmN0aW9uKGUpe3ZhciB0PWEuY2FsbChhcmd1bWVudHMsMSk7bihlLHQpfSx0Lm9mZj1mdW5jdGlvbih0LG4scil7dmFyIG89ZVt0XTtpLmlzRW1wdHkobyl8fGkuaXNFbXB0eShvLnF1ZSkmJmkuaXNFbXB0eShvW3JdKXx8ciYmKGkuaXNFbXB0eShvW3JdKXx8aS5pc0VtcHR5KG9bcl0ucXVlKSl8fChyP2kuX2VhY2gob1tyXS5xdWUsKGZ1bmN0aW9uKGUpe3ZhciB0PW9bcl0ucXVlO2U9PT1uJiZ0LnNwbGljZSh0LmluZGV4T2YoZSksMSl9KSk6aS5fZWFjaChvLnF1ZSwoZnVuY3Rpb24oZSl7dmFyIHQ9by5xdWU7ZT09PW4mJnQuc3BsaWNlKHQuaW5kZXhPZihlKSwxKX0pKSxlW3RdPW8pfSx0LmdldD1mdW5jdGlvbigpe3JldHVybiBlfSx0LmdldEV2ZW50cz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBpLl9lYWNoKGQsKGZ1bmN0aW9uKHQpe3ZhciBuPXIoe30sdCk7ZS5wdXNoKG4pfSkpLGV9LHR9KCl9LDkwOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPVsiY29uc3RydWN0b3IiLCJoYXNPd25Qcm9wZXJ0eSIsImlzUHJvdG90eXBlT2YiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRvTG9jYWxlU3RyaW5nIiwidG9TdHJpbmciLCJ2YWx1ZU9mIl19LDkxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4saSl7aSYmaS5lbnVtZXJhYmxlP2VbdF09bjpyKGUsdCxuKX19LDkyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHIsaSxvLGE9bigyOSksYz1uKDkzKSx1PW4oMzIpLHM9bigzMSksZD1uKDI0KSxmPW4oMTcpLGw9ZCgiaXRlcmF0b3IiKSxwPSExO1tdLmtleXMmJigibmV4dCJpbihvPVtdLmtleXMoKSk/KGk9YyhjKG8pKSkhPT1PYmplY3QucHJvdG90eXBlJiYocj1pKTpwPSEwKTt2YXIgZz1udWxsPT1yfHxhKChmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiByW2xdLmNhbGwoZSkhPT1lfSkpO2cmJihyPXt9KSxmJiYhZ3x8cyhyLGwpfHx1KHIsbCwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxlLmV4cG9ydHM9e0l0ZXJhdG9yUHJvdG90eXBlOnIsQlVHR1lfU0FGQVJJX0lURVJBVE9SUzpwfX0sOTM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzEpLGk9big0OSksbz1uKDY3KSxhPW4oMTI5KSxjPW8oIklFX1BST1RPIiksdT1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1hP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZT1pKGUpLHIoZSxjKT9lW2NdOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P3U6bnVsbH19LDk0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMzQpLmNoYXJBdCxpPW4oNTUpLG89big2OCksYT0iU3RyaW5nIEl0ZXJhdG9yIixjPWkuc2V0LHU9aS5nZXR0ZXJGb3IoYSk7byhTdHJpbmcsIlN0cmluZyIsKGZ1bmN0aW9uKGUpe2ModGhpcyx7dHlwZTphLHN0cmluZzpTdHJpbmcoZSksaW5kZXg6MH0pfSksKGZ1bmN0aW9uKCl7dmFyIGUsdD11KHRoaXMpLG49dC5zdHJpbmcsaT10LmluZGV4O3JldHVybiBpPj1uLmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPXIobixpKSx0LmluZGV4Kz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KSl9LDk1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oNjMpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1pKGUpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihTdHJpbmcoZSkrIiBpcyBub3QgaXRlcmFibGUiKTtyZXR1cm4gcih0LmNhbGwoZSkpfX0sOTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYwKTtlLmV4cG9ydHM9cn0sOTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0KXtpZihlLmxhYmVsQWxsKXJldHVybntsYWJlbEFsbDohMCxsYWJlbHM6ZS5sYWJlbEFsbCxhY3RpdmVMYWJlbHM6dH07cmV0dXJue2xhYmVsQWxsOiExLGxhYmVsczplLmxhYmVsQW55LGFjdGl2ZUxhYmVsczp0fX0sdC5jPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp1LG49cyh0KTtpZighbi5zaG91bGRGaWx0ZXIpcmV0dXJuITA7cmV0dXJuISFuLnNpemVzU3VwcG9ydGVkW2VdfSx0LmI9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmxhYmVscyxuPXZvaWQgMD09PXQ/W106dCxyPWUubGFiZWxBbGwsbz12b2lkIDAhPT1yJiZyLGM9ZS5hY3RpdmVMYWJlbHMsZD12b2lkIDA9PT1jP1tdOmMsZj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxsPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwLHA9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnUsZz1zKHApO2Y9T2JqZWN0KGkuaXNQbGFpbk9iamVjdCkoZik/T2JqZWN0KGkuZGVlcENsb25lKShmKTpsP3tiYW5uZXI6e3NpemVzOmx9fTp7fTt2YXIgYj1PYmplY3QoaS5kZWVwQWNjZXNzKShmLCJiYW5uZXIuc2l6ZXMiKTtnLnNob3VsZEZpbHRlciYmYiYmKGYuYmFubmVyLnNpemVzPWIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZy5zaXplc1N1cHBvcnRlZFtlXX0pKSk7dmFyIHY9T2JqZWN0LmtleXMoZikseT17YWN0aXZlOnYuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiIT09ZX0pKXx8di5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIj09PWV9KSkmJk9iamVjdChpLmRlZXBBY2Nlc3MpKGYsImJhbm5lci5zaXplcy5sZW5ndGgiKT4wJiYoMD09PW4ubGVuZ3RofHwhbyYmKG4uc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGcubGFiZWxzW2VdfSkpfHxuLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBhKCkoZCxlKX0pKSl8fG8mJm4ucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlP2cubGFiZWxzW3RdfHxhKCkoZCx0KTplfSksITApKSxtZWRpYVR5cGVzOmZ9O2ImJmIubGVuZ3RoIT09Zi5iYW5uZXIuc2l6ZXMubGVuZ3RoJiYoeS5maWx0ZXJSZXN1bHRzPXtiZWZvcmU6YixhZnRlcjpmLmJhbm5lci5zaXplc30pO3JldHVybiB5fTt2YXIgcj1uKDMpLGk9bigwKSxvPW4oMTIpLGE9bi5uKG8pO2Z1bmN0aW9uIGMoZSl7cmV0dXJuKGM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgdT1bXTtmdW5jdGlvbiBzKGUpe3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0Ij09PWModCkmJiJzdHJpbmciPT10eXBlb2YgdC5tZWRpYVF1ZXJ5JiZ0Lm1lZGlhUXVlcnkubGVuZ3RoPjApe3ZhciBuPSExO3RyeXtuPU9iamVjdChpLmdldFdpbmRvd1RvcCkoKS5tYXRjaE1lZGlhKHQubWVkaWFRdWVyeSkubWF0Y2hlc31jYXRjaChlKXtPYmplY3QoaS5sb2dXYXJuKSgiVW5mcmllbmRseSBpRnJhbWUgYmxvY2tzIHNpemVDb25maWcgZnJvbSBiZWluZyBjb3JyZWN0bHkgZXZhbHVhdGVkIiksbj1tYXRjaE1lZGlhKHQubWVkaWFRdWVyeSkubWF0Y2hlc31uJiYoQXJyYXkuaXNBcnJheSh0LnNpemVzU3VwcG9ydGVkKSYmKGUuc2hvdWxkRmlsdGVyPSEwKSxbImxhYmVscyIsInNpemVzU3VwcG9ydGVkIl0uZm9yRWFjaCgoZnVuY3Rpb24obil7cmV0dXJuKHRbbl18fFtdKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZVtuXVt0XT0hMH0pKX0pKSl9ZWxzZSBPYmplY3QoaS5sb2dXYXJuKSgnc2l6ZUNvbmZpZyBydWxlIG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgIm1lZGlhUXVlcnkiJyk7cmV0dXJuIGV9KSx7bGFiZWxzOnt9LHNpemVzU3VwcG9ydGVkOnt9LHNob3VsZEZpbHRlcjohMX0pfXIuYi5nZXRDb25maWcoInNpemVDb25maWciLChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dT1lfShlLnNpemVDb25maWcpfSkpfSw5ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlLHQsbil7dmFyIG89e3B1dHM6ZS5tYXAoYSxuKX07T2JqZWN0KHIuYSkoaS5iLmdldENvbmZpZygiY2FjaGUudXJsIiksZnVuY3Rpb24oZSl7cmV0dXJue3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dmFyIG47dHJ5e249SlNPTi5wYXJzZSh0KS5yZXNwb25zZXN9Y2F0Y2godCl7cmV0dXJuIHZvaWQgZSh0LFtdKX1uP2UobnVsbCxuKTplKG5ldyBFcnJvcigiVGhlIGNhY2hlIHNlcnZlciBkaWRuJ3QgcmVzcG9uZCB3aXRoIGEgcmVzcG9uc2VzIHByb3BlcnR5LiIpLFtdKX0sZXJyb3I6ZnVuY3Rpb24odCxuKXtlKG5ldyBFcnJvcigiRXJyb3Igc3RvcmluZyB2aWRlbyBhZCBpbiB0aGUgY2FjaGU6ICIuY29uY2F0KHQsIjogIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KG4pKSksW10pfX19KHQpLEpTT04uc3RyaW5naWZ5KG8pLHtjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSl9LHQuYT1mdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQoaS5iLmdldENvbmZpZygiY2FjaGUudXJsIiksIj91dWlkPSIpLmNvbmNhdChlKX07dmFyIHI9big0KSxpPW4oMyksbz1uKDApO2Z1bmN0aW9uIGEoZSl7dmFyIHQsbixyLGE9e3R5cGU6InhtbCIsdmFsdWU6ZS52YXN0WG1sP2UudmFzdFhtbDoodD1lLnZhc3RVcmwsbj1lLnZhc3RJbXBVcmwscj1uPyI8IVtDREFUQVsiLmNvbmNhdChuLCJdXT4iKToiIiwnPFZBU1QgdmVyc2lvbj0iMy4wIj5cbiAgICA8QWQ+XG4gICAgICA8V3JhcHBlcj5cbiAgICAgICAgPEFkU3lzdGVtPnByZWJpZC5vcmcgd3JhcHBlcjwvQWRTeXN0ZW0+XG4gICAgICAgIDxWQVNUQWRUYWdVUkk+PCFbQ0RBVEFbJy5jb25jYXQodCwiXV0+PC9WQVNUQWRUYWdVUkk+XG4gICAgICAgIDxJbXByZXNzaW9uPiIpLmNvbmNhdChyLCI8L0ltcHJlc3Npb24+XG4gICAgICAgIDxDcmVhdGl2ZXM+PC9DcmVhdGl2ZXM+XG4gICAgICA8L1dyYXBwZXI+XG4gICAgPC9BZD5cbiAgPC9WQVNUPiIpKSx0dGxzZWNvbmRzOk51bWJlcihlLnR0bCl9O3JldHVybiBpLmIuZ2V0Q29uZmlnKCJjYWNoZS52YXN0dHJhY2siKSYmKGEuYmlkZGVyPWUuYmlkZGVyLGEuYmlkaWQ9ZS5yZXF1ZXN0SWQsYS5haWQ9ZS5hdWN0aW9uSWQsby5pc1BsYWluT2JqZWN0KHRoaXMpJiZ0aGlzLmhhc093blByb3BlcnR5KCJhdWN0aW9uU3RhcnQiKSYmKGEudGltZXN0YW1wPXRoaXMuYXVjdGlvblN0YXJ0KSksInN0cmluZyI9PXR5cGVvZiBlLmN1c3RvbUNhY2hlS2V5JiYiIiE9PWUuY3VzdG9tQ2FjaGVLZXkmJihhLmtleT1lLmN1c3RvbUNhY2hlS2V5KSxhfX19KTsKdXBianNDaHVuayhbMzQ2XSx7MTAwOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKTt2YXIgbj1yKDEpLGk9cigzKSxvPXIoMCksYT1yKDIpO2Z1bmN0aW9uIHMoKXtyZXR1cm4ocz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIGMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/ZChPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3UoZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOmQoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gdShlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9dmFyIHA9IjMzYWNyb3NzIixsPSJodHRwczovL3NzYy4zM2Fjcm9zcy5jb20vYXBpL3YxL2hiIixmPSJodHRwczovL3NzYy1jbXMuMzNhY3Jvc3MuY29tL3BzLz9tPXhjaCZydD1odG1sJnJ1PWRlYiIsbT0vXlthLXpBLVowLTlfLV17MjJ9JC8sYj0ic2lhYiIsZz0iaW52aWV3IixoPSJpbnN0cmVhbSIsdj1bIm1pbWVzIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInBsYWNlbWVudCIsInByb3RvY29scyIsInN0YXJ0ZGVsYXkiLCJza2lwIiwic2tpcGFmdGVyIiwibWluYml0cmF0ZSIsIm1heGJpdHJhdGUiLCJkZWxpdmVyeSIsInBsYXliYWNrbWV0aG9kIiwiYXBpIiwibGluZWFyaXR5Il0seT17dW5pcXVlU2l0ZUlkczpbXX0sQT0ibm0iO2Z1bmN0aW9uIHcoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxyPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwO3JldHVybiBzKHt9LGUse2V4dDpzKHt9LGUuZXh0LHUoe30sdCxyKSl9KX1mdW5jdGlvbiB4KGUpe3JldHVybnt3OnBhcnNlSW50KGVbMF0sMTApLGg6cGFyc2VJbnQoZVsxXSwxMCl9fWZ1bmN0aW9uIEkoZSl7dmFyIHQ9ZS5wYXJhbXMscj1lLm1lZGlhVHlwZXMsbj1yLmJhbm5lcixpPXIudmlkZW87cmV0dXJuIGkmJiFuJiYiaW5zdHJlYW0iPT09aS5jb250ZXh0P2g6dC5wcm9kdWN0SWQ9PT1nP3QucHJvZHVjdElkOmJ9ZnVuY3Rpb24gTyhlLHQscil7dmFyIG49ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOnIsc2l6ZTpbdC53LHQuaF19KTtpZighaXNOYU4obi5mbG9vcikmJiJVU0QiPT09bi5jdXJyZW5jeSlyZXR1cm4gbi5mbG9vcn1mdW5jdGlvbiBTKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXQudyxuPXQuaCxpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1pLndpZHRoLGE9aS5oZWlnaHQscz1pLmxlZnQsZD1pLnRvcCxjPWkucmlnaHQsdT1pLmJvdHRvbTtyZXR1cm4oMD09PW98fDA9PT1hKSYmciYmbiYmKG89cixhPW4sYz1zK3IsdT1kK24pLHt3aWR0aDpvLGhlaWdodDphLGxlZnQ6cyx0b3A6ZCxyaWdodDpjLGJvdHRvbTp1fX1mdW5jdGlvbiBDKGUpe2Zvcih2YXIgdD17bGVmdDplWzBdLmxlZnQscmlnaHQ6ZVswXS5yaWdodCx0b3A6ZVswXS50b3AsYm90dG9tOmVbMF0uYm90dG9tfSxyPTE7cjxlLmxlbmd0aDsrK3Ipe2lmKHQubGVmdD1NYXRoLm1heCh0LmxlZnQsZVtyXS5sZWZ0KSx0LnJpZ2h0PU1hdGgubWluKHQucmlnaHQsZVtyXS5yaWdodCksdC5sZWZ0Pj10LnJpZ2h0KXJldHVybiBudWxsO2lmKHQudG9wPU1hdGgubWF4KHQudG9wLGVbcl0udG9wKSx0LmJvdHRvbT1NYXRoLm1pbih0LmJvdHRvbSxlW3JdLmJvdHRvbSksdC50b3A+PXQuYm90dG9tKXJldHVybiBudWxsfXJldHVybiB0LndpZHRoPXQucmlnaHQtdC5sZWZ0LHQuaGVpZ2h0PXQuYm90dG9tLXQudG9wLHR9ZnVuY3Rpb24gaihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPXIudyxpPXIuaCxvPVMoZSx7dzpuLGg6aX0pLGE9Qyhbe2xlZnQ6MCx0b3A6MCxyaWdodDp0LmlubmVyV2lkdGgsYm90dG9tOnQuaW5uZXJIZWlnaHR9LG9dKTtyZXR1cm4gbnVsbCE9PWE/YS53aWR0aCphLmhlaWdodC8oby53aWR0aCpvLmhlaWdodCkqMTAwOjB9dmFyIFQ9e05PTl9NRUFTVVJBQkxFOkEsY29kZTpwLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihlLmJpZGRlciE9PXB8fHZvaWQgMD09PWUucGFyYW1zKXJldHVybiExO2lmKCFmdW5jdGlvbihlKXtpZihudWxsPT09KG8uZGVlcEFjY2VzcyhlLCJwYXJhbXMuc2l0ZUlkIiwiIil8fCIiKS50cmltKCkubWF0Y2gobSkpcmV0dXJuITE7cmV0dXJuITB9KGUpKXJldHVybiExO3JldHVybiEwfShlKSYmZnVuY3Rpb24oZSl7dmFyIHQ9by5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIik7aWYodm9pZCAwPT09dClyZXR1cm4hMDtpZighQXJyYXkuaXNBcnJheSh0LnNpemVzKSlyZXR1cm4hMTtyZXR1cm4hMH0oZSkmJmZ1bmN0aW9uKGUpe3ZhciB0PW8uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIikscj1vLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvIix7fSk7aWYodm9pZCAwPT09dClyZXR1cm4hMDtpZighQXJyYXkuaXNBcnJheSh0LnBsYXllclNpemUpKXJldHVybiExO2lmKCF0LmNvbnRleHQpcmV0dXJuITE7dmFyIG49YyhjKHt9LHQpLHIpO2lmKCFBcnJheS5pc0FycmF5KG4ubWltZXMpfHwwPT09bi5taW1lcy5sZW5ndGgpcmV0dXJuITE7aWYoIUFycmF5LmlzQXJyYXkobi5wcm90b2NvbHMpfHwwPT09bi5wcm90b2NvbHMubGVuZ3RoKXJldHVybiExO2lmKHZvaWQgMCE9PW4ucGxhY2VtZW50JiYibnVtYmVyIiE9dHlwZW9mIG4ucGxhY2VtZW50KXJldHVybiExO2lmKCJpbnN0cmVhbSI9PT10LmNvbnRleHQmJnZvaWQgMCE9PW4uc3RhcnRkZWxheSYmIm51bWJlciIhPXR5cGVvZiBuLnN0YXJ0ZGVsYXkpcmV0dXJuITE7cmV0dXJuITB9KGUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9cyh7Y29uc2VudFN0cmluZzp2b2lkIDAsZ2RwckFwcGxpZXM6ITF9LHQmJnQuZ2RwckNvbnNlbnQpLG49dCYmdC51c3BDb25zZW50LGQ9dCYmdC5yZWZlcmVySW5mbz90LnJlZmVyZXJJbmZvLnJlZmVyZXI6dm9pZCAwO3JldHVybiB5LnVuaXF1ZVNpdGVJZHM9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5zaXRlSWR9KSkuZmlsdGVyKG8udW5pcXVlcyksZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLmJpZFJlcXVlc3Qscj1lLmdkcHJDb25zZW50LG49dm9pZCAwPT09cj97fTpyLGQ9ZS51c3BDb25zZW50LHU9ZS5wYWdlVXJsLHA9e30sZj10LnBhcmFtcztwLmltcD1be31dLG8uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLmJhbm5lciIpJiYocC5pbXBbMF0uYmFubmVyPWMoe30sZnVuY3Rpb24oZSl7dmFyIHQscj1vLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIiLHt9KSxuPShkPWUuYWRVbml0Q29kZSxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkKXx8ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZnVuY3Rpb24oZSl7aWYoby5pc0dwdFB1YmFkc0RlZmluZWQoKSlmb3IodmFyIHQ9Z29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCkscj1vLmlzU2xvdE1hdGNoaW5nQWRVbml0Q29kZShlKSxuPTA7bjx0Lmxlbmd0aDtuKyspaWYocih0W25dKSl7dmFyIGk9dFtuXS5nZXRTbG90RWxlbWVudElkKCk7cmV0dXJuIG8ubG9nSW5mbygiWzMzQWNyb3NzIEFkYXB0ZXJdIE1hcCBhZCB1bml0IHBhdGggdG8gSFRNTCBlbGVtZW50IGlkOiAnIi5jb25jYXQoZSwiJyAtPiAiKS5jb25jYXQoaSkpLGl9cmV0dXJuIG8ubG9nV2FybigiWzMzQWNyb3NzIEFkYXB0ZXJdIFVuYWJsZSB0byBsb2NhdGUgZWxlbWVudCBmb3IgYWQgdW5pdCBjb2RlOiAnIi5jb25jYXQoZSwiJyIpKSxudWxsfShkKSkpLGk9ZnVuY3Rpb24oZSl7aWYoby5pc0FycmF5KGUpJiYyPT09ZS5sZW5ndGgmJiFvLmlzQXJyYXkoZVswXSkpcmV0dXJuW3goZSldO3JldHVybiBlLm1hcCh4KX0oci5zaXplcyk7dmFyIGQ7dD0iZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcj9pLm1hcCgoZnVuY3Rpb24odCl7dmFyIHIsbj1PKGUsdCxhLmIpO3JldHVybiBuJiYocj17ZXh0Ont0dHg6e2JpZGZsb29yczpbbl19fX0pLHMoe30sdCxyKX0pKTppO3ZhciBjPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5oKnQudzxlLmgqZS53P3Q6ZX0pKX0oaSksdT1mdW5jdGlvbihlKXtyZXR1cm57dHR4Ont2aWV3YWJpbGl0eTp7YW1vdW50OmlzTmFOKGUpP2U6TWF0aC5yb3VuZChlKX19fX0oZnVuY3Rpb24oZSl7cmV0dXJuIWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBvLmdldFdpbmRvd1NlbGYoKSE9PW8uZ2V0V2luZG93VG9wKCl9Y2F0Y2goZSl7cmV0dXJuITB9fSgpJiZudWxsIT09ZX0obik/ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj1yLncsaT1yLmg7cmV0dXJuInZpc2libGUiPT09dC5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGU/aihlLHQse3c6bixoOml9KTowfShuLG8uZ2V0V2luZG93VG9wKCksYyk6QSk7cmV0dXJue2Zvcm1hdDp0LGV4dDp1fX0odCkpKTtvLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy52aWRlbyIpJiYocC5pbXBbMF0udmlkZW89ZnVuY3Rpb24oZSl7dmFyIHQ9by5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iLHt9KSxyPW8uZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8iLHt9KSxuPWMoYyh7fSx0KSxyKSxpPXt9LGQ9eChuLnBsYXllclNpemVbMF0pLHU9ZC53LHA9ZC5oO2kudz11LGkuaD1wLHYuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5oYXNPd25Qcm9wZXJ0eShlKSYmKGlbZV09bltlXSl9KSk7dmFyIGw9SShlKTtpLnBsYWNlbWVudD1pLnBsYWNlbWVudHx8MixsPT09aCYmKGkuc3RhcnRkZWxheT1pLnN0YXJ0ZGVsYXl8fDAsaS5wbGFjZW1lbnQ9MSk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciBmPU8oZSx7dzppLncsaDppLmh9LGEuZCk7ZiYmcyhpLHtleHQ6e3R0eDp7YmlkZmxvb3JzOltmXX19fSl9cmV0dXJuIGl9KHQpKTtwLmltcFswXS5leHQ9e3R0eDp7cHJvZDpJKHQpfX0scC5zaXRlPXtpZDpmLnNpdGVJZH0sdSYmKHAuc2l0ZS5wYWdlPXUpO3AuaWQ9dC5iaWRJZCxuLmNvbnNlbnRTdHJpbmcmJihwLnVzZXI9dyhwLnVzZXIsImNvbnNlbnQiLG4uY29uc2VudFN0cmluZykpO0FycmF5LmlzQXJyYXkodC51c2VySWRBc0VpZHMpJiZ0LnVzZXJJZEFzRWlkcy5sZW5ndGg+MCYmKHAudXNlcj13KHAudXNlciwiZWlkcyIsdC51c2VySWRBc0VpZHMpKTtwLnJlZ3M9dyhwLnJlZ3MsImdkcHIiLE51bWJlcihuLmdkcHJBcHBsaWVzKSksZCYmKHAucmVncz13KHAucmVncywidXNfcHJpdmFjeSIsZCkpO3AuZXh0PXt0dHg6e3ByZWJpZFN0YXJ0ZWRBdDpEYXRlLm5vdygpLGNhbGxlcjpbe25hbWU6InByZWJpZGpzIix2ZXJzaW9uOiI1LjExLjAifV19fSx0LnNjaGFpbiYmKHAuc291cmNlPXcocC5zb3VyY2UsInNjaGFpbiIsdC5zY2hhaW4pKTsxPT09Zi50ZXN0JiYocC50ZXN0PTEpO3ZhciBtPXtjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSxiPWkuYi5nZXRDb25maWcoInR0eFNldHRpbmdzIik7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOmImJmIudXJsfHwiIi5jb25jYXQobCwiP2d1aWQ9IikuY29uY2F0KGYuc2l0ZUlkKSxkYXRhOkpTT04uc3RyaW5naWZ5KHApLG9wdGlvbnM6bX19KHtiaWRSZXF1ZXN0OmUsZ2RwckNvbnNlbnQ6cix1c3BDb25zZW50Om4scGFnZVVybDpkfSl9KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIGUuYm9keS5zZWF0YmlkLmxlbmd0aD4wJiZlLmJvZHkuc2VhdGJpZFswXS5iaWQubGVuZ3RoPjAmJnIucHVzaChmdW5jdGlvbihlKXt2YXIgdD1lLnNlYXRiaWRbMF0uYmlkWzBdLmFkb21haW4mJmUuc2VhdGJpZFswXS5iaWRbMF0uYWRvbWFpbi5sZW5ndGgscj17cmVxdWVzdElkOmUuaWQsYmlkZGVyQ29kZTpwLGNwbTplLnNlYXRiaWRbMF0uYmlkWzBdLnByaWNlLHdpZHRoOmUuc2VhdGJpZFswXS5iaWRbMF0udyxoZWlnaHQ6ZS5zZWF0YmlkWzBdLmJpZFswXS5oLGFkOmUuc2VhdGJpZFswXS5iaWRbMF0uYWRtLHR0bDplLnNlYXRiaWRbMF0uYmlkWzBdLnR0bHx8NjAsY3JlYXRpdmVJZDplLnNlYXRiaWRbMF0uYmlkWzBdLmNyaWQsbWVkaWFUeXBlOm8uZGVlcEFjY2VzcyhlLnNlYXRiaWRbMF0uYmlkWzBdLCJleHQudHR4Lm1lZGlhVHlwZSIsYS5iKSxjdXJyZW5jeTplLmN1cixuZXRSZXZlbnVlOiEwfTt0JiYoci5tZXRhPXthZHZlcnRpc2VyRG9tYWluczplLnNlYXRiaWRbMF0uYmlkWzBdLmFkb21haW59KTtpZihyLm1lZGlhVHlwZT09PWEuZCl7InhtbCI9PT1vLmRlZXBBY2Nlc3MoZS5zZWF0YmlkWzBdLmJpZFswXSwiZXh0LnR0eC52YXN0VHlwZSIsInhtbCIpP3IudmFzdFhtbD1yLmFkOnIudmFzdFVybD1yLmFkfXJldHVybiByfShlLmJvZHkpKSxyfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89ZS5pZnJhbWVFbmFibGVkP3kudW5pcXVlU2l0ZUlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLnNpdGVJZCxyPXZvaWQgMD09PXQ/Inp6ejAwMDAwMDAwMDAwM3p6eiI6dCxuPWUuZ2RwckNvbnNlbnQsbz12b2lkIDA9PT1uP3t9Om4sYT1lLnVzcENvbnNlbnQscz1pLmIuZ2V0Q29uZmlnKCJ0dHhTZXR0aW5ncyIpLGQ9cyYmcy5zeW5jVXJsfHxmLGM9by5jb25zZW50U3RyaW5nLHU9by5nZHByQXBwbGllcyxwPXt0eXBlOiJpZnJhbWUiLHVybDoiIi5jb25jYXQoZCwiJmlkPSIpLmNvbmNhdChyLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoYyksIiZ1c19wcml2YWN5PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoYSkpfTsiYm9vbGVhbiI9PXR5cGVvZiB1JiYocC51cmwrPSImZ2Rwcj0iLmNvbmNhdChOdW1iZXIodSkpKTtyZXR1cm4gcH0oe2dkcHJDb25zZW50OnIsdXNwQ29uc2VudDpuLHNpdGVJZDplfSl9KSk6W107cmV0dXJuIHkudW5pcXVlU2l0ZUlkcz1bXSxvfX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKFQpfSw5OTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMTAwKX19LFs5OV0pOwp1cGJqc0NodW5rKFszNDBdLHsxODY6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDE4Nyl9LDE4NzpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSk7dmFyIG49dCgxKSxpPXQoMiksYT10KDApLG89dCgzKSxkPXQoMTMpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGMoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxwKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUscil7dmFyIHQ9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT10KXJldHVybjt2YXIgbixpLGE9W10sbz0hMCxkPSExO3RyeXtmb3IodD10LmNhbGwoZSk7IShvPShuPXQubmV4dCgpKS5kb25lKSYmKGEucHVzaChuLnZhbHVlKSwhcnx8YS5sZW5ndGghPT1yKTtvPSEwKTt9Y2F0Y2goZSl7ZD0hMCxpPWV9ZmluYWxseXt0cnl7b3x8bnVsbD09dC5yZXR1cm58fHQucmV0dXJuKCl9ZmluYWxseXtpZihkKXRocm93IGl9fXJldHVybiBhfShlLHIpfHxwKGUscil8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBwKGUscil7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBjKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXR8fCJTZXQiPT09dD9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCk/YyhlLHIpOnZvaWQgMH19ZnVuY3Rpb24gYyhlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KHIpO3Q8cjt0Kyspblt0XT1lW3RdO3JldHVybiBufWZ1bmN0aW9uIGwoZSl7cmV0dXJuKGw9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgbT1vLmIuZ2V0Q29uZmlnLGY9ezA6InRpdGxlIiwyOiJpY29uIiwzOiJpbWFnZSIsNToic3BvbnNvcmVkQnkiLDQ6ImJvZHkiLDE6ImN0YSJ9LHk9e3RpdGxlOntpZDowLG5hbWU6InRpdGxlIn0saWNvbjp7aWQ6Mix0eXBlOjEsbmFtZToiaW1nIn0saW1hZ2U6e2lkOjMsdHlwZTozLG5hbWU6ImltZyJ9LHNwb25zb3JlZEJ5OntpZDo1LG5hbWU6ImRhdGEiLHR5cGU6MX0sYm9keTp7aWQ6NCxuYW1lOiJkYXRhIix0eXBlOjJ9LGN0YTp7aWQ6MSx0eXBlOjEyLG5hbWU6ImRhdGEifX0sdj17Y29kZToiYWRmIixhbGlhc2VzOlt7Y29kZToiYWRmb3JtT3BlblJUQiIsZ3ZsaWQ6NTB9LHtjb2RlOiJhZGZvcm0iLGd2bGlkOjUwfV0sZ3ZsaWQ6NTAsc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5jLGkuYixpLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMubWlkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQsbixvPW0oIm9ydGIyIil8fHt9LGQ9by51c2VyOyJvYmplY3QiPT09bChtKCJhcHAiKSk/KHQ9bSgiYXBwIil8fHt9LG8uYXBwJiZhLm1lcmdlRGVlcCh0LG8uYXBwKSk6KG49bSgic2l0ZSIpfHx7fSxvLnNpdGUmJmEubWVyZ2VEZWVwKG4sby5zaXRlKSxuLnBhZ2V8fChuLnBhZ2U9ci5yZWZlcmVySW5mby5yZWZlcmVyKSk7dmFyIHM9bSgiZGV2aWNlIil8fHt9O3Mudz1zLnd8fHdpbmRvdy5pbm5lcldpZHRoLHMuaD1zLmh8fHdpbmRvdy5pbm5lckhlaWdodCxzLnVhPXMudWF8fG5hdmlnYXRvci51c2VyQWdlbnQ7dmFyIHA9YihlLCJwYXJhbXMuYWR4RG9tYWluIil8fCJhZHguYWRmb3JtLm5ldCIsYz1iKGUsInBhcmFtcy5wdCIpfHxiKGUsInBhcmFtcy5wcmljZVR5cGUiKXx8Im5ldCIsZj1lWzBdLnRyYW5zYWN0aW9uSWQsdj1iKGUsInBhcmFtcy50ZXN0IiksZz1tKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5Iiksdz1nJiZbZ10sUz1iKGUsInVzZXJJZEFzRWlkcyIpLFQ9YihlLCJzY2hhaW4iKSxBPWUubWFwKChmdW5jdGlvbihlLHIpe2UubmV0UmV2ZW51ZT1jO3ZhciB0PXtpZDpyKzEsdGFnaWQ6ZS5wYXJhbXMubWlkfSxuPWEuX21hcChlLm5hdGl2ZVBhcmFtcywoZnVuY3Rpb24oZSxyKXt2YXIgdD15W3JdLG49e3JlcXVpcmVkOjEmZS5yZXF1aXJlZH07aWYodCl7dmFyIGksYSxvLGQ7bi5pZD10LmlkO3ZhciBzPWUuYXNwZWN0X3JhdGlvcztpZihzJiZzWzBdJiYoaT0ocz1zWzBdKS5taW5fd2lkdGh8fDAsYT1zLnJhdGlvX2hlaWdodCppL3MucmF0aW9fd2lkdGh8MCksZS5zaXplcyl7dmFyIHU9aChlLnNpemVzKTtvPXVbMF0sZD11WzFdfXJldHVybiBuW3QubmFtZV09e2xlbjplLmxlbix0eXBlOnQudHlwZSx3bWluOmksaG1pbjphLHc6byxoOmR9LG59fSkpLmZpbHRlcihCb29sZWFuKTtpZihuLmxlbmd0aClyZXR1cm4gdC5uYXRpdmU9e3JlcXVlc3Q6e2Fzc2V0czpufX0sZS5tZWRpYVR5cGU9aS5jLHQ7dmFyIG89YS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIik7aWYobyYmby5zaXplcyl7dmFyIGQ9YS5wYXJzZVNpemVzSW5wdXQoby5zaXplcykubWFwKChmdW5jdGlvbihlKXt2YXIgcj11KGUuc3BsaXQoIngiKSwyKSx0PXJbMF0sbj1yWzFdO3JldHVybnt3OnBhcnNlSW50KHQsMTApLGg6cGFyc2VJbnQobiwxMCl9fSkpO3JldHVybiB0LmJhbm5lcj17Zm9ybWF0OmR9LGUubWVkaWFUeXBlPWkuYix0fXZhciBzPWEuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIik7cmV0dXJuIHM/KHQudmlkZW89cyxlLm1lZGlhVHlwZT1pLmQsdCk6dm9pZCAwfSkpLEk9e2lkOnIuYXVjdGlvbklkLHNpdGU6bixhcHA6dCx1c2VyOmQsZGV2aWNlOnMsc291cmNlOnt0aWQ6ZixmZDoxfSxleHQ6e3B0OmN9LGN1cjp3LGltcDpBfTtyZXR1cm4gdiYmKEkuaXNfZGVidWc9ISF2LEkudGVzdD0xKSx2b2lkIDAhPT1hLmRlZXBBY2Nlc3MociwiZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMiKSYmKGEuZGVlcFNldFZhbHVlKEksInVzZXIuZXh0LmNvbnNlbnQiLHIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksYS5kZWVwU2V0VmFsdWUoSSwicmVncy5leHQuZ2RwciIsMSZyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSksci51c3BDb25zZW50JiZhLmRlZXBTZXRWYWx1ZShJLCJyZWdzLmV4dC51c19wcml2YWN5IixyLnVzcENvbnNlbnQpLFMmJmEuZGVlcFNldFZhbHVlKEksInVzZXIuZXh0LmVpZHMiLFMpLFQmJmEuZGVlcFNldFZhbHVlKEksInNvdXJjZS5leHQuc2NoYWluIixUKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vIitwKyIvYWR4L29wZW5ydGIiLGRhdGE6SlNPTi5zdHJpbmdpZnkoSSksb3B0aW9uczp7Y29udGVudFR5cGU6ImFwcGxpY2F0aW9uL2pzb24ifSxiaWRzOmV9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PXIuYmlkcztpZihlLmJvZHkpe3ZhciBuPWUuYm9keSxvPW4uc2VhdGJpZCxzPW4uY3VyLHU9aChvLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkfSkpKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGVbci5pbXBpZC0xXT1yLGV9KSxbXSk7cmV0dXJuIHQubWFwKChmdW5jdGlvbihlLHIpe3ZhciB0PXVbcl07aWYodCl7dmFyIG49e3JlcXVlc3RJZDplLmJpZElkLGNwbTp0LnByaWNlLGNyZWF0aXZlSWQ6dC5jcmlkLHR0bDozNjAsbmV0UmV2ZW51ZToibmV0Ij09PWUubmV0UmV2ZW51ZSxjdXJyZW5jeTpzLG1lZGlhVHlwZTplLm1lZGlhVHlwZSx3aWR0aDp0LncsaGVpZ2h0OnQuaCxkZWFsSWQ6dC5kZWFsaWQsbWV0YTp7bWVkaWFUeXBlOmUubWVkaWFUeXBlLGFkdmVydGlzZXJEb21haW5zOnQuYWRvbWFpbn19O3JldHVybiB0Lm5hdGl2ZT9uLm5hdGl2ZT1mdW5jdGlvbihlKXt2YXIgcj1lLm5hdGl2ZSx0PXIuYXNzZXRzLG49ci5saW5rLGk9ci5pbXB0cmFja2VycyxhPXIuanN0cmFja2VyLG89e2NsaWNrVXJsOm4udXJsLGNsaWNrVHJhY2tlcnM6bi5jbGlja3RyYWNrZXJzfHx2b2lkIDAsaW1wcmVzc2lvblRyYWNrZXJzOml8fHZvaWQgMCxqYXZhc2NyaXB0VHJhY2tlcnM6YT9bYV06dm9pZCAwfTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1mW2UuaWRdLHQ9ciYmZVt5W3JdLm5hbWVdO3QmJihvW3JdPXQudGV4dHx8dC52YWx1ZXx8e3VybDp0LnVybCx3aWR0aDp0LncsaGVpZ2h0OnQuaH0pfSkpLG99KHQpOm5bZS5tZWRpYVR5cGU9PT1pLmQ/InZhc3RYbWwiOiJhZCJdPXQuYWRtLGUucmVuZGVyZXJ8fGUubWVkaWFUeXBlIT09aS5kfHwib3V0c3RyZWFtIiE9PWEuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKXx8KG4ucmVuZGVyZXI9ZC5hLmluc3RhbGwoe2lkOmUuYmlkSWQsdXJsOiJodHRwczovL3MyLmFkZm9ybS5uZXQvYmFubmVycy9zY3JpcHRzL3ZpZGVvL291dHN0cmVhbS9yZW5kZXIuanMiLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfSksbi5yZW5kZXJlci5zZXRSZW5kZXIoZykpLG59fSkpLmZpbHRlcihCb29sZWFuKX19fTtmdW5jdGlvbiBiKGUscil7Zm9yKHZhciB0LG49MDtuPGUubGVuZ3RoO24rKylpZih0PWEuZGVlcEFjY2VzcyhlW25dLHIpKXJldHVybiB0fWZ1bmN0aW9uIGgoZSl7dmFyIHI7cmV0dXJuKHI9W10pLmNvbmNhdC5hcHBseShyLHMoZSkpfWZ1bmN0aW9uIGcoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5BZGZvcm0ucmVuZGVyT3V0c3RyZWFtKGUpfSkpfU9iamVjdChuLnJlZ2lzdGVyQmlkZGVyKSh2KX19LFsxODZdKTsKdXBianNDaHVuayhbMzE3XSx7MjQ3OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgyNDgpfSwyNDg6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBsfSkpO3ZhciBuPXQoMCksaT10KDEpLGE9dCgzKSxvPXQoMTEpLHM9dC5uKG8pLGM9dCgyKTtmdW5jdGlvbiBkKGUpe3JldHVybihkPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gcCgpe3JldHVybihwPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHU9IlVTRCIsZj17aW1hZ2U6e3JlcXVpcmVkOiEwfSx0aXRsZTp7cmVxdWlyZWQ6ITB9LHNwb25zb3JlZEJ5OntyZXF1aXJlZDohMH0sY2xpY2tVcmw6e3JlcXVpcmVkOiEwfSxib2R5OntyZXF1aXJlZDohMX0saWNvbjp7cmVxdWlyZWQ6ITF9LGN0YTp7cmVxdWlyZWQ6ITF9fSxsPXtjb2RlOiJhZHlvdWxpa2UiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2MuYixjLmMsYy5kXSxhbGlhc2VzOlsiYXlsIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHI9Zyh5KGUpKSx0PXIud2lkdGg+MCYmci5oZWlnaHQ+MDtyZXR1cm4gZS5wYXJhbXMmJmUucGFyYW1zLnBsYWNlbWVudCYmKHR8fGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLm5hdGl2ZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD17VmVyc2lvbjoiMS4wIixCaWRzOmUucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciB0PWZ1bmN0aW9uKGUpe2lmKG4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIikpcmV0dXJuIGMuZDtpZihuLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSlyZXR1cm4gYy5iO2lmKG4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLm5hdGl2ZSIpKXJldHVybiBjLmN9KHIpLGk9eShyKSxhPWcoaSk7aWYoZVtyLmJpZElkXT17fSxlW3IuYmlkSWRdLlBsYWNlbWVudElEPXIucGFyYW1zLnBsYWNlbWVudCxlW3IuYmlkSWRdLlRyYW5zYWN0aW9uSUQ9ci50cmFuc2FjdGlvbklkLGVbci5iaWRJZF0uV2lkdGg9YS53aWR0aCxlW3IuYmlkSWRdLkhlaWdodD1hLmhlaWdodCxlW3IuYmlkSWRdLkF2YWlsYWJsZVNpemVzPWkuam9pbigiLCIpLCJmdW5jdGlvbiI9PXR5cGVvZiByLmdldEZsb29yJiYoZVtyLmJpZElkXS5QcmljaW5nPWZ1bmN0aW9uKGUscix0KXt2YXIgbj1lLmdldEZsb29yKHtjdXJyZW5jeTp1LG1lZGlhVHlwZTp0LHNpemU6W3Iud2lkdGgsci5oZWlnaHRdfSk7aWYoIWlzTmFOKG4uZmxvb3IpJiZuLmN1cnJlbmN5PT09dSlyZXR1cm4gbi5mbG9vcn0ocixhLHQpKSx0PT09Yy5jKXt2YXIgbz1yLm1lZGlhVHlwZXMubmF0aXZlOyJpbWFnZSI9PT1vLnR5cGUmJihvPXAoe30sZixvKSksby5jbGlja1VybD17cmVxdWlyZWQ6ITB9LGVbci5iaWRJZF0uTmF0aXZlPW99aWYodD09PWMuZCl7ZVtyLmJpZElkXS5WaWRlbz1yLm1lZGlhVHlwZXMudmlkZW87dmFyIHM9ci5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemU7QXJyYXkuaXNBcnJheShzKSYmIUFycmF5LmlzQXJyYXkoc1swXSkmJihlW3IuYmlkSWRdLlZpZGVvLnBsYXllclNpemU9W3NdKX1yZXR1cm4gZX0pLHt9KSxQYWdlUmVmcmVzaGVkOm0oKX07ciYmci5nZHByQ29uc2VudCYmKHQuZ2RwckNvbnNlbnQ9e2NvbnNlbnRTdHJpbmc6ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGNvbnNlbnRSZXF1aXJlZDoiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzP3IuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM6bnVsbH0pLHImJnIudXNwQ29uc2VudCYmKHQudXNwQ29uc2VudD1yLnVzcENvbnNlbnQpO3ZhciBpPUpTT04uc3RyaW5naWZ5KHQpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDp2KGUsciksZGF0YTppLG9wdGlvbnM6e3dpdGhDcmVkZW50aWFsczohMH19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGk9e307dHJ5e2k9SlNPTi5wYXJzZShyLmRhdGEpLkJpZHN9Y2F0Y2goZSl7fXJldHVybiBlLmJvZHkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSxyKXtpZighZXx8IWUuQWQmJiFlLk5hdGl2ZSYmIWUuVmFzdClyZXR1cm47dmFyIHQ9ciYmcltlLkJpZElEXTt0JiYoZS5XaWR0aCYmIjAiIT09ZS5XaWR0aHx8KGUuV2lkdGg9dC5XaWR0aCksZS5IZWlnaHQmJiIwIiE9PWUuSGVpZ2h0fHwoZS5IZWlnaHQ9dC5IZWlnaHQpKTt2YXIgaT17cmVxdWVzdElkOmUuQmlkSUQsdHRsOjM2MDAsY3JlYXRpdmVJZDplLkNyZWF0aXZlSUQsY3BtOmUuUHJpY2UsbmV0UmV2ZW51ZTohMCxjdXJyZW5jeTp1LG1ldGE6ZS5NZXRhfHx7YWR2ZXJ0aXNlckRvbWFpbnM6W119fTtpZih0JiZ0Lk5hdGl2ZSlpLm5hdGl2ZT1mdW5jdGlvbihlLHIpe2lmKCJvYmplY3QiPT09ZChlLk5hdGl2ZSkpcmV0dXJuIGUuTmF0aXZlO3ZhciB0PXt9LGk9e30sYT17fTtpZigic3RyaW5nIj09dHlwZW9mIGUuQWQpe2k9SlNPTi5wYXJzZShlLkFkLm1hdGNoKC9cL1wqUFJFQklEXCpcLyguKilcL1wqUFJFQklEXCpcLy8pWzFdKSxhPWkuQ29udGVudC5QcmV2aWV3LlRleHQ7dmFyIG89aS5UcmFja2luZ1ByZWZpeCsiL3BpeGVsP2V2ZW50X2tpbmQ9SU1QUkVTU0lPTiZhdHRlbXB0PSIraS5BdHRlbXB0LHM9aS5UcmFja2luZ1ByZWZpeCsiL3BpeGVsP2V2ZW50X2tpbmQ9SU5TRVJUSU9OJmF0dGVtcHQ9IitpLkF0dGVtcHQ7aS5DYW1wYWlnbiYmKG8rPSImY2FtcGFpZ249IitpLkNhbXBhaWduLHMrPSImY2FtcGFpZ249IitpLkNhbXBhaWduKSx0LmNsaWNrVXJsPWkuVHJhY2tpbmdQcmVmaXgrIi9hcj9ldmVudF9raW5kPUNMSUNLJmF0dGVtcHQ9IitpLkF0dGVtcHQrIiZjYW1wYWlnbj0iK2kuQ2FtcGFpZ24rIiZ1cmw9IitlbmNvZGVVUklDb21wb25lbnQoaS5Db250ZW50LkxhbmRpbmcuVXJsKSxpLk9uRXZlbnRzPyh0LmNsaWNrVHJhY2tlcnM9QyhpLk9uRXZlbnRzLkNMSUNLKSx0LmltcHJlc3Npb25UcmFja2Vycz1DKGkuT25FdmVudHMuSU1QUkVTU0lPTiksdC5qYXZhc2NyaXB0VHJhY2tlcnM9QyhpLk9uRXZlbnRzLklNUFJFU1NJT04sITApKTp0LmltcHJlc3Npb25UcmFja2Vycz1bXSx0LmltcHJlc3Npb25UcmFja2Vycy5wdXNoKG8scyl9cmV0dXJuIE9iamVjdC5rZXlzKHIpLm1hcCgoZnVuY3Rpb24obyxzKXtzd2l0Y2gobyl7Y2FzZSJ0aXRsZSI6dFtvXT1hLlRJVExFO2JyZWFrO2Nhc2UiYm9keSI6dFtvXT1hLkRFU0NSSVBUSU9OO2JyZWFrO2Nhc2UiY3RhIjp0W29dPWEuQ0FMTFRPQUNUSU9OO2JyZWFrO2Nhc2Uic3BvbnNvcmVkQnkiOnRbb109aS5Db250ZW50LlByZXZpZXcuU3BvbnNvci5OYW1lO2JyZWFrO2Nhc2UiaW1hZ2UiOnZhciBjPXIuaW1hZ2Uuc2l6ZXN8fFtdO2MubGVuZ3RofHwoY1swXT1lLldpZHRofHwzMDAsY1sxXT1lLkhlaWdodHx8MjUwKTt2YXIgZD1JKGksbi5kZWVwQWNjZXNzKGksIkNvbnRlbnQuUHJldmlldy5UaHVtYm5haWwuSW1hZ2UiKSxjWzBdLGNbMV0pO2QmJih0W29dPXt1cmw6ZCx3aWR0aDpjWzBdLGhlaWdodDpjWzFdfSk7YnJlYWs7Y2FzZSJpY29uIjp2YXIgcD1yLmljb24uc2l6ZXN8fFtdO3AubGVuZ3RofHwocFswXT01MCxwWzFdPTUwKTt2YXIgdT1JKGksbi5kZWVwQWNjZXNzKGksIkNvbnRlbnQuUHJldmlldy5TcG9uc29yLkxvZ28uUmVzb3VyY2UiKSxwWzBdLHBbMV0pO2QmJih0W29dPXt1cmw6dSx3aWR0aDpwWzBdLGhlaWdodDpwWzFdfSk7YnJlYWs7Y2FzZSJwcml2YWN5SWNvbiI6dFtvXT1JKGksbi5kZWVwQWNjZXNzKGksIkNvbnRlbnQuUHJldmlldy5DcmVkaXQuTG9nby5SZXNvdXJjZSIpLDI1LDI1KTticmVhaztjYXNlInByaXZhY3lMaW5rIjp0W29dPW4uZGVlcEFjY2VzcyhpLCJDb250ZW50LlByZXZpZXcuQ3JlZGl0LlVybCIpfX0pKSx0fShlLHQuTmF0aXZlKSxpLm1lZGlhVHlwZT0ibmF0aXZlIjtlbHNlIGlmKHQmJnQuVmlkZW8pe3ZhciBhPWUuVmFzdHx8ZnVuY3Rpb24oZSl7dmFyIHI9e307aWYoInN0cmluZyI9PXR5cGVvZiBlLkFkKXJldHVybiByPUpTT04ucGFyc2UoZS5BZC5tYXRjaCgvXC9cKlBSRUJJRFwqXC8oLiopXC9cKlBSRUJJRFwqXC8vKVsxXSksbi5kZWVwQWNjZXNzKHIsIkNvbnRlbnQuTWFpblZpZGVvLlZhc3QiKX0oZSk7aS52YXN0WG1sPWE/d2luZG93LmF0b2IoYSk6IiIsaS5tZWRpYVR5cGU9InZpZGVvIn1lbHNlIGkud2lkdGg9ZS5XaWR0aCxpLmhlaWdodD1lLkhlaWdodCxpLmFkPWUuQWQ7cmV0dXJuIGl9KGUsaSk7ciYmdC5wdXNoKHIpfSkpLHR9fTtmdW5jdGlvbiBtKCl7dHJ5e2lmKHBlcmZvcm1hbmNlJiZwZXJmb3JtYW5jZS5uYXZpZ2F0aW9uKXJldHVybiBwZXJmb3JtYW5jZS5uYXZpZ2F0aW9uLnR5cGU9PT1wZXJmb3JtYW5jZS5uYXZpZ2F0aW9uLlRZUEVfUkVMT0FEfWNhdGNoKGUpe31yZXR1cm4hMX1mdW5jdGlvbiB2KGUscil7dmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIHI9cygpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5EQ30pKTtyZXR1cm4gcj8iLSIrci5wYXJhbXMuREM6IiJ9KGUpO3JldHVybiBuLmJ1aWxkVXJsKHtwcm90b2NvbDoiaHR0cHMiLGhvc3Q6IiIuY29uY2F0KCJoYi1hcGkiKS5jb25jYXQodCwiLm9tbml0YWdqcy5jb20iKSxwYXRobmFtZToiL2hiLWFwaS9wcmViaWQvdjEiLHNlYXJjaDpoKHIpfSl9ZnVuY3Rpb24gaChlKXt2YXIgcj17fTtpZihlKXt2YXIgdD1lLnJlZmVyZXJJbmZvO3QmJihyLlJlZmVyZXJVcmw9ZW5jb2RlVVJJQ29tcG9uZW50KHQucmVmZXJlciksdC5udW1JZnJhbWVzPjAmJihyLlNhZmVGcmFtZT0hMCkpfXZhciBuPWZ1bmN0aW9uKCl7dmFyIGU7aWYod2luZG93LnNlbGYhPT13aW5kb3cudG9wKXRyeXtlPXdpbmRvdy50b3AuZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD0iY2Fub25pY2FsIl1baHJlZl0nKX1jYXRjaChlKXt9ZWxzZSBlPWRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcignbGlua1tyZWw9ImNhbm9uaWNhbCJdW2hyZWZdJyk7cmV0dXJuIGU/ZS5ocmVmOiIifSgpO24mJihyLkNhbm9uaWNhbFVybD1lbmNvZGVVUklDb21wb25lbnQobikpO3ZhciBpPWEuYi5nZXRDb25maWcoInB1Ymxpc2hlckRvbWFpbiIpO3JldHVybiBpJiYoci5QdWJsaXNoZXJEb21haW49ZW5jb2RlVVJJQ29tcG9uZW50KGkpKSxyfWZ1bmN0aW9uIHkoZSl7dmFyIHI9ZS5zaXplc3x8W107cmV0dXJuIGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmKHI9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8W10pLGUucGFyYW1zJiZBcnJheS5pc0FycmF5KGUucGFyYW1zLnNpemUpJiYocj1lLnBhcmFtcy5zaXplLEFycmF5LmlzQXJyYXkoclswXSl8fChyPVtyXSkpLG4ucGFyc2VTaXplc0lucHV0KHIpfWZ1bmN0aW9uIGcoZSl7dmFyIHI9e30sdD1lWzBdO2lmKCJzdHJpbmciIT10eXBlb2YgdClyZXR1cm4gcjt2YXIgbj10LnRvVXBwZXJDYXNlKCkuc3BsaXQoIlgiKSxpPXBhcnNlSW50KG5bMF0sMTApO2kmJihyLndpZHRoPWkpO3ZhciBhPXBhcnNlSW50KG5bMV0sMTApO3JldHVybiBhJiYoci5oZWlnaHQ9YSkscn1mdW5jdGlvbiBiKGUpe3JldHVybiBlPyJodHRwczovL2Jsb2JzLm9tbml0YWdqcy5jb20vYmxvYnMvIitlLnN1YnN0cigxNiwyKSsiLyIrZS5zdWJzdHIoMTYpKyIvIitlOiIifWZ1bmN0aW9uIEkoZSxyLHQsbil7dmFyIGk9IiI7aWYociYmci5LaW5kKXN3aXRjaChyLktpbmQpe2Nhc2UiSU5URVJOQUwiOmk9YihyLkRhdGEuSW50ZXJuYWwuQmxvYlJlZmVyZW5jZS5VaWQpO2JyZWFrO2Nhc2UiRVhURVJOQUwiOnZhciBhPWUuRHluYW1pY1ByZWZpeCxvPXIuRGF0YS5FeHRlcm5hbC5Vcmw7aWYoKG89KG89by5yZXBsYWNlKC9cW2hlaWdodFxdL2ksIiIrbikpLnJlcGxhY2UoL1xbd2lkdGhcXS9pLCIiK3QpKS5pbmRleE9mKGEpPj0wKXt2YXIgcz0vLip1cmw9KFteJl0qKS9nbS5leGVjKG8pOyhpPXM/c1sxXToiIil8fChpPWIoLy4qa2V5PShbXiZdKikvZ20uZXhlYyhvKVsxXSkpfWVsc2UgaT1vfXJldHVybiBpfWZ1bmN0aW9uIEMoZSxyKXt2YXIgdD1bXTtyZXR1cm4gZT8oZS5tYXAoKGZ1bmN0aW9uKGUsbil7KHImJiJKQVZBU0NSSVBUX1VSTCI9PT1lLktpbmR8fCFyJiYiUElYRUxfVVJMIj09PWUuS2luZCkmJnQucHVzaChlLlVybCl9KSksdCk6dH1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikobCl9fSxbMjQ3XSk7CnVwYmpzQ2h1bmsoWzMxM10sezI1NTpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoMjU2KX0sMjU2OmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJCSURERVJfQ09ERSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksZS5kKHQsIkVOR0lORV9CQVNFX1VSTCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksZS5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLHQucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe209ITF9O2UoMCk7dmFyIGE9ZSg0Mykscj1lKDEpLGk9ZSgyKTtmdW5jdGlvbiBvKG4sdCxlKXtyZXR1cm4gdCBpbiBuP09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHQse3ZhbHVlOmUsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTpuW3RdPWUsbn12YXIgcz0iYW1hem9uIixkPSJodHRwczovL2MuYW1hem9uLWFkc3lzdGVtLmNvbS9lL2R0Yi9iaWQiLGM9W10sbT0hMSxwPVsiaHR0cHM6Ly9hYXgtZXUuYW1hem9uLWFkc3lzdGVtLmNvbS9zL2l1Mz9jbTNwcGQ9MSZkPWR0Yi1wdWImY3NpZj10Il07dmFyIHU9e2NvZGU6cyxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKG4pe3JldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKG4sdCl7aWYoIXdpbmRvdy5hcHN0YWcpcmV0dXJuW107Zm9yKHZhciBlPTA7ZTxuLmxlbmd0aDtlKyspe3ZhciBhPW5bZV07Yy5wdXNoKGEpfXZhciByLGk9W107cmV0dXJuIHI9ZnVuY3Rpb24obix0KXtmb3IodmFyIGUsYT1bXSxyPXQmJnQuZ2RwckNvbnNlbnQsaT0wO2k8bi5sZW5ndGg7aSsrKXtmb3IodmFyIHM9e30sZD1uW2ldLnNpemVzLGM9W10sbT0wO208ZC5sZW5ndGg7bSsrKWMucHVzaChkW21dWzBdKyJ4IitkW21dWzFdKTtzLnNkPWwudG9TdHJpbmcoKSxzLnM9YyxzLnNuPW5baV0ucGFyYW1zLmFkVW5pdEdQVFBhdGgsYS5wdXNoKHMpLGwrK312YXIgcD1uWzBdLnBhcmFtcy5wdWJJRC5pbmRleE9mKCItIik+LTEsdT0obyhlPXt9LCJzcmMiLHA/IjYwMCI6blswXS5wYXJhbXMucHViSUQpLG8oZSwicHViaWQiLG5bMF0ucGFyYW1zLnB1YklEKSxvKGUsInUiLHdpbmRvdy5sb2NhdGlvbi5ocmVmKSxvKGUsInBpZCIsZnVuY3Rpb24obil7Zm9yKHZhciB0PSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSIsZT1uZXcgQXJyYXkobiksYT0wO2E8bjthKyspZVthXT10W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0Lmxlbmd0aCldO3JldHVybiBlLmpvaW4oIiIpfSgxMykpLG8oZSwicHIiLGRvY3VtZW50LnJlZmVycmVyKSxvKGUsImNiIiwwKSxvKGUsIndzIiwod2luZG93LmlubmVyV2lkdGh8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aHx8ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCkrIngiKyh3aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR8fGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KSksbyhlLCJ2IiwiNy40Ny4wMCIpLG8oZSwic2xvdHMiLEpTT04uc3RyaW5naWZ5KGEpKSxvKGUsInQiLDNlMyksZSk7ciYmInN0cmluZyI9PXR5cGVvZiByLmNvbnNlbnRTdHJpbmcmJiIiIT09ci5jb25zZW50U3RyaW5nPyJib29sZWFuIj09dHlwZW9mIHIuZ2RwckFwcGxpZXM/KHUuZ2RwcmU9IjEiLHUuZ2RwcmM9IiIuY29uY2F0KHIuY29uc2VudFN0cmluZyksdS5nZHBybD1KU09OLnN0cmluZ2lmeSh7bHNTdGF0dXM6InByZXNlbnQiLHN0YXR1czoiY21wLXN1Y2Nlc3MiLHJ0aW1lczpbMV0sY2M6IjAifSkpOnUuZ2Rwcmw9SlNPTi5zdHJpbmdpZnkobyh7c3RhdHVzOiJwcmVzZW50In0sInN0YXR1cyIsImNtcC1zdWNjZXNzIikpOnUuZ2Rwcmw9SlNPTi5zdHJpbmdpZnkoe3N0YXR1czoiY21wLWVycm9yIn0pO3JldHVybiB1fShuLHQpLGkucHVzaCh7bWV0aG9kOiJHRVQiLHVybDpkLGRhdGE6cn0pLGl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKG4sdCl7dmFyIGU9W10scj1uZXcgUmVnRXhwKCJhcHN0YWdcXC5cXHcrXFwoKC4qPylcXCkiLCJnbSIpLGk9bi5ib2R5LG89ci5leGVjKGkpO2lmKG8mJm8ubGVuZ3RoPjApdHJ5e3ZhciBzLGQ9SlNPTi5wYXJzZShvWzFdKTtpZihkLmNtcCwhZC5zbG90cylyZXR1cm4gZTtzPWQuaG9zdDtmb3IodmFyIG09ZC5zbG90cyxwPTA7cDxtLmxlbmd0aDtwKyspe2Zvcih2YXIgdT12b2lkIDAsbD1tW3BdLGc9MDtnPGMubGVuZ3RoO2crKylpZihnLnRvU3RyaW5nKCk9PT1sLnNsb3RJRCl7dT1jW2ddO2JyZWFrfWlmKHZvaWQgMCE9PXUpe3ZhciBmPTAsej0iVVNEIix3PSIiK01hdGgucm91bmQoMWUxMipNYXRoLnJhbmRvbSgpKStEYXRlLm5vdygpLGg9cysiL2UvZHRiL2FkbWk/Yj0iK2wuYW16bmlpZCsiJnJuZD0iK3crIiZwcD0iK2wuYW16bmJpZCsiJnA9IitsLmFtem5wKyImY3JpZD0iK2wuY3JpZDt3aW5kb3cudXBvX2Ftem4mJih3aW5kb3cudXBvX2Ftem4uYW1hem9uQ1BNQ2hhcnQmJndpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DaGFydFtsLmFtem5iaWRdJiYoZj13aW5kb3cudXBvX2Ftem4uYW1hem9uQ1BNQ2hhcnRbbC5hbXpuYmlkXSksd2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUN1cnJlbmN5JiYoej13aW5kb3cudXBvX2Ftem4uYW1hem9uQ1BNQ3VycmVuY3kpKTt2YXIgYj1sLmNyaWQ7aWYoIWwuY3JpZClpZigieGNldTRnIj09PWwuYW16bmJpZCliPSJ0ZXN0Q3JpZCI7ZWxzZXt2YXIgdj17ZXZlbnQ6ImFtYXpvbi1uby1jcmlkIixzZW5kUGVyY2VudGFnZToxMDAsbWV0YTp7ZG9tYWluOndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZX19O2EuZShudWxsLCJhbWF6b24tbm8tY3JpZCIsW10sdil9ZS5wdXNoKHtyZXF1ZXN0SWQ6dS5iaWRJZCxjcG06Zix3aWR0aDpsLmFtem5zei5zcGxpdCgieCIpWzBdLGhlaWdodDpsLmFtem5zei5zcGxpdCgieCIpWzFdLGFkVGFyZ2V0aW5nOid7ImFtem5paWQiOiInK2wuYW16bmlpZCsnIiwiYW16bnAiOiInK2wuYW16bnArJyIsImFtem5iaWQiOiInK2wuYW16bmJpZCsnIiwiYW16bnN6IjoiJytsLmFtem5zeisnIn0nLGFkOiIiLGFkSHRtbDonPGJvZHkgbGVmdG1hcmdpbj0iMCIgdG9wbWFyZ2luPSIwIiBtYXJnaW53aWR0aD0iMCIgbWFyZ2luaGVpZ2h0PSIwIj48aWZyYW1lIGZyYW1lYm9yZGVyPSIwIiBtYXJnaW5oZWlnaHQ9IjAiIG1hcmdpbndpZHRoPSIwIiBzY3JvbGxpbmc9Im5vIiB3aWR0aD0iJytsLmFtem5zei5zcGxpdCgieCIpWzBdKydweCIgaGVpZ2h0PSInK2wuYW16bnN6LnNwbGl0KCJ4IilbMV0rJ3B4IiBpZD0iYW16bmFkNzAzNTIiIHNhbmRib3g9ImFsbG93LWZvcm1zIGFsbG93LXBvaW50ZXItbG9jayBhbGxvdy1wb3B1cHMgYWxsb3ctcG9wdXBzLXRvLWVzY2FwZS1zYW5kYm94IGFsbG93LXNhbWUtb3JpZ2luIGFsbG93LXNjcmlwdHMgYWxsb3ctdG9wLW5hdmlnYXRpb24tYnktdXNlci1hY3RpdmF0aW9uIiBzcmM9IicraCsnIj48L2lmcmFtZT48c2NyaXB0PnZhciBhbXogPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTthbXouc3JjID0gIi8vYy5hbWF6b24tYWRzeXN0ZW0uY29tL2Jhby1jc20vZGlyZWN0L2NzbS5qcyI7YW16LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGZ1bmN0aW9uKCl7dmFyIGNzbUZ1bmMgPSBudWxsOyBpZih3aW5kb3cuYW16bmNzbSAmJiB3aW5kb3cuYW16bmNzbS5ybUQpe2NzbUZ1bmMgPSB3aW5kb3cuYW16bmNzbS5ybUQ7fSBlbHNlIGlmICh3aW5kb3cuYW16bmNzbSkge2NzbUZ1bmMgPSB3aW5kb3cuYW16bmNzbVtPYmplY3Qua2V5cyh3aW5kb3cuYW16bmNzbSlbMF1dfTsgdmFyIGFkSWZyYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcJ2lmcmFtZVtzcmMqPSJhbWF6b24tYWRzeXN0ZW0uY29tL2UvZHRiL2FkbWlcJyk7Y3NtRnVuYyhhZElmcmFtZSwgIicrbC5hbXpuaWlkKyciLCB3aW5kb3csIGRvY3VtZW50LCAiJyt1LnBhcmFtcy5wdWJJRCsnIik7fSk7KGRvY3VtZW50LmJvZHl8fGRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoYW16KTs8XC9zY3JpcHQ+PC9ib2R5PicsYWRVcmw6aCx0dGw6OTAwLGNyZWF0aXZlSWQ6Ynx8IiIsbmV0UmV2ZW51ZTohMCxjdXJyZW5jeTp6fSl9fX1jYXRjaChuKXt9cmV0dXJuIGV9LGdldFVzZXJTeW5jczpmdW5jdGlvbihuLHQsZSl7aWYoIW0pe2UmJiJzdHJpbmciPT10eXBlb2YgZS5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2YgZS5nZHByQXBwbGllcz8iP2dkcHI9Ii5jb25jYXQoTnVtYmVyKGUuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdChlLmNvbnNlbnRTdHJpbmcpOiI/Z2Rwcl9jb25zZW50PSIuY29uY2F0KGUuY29uc2VudFN0cmluZykpLG09ITA7Zm9yKHZhciBhPVtdLHI9MDtyPHAubGVuZ3RoO3IrKylhLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOnBbcl19KTtyZXR1cm4gYX19fTt2YXIgbD0wO09iamVjdChyLnJlZ2lzdGVyQmlkZGVyKSh1KX19LFsyNTVdKTsKdXBianNDaHVuayhbMzA5XSx7MjYzOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cigyNjQpfSwyNjQ6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBNfSkpO3ZhciBuLGksYSxvPXIoMCkscz1yKDEpLGM9cigyKTtmdW5jdGlvbiB1KCl7cmV0dXJuKHU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBkKGUpe3JldHVybihkPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gcChlLHQpe3JldHVybiB0fHwodD1lLnNsaWNlKDApKSxPYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUse3Jhdzp7dmFsdWU6T2JqZWN0LmZyZWV6ZSh0KX19KSl9dmFyIGw9ImFvbCIsbT0idmVyaXpvbiIsZj0ib25lbW9iaWxlIixiPSJvbmVkaXNwbGF5IixoPXtHRVQ6ImRpc3BsYXktZ2V0In0sdj17R0VUOiJtb2JpbGUtZ2V0IixQT1NUOiJtb2JpbGUtcG9zdCJ9LGc9e1RBRzoiaWZyYW1lIixUWVBFOiJpZnJhbWUifSx5PXtUQUc6ImltZyIsVFlQRToiaW1hZ2UifSxPPVsiYWRzZXJ2ZXIub3JnIiwiY3JpdGVvLmNvbSIsImlkNS1zeW5jLmNvbSIsImludGVudGlxLmNvbSIsImxpdmVpbnRlbnQuY29tIiwicXVhbnRjYXN0LmNvbSIsInZlcml6b25tZWRpYS5jb20iLCJsaXZlcmFtcC5jb20iXSxQPUkobnx8KG49cChbIiIsIi9wdWJhcGkvMy4wLyIsIi8iLCIvIiwiLyIsIi9BRFRFQ0g7dj0yO2NtZD1iaWQ7Y29ycz15ZXM7YWxpYXM9IiwiO21pc2M9IiwiOyIsIiJdKSksImhvc3QiLCJuZXR3b3JrIiwicGxhY2VtZW50IiwicGFnZWlkIiwic2l6ZWlkIiwiYWxpYXMiLCJtaXNjIiwiZHluYW1pY1BhcmFtcyIpLEU9SShpfHwoaT1wKFsiIiwiL2JpZFJlcXVlc3Q/Il0pKSwiaG9zdCIpLFM9SShhfHwoYT1wKFsiZGNuPSIsIiZwb3M9IiwiJmNtZD1iaWQiLCIiXSkpLCJkY24iLCJwb3MiLCJkeW5hbWljUGFyYW1zIiksVD17dXM6ImFkc2VydmVyLXVzLmFkdGVjaC5hZHZlcnRpc2luZy5jb20iLGV1OiJhZHNlcnZlci1ldS5hZHRlY2guYWR2ZXJ0aXNpbmcuY29tIixhczoiYWRzZXJ2ZXItYXMuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbSJ9LHg9Imh0dHBzIixDPTE7ZnVuY3Rpb24gSShlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheSh0PjE/dC0xOjApLG49MTtuPHQ7bisrKXJbbi0xXT1hcmd1bWVudHNbbl07cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodCksaT0wO2k8dDtpKyspbltpXT1hcmd1bWVudHNbaV07dmFyIGE9bltuLmxlbmd0aC0xXXx8e30scz1bZVswXV07cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24odCxyKXt2YXIgaT1vLmlzSW50ZWdlcih0KT9uW3RdOmFbdF07cy5wdXNoKGksZVtyKzFdKX0pKSxzLmpvaW4oIiIpfX1mdW5jdGlvbiBSKGUpe3JldHVybiBlPT09bHx8ZT09PW18fGU9PT1mfWZ1bmN0aW9uIHcoZSl7aWYoUihlLmJpZGRlcikmJmUucGFyYW1zLmlkJiZlLnBhcmFtcy5pbXAmJmUucGFyYW1zLmltcFswXSl7dmFyIHQ9ZS5wYXJhbXMuaW1wWzBdO3JldHVybiB0LmlkJiZ0LnRhZ2lkJiZ0LmJhbm5lciYmdC5iYW5uZXIudyYmdC5iYW5uZXIuaH19ZnVuY3Rpb24gVShlKXtyZXR1cm4gUihlLmJpZGRlcikmJmUucGFyYW1zLmRjbiYmZS5wYXJhbXMucG9zfWZ1bmN0aW9uIGsoZSl7cmV0dXJuKCh0PWUuYmlkZGVyKT09PWx8fHQ9PT1tfHx0PT09YikmJmUucGFyYW1zLnBsYWNlbWVudCYmZS5wYXJhbXMubmV0d29yazt2YXIgdH1mdW5jdGlvbiBxKGUpe3JldHVybiBlLnVzZXJJZEFzRWlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09Ty5pbmRleE9mKGUuc291cmNlKX0pKX12YXIgTT17Y29kZTpsLGd2bGlkOjI1LGFsaWFzZXM6W2YsYixtXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltjLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBrKGUpfHxmdW5jdGlvbihlKXtyZXR1cm4gVShlKXx8dyhlKX0oZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49e307cmV0dXJuIHQmJihuLmdkcHI9dC5nZHByQ29uc2VudCxuLnVzcENvbnNlbnQ9dC51c3BDb25zZW50KSxlLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFUoZSk/di5HRVQ6dyhlKT92LlBPU1Q6ayhlKT9oLkdFVDp2b2lkIDB9KGUpO2lmKHQpcmV0dXJuIHIuZm9ybWF0QmlkUmVxdWVzdCh0LGUsbil9KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ib2R5O2lmKHIpe3ZhciBuPXRoaXMuX3BhcnNlQmlkUmVzcG9uc2Uocix0KTtpZihuKXJldHVybiBufWVsc2Ugby5sb2dFcnJvcigiRW1wdHkgYmlkIHJlc3BvbnNlIix0LmJpZGRlckNvZGUscil9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3ZhciByPSFvLmlzRW1wdHkodCkmJnRbMF0uYm9keTtyZXR1cm4gciYmci5leHQmJnIuZXh0LnBpeGVscz90aGlzLnBhcnNlUGl4ZWxJdGVtcyhyLmV4dC5waXhlbHMpOltdfSxmb3JtYXRCaWRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbjtzd2l0Y2goZSl7Y2FzZSBoLkdFVDpuPXt1cmw6dGhpcy5idWlsZE1hcmtldHBsYWNlVXJsKHQsciksbWV0aG9kOiJHRVQiLHR0bDo2MH07YnJlYWs7Y2FzZSB2LkdFVDpuPXt1cmw6dGhpcy5idWlsZE9uZU1vYmlsZUdldFVybCh0LHIpLG1ldGhvZDoiR0VUIix0dGw6MzYwMH07YnJlYWs7Y2FzZSB2LlBPU1Q6bj17dXJsOnRoaXMuYnVpbGRPbmVNb2JpbGVCYXNlVXJsKHQpLG1ldGhvZDoiUE9TVCIsdHRsOjM2MDAsZGF0YTp0aGlzLmJ1aWxkT3BlblJ0YlJlcXVlc3REYXRhKHQsciksb3B0aW9uczp7Y29udGVudFR5cGU6ImFwcGxpY2F0aW9uL2pzb24iLGN1c3RvbUhlYWRlcnM6eyJ4LW9wZW5ydGItdmVyc2lvbiI6IjIuMiJ9fX19cmV0dXJuIG4uYmlkZGVyQ29kZT10LmJpZGRlcixuLmJpZElkPXQuYmlkSWQsbi51c2VyU3luY09uPXQucGFyYW1zLnVzZXJTeW5jT24sbn0sYnVpbGRNYXJrZXRwbGFjZVVybDpmdW5jdGlvbihlLHQpe3ZhciByLG49ZS5wYXJhbXMsaT1uLnNlcnZlcixhPW4ucmVnaW9ufHwidXMiO3JldHVybiBULmhhc093blByb3BlcnR5KGEpfHwoby5sb2dXYXJuKCJVbmtub3duIHJlZ2lvbiAnIi5jb25jYXQoYSwiJyBmb3IgQU9MIGJpZGRlci4iKSksYT0idXMiKSxyPWl8fFRbYV0sbi5yZWdpb249YSx0aGlzLmFwcGx5UHJvdG9jb2woUCh7aG9zdDpyLG5ldHdvcms6bi5uZXR3b3JrLHBsYWNlbWVudDpwYXJzZUludChuLnBsYWNlbWVudCkscGFnZWlkOm4ucGFnZUlkfHwwLHNpemVpZDpuLnNpemVJZHx8MCxhbGlhczpuLmFsaWFzfHxvLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxtaXNjOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGR5bmFtaWNQYXJhbXM6dGhpcy5mb3JtYXRNYXJrZXRwbGFjZUR5bmFtaWNQYXJhbXMobix0KX0pKX0sYnVpbGRPbmVNb2JpbGVHZXRVcmw6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnBhcmFtcyxuPXIuZGNuLGk9ci5wb3MsYT1yLmV4dDsib2JqZWN0Ij09PWQoZS51c2VySWQpJiYoYT1hfHx7fSxxKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2FbImVpZCIrZS5zb3VyY2VdPWUudWlkc1swXS5pZH0pKSk7dmFyIG89dGhpcy5idWlsZE9uZU1vYmlsZUJhc2VVcmwoZSk7aWYobiYmaSl7dmFyIHM9dGhpcy5mb3JtYXRPbmVNb2JpbGVEeW5hbWljUGFyYW1zKGEsdCk7bys9Uyh7ZGNuOm4scG9zOmksZHluYW1pY1BhcmFtczpzfSl9cmV0dXJuIG99LGJ1aWxkT25lTW9iaWxlQmFzZVVybDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hcHBseVByb3RvY29sKEUoe2hvc3Q6ZS5wYXJhbXMuaG9zdHx8ImMyc2hiLnNzcC55YWhvby5jb20ifSkpfSxhcHBseVByb3RvY29sOmZ1bmN0aW9uKGUpe3JldHVybi9eaHR0cHM/OlwvXC8vaS50ZXN0KGUpP2U6MD09PWUuaW5kZXhPZigiLy8iKT8iIi5jb25jYXQoeCwiOiIpLmNvbmNhdChlKToiIi5jb25jYXQoeCwiOi8vIikuY29uY2F0KGUpfSxmb3JtYXRNYXJrZXRwbGFjZUR5bmFtaWNQYXJhbXM6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj17fTt1KHIsdGhpcy5mb3JtYXRLZXlWYWx1ZXMoZS5rZXlWYWx1ZXMpKSx1KHIsdGhpcy5mb3JtYXRDb25zZW50RGF0YSh0KSk7dmFyIG49IiI7cmV0dXJuIG8uX2VhY2gociwoZnVuY3Rpb24oZSx0KXtuKz0iIi5jb25jYXQodCwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZSksIjsiKX0pKSxufSxmb3JtYXRPbmVNb2JpbGVEeW5hbWljUGFyYW1zOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3RoaXMuaXNTZWN1cmVQcm90b2NvbCgpJiYoZS5zZWN1cmU9QyksdShlLHRoaXMuZm9ybWF0Q29uc2VudERhdGEodCkpO3ZhciByPSIiO3JldHVybiBvLl9lYWNoKGUsKGZ1bmN0aW9uKGUsdCl7cis9IiYiLmNvbmNhdCh0LCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlKSl9KSkscn0sYnVpbGRPcGVuUnRiUmVxdWVzdERhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9e2lkOmUucGFyYW1zLmlkLGltcDplLnBhcmFtcy5pbXB9O2lmKHRoaXMuaXNFVUNvbnNlbnRSZXF1aXJlZCh0KSYmKG8uZGVlcFNldFZhbHVlKHIsInJlZ3MuZXh0LmdkcHIiLEMpLHQuZ2Rwci5jb25zZW50U3RyaW5nJiZvLmRlZXBTZXRWYWx1ZShyLCJ1c2VyLmV4dC5jb25zZW50Iix0LmdkcHIuY29uc2VudFN0cmluZykpLHQudXNwQ29uc2VudCYmby5kZWVwU2V0VmFsdWUociwicmVncy5leHQudXNfcHJpdmFjeSIsdC51c3BDb25zZW50KSwib2JqZWN0Ij09PWQoZS51c2VySWQpKXtyLnVzZXI9ci51c2VyfHx7fSxyLnVzZXIuZXh0PXIudXNlci5leHR8fHt9O3ZhciBuPXEoZSk7bi5sZW5ndGg+MCYmKHIudXNlci5leHQuZWlkcz1uKX1yZXR1cm4gcn0saXNFVUNvbnNlbnRSZXF1aXJlZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLmdkcHImJmUuZ2Rwci5nZHByQXBwbGllcyl9LGZvcm1hdEtleVZhbHVlczpmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gby5fZWFjaChlLChmdW5jdGlvbihlLHIpe3RbImt2Ii5jb25jYXQocildPWV9KSksdH0sZm9ybWF0Q29uc2VudERhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHRoaXMuaXNFVUNvbnNlbnRSZXF1aXJlZChlKSYmKHQuZ2Rwcj1DLGUuZ2Rwci5jb25zZW50U3RyaW5nJiYodC5ldWNvbnNlbnQ9ZS5nZHByLmNvbnNlbnRTdHJpbmcpKSxlLnVzcENvbnNlbnQmJih0LnVzX3ByaXZhY3k9ZS51c3BDb25zZW50KSx0fSxwYXJzZVBpeGVsSXRlbXM6ZnVuY3Rpb24oZSl7dmFyIHQ9L1x3Kig/PVxzKS8scj0vc3JjPSgifCcpKC4qPylcMS8sbj1bXTtpZihlKXt2YXIgaT1lLm1hdGNoKC8oaW1nfGlmcmFtZSlbXHNcU10qP3NyY1xzKj1ccyooInwnKSguKj8pXDIvZ2kpO2kmJmkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9ZS5tYXRjaCh0KVswXSxhPWUubWF0Y2gocilbMl07aSYmYSYmbi5wdXNoKHt0eXBlOmk9PT15LlRBRz95LlRZUEU6Zy5UWVBFLHVybDphfSl9KSl9cmV0dXJuIG59LF9wYXJzZUJpZFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbjt0cnl7cj1lLnNlYXRiaWRbMF0uYmlkWzBdfWNhdGNoKGUpe3JldHVybn1pZihyLmV4dCYmci5leHQuZW5jcCluPXIuZXh0LmVuY3A7ZWxzZSBpZihudWxsPT09KG49ci5wcmljZSl8fGlzTmFOKG4pKXJldHVybiB2b2lkIG8ubG9nRXJyb3IoIkludmFsaWQgcHJpY2UgaW4gYmlkIHJlc3BvbnNlIixsLHIpO3JldHVybntiaWRkZXJDb2RlOnQuYmlkZGVyQ29kZSxyZXF1ZXN0SWQ6dC5iaWRJZCxhZDpyLmFkbSxjcG06bix3aWR0aDpyLncsaGVpZ2h0OnIuaCxjcmVhdGl2ZUlkOnIuY3JpZHx8MCxwdWJhcGlJZDplLmlkLGN1cnJlbmN5OmUuY3VyfHwiVVNEIixkZWFsSWQ6ci5kZWFsaWQsbmV0UmV2ZW51ZTohMCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczpyJiZyLmFkb21haW4/ci5hZG9tYWluOltdfSx0dGw6dC50dGx9fSxpc09uZU1vYmlsZUJpZGRlcjpSLGlzU2VjdXJlUHJvdG9jb2w6ZnVuY3Rpb24oKXtyZXR1cm4iaHR0cHM6Ij09PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sfX07T2JqZWN0KHMucmVnaXN0ZXJCaWRkZXIpKE0pfX0sWzI2M10pOwp1cGJqc0NodW5rKFszMDZdLHsyNzM6ZnVuY3Rpb24oZSxyLGEpe2UuZXhwb3J0cz1hKDI3NCl9LDI3NDpmdW5jdGlvbihlLHIsYSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxhLmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSk7dmFyIHQ9YSgxMyksbj1hKDApLGk9YSgzKSxzPWEoMSksbz1hKDIpLGQ9YSgyMykscD1hKDExKSxjPWEubihwKSx1PWEoMTIpLGw9YS5uKHUpLG09YSgyMiksZj1hKDcpO2Z1bmN0aW9uIHYoZSl7cmV0dXJuKHY9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiB5KCl7cmV0dXJuKHk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIGE9YXJndW1lbnRzW3JdO2Zvcih2YXIgdCBpbiBhKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLHQpJiYoZVt0XT1hW3RdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBiKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBnKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSxyKXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBnKGUscik7dmFyIGE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09YSYmZS5jb25zdHJ1Y3RvciYmKGE9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PWF8fCJTZXQiPT09YSlyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PWF8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KGEpKXJldHVybiBnKGUscil9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGcoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIGE9MCx0PW5ldyBBcnJheShyKTthPHI7YSsrKXRbYV09ZVthXTtyZXR1cm4gdH12YXIgaD0iYXBwbmV4dXMiLF89Imh0dHBzOi8vaWIuYWRueHMuY29tL3V0L3YzL3ByZWJpZCIsaz0iaHR0cHM6Ly9pYi5hZG54cy1zaW1wbGUuY29tL3V0L3YzL3ByZWJpZCIsST1bImlkIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInNraXBwYWJsZSIsInBsYXliYWNrX21ldGhvZCIsImZyYW1ld29ya3MiLCJjb250ZXh0Iiwic2tpcG9mZnNldCJdLEE9WyJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwic2tpcCIsInNraXBhZnRlciIsInBsYXliYWNrbWV0aG9kIiwiYXBpIl0sdz1bImFnZSIsImV4dGVybmFsVWlkIiwic2VnbWVudHMiLCJnZW5kZXIiLCJkbnQiLCJsYW5ndWFnZSJdLHg9WyJnZW8iLCJkZXZpY2VfaWQiXSxDPVsiZW5hYmxlZCIsImRvbmdsZSIsIm1lbWJlcl9pZCIsImRlYnVnX3RpbWVvdXQiXSxTPXtwbGF5YmFja19tZXRob2Q6e3Vua25vd246MCxhdXRvX3BsYXlfc291bmRfb246MSxhdXRvX3BsYXlfc291bmRfb2ZmOjIsY2xpY2tfdG9fcGxheTozLG1vdXNlX292ZXI6NCxhdXRvX3BsYXlfc291bmRfdW5rbm93bjo1fSxjb250ZXh0Ont1bmtub3duOjAscHJlX3JvbGw6MSxtaWRfcm9sbDoyLHBvc3Rfcm9sbDozLG91dHN0cmVhbTo0LCJpbi1iYW5uZXIiOjV9fSxUPXtib2R5OiJkZXNjcmlwdGlvbiIsYm9keTI6ImRlc2MyIixjdGE6ImN0YXRleHQiLGltYWdlOntzZXJ2ZXJOYW1lOiJtYWluX2ltYWdlIixyZXF1aXJlZFBhcmFtczp7cmVxdWlyZWQ6ITB9fSxpY29uOntzZXJ2ZXJOYW1lOiJpY29uIixyZXF1aXJlZFBhcmFtczp7cmVxdWlyZWQ6ITB9fSxzcG9uc29yZWRCeToic3BvbnNvcmVkX2J5Iixwcml2YWN5TGluazoicHJpdmFjeV9saW5rIixzYWxlUHJpY2U6InNhbGVwcmljZSIsZGlzcGxheVVybDoiZGlzcGxheXVybCJ9LEU9L1wvXC9jZG5cLmFkbnhzXC5jb21cL3Z8XC9cL2NkblwuYWRueHNcLXNpbXBsZVwuY29tXC92LyxPPU9iamVjdChmLmIpKDMyLGgpLFI9e2NvZGU6aCxndmxpZDozMixhbGlhc2VzOlt7Y29kZToiYXBwbmV4dXNBc3QiLGd2bGlkOjMyfSx7Y29kZToiYnJlYWx0aW1lIn0se2NvZGU6ImVteGRpZ2l0YWwiLGd2bGlkOjE4M30se2NvZGU6InBhZ2VzY2llbmNlIn0se2NvZGU6ImRlZnltZWRpYSJ9LHtjb2RlOiJnb3VybWV0YWRzIn0se2NvZGU6Im1hdG9teSJ9LHtjb2RlOiJmZWF0dXJlZm9yd2FyZCJ9LHtjb2RlOiJvZnRtZWRpYSJ9LHtjb2RlOiJkaXN0cmljdG0iLGd2bGlkOjE0NH0se2NvZGU6ImFkYXN0YSJ9LHtjb2RlOiJiZWludG9vIixndmxpZDo2MTh9XSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltvLmIsby5kLG8uY10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5wYXJhbXMucGxhY2VtZW50SWR8fGUucGFyYW1zLm1lbWJlciYmZS5wYXJhbXMuaW52Q29kZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgYT1lLm1hcChxKSx0PWMoKShlLE0pLHM9e307ITA9PT1pLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYocz17Y29wcGE6ITB9KSx0JiZPYmplY3Qua2V5cyh0LnBhcmFtcy51c2VyKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkodyxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1uLmNvbnZlcnRDYW1lbFRvVW5kZXJzY29yZShlKTtpZigic2VnbWVudHMiPT09ZSYmbi5pc0FycmF5KHQucGFyYW1zLnVzZXJbZV0pKXt2YXIgYT1bXTt0LnBhcmFtcy51c2VyW2VdLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uaXNOdW1iZXIoZSk/YS5wdXNoKHtpZDplfSk6bi5pc1BsYWluT2JqZWN0KGUpJiZhLnB1c2goZSl9KSksc1tyXT1hfWVsc2Uic2VnbWVudHMiIT09ZSYmKHNbcl09dC5wYXJhbXMudXNlcltlXSl9KSk7dmFyIG8sZD1jKCkoZSxCKTtkJiZkLnBhcmFtcyYmZC5wYXJhbXMuYXBwJiYobz17fSxPYmplY3Qua2V5cyhkLnBhcmFtcy5hcHApLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKSh4LGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBvW2VdPWQucGFyYW1zLmFwcFtlXX0pKSk7dmFyIHAsdT1jKCkoZSxGKTt1JiZ1LnBhcmFtcyYmZC5wYXJhbXMuYXBwJiZkLnBhcmFtcy5hcHAuaWQmJihwPXthcHBpZDp1LnBhcmFtcy5hcHAuaWR9KTt2YXIgbT17fSxmPXt9LHY9Ty5nZXRDb29raWUoImFwbl9wcmViaWRfZGVidWciKXx8bnVsbDtpZih2KXRyeXttPUpTT04ucGFyc2Uodil9Y2F0Y2goZSl7bi5sb2dFcnJvcigiQXBwTmV4dXMgRGVidWcgQXVjdGlvbiBDb29raWUgRXJyb3I6XG5cbiIrZSl9ZWxzZXt2YXIgeT1jKCkoZSxWKTt5JiZ5LmRlYnVnJiYobT15LmRlYnVnKX1tJiZtLmVuYWJsZWQmJk9iamVjdC5rZXlzKG0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShDLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2ZbZV09bVtlXX0pKTt2YXIgZz1jKCkoZSxEKSxoPWc/cGFyc2VJbnQoZy5wYXJhbXMubWVtYmVyLDEwKTowLEk9ZVswXS5zY2hhaW4sQT1jKCkoZSxXKSxTPXt0YWdzOmIoYSksdXNlcjpzLHNkazp7c291cmNlOiJwYmpzIix2ZXJzaW9uOiI1LjExLjAifSxzY2hhaW46SX07aWYoQSYmKFMuaWFiX3N1cHBvcnQ9e29taWRwbjoiQXBwbmV4dXMiLG9taWRwdjoiNS4xMS4wIn0pLGg+MCYmKFMubWVtYmVyX2lkPWgpLGQmJihTLmRldmljZT1vKSx1JiYoUy5hcHA9cCksaS5iLmdldENvbmZpZygiYWRwb2QuYnJhbmRDYXRlZ29yeUV4Y2x1c2lvbiIpJiYoUy5icmFuZF9jYXRlZ29yeV91bmlxdWVuZXNzPSEwKSxmLmVuYWJsZWQmJihTLmRlYnVnPWYsbi5sb2dJbmZvKCJBcHBOZXh1cyBEZWJ1ZyBBdWN0aW9uIFNldHRpbmdzOlxuXG4iK0pTT04uc3RyaW5naWZ5KGYsbnVsbCw0KSkpLHImJnIuZ2RwckNvbnNlbnQmJihTLmdkcHJfY29uc2VudD17Y29uc2VudF9zdHJpbmc6ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGNvbnNlbnRfcmVxdWlyZWQ6ci5nZHByQ29uc2VudC5nZHByQXBwbGllc30sci5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQmJi0xIT09ci5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQuaW5kZXhPZigifiIpKSl7dmFyIFQ9ci5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQsRT1ULnN1YnN0cmluZyhULmluZGV4T2YoIn4iKSsxKTtTLmdkcHJfY29uc2VudC5hZGR0bF9jb25zZW50PUUuc3BsaXQoIi4iKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0pKX1pZihyJiZyLnVzcENvbnNlbnQmJihTLnVzX3ByaXZhY3k9ci51c3BDb25zZW50KSxyJiZyLnJlZmVyZXJJbmZvKXt2YXIgUj17cmRfcmVmOmVuY29kZVVSSUNvbXBvbmVudChyLnJlZmVyZXJJbmZvLnJlZmVyZXIpLHJkX3RvcDpyLnJlZmVyZXJJbmZvLnJlYWNoZWRUb3AscmRfaWZzOnIucmVmZXJlckluZm8ubnVtSWZyYW1lcyxyZF9zdGs6ci5yZWZlcmVySW5mby5zdGFjay5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSl9KSkuam9pbigiLCIpfTtTLnJlZmVycmVyX2RldGVjdGlvbj1SfWlmKGMoKShlLEopJiZlLmZpbHRlcihKKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlLHIpe3ZhciBhPXIubWVkaWFUeXBlcy52aWRlbyx0PWEuZHVyYXRpb25SYW5nZVNlYyxpPWEucmVxdWlyZUV4YWN0RHVyYXRpb24scz1mdW5jdGlvbihlKXt2YXIgcj1lLmFkUG9kRHVyYXRpb25TZWMsYT1lLmR1cmF0aW9uUmFuZ2VTZWMsdD1lLnJlcXVpcmVFeGFjdER1cmF0aW9uLGk9bi5nZXRNaW5WYWx1ZUZyb21BcnJheShhKSxzPU1hdGguZmxvb3Ioci9pKTtyZXR1cm4gdD9NYXRoLm1heChzLGEubGVuZ3RoKTpzfShyLm1lZGlhVHlwZXMudmlkZW8pLG89bi5nZXRNYXhWYWx1ZUZyb21BcnJheSh0KSxkPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS51dWlkPT09ci5iaWRJZH0pKSxwPW4uZmlsbC5hcHBseShuLGIoZCkuY29uY2F0KFtzXSkpO2lmKGkpe3ZhciBjPU1hdGguY2VpbChzL3QubGVuZ3RoKSx1PW4uY2h1bmsocCxjKTt0LmZvckVhY2goKGZ1bmN0aW9uKGUscil7dVtyXS5tYXAoKGZ1bmN0aW9uKHIpe0gociwibWluZHVyYXRpb24iLGUpLEgociwibWF4ZHVyYXRpb24iLGUpfSkpfSkpfWVsc2UgcC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBIKGUsIm1heGR1cmF0aW9uIixvKX0pKTtyZXR1cm4gcH0oYSxlKSx0PVMudGFncy5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiByLnV1aWQhPT1lLmJpZElkfSkpO1MudGFncz1bXS5jb25jYXQoYih0KSxiKHIpKX0pKSxlWzBdLnVzZXJJZCl7dmFyIGo9W107SyhqLG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQuZmxvY0lkLmlkIiksImNocm9tZS5jb20iLG51bGwpLEsoaixuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLmNyaXRlb0lkIiksImNyaXRlby5jb20iLG51bGwpLEsoaixuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLm5ldElkIiksIm5ldGlkLmRlIixudWxsKSxLKGosbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5pZGxfZW52IiksImxpdmVyYW1wLmNvbSIsbnVsbCksSyhqLG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQudGRpZCIpLCJhZHNlcnZlci5vcmciLCJURElEIiksSyhqLG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQudWlkMi5pZCIpLCJ1aWRhcGkuY29tIiwiVUlEMiIpLGoubGVuZ3RoJiYoUy5laWRzPWopfXJldHVybiBhWzBdLnB1Ymxpc2hlcl9pZCYmKFMucHVibGlzaGVyX2lkPWFbMF0ucHVibGlzaGVyX2lkKSxmdW5jdGlvbihlLHIpe3ZhciBhPVtdLHQ9e3dpdGhDcmVkZW50aWFsczohMH0scz1fO04ocil8fChzPWspOyJUUlVFIiE9PW4uZ2V0UGFyYW1ldGVyQnlOYW1lKCJhcG5fdGVzdCIpLnRvVXBwZXJDYXNlKCkmJiEwIT09aS5iLmdldENvbmZpZygiYXBuX3Rlc3QiKXx8KHQuY3VzdG9tSGVhZGVycz17IlgtSXMtVGVzdCI6MX0pO2lmKGUudGFncy5sZW5ndGg+MTUpe3ZhciBvPW4uZGVlcENsb25lKGUpO24uY2h1bmsoZS50YWdzLDE1KS5mb3JFYWNoKChmdW5jdGlvbihlKXtvLnRhZ3M9ZTt2YXIgbj1KU09OLnN0cmluZ2lmeShvKTthLnB1c2goe21ldGhvZDoiUE9TVCIsdXJsOnMsZGF0YTpuLGJpZGRlclJlcXVlc3Q6cixvcHRpb25zOnR9KX0pKX1lbHNle3ZhciBkPUpTT04uc3RyaW5naWZ5KGUpO2E9e21ldGhvZDoiUE9TVCIsdXJsOnMsZGF0YTpkLGJpZGRlclJlcXVlc3Q6cixvcHRpb25zOnR9fXJldHVybiBhfShTLHIpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciBhPXRoaXMsaT1yLmJpZGRlclJlcXVlc3Q7ZT1lLmJvZHk7dmFyIGQ9W107aWYoIWV8fGUuZXJyb3Ipe3ZhciBwPSJpbiByZXNwb25zZSBmb3IgIi5jb25jYXQoaS5iaWRkZXJDb2RlLCIgYWRhcHRlciIpO3JldHVybiBlJiZlLmVycm9yJiYocCs9IjogIi5jb25jYXQoZS5lcnJvcikpLG4ubG9nRXJyb3IocCksZH1pZihlLnRhZ3MmJmUudGFncy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcixwPShyPWUpJiZyLmFkcyYmci5hZHMubGVuZ3RoJiZjKCkoci5hZHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJ0Yn0pKTtpZihwJiYwIT09cC5jcG0mJmwoKShhLnN1cHBvcnRlZE1lZGlhVHlwZXMscC5hZF90eXBlKSl7dmFyIHU9ZnVuY3Rpb24oZSxyLGEpe3ZhciBpPW4uZ2V0QmlkUmVxdWVzdChlLnV1aWQsW2FdKSxkPXtyZXF1ZXN0SWQ6ZS51dWlkLGNwbTpyLmNwbSxjcmVhdGl2ZUlkOnIuY3JlYXRpdmVfaWQsZGVhbElkOnIuZGVhbF9pZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDozMDAsYWRVbml0Q29kZTppLmFkVW5pdENvZGUsYXBwbmV4dXM6e2J1eWVyTWVtYmVySWQ6ci5idXllcl9tZW1iZXJfaWQsZGVhbFByaW9yaXR5OnIuZGVhbF9wcmlvcml0eSxkZWFsQ29kZTpyLmRlYWxfY29kZX19O3IuYWRvbWFpbiYmKGQubWV0YT15KHt9LGQubWV0YSx7YWR2ZXJ0aXNlckRvbWFpbnM6W119KSk7ci5hZHZlcnRpc2VyX2lkJiYoZC5tZXRhPXkoe30sZC5tZXRhLHthZHZlcnRpc2VySWQ6ci5hZHZlcnRpc2VyX2lkfSkpO2lmKHIucnRiLnZpZGVvKXtzd2l0Y2goeShkLHt3aWR0aDpyLnJ0Yi52aWRlby5wbGF5ZXJfd2lkdGgsaGVpZ2h0OnIucnRiLnZpZGVvLnBsYXllcl9oZWlnaHQsdmFzdEltcFVybDpyLm5vdGlmeV91cmwsdHRsOjM2MDB9KSxuLmRlZXBBY2Nlc3MoaSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iikpe2Nhc2Ugby5hOnZhciBwPU9iamVjdChzLmdldElhYlN1YkNhdGVnb3J5KShpLmJpZGRlcixyLmJyYW5kX2NhdGVnb3J5X2lkKTtkLm1ldGE9eSh7fSxkLm1ldGEse3ByaW1hcnlDYXRJZDpwfSk7dmFyIHU9ci5kZWFsX3ByaW9yaXR5O2QudmlkZW89e2NvbnRleHQ6by5hLGR1cmF0aW9uU2Vjb25kczpNYXRoLmZsb29yKHIucnRiLnZpZGVvLmR1cmF0aW9uX21zLzFlMyksZGVhbFRpZXI6dX0sZC52YXN0VXJsPXIucnRiLnZpZGVvLmFzc2V0X3VybDticmVhaztjYXNlIG0uYjppZihkLmFkUmVzcG9uc2U9ZSxkLmFkUmVzcG9uc2UuYWQ9ZC5hZFJlc3BvbnNlLmFkc1swXSxkLmFkUmVzcG9uc2UuYWQudmlkZW89ZC5hZFJlc3BvbnNlLmFkLnJ0Yi52aWRlbyxkLnZhc3RYbWw9ci5ydGIudmlkZW8uY29udGVudCxyLnJlbmRlcmVyX3VybCl7dmFyIGw9YygpKGEuYmlkcywoZnVuY3Rpb24ocil7cmV0dXJuIHIuYmlkSWQ9PT1lLnV1aWR9KSksZj1uLmRlZXBBY2Nlc3MobCwicmVuZGVyZXIub3B0aW9ucyIpO2QucmVuZGVyZXI9ZnVuY3Rpb24oZSxyKXt2YXIgYT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30saT10LmEuaW5zdGFsbCh7aWQ6ci5yZW5kZXJlcl9pZCx1cmw6ci5yZW5kZXJlcl91cmwsY29uZmlnOmEsbG9hZGVkOiExLGFkVW5pdENvZGU6ZX0pO3RyeXtpLnNldFJlbmRlcihMKX1jYXRjaChlKXtuLmxvZ1dhcm4oIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIGkuc2V0RXZlbnRIYW5kbGVycyh7aW1wcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiBuLmxvZ01lc3NhZ2UoIkFwcE5leHVzIG91dHN0cmVhbSB2aWRlbyBpbXByZXNzaW9uIGV2ZW50Iil9LGxvYWRlZDpmdW5jdGlvbigpe3JldHVybiBuLmxvZ01lc3NhZ2UoIkFwcE5leHVzIG91dHN0cmVhbSB2aWRlbyBsb2FkZWQgZXZlbnQiKX0sZW5kZWQ6ZnVuY3Rpb24oKXtuLmxvZ01lc3NhZ2UoIkFwcE5leHVzIG91dHN0cmVhbSByZW5kZXJlciB2aWRlbyBldmVudCIpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiMiLmNvbmNhdChlKSkuc3R5bGUuZGlzcGxheT0ibm9uZSJ9fSksaX0oZC5hZFVuaXRDb2RlLHIsZil9YnJlYWs7Y2FzZSBtLmE6ZC52YXN0VXJsPXIubm90aWZ5X3VybCsiJnJlZGlyPSIrZW5jb2RlVVJJQ29tcG9uZW50KHIucnRiLnZpZGVvLmFzc2V0X3VybCl9fWVsc2UgaWYoci5ydGJbby5jXSl7dmFyIHY9ci5ydGJbby5jXSxiPXIudmlld2FiaWxpdHkuY29uZmlnLnJlcGxhY2UoInNyYz0iLCJkYXRhLXNyYz0iKSxnPXYuamF2YXNjcmlwdF90cmFja2VycztudWxsPT1nP2c9YjpuLmlzU3RyKGcpP2c9W2csYl06Zy5wdXNoKGIpLGRbby5jXT17dGl0bGU6di50aXRsZSxib2R5OnYuZGVzYyxib2R5Mjp2LmRlc2MyLGN0YTp2LmN0YXRleHQscmF0aW5nOnYucmF0aW5nLHNwb25zb3JlZEJ5OnYuc3BvbnNvcmVkLHByaXZhY3lMaW5rOnYucHJpdmFjeV9saW5rLGFkZHJlc3M6di5hZGRyZXNzLGRvd25sb2Fkczp2LmRvd25sb2FkcyxsaWtlczp2Lmxpa2VzLHBob25lOnYucGhvbmUscHJpY2U6di5wcmljZSxzYWxlUHJpY2U6di5zYWxlcHJpY2UsY2xpY2tVcmw6di5saW5rLnVybCxkaXNwbGF5VXJsOnYuZGlzcGxheXVybCxjbGlja1RyYWNrZXJzOnYubGluay5jbGlja190cmFja2VycyxpbXByZXNzaW9uVHJhY2tlcnM6di5pbXByZXNzaW9uX3RyYWNrZXJzLGphdmFzY3JpcHRUcmFja2VyczpnfSx2Lm1haW5faW1nJiYoZC5uYXRpdmUuaW1hZ2U9e3VybDp2Lm1haW5faW1nLnVybCxoZWlnaHQ6di5tYWluX2ltZy5oZWlnaHQsd2lkdGg6di5tYWluX2ltZy53aWR0aH0pLHYuaWNvbiYmKGQubmF0aXZlLmljb249e3VybDp2Lmljb24udXJsLGhlaWdodDp2Lmljb24uaGVpZ2h0LHdpZHRoOnYuaWNvbi53aWR0aH0pfWVsc2V7eShkLHt3aWR0aDpyLnJ0Yi5iYW5uZXIud2lkdGgsaGVpZ2h0OnIucnRiLmJhbm5lci5oZWlnaHQsYWQ6ci5ydGIuYmFubmVyLmNvbnRlbnR9KTt0cnl7aWYoci5ydGIudHJhY2tlcnMpe3ZhciBoPXIucnRiLnRyYWNrZXJzWzBdLmltcHJlc3Npb25fdXJsc1swXSxfPW4uY3JlYXRlVHJhY2tQaXhlbEh0bWwoaCk7ZC5hZCs9X319Y2F0Y2goZSl7bi5sb2dFcnJvcigiRXJyb3IgYXBwZW5kaW5nIHRyYWNraW5nIHBpeGVsIixlKX19cmV0dXJuIGR9KGUscCxpKTt1Lm1lZGlhVHlwZT1mdW5jdGlvbihlKXt2YXIgcj1lLmFkX3R5cGU7cmV0dXJuIHI9PT1vLmQ/by5kOnI9PT1vLmM/by5jOm8uYn0ocCksZC5wdXNoKHUpfX0pKSxlLmRlYnVnJiZlLmRlYnVnLmRlYnVnX2luZm8pe3ZhciB1PSJBcHBOZXh1cyBEZWJ1ZyBBdWN0aW9uIGZvciBQcmViaWRcblxuIitlLmRlYnVnLmRlYnVnX2luZm87dT11LnJlcGxhY2UoLyg8dGQ+fDx0aD4pL2dtLCJcdCIpLnJlcGxhY2UoLyg8XC90ZD58PFwvdGg+KS9nbSwiXG4iKS5yZXBsYWNlKC9ePGJyPi9nbSwiIikucmVwbGFjZSgvKDxicj5cbnw8YnI+KS9nbSwiXG4iKS5yZXBsYWNlKC88aDE+KC4qKTxcL2gxPi9nbSwiXG5cbj09PT09ICQxID09PT09XG5cbiIpLnJlcGxhY2UoLzxoWzItNl0+KC4qKTxcL2hbMi02XT4vZ20sIlxuXG4qKiogJDEgKioqXG5cbiIpLnJlcGxhY2UoLyg8KFtePl0rKT4pL2dpbSwiIiksbi5sb2dNZXNzYWdlKCJodHRwczovL2NvbnNvbGUuYXBwbmV4dXMuY29tL2RvY3MvdW5kZXJzdGFuZGluZy10aGUtZGVidWctYXVjdGlvbiIpLG4ubG9nTWVzc2FnZSh1KX1yZXR1cm4gZH0sZ2V0TWFwcGluZ0ZpbGVJbmZvOmZ1bmN0aW9uKCl7cmV0dXJue3VybDoiaHR0cHM6Ly9hY2RuLmFkbnhzLXNpbXBsZS5jb20vcHJlYmlkL2FwcG5leHVzLW1hcHBpbmcvbWFwcGluZ3MuanNvbiIscmVmcmVzaEluRGF5czoyfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscixhKXtpZihlLmlmcmFtZUVuYWJsZWQmJk4oe2dkcHJDb25zZW50OmF9KSlyZXR1cm5be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2FjZG4uYWRueHMuY29tL2RtcC9hc3luY191c2Vyc3luYy5odG1sIn1dfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZT1uLmNvbnZlcnRUeXBlcyh7bWVtYmVyOiJzdHJpbmciLGludkNvZGU6InN0cmluZyIscGxhY2VtZW50SWQ6Im51bWJlciIsa2V5d29yZHM6bi50cmFuc2Zvcm1CaWRkZXJQYXJhbUtleXdvcmRzLHB1Ymxpc2hlcklkOiJudW1iZXIifSxlKSxyJiYoZS51c2VfcG10X3J1bGU9ImJvb2xlYW4iPT10eXBlb2YgZS51c2VQYXltZW50UnVsZSYmZS51c2VQYXltZW50UnVsZSxlLnVzZVBheW1lbnRSdWxlJiZkZWxldGUgZS51c2VQYXltZW50UnVsZSxqKGUua2V5d29yZHMpJiZlLmtleXdvcmRzLmZvckVhY2goUCksT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGE9bi5jb252ZXJ0Q2FtZWxUb1VuZGVyc2NvcmUocik7YSE9PXImJihlW2FdPWVbcl0sZGVsZXRlIGVbcl0pfSkpKSxlfSxvbkJpZFdvbjpmdW5jdGlvbihlKXtlLm5hdGl2ZSYmZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI7aWYobi5pc1N0cihlKSYmVShlKSlyPWU7ZWxzZSBpZihuLmlzQXJyYXkoZSkpZm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspe3ZhciB0PWVbYV07VSh0KSYmKHI9dCl9cmV0dXJuIHJ9KGUubmF0aXZlLmphdmFzY3JpcHRUcmFja2Vycyk7aWYocilmb3IodmFyIGE9InBianNfYWRpZD0iK2UuYWRJZCsiO3BianNfYXVjPSIrZS5hZFVuaXRDb2RlLHQ9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5pbmRleE9mKCdzcmM9IicpKzUsYT1lLmluZGV4T2YoJyInLHIpO3JldHVybiBlLnN1YnN0cmluZyhyLGEpfShyKSxpPXQucmVwbGFjZSgiZG9tX2lkPSVuYXRpdmVfZG9tX2lkJSIsYSkscz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaWZyYW1lIiksbz0hMSxkPTA7ZDxzLmxlbmd0aCYmIW87ZCsrKXt2YXIgcD1zW2RdO3RyeXt2YXIgYz1wLmNvbnRlbnREb2N1bWVudHx8cC5jb250ZW50V2luZG93LmRvY3VtZW50O2lmKGMpZm9yKHZhciB1PWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGw9MDtsPHUubGVuZ3RoJiYhbztsKyspe3ZhciBtPXVbbF07bS5nZXRBdHRyaWJ1dGUoImRhdGEtc3JjIik9PXQmJihtLnNldEF0dHJpYnV0ZSgic3JjIixpKSxtLnNldEF0dHJpYnV0ZSgiZGF0YS1zcmMiLCIiKSxtLnJlbW92ZUF0dHJpYnV0ZSYmbS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtc3JjIiksbz0hMCl9fWNhdGNoKGUpe2lmKCEoZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiYmIlNlY3VyaXR5RXJyb3IiPT09ZS5uYW1lKSl0aHJvdyBlfX19KGUpfX07ZnVuY3Rpb24gaihlKXtyZXR1cm4hIShuLmlzQXJyYXkoZSkmJmUubGVuZ3RoPjApfWZ1bmN0aW9uIFAoZSl7aihlLnZhbHVlKSYmIiI9PT1lLnZhbHVlWzBdJiZkZWxldGUgZS52YWx1ZX1mdW5jdGlvbiBVKGUpe3ZhciByPWUubWF0Y2goRSksYT1udWxsIT1yJiZyLmxlbmd0aD49MSx0PWUubWF0Y2goInRyay5qcyIpLG49bnVsbCE9dCYmdC5sZW5ndGg+PTE7cmV0dXJuIGUuc3RhcnRzV2l0aCgiPHNjcmlwdCIpJiZuJiZhfWZ1bmN0aW9uIE4oZSl7dmFyIHI9ITA7cmV0dXJuIGUmJmUuZ2RwckNvbnNlbnQmJmUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJjI9PT1lLmdkcHJDb25zZW50LmFwaVZlcnNpb24mJihyPSEoITAhPT1uLmRlZXBBY2Nlc3MoZS5nZHByQ29uc2VudCwidmVuZG9yRGF0YS5wdXJwb3NlLmNvbnNlbnRzLjEiKSkpLHJ9ZnVuY3Rpb24gcShlKXt2YXIgcj17fTtyLnNpemVzPXooZS5zaXplcyksci5wcmltYXJ5X3NpemU9ci5zaXplc1swXSxyLmFkX3R5cGVzPVtdLHIudXVpZD1lLmJpZElkLGUucGFyYW1zLnBsYWNlbWVudElkP3IuaWQ9cGFyc2VJbnQoZS5wYXJhbXMucGxhY2VtZW50SWQsMTApOnIuY29kZT1lLnBhcmFtcy5pbnZDb2RlLHIuYWxsb3dfc21hbGxlcl9zaXplcz1lLnBhcmFtcy5hbGxvd1NtYWxsZXJTaXplc3x8ITEsci51c2VfcG10X3J1bGU9ZS5wYXJhbXMudXNlUGF5bWVudFJ1bGV8fCExLHIucHJlYmlkPSEwLHIuZGlzYWJsZV9wc2E9ITA7dmFyIGE9ZnVuY3Rpb24oZSl7aWYoIW4uaXNGbihlLmdldEZsb29yKSlyZXR1cm4gZS5wYXJhbXMucmVzZXJ2ZT9lLnBhcmFtcy5yZXNlcnZlOm51bGw7dmFyIHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKG4uaXNQbGFpbk9iamVjdChyKSYmIWlzTmFOKHIuZmxvb3IpJiYiVVNEIj09PXIuY3VycmVuY3kpcmV0dXJuIHIuZmxvb3I7cmV0dXJuIG51bGx9KGUpO2lmKGEmJihyLnJlc2VydmU9YSksZS5wYXJhbXMucG9zaXRpb24mJihyLnBvc2l0aW9uPXthYm92ZToxLGJlbG93OjJ9W2UucGFyYW1zLnBvc2l0aW9uXXx8MCksZS5wYXJhbXMudHJhZmZpY1NvdXJjZUNvZGUmJihyLnRyYWZmaWNfc291cmNlX2NvZGU9ZS5wYXJhbXMudHJhZmZpY1NvdXJjZUNvZGUpLGUucGFyYW1zLnByaXZhdGVTaXplcyYmKHIucHJpdmF0ZV9zaXplcz16KGUucGFyYW1zLnByaXZhdGVTaXplcykpLGUucGFyYW1zLnN1cHBseVR5cGUmJihyLnN1cHBseV90eXBlPWUucGFyYW1zLnN1cHBseVR5cGUpLGUucGFyYW1zLnB1YkNsaWNrJiYoci5wdWJjbGljaz1lLnBhcmFtcy5wdWJDbGljayksZS5wYXJhbXMuZXh0SW52Q29kZSYmKHIuZXh0X2ludl9jb2RlPWUucGFyYW1zLmV4dEludkNvZGUpLGUucGFyYW1zLnB1Ymxpc2hlcklkJiYoci5wdWJsaXNoZXJfaWQ9cGFyc2VJbnQoZS5wYXJhbXMucHVibGlzaGVySWQsMTApKSxlLnBhcmFtcy5leHRlcm5hbEltcElkJiYoci5leHRlcm5hbF9pbXBfaWQ9ZS5wYXJhbXMuZXh0ZXJuYWxJbXBJZCksIW4uaXNFbXB0eShlLnBhcmFtcy5rZXl3b3Jkcykpe3ZhciB0PW4udHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3JkcyhlLnBhcmFtcy5rZXl3b3Jkcyk7dC5sZW5ndGg+MCYmdC5mb3JFYWNoKFApLHIua2V5d29yZHM9dH12YXIgaSxzLHA9bi5kZWVwQWNjZXNzKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90Iik7aWYocCYmKHIuZ3BpZD1wKSwoZS5tZWRpYVR5cGU9PT1vLmN8fG4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLiIuY29uY2F0KG8uYykpKSYmKHIuYWRfdHlwZXMucHVzaChvLmMpLDA9PT1yLnNpemVzLmxlbmd0aCYmKHIuc2l6ZXM9eihbMSwxXSkpLGUubmF0aXZlUGFyYW1zKSl7dmFyIHU9KGk9ZS5uYXRpdmVQYXJhbXMscz17fSxPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1UW2VdJiZUW2VdLnNlcnZlck5hbWV8fFRbZV18fGUsYT1UW2VdJiZUW2VdLnJlcXVpcmVkUGFyYW1zO2lmKHNbcl09eSh7fSxhLGlbZV0pLChyPT09VC5pbWFnZS5zZXJ2ZXJOYW1lfHxyPT09VC5pY29uLnNlcnZlck5hbWUpJiZzW3JdLnNpemVzKXt2YXIgdD1zW3JdLnNpemVzOyhuLmlzQXJyYXlPZk51bXModCl8fG4uaXNBcnJheSh0KSYmdC5sZW5ndGg+MCYmdC5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIG4uaXNBcnJheU9mTnVtcyhlKX0pKSkmJihzW3JdLnNpemVzPXooc1tyXS5zaXplcykpfXI9PT1ULnByaXZhY3lMaW5rJiYocy5wcml2YWN5X3N1cHBvcnRlZD0hMCl9KSkscyk7cltvLmNdPXtsYXlvdXRzOlt1XX19dmFyIG09bi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoby5kKSksZj1uLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7ci5oYl9zb3VyY2U9bSYmImFkcG9kIj09PWY/NzoxLChlLm1lZGlhVHlwZT09PW8uZHx8bSkmJnIuYWRfdHlwZXMucHVzaChvLmQpLChlLm1lZGlhVHlwZT09PW8uZHx8bSYmIm91dHN0cmVhbSIhPT1mKSYmKHIucmVxdWlyZV9hc3NldF91cmw9ITApLGUucGFyYW1zLnZpZGVvJiYoci52aWRlbz17fSxPYmplY3Qua2V5cyhlLnBhcmFtcy52aWRlbykuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbCgpKEksZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UiY29udGV4dCI6Y2FzZSJwbGF5YmFja19tZXRob2QiOnZhciB0PWUucGFyYW1zLnZpZGVvW2FdO3Q9bi5pc0FycmF5KHQpP3RbMF06dCxyLnZpZGVvW2FdPVNbYV1bdF07YnJlYWs7Y2FzZSJmcmFtZXdvcmtzIjpicmVhaztkZWZhdWx0OnIudmlkZW9bYV09ZS5wYXJhbXMudmlkZW9bYV19fSkpLGUucGFyYW1zLnZpZGVvLmZyYW1ld29ya3MmJm4uaXNBcnJheShlLnBhcmFtcy52aWRlby5mcmFtZXdvcmtzKSYmKHIudmlkZW9fZnJhbWV3b3Jrcz1lLnBhcmFtcy52aWRlby5mcmFtZXdvcmtzKSksbSYmKHIudmlkZW89ci52aWRlb3x8e30sT2JqZWN0LmtleXMobSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbCgpKEEsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UibWluZHVyYXRpb24iOmNhc2UibWF4ZHVyYXRpb24iOiJudW1iZXIiIT10eXBlb2Ygci52aWRlb1tlXSYmKHIudmlkZW9bZV09bVtlXSk7YnJlYWs7Y2FzZSJza2lwIjoiYm9vbGVhbiIhPXR5cGVvZiByLnZpZGVvLnNraXBwYWJsZSYmKHIudmlkZW8uc2tpcHBhYmxlPTE9PT1tW2VdKTticmVhaztjYXNlInNraXBhZnRlciI6Im51bWJlciIhPXR5cGVvZiByLnZpZGVvLnNraXBvZmZzZXQmJihyLnZpZGVvLnNraXBwb2Zmc2V0PW1bZV0pO2JyZWFrO2Nhc2UicGxheWJhY2ttZXRob2QiOmlmKCJudW1iZXIiIT10eXBlb2Ygci52aWRlby5wbGF5YmFja19tZXRob2Qpe3ZhciBhPW1bZV07KGE9bi5pc0FycmF5KGEpP2FbMF06YSk+PTEmJmE8PTQmJihyLnZpZGVvLnBsYXliYWNrX21ldGhvZD1hKX1icmVhaztjYXNlImFwaSI6aWYoIXIudmlkZW9fZnJhbWV3b3JrcyYmbi5pc0FycmF5KG1bZV0pKXt2YXIgdD1tW2VdLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ND09PWU/NTo1PT09ZT80OmU7aWYocj49MSYmcjw9NSlyZXR1cm4gcn0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpO3IudmlkZW9fZnJhbWV3b3Jrcz10fX19KSkpLGUucmVuZGVyZXImJihyLnZpZGVvPXkoe30sci52aWRlbyx7Y3VzdG9tX3JlbmRlcmVyX3ByZXNlbnQ6ITB9KSksZS5wYXJhbXMuZnJhbWV3b3JrcyYmbi5pc0FycmF5KGUucGFyYW1zLmZyYW1ld29ya3MpJiYoci5iYW5uZXJfZnJhbWV3b3Jrcz1lLnBhcmFtcy5mcmFtZXdvcmtzKTt2YXIgdj1jKCkoZC5hLmdldEFkVW5pdHMoKSwoZnVuY3Rpb24ocil7cmV0dXJuIGUudHJhbnNhY3Rpb25JZD09PXIudHJhbnNhY3Rpb25JZH0pKTtyZXR1cm4gdiYmdi5tZWRpYVR5cGVzJiZ2Lm1lZGlhVHlwZXMuYmFubmVyJiZyLmFkX3R5cGVzLnB1c2goby5iKSwwPT09ci5hZF90eXBlcy5sZW5ndGgmJmRlbGV0ZSByLmFkX3R5cGVzLHJ9ZnVuY3Rpb24geihlKXt2YXIgcj1bXSxhPXt9O2lmKG4uaXNBcnJheShlKSYmMj09PWUubGVuZ3RoJiYhbi5pc0FycmF5KGVbMF0pKWEud2lkdGg9cGFyc2VJbnQoZVswXSwxMCksYS5oZWlnaHQ9cGFyc2VJbnQoZVsxXSwxMCksci5wdXNoKGEpO2Vsc2UgaWYoIm9iamVjdCI9PT12KGUpKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgaT1lW3RdOyhhPXt9KS53aWR0aD1wYXJzZUludChpWzBdLDEwKSxhLmhlaWdodD1wYXJzZUludChpWzFdLDEwKSxyLnB1c2goYSl9cmV0dXJuIHJ9ZnVuY3Rpb24gTShlKXtyZXR1cm4hIWUucGFyYW1zLnVzZXJ9ZnVuY3Rpb24gRChlKXtyZXR1cm4hIXBhcnNlSW50KGUucGFyYW1zLm1lbWJlciwxMCl9ZnVuY3Rpb24gQihlKXtpZihlLnBhcmFtcylyZXR1cm4hIWUucGFyYW1zLmFwcH1mdW5jdGlvbiBGKGUpe3JldHVybiBlLnBhcmFtcyYmZS5wYXJhbXMuYXBwPyEhZS5wYXJhbXMuYXBwLmlkOiEhZS5wYXJhbXMuYXBwfWZ1bmN0aW9uIFYoZSl7cmV0dXJuISFlLmRlYnVnfWZ1bmN0aW9uIEooZSl7cmV0dXJuIGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvJiZlLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dD09PW8uYX1mdW5jdGlvbiBXKGUpe3ZhciByPSExLGE9ZS5wYXJhbXMsdD1lLnBhcmFtcy52aWRlbztyZXR1cm4gYS5mcmFtZXdvcmtzJiZuLmlzQXJyYXkoYS5mcmFtZXdvcmtzKSYmKHI9bCgpKGUucGFyYW1zLmZyYW1ld29ya3MsNikpLCFyJiZ0JiZ0LmZyYW1ld29ya3MmJm4uaXNBcnJheSh0LmZyYW1ld29ya3MpJiYocj1sKCkoZS5wYXJhbXMudmlkZW8uZnJhbWV3b3Jrcyw2KSkscn1mdW5jdGlvbiBIKGUscixhKXtuLmlzRW1wdHkoZS52aWRlbykmJihlLnZpZGVvPXt9KSxlLnZpZGVvW3JdPWF9ZnVuY3Rpb24gTChlKXt2YXIgcixhO3I9ZS5hZFVuaXRDb2RlLChhPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHIpLnF1ZXJ5U2VsZWN0b3JBbGwoImRpdltpZF49J2dvb2dsZV9hZHMnXSIpKVswXSYmYVswXS5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsIm5vbmUiKSxmdW5jdGlvbihlKXt0cnl7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkucXVlcnlTZWxlY3RvckFsbCgic2NyaXB0W2lkXj0nc2FzX3NjcmlwdCddIik7clswXS5uZXh0U2libGluZyYmImlmcmFtZSI9PT1yWzBdLm5leHRTaWJsaW5nLmxvY2FsTmFtZSYmclswXS5uZXh0U2libGluZy5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsIm5vbmUiKX1jYXRjaChlKXt9fShlLmFkVW5pdENvZGUpLGUucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cuQU5PdXRzdHJlYW1WaWRlby5yZW5kZXJBZCh7dGFnSWQ6ZS5hZFJlc3BvbnNlLnRhZ19pZCxzaXplczpbZS5nZXRTaXplKCkuc3BsaXQoIngiKV0sdGFyZ2V0SWQ6ZS5hZFVuaXRDb2RlLHV1aWQ6ZS5hZFJlc3BvbnNlLnV1aWQsYWRSZXNwb25zZTplLmFkUmVzcG9uc2UscmVuZGVyZXJPcHRpb25zOmUucmVuZGVyZXIuZ2V0Q29uZmlnKCl9LCQuYmluZChudWxsLGUpKX0pKX1mdW5jdGlvbiAkKGUscixhKXtlLnJlbmRlcmVyLmhhbmRsZVZpZGVvRXZlbnQoe2lkOnIsZXZlbnROYW1lOmF9KX1mdW5jdGlvbiBLKGUscixhLHQpe3JldHVybiByJiYodD9lLnB1c2goe3NvdXJjZTphLGlkOnIscnRpX3BhcnRuZXI6dH0pOmUucHVzaCh7c291cmNlOmEsaWQ6cn0pKSxlfU9iamVjdChzLnJlZ2lzdGVyQmlkZGVyKShSKX19LFsyNzNdKTsKdXBianNDaHVuayhbMjg3XSx7MzE1OmZ1bmN0aW9uKHQsZSxyKXt0LmV4cG9ydHM9cigzMTYpfSwzMTY6ZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKGUsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciBpPXIoMCksbj1yKDEpLG89cigyKSxkPXIoMyk7ZnVuY3Rpb24gYSh0KXtyZXR1cm4oYT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0pKHQpfXZhciB1PSJicmlnaHRjb20iLHM9e2NvZGU6dSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltvLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKHQpe2lmKHQuYmlkZGVyIT09dXx8dm9pZCAwPT09dC5wYXJhbXMpcmV0dXJuITE7aWYodm9pZCAwPT09dC5wYXJhbXMucHVibGlzaGVySWQpcmV0dXJuITE7cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24odCxlKXt0cnl7dmFyIHI9IiI7ZSYmZS5yZWZlcmVySW5mbyYmKHI9ZS5yZWZlcmVySW5mby5yZWZlcmVyKTt2YXIgbj1bXSxvPWkuZ2V0QmlkSWRQYXJhbWV0ZXIoInB1Ymxpc2hlcklkIix0WzBdLnBhcmFtcyk7aS5fZWFjaCh0LChmdW5jdGlvbih0KXt2YXIgZT10Lm1lZGlhVHlwZXMmJnQubWVkaWFUeXBlcy5iYW5uZXImJnQubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fHQuc2l6ZXMscj0oZT0oZT1pLmlzQXJyYXkoZSkmJmkuaXNBcnJheShlWzBdKT9lOltlXSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gaS5pc0FycmF5KHQpfSkpKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybnt3OnBhcnNlSW50KHRbMF0sMTApLGg6cGFyc2VJbnQodFsxXSwxMCl9fSkpLG89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodC5hZFVuaXRDb2RlKSxkPXIucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiBlLmgqZS53PHQuaCp0Lnc/ZTp0fSkpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBpLmdldFdpbmRvd1NlbGYoKSE9PWkuZ2V0V2luZG93VG9wKCl9Y2F0Y2godCl7cmV0dXJuITB9fSgpJiZudWxsIT09dH0obyk/ZnVuY3Rpb24odCxlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj1yLncsbz1yLmg7cmV0dXJuInZpc2libGUiPT09aS5nZXRXaW5kb3dUb3AoKS5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGU/Yyh0LGUse3c6bixoOm99KTowfShvLGkuZ2V0V2luZG93VG9wKCksZCk6Im5hIix1PWlzTmFOKGEpP2E6TWF0aC5yb3VuZChhKSxzPXtpZDp0LmJpZElkLGJhbm5lcjp7Zm9ybWF0OnIsZXh0Ont2aWV3YWJpbGl0eTp1fX0sdGFnaWQ6U3RyaW5nKHQuYWRVbml0Q29kZSl9LHA9ZnVuY3Rpb24odCl7aWYoIWkuaXNGbih0LmdldEZsb29yKSlyZXR1cm4gdC5wYXJhbXMuYmlkRmxvb3I/dC5wYXJhbXMuYmlkRmxvb3I6bnVsbDt2YXIgZT10LmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7aWYoaS5pc1BsYWluT2JqZWN0KGUpJiYhaXNOYU4oZS5mbG9vcikmJiJVU0QiPT09ZS5jdXJyZW5jeSlyZXR1cm4gZS5mbG9vcjtyZXR1cm4gbnVsbH0odCk7cCYmKHMuYmlkZmxvb3I9cCksbi5wdXNoKHMpfSkpO3ZhciBhPXtpZDppLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxpbXA6bixzaXRlOntkb21haW46aS5wYXJzZVVybChyKS5ob3N0LHBhZ2U6cixwdWJsaXNoZXI6e2lkOm99fSxkZXZpY2U6e2RldmljZXR5cGU6Lyhpb3N8aXBvZHxpcGFkfGlwaG9uZXxhbmRyb2lkKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/MTovKHNtYXJ0Wy1dP3R2fGhiYnR2fGFwcGxldHZ8Z29vZ2xldHZ8aGRtaXxuZXRjYXN0XC50dnx2aWVyYXxuZXR0dnxyb2t1fFxiZHR2XGJ8c29ueWR0dnxpbmV0dHZicm93c2VyfFxidHZcYikvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpPzM6Mix3OnNjcmVlbi53aWR0aCxoOnNjcmVlbi5oZWlnaHR9LHRtYXg6ZC5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpfTtyZXR1cm4gZSYmZS5nZHByQ29uc2VudCYmKGkuZGVlcFNldFZhbHVlKGEsInJlZ3MuZXh0LmdkcHIiLCtlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxpLmRlZXBTZXRWYWx1ZShhLCJ1c2VyLmV4dC5jb25zZW50IixlLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vYnJpZ2h0Y29tYmlkLm1hcnBoZXppcy5jb20vaGIiLGRhdGE6SlNPTi5zdHJpbmdpZnkoYSksb3B0aW9uczp7Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMX19fWNhdGNoKHIpe2kubG9nRXJyb3Iocix7YmlkUmVxczp0LGJpZGRlclJlcXVlc3Q6ZX0pfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24odCl7aWYoIXQuYm9keXx8Im9iamVjdCIhPWEodC5ib2R5KSlyZXR1cm4gaS5sb2dXYXJuKCJCcmlnaHRjb20gc2VydmVyIHJldHVybmVkIGVtcHR5L25vbi1qc29uIHJlc3BvbnNlOiAiK0pTT04uc3RyaW5naWZ5KHQuYm9keSkpLFtdO3ZhciBlPXQuYm9keSxyPWUuaWQsbj1lLnNlYXRiaWQ7dHJ5e3ZhciBkPVtdO3JldHVybiByJiZuJiZuLmxlbmd0aD4wJiZuWzBdLmJpZCYmblswXS5iaWQubGVuZ3RoPjAmJm5bMF0uYmlkLm1hcCgoZnVuY3Rpb24odCl7ZC5wdXNoKHtyZXF1ZXN0SWQ6dC5pbXBpZCxjcG06cGFyc2VGbG9hdCh0LnByaWNlKSx3aWR0aDpwYXJzZUludCh0LncpLGhlaWdodDpwYXJzZUludCh0LmgpLGNyZWF0aXZlSWQ6dC5jcmlkfHx0LmlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsbWVkaWFUeXBlOm8uYixhZDpwKHQpLHR0bDo2MCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczp0JiZ0LmFkb21haW4/dC5hZG9tYWluOltdfX0pfSkpLGR9Y2F0Y2godCl7aS5sb2dFcnJvcih0LHtpZDpyLHNlYXRiaWQ6bn0pfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm5bXX19O2Z1bmN0aW9uIHAodCl7dmFyIGU9dC5hZG07cmV0dXJuIm51cmwiaW4gdCYmKGUrPWkuY3JlYXRlVHJhY2tQaXhlbEh0bWwodC5udXJsKSksZX1mdW5jdGlvbiBoKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPWUudyxpPWUuaCxuPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1uLndpZHRoLGQ9bi5oZWlnaHQsYT1uLmxlZnQsdT1uLnRvcCxzPW4ucmlnaHQscD1uLmJvdHRvbTtyZXR1cm4oMD09PW98fDA9PT1kKSYmciYmaSYmKG89cixkPWkscz1hK3IscD11K2kpLHt3aWR0aDpvLGhlaWdodDpkLGxlZnQ6YSx0b3A6dSxyaWdodDpzLGJvdHRvbTpwfX1mdW5jdGlvbiBsKHQpe2Zvcih2YXIgZT17bGVmdDp0WzBdLmxlZnQscmlnaHQ6dFswXS5yaWdodCx0b3A6dFswXS50b3AsYm90dG9tOnRbMF0uYm90dG9tfSxyPTE7cjx0Lmxlbmd0aDsrK3Ipe2lmKGUubGVmdD1NYXRoLm1heChlLmxlZnQsdFtyXS5sZWZ0KSxlLnJpZ2h0PU1hdGgubWluKGUucmlnaHQsdFtyXS5yaWdodCksZS5sZWZ0Pj1lLnJpZ2h0KXJldHVybiBudWxsO2lmKGUudG9wPU1hdGgubWF4KGUudG9wLHRbcl0udG9wKSxlLmJvdHRvbT1NYXRoLm1pbihlLmJvdHRvbSx0W3JdLmJvdHRvbSksZS50b3A+PWUuYm90dG9tKXJldHVybiBudWxsfXJldHVybiBlLndpZHRoPWUucmlnaHQtZS5sZWZ0LGUuaGVpZ2h0PWUuYm90dG9tLWUudG9wLGV9ZnVuY3Rpb24gYyh0LGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxpPXIudyxuPXIuaCxvPWgodCx7dzppLGg6bn0pLGQ9bChbe2xlZnQ6MCx0b3A6MCxyaWdodDplLmlubmVyV2lkdGgsYm90dG9tOmUuaW5uZXJIZWlnaHR9LG9dKTtyZXR1cm4gbnVsbCE9PWQ/ZC53aWR0aCpkLmhlaWdodC8oby53aWR0aCpvLmhlaWdodCkqMTAwOjB9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHMpfX0sWzMxNV0pOwp1cGJqc0NodW5rKFsyNzRdLHszNDU6ZnVuY3Rpb24obix0LGUpe24uZXhwb3J0cz1lKDM0Nil9LDM0NjpmdW5jdGlvbihuLHQsZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmQodCwiYWxsb3dBdWN0aW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxlLmQodCwidXNlckNNUCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksZS5kKHQsImNvbnNlbnRUaW1lb3V0IiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxlLmQodCwiZ2RwclNjb3BlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKSxlLmQodCwic3RhdGljQ29uc2VudERhdGEiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLHQucmVxdWVzdEJpZHNIb29rPUQsdC5yZXNldENvbnNlbnREYXRhPWZ1bmN0aW9uKCl7Qz12b2lkIDAsZj12b2lkIDAsYj0wLGkuZ2RwckRhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKG51bGwpfSx0LnNldENvbnNlbnRDb25maWc9STt2YXIgbz1lKDApLGE9ZSgzKSxpPWUoOCkscj1lKDEyKSxzPWUubihyKSxjPWUoNzYpLGQ9ZS5uKGMpO2Z1bmN0aW9uIGwobil7cmV0dXJuKGw9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBufTpmdW5jdGlvbihuKXtyZXR1cm4gbiYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmbi5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmbiE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIG59KShuKX1mdW5jdGlvbiB1KG4sdCxlKXtyZXR1cm4gdCBpbiBuP09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHQse3ZhbHVlOmUsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTpuW3RdPWUsbn12YXIgZixwLGcsbSxDLHY9e3ZhbHVlOnRydWUsZGVmaW5lZEluQ29uZmlnOiExfSxiPTAseT0hMSx3PXtpYWI6ZnVuY3Rpb24obix0LGUpe2Z1bmN0aW9uIGEoYSxpKXtvLmxvZ0luZm8oIlJlY2VpdmVkIGEgcmVzcG9uc2UgZnJvbSBDTVAiLGEpLGk/ITEhPT1hLmdkcHJBcHBsaWVzJiYidGNsb2FkZWQiIT09YS5ldmVudFN0YXR1cyYmInVzZXJhY3Rpb25jb21wbGV0ZSIhPT1hLmV2ZW50U3RhdHVzfHxuKGEsZSk6dCgiQ01QIHVuYWJsZSB0byByZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbi4gIFBsZWFzZSBjaGVjayBDTVAgc2V0dXAuIixlKX12YXIgaT1mdW5jdGlvbigpe3ZhciB0PXt9O2Z1bmN0aW9uIGEoKXt0LmdldENvbnNlbnREYXRhJiZ0LmdldFZlbmRvckNvbnNlbnRzJiYoby5sb2dJbmZvKCJSZWNlaXZlZCBhbGwgcmVxdWVzdGVkIHJlc3BvbnNlcyBmcm9tIENNUCIsdCksbih0LGUpKX1yZXR1cm57Y29uc2VudERhdGFDYWxsYmFjazpmdW5jdGlvbihuKXt0LmdldENvbnNlbnREYXRhPW4sYSgpfSx2ZW5kb3JDb25zZW50c0NhbGxiYWNrOmZ1bmN0aW9uKG4pe3QuZ2V0VmVuZG9yQ29uc2VudHM9bixhKCl9fX0oKSxyPXt9LHM9ZnVuY3Rpb24oKXtmb3IodmFyIG4sdCxlPXdpbmRvdzshbjspe3RyeXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5fX3RjZmFwaXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUuX19jbXApeyJmdW5jdGlvbiI9PXR5cGVvZiBlLl9fdGNmYXBpPyhiPTIsdD1lLl9fdGNmYXBpKTooYj0xLHQ9ZS5fX2NtcCksbj1lO2JyZWFrfX1jYXRjaChuKXt9dHJ5e2lmKGUuZnJhbWVzLl9fdGNmYXBpTG9jYXRvcil7Yj0yLG49ZTticmVha319Y2F0Y2gobil7fXRyeXtpZihlLmZyYW1lcy5fX2NtcExvY2F0b3Ipe2I9MSxuPWU7YnJlYWt9fWNhdGNoKG4pe31pZihlPT09d2luZG93LnRvcClicmVhaztlPWUucGFyZW50fXJldHVybntjbXBGcmFtZTpuLGNtcEZ1bmN0aW9uOnR9fSgpLGM9cy5jbXBGcmFtZSxsPXMuY21wRnVuY3Rpb247aWYoIWMpcmV0dXJuIHQoIkNNUCBub3QgZm91bmQuIixlKTtvLmlzRm4obCk/KG8ubG9nSW5mbygiRGV0ZWN0ZWQgQ01QIEFQSSBpcyBkaXJlY3RseSBhY2Nlc3NpYmxlLCBjYWxsaW5nIGl0IG5vdy4uLiIpLDE9PT1iPyhsKCJnZXRDb25zZW50RGF0YSIsbnVsbCxpLmNvbnNlbnREYXRhQ2FsbGJhY2spLGwoImdldFZlbmRvckNvbnNlbnRzIixudWxsLGkudmVuZG9yQ29uc2VudHNDYWxsYmFjaykpOjI9PT1iJiZsKCJhZGRFdmVudExpc3RlbmVyIixiLGEpKToxPT09YiYmd2luZG93LiRzZiYmd2luZG93LiRzZi5leHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB3aW5kb3cuJHNmLmV4dC5jbXA/KG8ubG9nSW5mbygiRGV0ZWN0ZWQgUHJlYmlkLmpzIGlzIGVuY2FzZWQgaW4gYSBTYWZlRnJhbWUgYW5kIENNUCBpcyByZWdpc3RlcmVkLCBjYWxsaW5nIGl0IG5vdy4uLiIpLGYoImdldENvbnNlbnREYXRhIixpLmNvbnNlbnREYXRhQ2FsbGJhY2spLGYoImdldFZlbmRvckNvbnNlbnRzIixpLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spKTooby5sb2dJbmZvKCJEZXRlY3RlZCBDTVAgaXMgb3V0c2lkZSB0aGUgY3VycmVudCBpZnJhbWUgd2hlcmUgUHJlYmlkLmpzIGlzIGxvY2F0ZWQsIGNhbGxpbmcgaXQgbm93Li4uIiksMT09PWI/KHAoImdldENvbnNlbnREYXRhIixjLGkuY29uc2VudERhdGFDYWxsYmFjaykscCgiZ2V0VmVuZG9yQ29uc2VudHMiLGMsaS52ZW5kb3JDb25zZW50c0NhbGxiYWNrKSk6Mj09PWImJnAoImFkZEV2ZW50TGlzdGVuZXIiLGMsYSkpO2Z1bmN0aW9uIGYobix0KXt2YXIgYT1lLmFkVW5pdHMsaT0xLHI9MTtpZihBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aD4wKXt2YXIgcz1vLmdldEFkVW5pdFNpemVzKGFbMF0pO2k9c1swXVswXSxyPXNbMF1bMV19d2luZG93LiRzZi5leHQucmVnaXN0ZXIoaSxyLChmdW5jdGlvbihlLG8pe2lmKCJjbXBSZXR1cm4iPT09ZSl7dmFyIGE9ImdldENvbnNlbnREYXRhIj09PW4/by52ZW5kb3JDb25zZW50RGF0YTpvLnZlbmRvckNvbnNlbnRzO3QoYSl9fSkpLHdpbmRvdy4kc2YuZXh0LmNtcChuKX1mdW5jdGlvbiBwKG4sdCxlKXt2YXIgbz0yPT09Yj8iX190Y2ZhcGkiOiJfX2NtcCIsYT0iIi5jb25jYXQobywiQ2FsbCIpO2Z1bmN0aW9uIGkobil7dmFyIHQ9IiIuY29uY2F0KG8sIlJldHVybiIpLGU9InN0cmluZyI9PXR5cGVvZiBuLmRhdGEmJmQoKShuLmRhdGEsdCk/SlNPTi5wYXJzZShuLmRhdGEpOm4uZGF0YTtpZihlW3RdJiZlW3RdLmNhbGxJZCl7dmFyIGE9ZVt0XTt2b2lkIDAhPT1yW2EuY2FsbElkXSYmclthLmNhbGxJZF0oYS5yZXR1cm5WYWx1ZSxhLnN1Y2Nlc3MpfX0yPT09Yj8od2luZG93W29dPWZ1bmN0aW9uKG4sZSxvLGkpe3ZhciBzPU1hdGgucmFuZG9tKCkrIiIsYz11KHt9LGEse2NvbW1hbmQ6bix2ZXJzaW9uOmUscGFyYW1ldGVyOmksY2FsbElkOnN9KTtyW3NdPW8sdC5wb3N0TWVzc2FnZShjLCIqIil9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixpLCExKSx3aW5kb3dbb10obixiLGUpKTood2luZG93W29dPWZ1bmN0aW9uKG4sZSxvKXt2YXIgaT1NYXRoLnJhbmRvbSgpKyIiLHM9dSh7fSxhLHtjb21tYW5kOm4scGFyYW1ldGVyOmUsY2FsbElkOml9KTtyW2ldPW8sdC5wb3N0TWVzc2FnZShzLCIqIil9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixpLCExKSx3aW5kb3dbb10obix2b2lkIDAsZSkpfX0sc3RhdGljOmZ1bmN0aW9uKG4sdCxlKXtuKG0sZSl9fTtmdW5jdGlvbiBEKG4sdCl7dmFyIGU9e2NvbnRleHQ6dGhpcyxhcmdzOlt0XSxuZXh0Rm46bixhZFVuaXRzOnQuYWRVbml0c3x8dXBianMuYWRVbml0cyxiaWRzQmFja0hhbmRsZXI6dC5iaWRzQmFja0hhbmRsZXIsaGF2ZUV4aXRlZDohMSx0aW1lcjpudWxsfTtyZXR1cm4gQz8oby5sb2dJbmZvKCJVc2VyIGNvbnNlbnQgaW5mb3JtYXRpb24gYWxyZWFkeSBrbm93bi4gIFB1bGxpbmcgaW50ZXJuYWxseSBzdG9yZWQgaW5mb3JtYXRpb24uLi4iKSxQKG51bGwsZSkpOnMoKShPYmplY3Qua2V5cyh3KSxmKT8od1tmXS5jYWxsKHRoaXMsayxoLGUpLHZvaWQoZS5oYXZlRXhpdGVkfHwoMD09PXA/ayh2b2lkIDAsZSk6ZS50aW1lcj1zZXRUaW1lb3V0KE0uYmluZChudWxsLGUpLHApKSkpOihvLmxvZ1dhcm4oIkNNUCBmcmFtZXdvcmsgKCIuY29uY2F0KGYsIikgaXMgbm90IGEgc3VwcG9ydGVkIGZyYW1ld29yay4gIEFib3J0aW5nIGNvbnNlbnRNYW5hZ2VtZW50IG1vZHVsZSBhbmQgcmVzdW1pbmcgYXVjdGlvbi4iKSksZS5uZXh0Rm4uYXBwbHkoZS5jb250ZXh0LGUuYXJncykpfWZ1bmN0aW9uIGsobix0KXsic3RhdGljIj09PWYmJjI9PT0oYj1uLmdldENvbnNlbnREYXRhPzE6bi5nZXRUQ0RhdGE/MjowKSYmKG49bi5nZXRUQ0RhdGEpO3ZhciBlPTE9PT1iP2Z1bmN0aW9uKG4pe3ZhciB0PW4mJm4uZ2V0Q29uc2VudERhdGEmJm4uZ2V0Q29uc2VudERhdGEuZ2RwckFwcGxpZXM7cmV0dXJuISgiYm9vbGVhbiI9PXR5cGVvZiB0JiYoITAhPT10fHxvLmlzU3RyKG4uZ2V0Q29uc2VudERhdGEuY29uc2VudERhdGEpJiZvLmlzUGxhaW5PYmplY3Qobi5nZXRWZW5kb3JDb25zZW50cykmJk9iamVjdC5rZXlzKG4uZ2V0VmVuZG9yQ29uc2VudHMpLmxlbmd0aD4xKSl9OjI9PT1iP2Z1bmN0aW9uKCl7dmFyIHQ9biYmImJvb2xlYW4iPT10eXBlb2Ygbi5nZHByQXBwbGllcz9uLmdkcHJBcHBsaWVzOmcsZT1uJiZuLnRjU3RyaW5nO3JldHVybiEoImJvb2xlYW4iPT10eXBlb2YgdCYmKCEwIT09dHx8by5pc1N0cihlKSkpfTpudWxsO3YuZGVmaW5lZEluQ29uZmlnJiYyPT09Yj9vLmxvZ1dhcm4oIidhbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCcgaWdub3JlZCBmb3IgVENGIDIiKTp2LmRlZmluZWRJbkNvbmZpZ3x8MSE9PWJ8fG8ubG9nSW5mbygiJ2FsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JyB1c2luZyBzeXN0ZW0gZGVmYXVsdDogKCIuY29uY2F0KHRydWUsIikuIikpLG8uaXNGbihlKT9lKG4pP2goIkNNUCByZXR1cm5lZCB1bmV4cGVjdGVkIHZhbHVlIGR1cmluZyBsb29rdXAgcHJvY2Vzcy4iLHQsbik6KGNsZWFyVGltZW91dCh0LnRpbWVyKSxBKG4pLFAobnVsbCx0KSk6aCgiVW5hYmxlIHRvIGRlcml2ZSBDTVAgdmVyc2lvbiB0byBwcm9jZXNzIGRhdGEuICBDb25zZW50IG9iamVjdCBkb2VzIG5vdCBjb25mb3JtIHRvIFRDRiB2MSBvciB2MiBzcGVjcy4iLHQsbil9ZnVuY3Rpb24gTShuKXtoKCJDTVAgd29ya2Zsb3cgZXhjZWVkZWQgdGltZW91dCB0aHJlc2hvbGQuIixuKX1mdW5jdGlvbiBoKG4sdCxlKXtjbGVhclRpbWVvdXQodC50aW1lciksdi52YWx1ZSYmMT09PWImJkEodm9pZCAwKSxQKG4sdCxlKX1mdW5jdGlvbiBBKG4pezE9PT1iP0M9e2NvbnNlbnRTdHJpbmc6bj9uLmdldENvbnNlbnREYXRhLmNvbnNlbnREYXRhOnZvaWQgMCx2ZW5kb3JEYXRhOm4/bi5nZXRWZW5kb3JDb25zZW50czp2b2lkIDAsZ2RwckFwcGxpZXM6bj9uLmdldENvbnNlbnREYXRhLmdkcHJBcHBsaWVzOmd9OihDPXtjb25zZW50U3RyaW5nOm4/bi50Y1N0cmluZzp2b2lkIDAsdmVuZG9yRGF0YTpufHx2b2lkIDAsZ2RwckFwcGxpZXM6biYmImJvb2xlYW4iPT10eXBlb2Ygbi5nZHByQXBwbGllcz9uLmdkcHJBcHBsaWVzOmd9LG4mJm4uYWRkdGxDb25zZW50JiZvLmlzU3RyKG4uYWRkdGxDb25zZW50KSYmKEMuYWRkdGxDb25zZW50PW4uYWRkdGxDb25zZW50KSksQy5hcGlWZXJzaW9uPWIsaS5nZHByRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEoQyl9ZnVuY3Rpb24gUChuLHQsZSl7aWYoITE9PT10LmhhdmVFeGl0ZWQpe3QuaGF2ZUV4aXRlZD0hMDt2YXIgYT10LmNvbnRleHQsaT10LmFyZ3Mscj10Lm5leHRGbjtuP3YudmFsdWUmJjE9PT1iPyhvLmxvZ1dhcm4obisiICdhbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCcgYWN0aXZhdGVkLiIsZSksci5hcHBseShhLGkpKTooby5sb2dFcnJvcihuKyIgQ2FuY2VsaW5nIGF1Y3Rpb24gYXMgcGVyIGNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZy4iLGUpLCJmdW5jdGlvbiI9PXR5cGVvZiB0LmJpZHNCYWNrSGFuZGxlcj90LmJpZHNCYWNrSGFuZGxlcigpOm8ubG9nRXJyb3IoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiKSk6ci5hcHBseShhLGkpfX1mdW5jdGlvbiBJKG4peyhuPW4mJihuLmdkcHJ8fG4udXNwP24uZ2RwcjpuKSkmJiJvYmplY3QiPT09bChuKT8oby5pc1N0cihuLmNtcEFwaSk/Zj1uLmNtcEFwaTooZj0iaWFiIixvLmxvZ0luZm8oImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgY21wLiAgVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoImlhYiIsIikuIikpKSxvLmlzTnVtYmVyKG4udGltZW91dCk/cD1uLnRpbWVvdXQ6KHA9MWU0LG8ubG9nSW5mbygiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSB0aW1lb3V0LiAgVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoMWU0LCIpLiIpKSksImJvb2xlYW4iPT10eXBlb2Ygbi5hbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCYmKHYudmFsdWU9bi5hbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCx2LmRlZmluZWRJbkNvbmZpZz0hMCksZz0hMD09PW4uZGVmYXVsdEdkcHJTY29wZSxvLmxvZ0luZm8oImNvbnNlbnRNYW5hZ2VtZW50IG1vZHVsZSBoYXMgYmVlbiBhY3RpdmF0ZWQuLi4iKSwic3RhdGljIj09PWYmJihvLmlzUGxhaW5PYmplY3Qobi5jb25zZW50RGF0YSk/KG09bi5jb25zZW50RGF0YSxwPTApOm8ubG9nRXJyb3IoImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyB3aXRoIGNtcEFwaTogJ3N0YXRpYycgZGlkIG5vdCBzcGVjaWZ5IGNvbnNlbnREYXRhLiBObyBjb25zZW50cyB3aWxsIGJlIGF2YWlsYWJsZSB0byBhZGFwdGVycy4iKSkseXx8dXBianMucmVxdWVzdEJpZHMuYmVmb3JlKEQsNTApLHk9ITApOm8ubG9nV2FybigiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIG5vdCBkZWZpbmVkLCBleGl0aW5nIGNvbnNlbnQgbWFuYWdlciIpfWEuYi5nZXRDb25maWcoImNvbnNlbnRNYW5hZ2VtZW50IiwoZnVuY3Rpb24obil7cmV0dXJuIEkobi5jb25zZW50TWFuYWdlbWVudCl9KSl9fSxbMzQ1XSk7CnVwYmpzQ2h1bmsoWzI3M10sezM1MjpmdW5jdGlvbih0LG4sZSl7dC5leHBvcnRzPWUoMzUzKX0sMzUzOmZ1bmN0aW9uKHQsbixlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZChuLCJjb25zZW50QVBJIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxlLmQobiwiY29uc2VudFRpbWVvdXQiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGUuZChuLCJzdGF0aWNDb25zZW50RGF0YSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5yZXF1ZXN0Qmlkc0hvb2s9ZixuLnJlc2V0Q29uc2VudERhdGE9ZnVuY3Rpb24oKXtsPXZvaWQgMCxjPXZvaWQgMCxpLnVzcERhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKG51bGwpfSxuLnNldENvbnNlbnRDb25maWc9UDt2YXIgYT1lKDApLG89ZSgzKSxpPWUoOCk7ZnVuY3Rpb24gcyh0KXtyZXR1cm4ocz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0pKHQpfXZhciBjLHIsdSxsLGQ9ITEscD17aWFiOmZ1bmN0aW9uKHQsbixlKXt2YXIgbz0odT17fSx7Y29uc2VudERhdGFDYWxsYmFjazpmdW5jdGlvbihhLG8pe28mJmEudXNwU3RyaW5nJiYodS51c1ByaXZhY3k9YS51c3BTdHJpbmcpLHUudXNQcml2YWN5P3QodSxlKTpuKCJVbmFibGUgdG8gZ2V0IFVTUCBjb25zZW50IHN0cmluZy4iLGUpfX0pLGk9e30scz1mdW5jdGlvbigpe2Zvcih2YXIgdCxuLGU9d2luZG93OyF0Oyl7dHJ5e2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLl9fdXNwYXBpKXtuPWUuX191c3BhcGksdD1lO2JyZWFrfX1jYXRjaCh0KXt9dHJ5e2lmKGUuZnJhbWVzLl9fdXNwYXBpTG9jYXRvcil7dD1lO2JyZWFrfX1jYXRjaCh0KXt9aWYoZT09PXdpbmRvdy50b3ApYnJlYWs7ZT1lLnBhcmVudH1yZXR1cm57dXNwYXBpRnJhbWU6dCx1c3BhcGlGdW5jdGlvbjpufX0oKSxjPXMudXNwYXBpRnJhbWUscj1zLnVzcGFwaUZ1bmN0aW9uO3ZhciB1O2lmKCFjKXJldHVybiBuKCJVU1AgQ01QIG5vdCBmb3VuZC4iLGUpO2EuaXNGbihyKT8oYS5sb2dJbmZvKCJEZXRlY3RlZCBVU1AgQ01QIGlzIGRpcmVjdGx5IGFjY2Vzc2libGUsIGNhbGxpbmcgaXQgbm93Li4uIikscigiZ2V0VVNQRGF0YSIsMSxvLmNvbnNlbnREYXRhQ2FsbGJhY2spKTooYS5sb2dJbmZvKCJEZXRlY3RlZCBVU1AgQ01QIGlzIG91dHNpZGUgdGhlIGN1cnJlbnQgaWZyYW1lIHdoZXJlIFByZWJpZC5qcyBpcyBsb2NhdGVkLCBjYWxsaW5nIGl0IG5vdy4uLiIpLGZ1bmN0aW9uKHQsbixlKXtmdW5jdGlvbiBhKHQpe3ZhciBuPXQmJnQuZGF0YSYmdC5kYXRhLl9fdXNwYXBpUmV0dXJuO24mJm4uY2FsbElkJiZ2b2lkIDAhPT1pW24uY2FsbElkXSYmKGlbbi5jYWxsSWRdKG4ucmV0dXJuVmFsdWUsbi5zdWNjZXNzKSxkZWxldGUgaVtuLmNhbGxJZF0pfXdpbmRvdy5fX3VzcGFwaT1mdW5jdGlvbih0LGUsYSl7dmFyIG89TWF0aC5yYW5kb20oKSsiIixzPXtfX3VzcGFwaUNhbGw6e2NvbW1hbmQ6dCx2ZXJzaW9uOmUsY2FsbElkOm99fTtpW29dPWEsbi5wb3N0TWVzc2FnZShzLCIqIil9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixhLCExKSx3aW5kb3cuX191c3BhcGkodCwxLGUpfSgiZ2V0VVNQRGF0YSIsYyxvLmNvbnNlbnREYXRhQ2FsbGJhY2spKX0sc3RhdGljOmZ1bmN0aW9uKHQsbixlKXt0KHUsZSl9fTtmdW5jdGlvbiBmKHQsbil7dmFyIGU9e2NvbnRleHQ6dGhpcyxhcmdzOltuXSxuZXh0Rm46dCxhZFVuaXRzOm4uYWRVbml0c3x8dXBianMuYWRVbml0cyxiaWRzQmFja0hhbmRsZXI6bi5iaWRzQmFja0hhbmRsZXIsaGF2ZUV4aXRlZDohMSx0aW1lcjpudWxsfTtpZighcFtjXSlyZXR1cm4gYS5sb2dXYXJuKCJVU1AgZnJhbWV3b3JrICgiLmNvbmNhdChjLCIpIGlzIG5vdCBhIHN1cHBvcnRlZCBmcmFtZXdvcmsuIEFib3J0aW5nIGNvbnNlbnRNYW5hZ2VtZW50IG1vZHVsZSBhbmQgcmVzdW1pbmcgYXVjdGlvbi4iKSksZS5uZXh0Rm4uYXBwbHkoZS5jb250ZXh0LGUuYXJncyk7cFtjXS5jYWxsKHRoaXMsZyxiLGUpLGUuaGF2ZUV4aXRlZHx8KDA9PT1yP2codm9pZCAwLGUpOmUudGltZXI9c2V0VGltZW91dChtLmJpbmQobnVsbCxlKSxyKSl9ZnVuY3Rpb24gZyh0LG4peyF0fHwhdC51c1ByaXZhY3k/YigiVVNQQVBJIHJldHVybmVkIHVuZXhwZWN0ZWQgdmFsdWUgZHVyaW5nIGxvb2t1cCBwcm9jZXNzLiIsbix0KTooY2xlYXJUaW1lb3V0KG4udGltZXIpLGZ1bmN0aW9uKHQpe3QmJnQudXNQcml2YWN5JiYobD10LnVzUHJpdmFjeSxpLnVzcERhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKGwpKX0odCkseShudWxsLG4pKX1mdW5jdGlvbiBtKHQpe2IoIlVTUEFQSSB3b3JrZmxvdyBleGNlZWRlZCB0aW1lb3V0IHRocmVzaG9sZC4iLHQpfWZ1bmN0aW9uIGIodCxuLGUpe2NsZWFyVGltZW91dChuLnRpbWVyKSx5KHQsbixlKX1mdW5jdGlvbiB5KHQsbixlKXtpZighMT09PW4uaGF2ZUV4aXRlZCl7bi5oYXZlRXhpdGVkPSEwO3ZhciBvPW4uY29udGV4dCxpPW4uYXJncyxzPW4ubmV4dEZuO3QmJmEubG9nV2Fybih0KyIgUmVzdW1pbmcgYXVjdGlvbiB3aXRob3V0IGNvbnNlbnQgZGF0YSBhcyBwZXIgY29uc2VudE1hbmFnZW1lbnQgY29uZmlnLiIsZSkscy5hcHBseShvLGkpfX1mdW5jdGlvbiBQKHQpeyh0PXQmJnQudXNwKSYmIm9iamVjdCI9PT1zKHQpPyhhLmlzU3RyKHQuY21wQXBpKT9jPXQuY21wQXBpOihjPSJpYWIiLGEubG9nSW5mbygiY29uc2VudE1hbmFnZW1lbnQudXNwIGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgY21wQXBpLiBVc2luZyBzeXN0ZW0gZGVmYXVsdCBzZXR0aW5nICgiLmNvbmNhdCgiaWFiIiwiKS4iKSkpLGEuaXNOdW1iZXIodC50aW1lb3V0KT9yPXQudGltZW91dDoocj01MCxhLmxvZ0luZm8oImNvbnNlbnRNYW5hZ2VtZW50LnVzcCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IHRpbWVvdXQuIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KDUwLCIpLiIpKSksYS5sb2dJbmZvKCJVU1BBUEkgY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGhhcyBiZWVuIGFjdGl2YXRlZC4uLiIpLCJzdGF0aWMiPT09YyYmKGEuaXNQbGFpbk9iamVjdCh0LmNvbnNlbnREYXRhKSYmYS5pc1BsYWluT2JqZWN0KHQuY29uc2VudERhdGEuZ2V0VVNQRGF0YSk/KHQuY29uc2VudERhdGEuZ2V0VVNQRGF0YS51c3BTdHJpbmcmJih1PXt1c1ByaXZhY3k6dC5jb25zZW50RGF0YS5nZXRVU1BEYXRhLnVzcFN0cmluZ30pLHI9MCk6YS5sb2dFcnJvcigiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIHdpdGggY21wQXBpOiAnc3RhdGljJyBkaWQgbm90IHNwZWNpZnkgY29uc2VudERhdGEuIE5vIGNvbnNlbnRzIHdpbGwgYmUgYXZhaWxhYmxlIHRvIGFkYXB0ZXJzLiIpKSxkfHx1cGJqcy5yZXF1ZXN0Qmlkcy5iZWZvcmUoZiw1MCksZD0hMCk6YS5sb2dXYXJuKCJjb25zZW50TWFuYWdlbWVudC51c3AgY29uZmlnIG5vdCBkZWZpbmVkLCBleGl0aW5nIHVzcCBjb25zZW50IG1hbmFnZXIiKX1vLmIuZ2V0Q29uZmlnKCJjb25zZW50TWFuYWdlbWVudCIsKGZ1bmN0aW9uKHQpe3JldHVybiBQKHQuY29uc2VudE1hbmFnZW1lbnQpfSkpfX0sWzM1Ml0pOwp1cGJqc0NodW5rKFsyNzJdLHszNTQ6ZnVuY3Rpb24oZSxyLG4pe2UuZXhwb3J0cz1uKDM1NSl9LDM1NTpmdW5jdGlvbihlLHIsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHQ9bigwKSxpPW4oMSk7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBuPWFyZ3VtZW50c1tyXTtmb3IodmFyIHQgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix0KSYmKGVbdF09blt0XSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGE9MCxkPSJjb25zdW1hYmxlIix1PXtjb2RlOiJjb25zdW1hYmxlIixpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlLnBhcmFtcy5uZXR3b3JrSWQmJmUucGFyYW1zLnNpdGVJZCYmZS5wYXJhbXMudW5pdElkJiZlLnBhcmFtcy51bml0TmFtZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgbj17bWV0aG9kOiJQT1NUIix1cmw6IiIsZGF0YToiIixiaWRSZXF1ZXN0OltdfTtpZihlLmxlbmd0aDwxKXJldHVybiBuO2E9ZVswXS5wYXJhbXMuc2l0ZUlkLGQ9ZVswXS5iaWRkZXI7dmFyIHQ9cyh7cGxhY2VtZW50czpbXSx0aW1lOkRhdGUubm93KCksdXJsOnIucmVmZXJlckluZm8ucmVmZXJlcixyZWZlcnJlcjpkb2N1bWVudC5yZWZlcnJlcixzb3VyY2U6W3tuYW1lOiJwcmViaWRqcyIsdmVyc2lvbjoiNS4xMS4wIn1dfSxlWzBdLnBhcmFtcyk7cmV0dXJuIHImJnIuZ2RwckNvbnNlbnQmJih0LmdkcHI9e2NvbnNlbnQ6ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGFwcGxpZXM6ImJvb2xlYW4iIT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllc3x8ci5nZHByQ29uc2VudC5nZHByQXBwbGllc30pLHImJnIudXNwQ29uc2VudCYmKHQuY2NwYT1yLnVzcENvbnNlbnQpLGUubWFwKChmdW5jdGlvbihlKXt2YXIgcj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fGUuc2l6ZXN8fFtdLG49cyh7ZGl2TmFtZTplLmJpZElkLGFkVHlwZXM6ZS5hZFR5cGVzfHxwKHIpfSxlLnBhcmFtcyk7bi5uZXR3b3JrSWQmJm4uc2l0ZUlkJiZuLnVuaXRJZCYmbi51bml0TmFtZSYmdC5wbGFjZW1lbnRzLnB1c2gobil9KSksbi5kYXRhPUpTT04uc3RyaW5naWZ5KHQpLG4uYmlkUmVxdWVzdD1lLG4uYmlkZGVyUmVxdWVzdD1yLG4udXJsPSJodHRwczovL2Uuc2VydmVyYmlkLmNvbS9hcGkvdjIiLG59LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIG4sdCxpLHMsYT1bXTt0PXIuYmlkUmVxdWVzdCxlPShlfHx7fSkuYm9keTtmb3IodmFyIGQ9MDtkPHQubGVuZ3RoO2QrKylpZihuPXt9LGk9KHM9dFtkXSkuYmlkSWQsZSl7dmFyIHU9ZS5kZWNpc2lvbnMmJmUuZGVjaXNpb25zW2ldLG89dSYmdS5wcmljaW5nJiZ1LnByaWNpbmcuY2xlYXJQcmljZTt1JiZvJiYobi5yZXF1ZXN0SWQ9aSxuLmNwbT1vLG4ud2lkdGg9dS53aWR0aCxuLmhlaWdodD11LmhlaWdodCxuLnVuaXRJZD1zLnBhcmFtcy51bml0SWQsbi51bml0TmFtZT1zLnBhcmFtcy51bml0TmFtZSxuLmFkPWModSxuLnVuaXRJZCxuLnVuaXROYW1lKSxuLmN1cnJlbmN5PSJVU0QiLG4uY3JlYXRpdmVJZD11LmFkSWQsbi50dGw9MzAsbi5tZXRhPXthZHZlcnRpc2VyRG9tYWluczp1LmFkb21haW4/dS5hZG9tYWluOltdfSxuLm5ldFJldmVudWU9ITAsbi5yZWZlcnJlcj1yLmJpZGRlclJlcXVlc3QucmVmZXJlckluZm8ucmVmZXJlcixhLnB1c2gobikpfXJldHVybiBhfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vc3luYy5zZXJ2ZXJiaWQuY29tL3NzLyIrYSsiLmh0bWwifV06ZS5waXhlbEVuYWJsZWQmJnIubGVuZ3RoPjA/clswXS5ib2R5LnBpeGVsczp2b2lkIHQubG9nV2FybihkKyI6IFBsZWFzZSBlbmFibGUgaWZyYW1lIGJhc2VkIHVzZXIgc3luY2luZy4iKX19LG89W251bGwsIjEyMHg5MCIsIjEyMHg5MCIsIjQ2OHg2MCIsIjcyOHg5MCIsIjMwMHgyNTAiLCIxNjB4NjAwIiwiMTIweDYwMCIsIjMwMHgxMDAiLCIxODB4MTUwIiwiMzM2eDI4MCIsIjI0MHg0MDAiLCIyMzR4NjAiLCI4OHgzMSIsIjEyMHg2MCIsIjEyMHgyNDAiLCIxMjV4MTI1IiwiMjIweDI1MCIsIjI1MHgyNTAiLCIyNTB4OTAiLCIweDAiLCIyMDB4OTAiLCIzMDB4NTAiLCIzMjB4NTAiLCIzMjB4NDgwIiwiMTg1eDE4NSIsIjYyMHg0NSIsIjMwMHgxMjUiLCI4MDB4MjUwIl07ZnVuY3Rpb24gcChlKXt2YXIgcj1bXTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1vLmluZGV4T2YoZVswXSsieCIrZVsxXSk7bj49MCYmci5wdXNoKG4pfSkpLHJ9ZnVuY3Rpb24gYyhlLHIsbil7cmV0dXJuIGUuY29udGVudHMmJmUuY29udGVudHNbMF0mJmUuY29udGVudHNbMF0uYm9keSt0LmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKGUuaW1wcmVzc2lvblVybCl9b1s3N109Ijk3MHg5MCIsb1sxMjNdPSI5NzB4MjUwIixvWzQzXT0iMzAweDYwMCIsb1syODZdPSI5NzB4NjYiLG9bMzIzMF09Ijk3MHgyODAiLG9bNDI5XT0iNDg2eDYwIixvWzM3NF09IjcwMHg1MDAiLG9bOTM0XT0iMzAweDEwNTAiLG9bMTU3OF09IjMyMHgxMDAiLG9bMzMxXT0iMzIweDI1MCIsb1szMzAxXT0iMzIweDI2NyIsb1syNzMwXT0iNzI4eDI1MCIsT2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKHUpfX0sWzM1NF0pOwp1cGJqc0NodW5rKFsyNzBdLHszNTg6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDM1OSl9LDM1OTpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3RvcmFnZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBwfSkpO3ZhciBhPXQoMCksbj10KDEpLGk9dCgyKSxvPXQoNyk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gYyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUscil7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gYyhlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT10fHwiU2V0Ij09PXQpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSlyZXR1cm4gYyhlLHIpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBjKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsYT1uZXcgQXJyYXkocik7dDxyO3QrKylhW3RdPWVbdF07cmV0dXJuIGF9dmFyIGQ9T2JqZWN0KG8uYikoMjQpLHU9ImNvbnZlcnNhbnQiLHA9e2NvZGU6dSxndmxpZDoyNCxhbGlhc2VzOlsiY252ciJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2kuYixpLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5wYXJhbXMpcmV0dXJuIGEubG9nV2FybigiY29udmVyc2FudDogTWlzc2luZyBiaWQgcGFyYW1ldGVycyIpLCExO2lmKCFhLmlzU3RyKGUucGFyYW1zLnNpdGVfaWQpKXJldHVybiBhLmxvZ1dhcm4oImNvbnZlcnNhbnQ6IHNpdGVfaWQgbXVzdCBiZSBzcGVjaWZpZWQgYXMgYSBzdHJpbmciKSwhMTtpZihsKGUpKXt2YXIgcj1lLnBhcmFtcy5taW1lc3x8YS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ubWltZXMiKTtpZihyKXtpZighYS5pc0FycmF5KHIpfHwhci5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGEuaXNTdHIoZSl9KSkpcmV0dXJuIGEubG9nV2FybigiY29udmVyc2FudDogbWltZXMgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzIiksITF9ZWxzZSBhLmxvZ1dhcm4oImNvbnZlcnNhbnQ6IG1pbWVzIHNob3VsZCBiZSBzcGVjaWZpZWQgZm9yIHZpZGVvcyIpfXJldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQsbj1yJiZyLnJlZmVyZXJJbmZvP3IucmVmZXJlckluZm8ucmVmZXJlcjoiIixpPSIiLG89IiIscz1udWxsLGM9Il9wdWJjaWQiLHU9Imh0dHBzOi8vd2ViLmhiLmFkLmNwZS5kb3RvbWkuY29tL2N2eC9jbGllbnQvaGIvb3J0Yi8yNSIscD1lLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI9YS5nZXRCaWRJZFBhcmFtZXRlcigiYmlkZmxvb3IiLGUucGFyYW1zKTtpZighciYmYS5pc0ZuKGUuZ2V0Rmxvb3IpKXt2YXIgdD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7YS5pc1BsYWluT2JqZWN0KHQpJiYhaXNOYU4odC5mbG9vcikmJiJVU0QiPT09dC5jdXJyZW5jeSYmKHI9dC5mbG9vcil9cmV0dXJuIHJ9KGUpO2k9YS5nZXRCaWRJZFBhcmFtZXRlcigic2l0ZV9pZCIsZS5wYXJhbXMpfHxpLGM9YS5nZXRCaWRJZFBhcmFtZXRlcigicHViY2lkX25hbWUiLGUucGFyYW1zKXx8YyxvPWUuYXVjdGlvbklkO3ZhciB0PXtpZDplLmJpZElkLHNlY3VyZToxLGJpZGZsb29yOnJ8fDAsZGlzcGxheW1hbmFnZXI6IlByZWJpZC5qcyIsZGlzcGxheW1hbmFnZXJ2ZXI6IjUuMTEuMCJ9O2lmKGYoZS5wYXJhbXMudGFnX2lkLHQsInRhZ2lkIiksbChlKSl7dmFyIG49YS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKXx8e30sZD1tKG4ucGxheWVyU2l6ZXx8ZS5zaXplcykscD17fTtkJiZkWzBdJiYoZihkWzBdLncscCwidyIpLGYoZFswXS5oLHAsImgiKSksZihlLnBhcmFtcy5wb3NpdGlvbixwLCJwb3MiKSxmKGUucGFyYW1zLm1pbWVzfHxuLm1pbWVzLHAsIm1pbWVzIiksZihlLnBhcmFtcy5tYXhkdXJhdGlvbnx8bi5tYXhkdXJhdGlvbixwLCJtYXhkdXJhdGlvbiIpLGYoZS5wYXJhbXMucHJvdG9jb2xzfHxuLnByb3RvY29scyxwLCJwcm90b2NvbHMiKSxmKGUucGFyYW1zLmFwaXx8bi5hcGkscCwiYXBpIiksdC52aWRlbz1wfWVsc2V7dmFyIGc9e2Zvcm1hdDptKChhLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIiKXx8e30pLnNpemVzfHxlLnNpemVzKX07ZihlLnBhcmFtcy5wb3NpdGlvbixnLCJwb3MiKSx0LmJhbm5lcj1nfXJldHVybiBlLnVzZXJJZCYmZS51c2VySWQucHViY2lkP3M9ZS51c2VySWQucHViY2lkOmUuY3J1bWJzJiZlLmNydW1icy5wdWJjaWQmJihzPWUuY3J1bWJzLnB1YmNpZCksZS5wYXJhbXMud2hpdGVfbGFiZWxfdXJsJiYodT1lLnBhcmFtcy53aGl0ZV9sYWJlbF91cmwpLHR9KSksZz17aWQ6byxpbXA6cCxzaXRlOntpZDppLG1vYmlsZTpudWxsIT09ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPSJ2aWV3cG9ydCJdW2NvbnRlbnQqPSJ3aWR0aD1kZXZpY2Utd2lkdGgiXScpPzE6MCxwYWdlOm59LGRldmljZToodD1uYXZpZ2F0b3IubGFuZ3VhZ2U/Imxhbmd1YWdlIjoidXNlckxhbmd1YWdlIix7aDpzY3JlZW4uaGVpZ2h0LHc6c2NyZWVuLndpZHRoLGRudDoiMSI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT09d2luZG93LmRvTm90VHJhY2t8fCIxIj09PW5hdmlnYXRvci5tc0RvTm9UcmFja3x8InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFjaz8xOjAsbGFuZ3VhZ2U6bmF2aWdhdG9yW3RdLnNwbGl0KCItIilbMF0sbWFrZTpuYXZpZ2F0b3IudmVuZG9yP25hdmlnYXRvci52ZW5kb3I6IiIsdWE6bmF2aWdhdG9yLnVzZXJBZ2VudH0pLGF0OjF9LHY9e307ciYmKHIuZ2RwckNvbnNlbnQmJih2LmNvbnNlbnQ9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLCJib29sZWFuIj09dHlwZW9mIHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJmEuZGVlcFNldFZhbHVlKGcsInJlZ3MuZXh0LmdkcHIiLHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSksci51c3BDb25zZW50JiZhLmRlZXBTZXRWYWx1ZShnLCJyZWdzLmV4dC51c19wcml2YWN5IixyLnVzcENvbnNlbnQpKSxzfHwocz1mdW5jdGlvbihlKXt2YXIgcjt0cnl7aWYoIShyPWQuZ2V0Q29va2llKGUpKSl7dmFyIHQ9ZC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSgiIi5jb25jYXQoZSwiX2V4cCIpKTsoIiI9PT10fHx0JiZuZXcgRGF0ZSh0KS5nZXRUaW1lKCktRGF0ZS5ub3coKT4wKSYmKHI9KHI9ZC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShlKSk/ZGVjb2RlVVJJQ29tcG9uZW50KHIpOnIpfWEuaXNTdHIocikmJiJ7Ij09PXIuY2hhckF0KDApJiYocj1KU09OLnBhcnNlKHIpKX1jYXRjaChlKXthLmxvZ0Vycm9yKGUpfXJldHVybiByfShjKSkscyYmKHYuZnBjPXMpO3ZhciB5PWZ1bmN0aW9uKGUpe3ZhciByPWVbMF0sdD1bXTtpZihhLmlzQXJyYXkoci51c2VySWRBc0VpZHMpJiZyLnVzZXJJZEFzRWlkcy5sZW5ndGg+MCl7dmFyIG49eyJhZHNlcnZlci5vcmciOjEsImxpdmVyYW1wLmNvbSI6MSwiY3JpdGVvLmNvbSI6MSwiaWQ1LXN5bmMuY29tIjoxLCJwYXJyYWJsZS5jb20iOjEsImxpdmVpbnRlbnQuY29tIjoxfTtyLnVzZXJJZEFzRWlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmhhc093blByb3BlcnR5KGUuc291cmNlKSYmdC5wdXNoKGUpfSkpfXJldHVybiB0fShlKTtyZXR1cm4geS5sZW5ndGg+MCYmKHYuZWlkcz15KSxhLmlzRW1wdHkodil8fChnLnVzZXI9e2V4dDp2fSkse21ldGhvZDoiUE9TVCIsdXJsOnUsZGF0YTpnfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxuPXt9O3JldHVybiBlPWUuYm9keSxyJiZyLmRhdGEmJnIuZGF0YS5pbXAmJmEuX2VhY2goci5kYXRhLmltcCwoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZS5pZF09ZX0pKSxlJiZhLmlzQXJyYXkoZS5zZWF0YmlkKSYmYS5fZWFjaChlLnNlYXRiaWQsKGZ1bmN0aW9uKHIpe2EuX2VhY2goci5iaWQsKGZ1bmN0aW9uKHIpe3ZhciBhPXBhcnNlRmxvYXQoci5wcmljZSk7aWYoYT4wJiZyLmltcGlkKXt2YXIgaT1yLmFkbXx8IiIsbz1yLm51cmx8fCIiLHM9bltyLmltcGlkXSxjPXtyZXF1ZXN0SWQ6ci5pbXBpZCxjdXJyZW5jeTplLmN1cnx8IlVTRCIsY3BtOmEsY3JlYXRpdmVJZDpyLmNyaWR8fCIiLHR0bDozMDAsbmV0UmV2ZW51ZTohMCxtZXRhOnt9fTtyLmFkb21haW4mJnIuYWRvbWFpbi5sZW5ndGg+MCYmKGMubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1yLmFkb21haW4pLHMudmlkZW8/KCI8Ij09PWkuY2hhckF0KDApP2MudmFzdFhtbD1pOmMudmFzdFVybD1pLGMubWVkaWFUeXBlPSJ2aWRlbyIsYy53aWR0aD1zLnZpZGVvLncsYy5oZWlnaHQ9cy52aWRlby5oKTooYy5hZD1pKyc8aW1nIHNyYz0iJytvKyciIC8+JyxjLndpZHRoPXIudyxjLmhlaWdodD1yLmgpLHQucHVzaChjKX19KSl9KSksdH0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIGEuY29udmVydFR5cGVzKHtzaXRlX2lkOiJzdHJpbmciLHNlY3VyZToibnVtYmVyIixtb2JpbGU6Im51bWJlciJ9LGUpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsbil7dmFyIGk9e30sbz1bXTtpZih0JiYoaS5nZHByPXQuZ2RwckFwcGxpZXM/MTowLGkuZ2Rwcl9jb25zZW50PWVuY29kZVVSSUNvbXBvbmVudCh0LmNvbnNlbnRTdHJpbmd8fCIiKSksbiYmKGkudXNfcHJpdmFjeT1lbmNvZGVVUklDb21wb25lbnQobikpLHImJnIuZXh0KXt2YXIgYz1be3VybHM6ci5leHQuZnN5bmNzLHR5cGU6ImlmcmFtZSJ9LHt1cmxzOnIuZXh0LnBzeW5jcyx0eXBlOiJpbWFnZSJ9XS5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiByLnVybHMmJigiaWZyYW1lIj09PXIudHlwZSYmZS5pZnJhbWVFbmFibGVkfHwiaW1hZ2UiPT09ci50eXBlJiZlLnBpeGVsRW5hYmxlZCl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS51cmxzLm1hcCgoZnVuY3Rpb24ocil7dmFyIHQ9YS5wYXJzZVVybChyKTtyZXR1cm4gYS5tZXJnZURlZXAodC5zZWFyY2gsaSksMD09PU9iamVjdC5rZXlzKHQuc2VhcmNoKS5sZW5ndGgmJmRlbGV0ZSB0LnNlYXJjaCx7dHlwZTplLnR5cGUsdXJsOmEuYnVpbGRVcmwodCl9fSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5jb25jYXQocil9KSxbXSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlLmNvbmNhdChyKX0pLFtdKTtvLnB1c2guYXBwbHkobyxzKGMpKX1yZXR1cm4gb319O2Z1bmN0aW9uIG0oZSl7dmFyIHI7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJihyPTI9PT1lLmxlbmd0aCYmIm51bWJlciI9PXR5cGVvZiBlWzBdJiYibnVtYmVyIj09dHlwZW9mIGVbMV0/W3t3OmVbMF0saDplWzFdfV06YS5fbWFwKGUsKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKSkscn1mdW5jdGlvbiBsKGUpe3JldHVybiJ2aWRlbyI9PT1lLm1lZGlhVHlwZXx8ISFhLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpfWZ1bmN0aW9uIGYoZSxyLHQpe2UmJihyW3RdPWUpfU9iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShwKX19LFszNThdKTsKdXBianNDaHVuayhbMV0sezM2NDpmdW5jdGlvbih0LGUscil7dC5leHBvcnRzPXIoMzY1KX0sMzY1OmZ1bmN0aW9uKG1vZHVsZSxfX3dlYnBhY2tfZXhwb3J0c19fLF9fd2VicGFja19yZXF1aXJlX18peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIkFEQVBURVJfVkVSU0lPTiIsKGZ1bmN0aW9uKCl7cmV0dXJuIEFEQVBURVJfVkVSU0lPTn0pKSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiUFJPRklMRV9JRF9QVUJMSVNIRVJUQUciLChmdW5jdGlvbigpe3JldHVybiBQUk9GSUxFX0lEX1BVQkxJU0hFUlRBR30pKSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiRkFTVF9CSURfVkVSU0lPTl9DVVJSRU5UIiwoZnVuY3Rpb24oKXtyZXR1cm4gRkFTVF9CSURfVkVSU0lPTl9DVVJSRU5UfSkpLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc3BlY30pKSxfX3dlYnBhY2tfZXhwb3J0c19fLmNhbkZhc3RCaWQ9Y2FuRmFzdEJpZCxfX3dlYnBhY2tfZXhwb3J0c19fLmdldEZhc3RCaWRVcmw9Z2V0RmFzdEJpZFVybCxfX3dlYnBhY2tfZXhwb3J0c19fLnRyeUdldENyaXRlb0Zhc3RCaWQ9dHJ5R2V0Q3JpdGVvRmFzdEJpZDt2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfYWRsb2FkZXJfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDM3KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NyY19hZGFwdGVyc19iaWRkZXJGYWN0b3J5X2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19jb25maWdfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX21lZGlhVHlwZXNfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfY29yZV9qc19wdXJlX2ZlYXR1cmVzX2FycmF5X2ZpbmRfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfY29yZV9qc19wdXJlX2ZlYXR1cmVzX2FycmF5X2ZpbmRfanNfX19kZWZhdWx0PV9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfY29yZV9qc19wdXJlX2ZlYXR1cmVzX2FycmF5X2ZpbmRfanNfXyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2NyaXRlb19kaXJlY3RfcnNhX3ZhbGlkYXRlX2J1aWxkX3ZlcmlmeV9qc19fPV9fd2VicGFja19yZXF1aXJlX18oNzApLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfX19kZWZhdWx0PV9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfY3JpdGVvX2RpcmVjdF9yc2FfdmFsaWRhdGVfYnVpbGRfdmVyaWZ5X2pzX18pLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fc3JjX3N0b3JhZ2VNYW5hZ2VyX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXyg3KTtmdW5jdGlvbiBfZXh0ZW5kcygpe3JldHVybihfZXh0ZW5kcz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgcj1hcmd1bWVudHNbZV07Zm9yKHZhciBpIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsaSkmJih0W2ldPXJbaV0pfXJldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBHVkxJRD05MSxBREFQVEVSX1ZFUlNJT049MzQsQklEREVSX0NPREU9ImNyaXRlbyIsQ0RCX0VORFBPSU5UPSJodHRwczovL2JpZGRlci5jcml0ZW8uY29tL2NkYiIsUFJPRklMRV9JRF9JTkxJTkU9MjA3LFBST0ZJTEVfSURfUFVCTElTSEVSVEFHPTE4NSxzdG9yYWdlPU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX3NyY19zdG9yYWdlTWFuYWdlcl9qc19fLmIpKEdWTElEKSxMT0dfUFJFRklYPSJDcml0ZW86ICIsRkFTVF9CSURfVkVSU0lPTl9QTEFDRUhPTERFUj0iJUZBU1RfQklEX1ZFUlNJT04lIixGQVNUX0JJRF9WRVJTSU9OX0NVUlJFTlQ9MTA1LEZBU1RfQklEX1ZFUlNJT05fTEFURVNUPSJsYXRlc3QiLEZBU1RfQklEX1ZFUlNJT05fTk9ORT0ibm9uZSIsUFVCTElTSEVSX1RBR19VUkxfVEVNUExBVEU9Imh0dHBzOi8vc3RhdGljLmNyaXRlby5uZXQvanMvbGQvcHVibGlzaGVydGFnLnByZWJpZCIrRkFTVF9CSURfVkVSU0lPTl9QTEFDRUhPTERFUisiLmpzIixGQVNUX0JJRF9QVUJLRVlfRT02NTUzNyxGQVNUX0JJRF9QVUJLRVlfTj0ienRRWXdDRTVCVTdUOUNETTVoZTZyS29hYnN0WFJta3p4NTR6RlBaa1diSzUzMGR3dExCRGVhV0JNeEhCVVQ1NUNZeWJvUi9FWjRlZmdoUGkzQ29OR2ZHV2V6cGprbzlQNnAyRXdHQXJ0SEVlUzRzbGh1L1NwU0lGTWpHNmZkcnBSb051SUFNaHExWitQci8rSE9kMXBUaEZLZUdGcjIvTmh0QWcrVFhBemFVPSIsc3BlYz17Y29kZTpCSURERVJfQ09ERSxndmxpZDpHVkxJRCxzdXBwb3J0ZWRNZWRpYVR5cGVzOltfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19tZWRpYVR5cGVzX2pzX18uYixfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19tZWRpYVR5cGVzX2pzX18uZCxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19tZWRpYVR5cGVzX2pzX18uY10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24odCl7cmV0dXJuISghdHx8IXQucGFyYW1zfHwhdC5wYXJhbXMuem9uZUlkJiYhdC5wYXJhbXMubmV0d29ya0lkKSYmIShoYXNWaWRlb01lZGlhVHlwZSh0KSYmIWhhc1ZhbGlkVmlkZW9NZWRpYVR5cGUodCkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKHQsZSl7dmFyIHIsaSxzPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2NvbmZpZ19qc19fLmIuZ2V0TGVnYWN5RnBkKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2NvbmZpZ19qc19fLmIuZ2V0Q29uZmlnKCJvcnRiMiIpKXx8e307X2V4dGVuZHMoZSx7cHVibGlzaGVyRXh0OnMuY29udGV4dCx1c2VyRXh0OnMudXNlcixjZWg6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19zcmNfY29uZmlnX2pzX18uYi5nZXRDb25maWcoImNyaXRlby5jZWgiKX0pO3ZhciBhPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2NvbmZpZ19qc19fLmIuZ2V0Q29uZmlnKCJjcml0ZW8uZmFzdEJpZFZlcnNpb24iKSxfPWNhbkZhc3RCaWQoYSk7aWYoIXB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpJiZfKXt3aW5kb3cuQ3JpdGVvPXdpbmRvdy5Dcml0ZW98fHt9LHdpbmRvdy5Dcml0ZW8udXNlUHJlYmlkRXZlbnRzPSExLHRyeUdldENyaXRlb0Zhc3RCaWQoKTt2YXIgbz1nZXRGYXN0QmlkVXJsKGEpO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX2FkbG9hZGVyX2pzX18uYSkobyxCSURERVJfQ09ERSl9KSxlLnRpbWVvdXQpfWlmKHB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpKXt2YXIgbj1uZXcgQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQoUFJPRklMRV9JRF9QVUJMSVNIRVJUQUcsQURBUFRFUl9WRVJTSU9OLHQsZSwiNS4xMS4wIik7cj1uLmJ1aWxkQ2RiVXJsKCksaT1uLmJ1aWxkQ2RiUmVxdWVzdCgpfWVsc2V7dmFyIGM9YnVpbGRDb250ZXh0KHQsZSk7cj1idWlsZENkYlVybChjKSxpPWJ1aWxkQ2RiUmVxdWVzdChjLHQsZSl9aWYoaSlyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6cixkYXRhOmksYmlkUmVxdWVzdHM6dH19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5ib2R5fHx0O2lmKHB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpKXt2YXIgaT1Dcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKGUpO2lmKGkpcmV0dXJuIGkuaW50ZXJwcmV0UmVzcG9uc2UocixlKX12YXIgcz1bXTtyZXR1cm4gciYmci5zbG90cyYmX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5pc0FycmF5KHIuc2xvdHMpJiZyLnNsb3RzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fX2RlZmF1bHQoKShlLmJpZFJlcXVlc3RzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT09dC5pbXBpZCYmKCFlLnBhcmFtcy56b25lSWR8fHBhcnNlSW50KGUucGFyYW1zLnpvbmVJZCk9PT10LnpvbmVpZCl9KSksaT1yLmJpZElkLGE9e3JlcXVlc3RJZDppLGFkSWQ6dC5iaWRJZHx8X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksY3BtOnQuY3BtLGN1cnJlbmN5OnQuY3VycmVuY3ksbmV0UmV2ZW51ZTohMCx0dGw6dC50dGx8fDYwLGNyZWF0aXZlSWQ6dC5jcmVhdGl2ZWNvZGUsd2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHQsZGVhbElkOnQuZGVhbENvZGV9O3QuYWRvbWFpbiYmKGEubWV0YT1fZXh0ZW5kcyh7fSxhLm1ldGEse2FkdmVydGlzZXJEb21haW5zOnQuYWRvbWFpbn0pKSx0Lm5hdGl2ZT9yLnBhcmFtcy5uYXRpdmVDYWxsYmFjaz9hLmFkPWNyZWF0ZU5hdGl2ZUFkKGksdC5uYXRpdmUsci5wYXJhbXMubmF0aXZlQ2FsbGJhY2spOihhLm5hdGl2ZT1jcmVhdGVQcmViaWROYXRpdmVBZCh0Lm5hdGl2ZSksYS5tZWRpYVR5cGU9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19qc19fLmMpOnQudmlkZW8/KGEudmFzdFVybD10LmRpc3BsYXl1cmwsYS5tZWRpYVR5cGU9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19qc19fLmQpOmEuYWQ9dC5jcmVhdGl2ZSxzLnB1c2goYSl9KSksc30sb25UaW1lb3V0OmZ1bmN0aW9uKHQpe2lmKHB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpJiZBcnJheS5pc0FycmF5KHQpKXt2YXIgZT1bXTt0LmZvckVhY2goKGZ1bmN0aW9uKHQpey0xPT09ZS5pbmRleE9mKHQuYXVjdGlvbklkKSYmKGUucHVzaCh0LmF1Y3Rpb25JZCksQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcih0LmF1Y3Rpb25JZCkuaGFuZGxlQmlkVGltZW91dCgpKX0pKX19LG9uQmlkV29uOmZ1bmN0aW9uKHQpe3B1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpJiZ0JiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKHQuYXVjdGlvbklkKS5oYW5kbGVCaWRXb24odCl9LG9uU2V0VGFyZ2V0aW5nOmZ1bmN0aW9uKHQpe3B1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKHQuYXVjdGlvbklkKS5oYW5kbGVTZXRUYXJnZXRpbmcodCl9fTtmdW5jdGlvbiBwdWJsaXNoZXJUYWdBdmFpbGFibGUoKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIENyaXRlbyYmQ3JpdGVvLlB1YlRhZyYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycyYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWR9ZnVuY3Rpb24gYnVpbGRDb250ZXh0KHQsZSl7dmFyIHI9IiI7ZSYmZS5yZWZlcmVySW5mbyYmKHI9ZS5yZWZlcmVySW5mby5yZWZlcmVyKTt2YXIgaT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLnBhcnNlVXJsKHIpLnNlYXJjaCxzPXt1cmw6cixkZWJ1ZzoiMSI9PT1pLnBidF9kZWJ1Zyxub0xvZzoiMSI9PT1pLnBidF9ub2xvZyxhbXA6ITF9O3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpeyJhbXAiPT09dC5wYXJhbXMuaW50ZWdyYXRpb25Nb2RlJiYocy5hbXA9ITApfSkpLHN9ZnVuY3Rpb24gYnVpbGRDZGJVcmwodCl7dmFyIGU9Q0RCX0VORFBPSU5UO3JldHVybiBlKz0iP3Byb2ZpbGVJZD0iK1BST0ZJTEVfSURfSU5MSU5FLGUrPSImYXY9IitTdHJpbmcoQURBUFRFUl9WRVJTSU9OKSxlKz0iJnd2PSIrZW5jb2RlVVJJQ29tcG9uZW50KCI1LjExLjAiKSxlKz0iJmNiPSIrU3RyaW5nKE1hdGguZmxvb3IoOTk5OTk5OTk5OTkqTWF0aC5yYW5kb20oKSkpLHQuYW1wJiYoZSs9IiZpbT0xIiksdC5kZWJ1ZyYmKGUrPSImZGVidWc9MSIpLHQubm9Mb2cmJihlKz0iJm5vbG9nPTEiKSxlfWZ1bmN0aW9uIGNoZWNrTmF0aXZlU2VuZElkKHQpe3JldHVybiEodC5uYXRpdmVQYXJhbXMmJih0Lm5hdGl2ZVBhcmFtcy5pbWFnZSYmKCEwIT09dC5uYXRpdmVQYXJhbXMuaW1hZ2Uuc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLmltYWdlLnNlbmRUYXJnZXRpbmdLZXlzKXx8dC5uYXRpdmVQYXJhbXMuaWNvbiYmKCEwIT09dC5uYXRpdmVQYXJhbXMuaWNvbi5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMuaWNvbi5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLmNsaWNrVXJsJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5jbGlja1VybC5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMuY2xpY2tVcmwuc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5kaXNwbGF5VXJsJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5kaXNwbGF5VXJsLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5kaXNwbGF5VXJsLnNlbmRUYXJnZXRpbmdLZXlzKXx8dC5uYXRpdmVQYXJhbXMucHJpdmFjeUxpbmsmJighMCE9PXQubmF0aXZlUGFyYW1zLnByaXZhY3lMaW5rLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5wcml2YWN5TGluay5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLnByaXZhY3lJY29uJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5wcml2YWN5SWNvbi5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMucHJpdmFjeUljb24uc2VuZFRhcmdldGluZ0tleXMpKSl9ZnVuY3Rpb24gYnVpbGRDZGJSZXF1ZXN0KHQsZSxyKXt2YXIgaSxzPXtwdWJsaXNoZXI6e3VybDp0LnVybCxleHQ6ci5wdWJsaXNoZXJFeHR9LHNsb3RzOmUubWFwKChmdW5jdGlvbih0KXtpPXQucGFyYW1zLm5ldHdvcmtJZHx8aTt2YXIgZT17aW1waWQ6dC5hZFVuaXRDb2RlLHRyYW5zYWN0aW9uaWQ6dC50cmFuc2FjdGlvbklkLGF1Y3Rpb25JZDp0LmF1Y3Rpb25JZH07aWYodC5wYXJhbXMuem9uZUlkJiYoZS56b25laWQ9dC5wYXJhbXMuem9uZUlkKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3ModCwib3J0YjJJbXAuZXh0IikmJihlLmV4dD10Lm9ydGIySW1wLmV4dCksdC5wYXJhbXMuZXh0JiYoZS5leHQ9X2V4dGVuZHMoe30sZS5leHQsdC5wYXJhbXMuZXh0KSksdC5wYXJhbXMucHVibGlzaGVyU3ViSWQmJihlLnB1Ymxpc2hlcnN1YmlkPXQucGFyYW1zLnB1Ymxpc2hlclN1YklkKSx0LnBhcmFtcy5uYXRpdmVDYWxsYmFja3x8X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMuIi5jb25jYXQoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19qc19fLmMpKT8oZS5uYXRpdmU9ITAsY2hlY2tOYXRpdmVTZW5kSWQodCl8fF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybihMT0dfUFJFRklYKyJhbGwgbmF0aXZlIGFzc2V0cyBjb250YWluaW5nIFVSTCBzaG91bGQgYmUgc2VudCBhcyBwbGFjZWhvbGRlcnMgd2l0aCBzZW5kSWQoaWNvbiwgaW1hZ2UsIGNsaWNrVXJsLCBkaXNwbGF5VXJsLCBwcml2YWN5TGluaywgcHJpdmFjeUljb24pIiksZS5zaXplcz1wYXJzZVNpemVzKHJldHJpZXZlQmFubmVyU2l6ZXModCkscGFyc2VOYXRpdmVTaXplKSk6ZS5zaXplcz1wYXJzZVNpemVzKHJldHJpZXZlQmFubmVyU2l6ZXModCkscGFyc2VTaXplKSxoYXNWaWRlb01lZGlhVHlwZSh0KSl7dmFyIHI9e3BsYXllcnNpemVzOnBhcnNlU2l6ZXMoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpLHBhcnNlU2l6ZSksbWltZXM6dC5tZWRpYVR5cGVzLnZpZGVvLm1pbWVzLHByb3RvY29sczp0Lm1lZGlhVHlwZXMudmlkZW8ucHJvdG9jb2xzLG1heGR1cmF0aW9uOnQubWVkaWFUeXBlcy52aWRlby5tYXhkdXJhdGlvbixhcGk6dC5tZWRpYVR5cGVzLnZpZGVvLmFwaSxza2lwOnQubWVkaWFUeXBlcy52aWRlby5za2lwLHBsYWNlbWVudDp0Lm1lZGlhVHlwZXMudmlkZW8ucGxhY2VtZW50LG1pbmR1cmF0aW9uOnQubWVkaWFUeXBlcy52aWRlby5taW5kdXJhdGlvbixwbGF5YmFja21ldGhvZDp0Lm1lZGlhVHlwZXMudmlkZW8ucGxheWJhY2ttZXRob2Qsc3RhcnRkZWxheTp0Lm1lZGlhVHlwZXMudmlkZW8uc3RhcnRkZWxheX0scz10LnBhcmFtcy52aWRlbzt2b2lkIDAhPT1zJiYoci5za2lwPXIuc2tpcHx8cy5za2lwfHwwLHIucGxhY2VtZW50PXIucGxhY2VtZW50fHxzLnBsYWNlbWVudCxyLm1pbmR1cmF0aW9uPXIubWluZHVyYXRpb258fHMubWluZHVyYXRpb24sci5wbGF5YmFja21ldGhvZD1yLnBsYXliYWNrbWV0aG9kfHxzLnBsYXliYWNrbWV0aG9kLHIuc3RhcnRkZWxheT1yLnN0YXJ0ZGVsYXl8fHMuc3RhcnRkZWxheXx8MCksZS52aWRlbz1yfXJldHVybiBlfSkpfTtyZXR1cm4gaSYmKHMucHVibGlzaGVyLm5ldHdvcmtpZD1pKSxzLnVzZXI9e2V4dDpyLnVzZXJFeHR9LHImJnIuY2VoJiYocy51c2VyLmNlaD1yLmNlaCksciYmci5nZHByQ29uc2VudCYmKHMuZ2RwckNvbnNlbnQ9e30sdm9pZCAwIT09ci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHMuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM9ISFyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxzLmdkcHJDb25zZW50LnZlcnNpb249ci5nZHByQ29uc2VudC5hcGlWZXJzaW9uLHZvaWQgMCE9PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHMuZ2RwckNvbnNlbnQuY29uc2VudERhdGE9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksciYmci51c3BDb25zZW50JiYocy51c2VyLnVzcElhYj1yLnVzcENvbnNlbnQpLHN9ZnVuY3Rpb24gcmV0cmlldmVCYW5uZXJTaXplcyh0KXtyZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIil8fHQuc2l6ZXN9ZnVuY3Rpb24gcGFyc2VTaXplcyh0LGUpe3JldHVybiBBcnJheS5pc0FycmF5KHRbMF0pP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0pKTpbZSh0KV19ZnVuY3Rpb24gcGFyc2VTaXplKHQpe3JldHVybiB0WzBdKyJ4Iit0WzFdfWZ1bmN0aW9uIHBhcnNlTmF0aXZlU2l6ZSh0KXtyZXR1cm4gdm9pZCAwPT09dFswXSYmdm9pZCAwPT09dFsxXT8iMngyIjp0WzBdKyJ4Iit0WzFdfWZ1bmN0aW9uIGhhc1ZpZGVvTWVkaWFUeXBlKHQpe3JldHVybiB2b2lkIDAhPT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy52aWRlbyIpfWZ1bmN0aW9uIGhhc1ZhbGlkVmlkZW9NZWRpYVR5cGUodCl7dmFyIGU9ITA7aWYoWyJtaW1lcyIsInBsYXllclNpemUiLCJtYXhkdXJhdGlvbiIsInByb3RvY29scyIsImFwaSIsInNraXAiLCJwbGFjZW1lbnQiLCJwbGF5YmFja21ldGhvZCJdLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZvaWQgMD09PV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvLiIrcikmJnZvaWQgMD09PV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2Vzcyh0LCJwYXJhbXMudmlkZW8uIityKSYmKGU9ITEsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5sb2dFcnJvcigiQ3JpdGVvIEJpZCBBZGFwdGVyOiBtZWRpYVR5cGVzLnZpZGVvLiIrcisiIGlzIHJlcXVpcmVkIikpfSkpLGUpe3ZhciByPXQubWVkaWFUeXBlcy52aWRlby5wbGFjZW1lbnR8fHQucGFyYW1zLnZpZGVvLnBsYWNlbWVudDtpZigiaW5zdHJlYW0iPT10Lm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCYmMT09PXIpcmV0dXJuITA7aWYoIm91dHN0cmVhbSI9PXQubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYxIT09cilyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBjcmVhdGVQcmViaWROYXRpdmVBZCh0KXtyZXR1cm57c2VuZFRhcmdldGluZ0tleXM6ITEsdGl0bGU6dC5wcm9kdWN0c1swXS50aXRsZSxib2R5OnQucHJvZHVjdHNbMF0uZGVzY3JpcHRpb24sc3BvbnNvcmVkQnk6dC5hZHZlcnRpc2VyLmRlc2NyaXB0aW9uLGljb246dC5hZHZlcnRpc2VyLmxvZ28saW1hZ2U6dC5wcm9kdWN0c1swXS5pbWFnZSxjbGlja1VybDp0LnByb2R1Y3RzWzBdLmNsaWNrX3VybCxwcml2YWN5TGluazp0LnByaXZhY3kub3B0b3V0X2NsaWNrX3VybCxwcml2YWN5SWNvbjp0LnByaXZhY3kub3B0b3V0X2ltYWdlX3VybCxjdGE6dC5wcm9kdWN0c1swXS5jYWxsX3RvX2FjdGlvbixwcmljZTp0LnByb2R1Y3RzWzBdLnByaWNlLGltcHJlc3Npb25UcmFja2Vyczp0LmltcHJlc3Npb25fcGl4ZWxzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudXJsfSkpfX1mdW5jdGlvbiBjcmVhdGVOYXRpdmVBZCh0LGUscil7dmFyIGk9ImNyaXRlb19wcmViaWRfbmF0aXZlX3Nsb3RzIjtyZXR1cm4gd2luZG93W2ldPXdpbmRvd1tpXXx8e30sd2luZG93W2ldW3RdPXtjYWxsYmFjazpyLHBheWxvYWQ6ZX0sJ1xuPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPlxuZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgKytpKSB7XG4gdmFyIHNsb3RzID0gd2luZG93LnBhcmVudC4nLmNvbmNhdChpLCc7XG4gIGlmKCFzbG90cyl7Y29udGludWU7fVxuICB2YXIgcmVzcG9uc2VTbG90ID0gc2xvdHNbIicpLmNvbmNhdCh0LCciXTtcbiAgcmVzcG9uc2VTbG90LmNhbGxiYWNrKHJlc3BvbnNlU2xvdC5wYXlsb2FkKTtcbiAgYnJlYWs7XG59XG48XC9zY3JpcHQ+Jyl9ZnVuY3Rpb24gY2FuRmFzdEJpZCh0KXtyZXR1cm4gdCE9PUZBU1RfQklEX1ZFUlNJT05fTk9ORX1mdW5jdGlvbiBnZXRGYXN0QmlkVXJsKHQpe3ZhciBlO2lmKHQ9PT1GQVNUX0JJRF9WRVJTSU9OX0xBVEVTVCllPSIiO2Vsc2UgaWYodCl7U3RyaW5nKHQpLnNwbGl0KCIuIilbMF08MTAyJiZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmxvZ1dhcm4oIlNwZWNpZnlpbmcgYSBGYXN0YmlkIHZlcnNpb24gd2hpY2ggaXMgbm90IHN1cHBvcnRpbmcgdmVyc2lvbiBzZWxlY3Rpb24uIiksZT0iLiIrdH1lbHNlIGU9Ii4iK0ZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVDtyZXR1cm4gUFVCTElTSEVSX1RBR19VUkxfVEVNUExBVEUucmVwbGFjZShGQVNUX0JJRF9WRVJTSU9OX1BMQUNFSE9MREVSLGUpfWZ1bmN0aW9uIHRyeUdldENyaXRlb0Zhc3RCaWQoKXt0cnl7dmFyIGZhc3RCaWRTdG9yYWdlS2V5PSJjcml0ZW9fZmFzdF9iaWQiLGhhc2hQcmVmaXg9Ii8vIEhhc2g6ICIsZmFzdEJpZEZyb21TdG9yYWdlPXN0b3JhZ2UuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoZmFzdEJpZFN0b3JhZ2VLZXkpO2lmKG51bGwhPT1mYXN0QmlkRnJvbVN0b3JhZ2Upe3ZhciBmaXJzdExpbmVFbmRQb3NpdGlvbj1mYXN0QmlkRnJvbVN0b3JhZ2UuaW5kZXhPZigiXG4iKSxmaXJzdExpbmU9ZmFzdEJpZEZyb21TdG9yYWdlLnN1YnN0cigwLGZpcnN0TGluZUVuZFBvc2l0aW9uKS50cmltKCk7aWYoZmlyc3RMaW5lLnN1YnN0cigwLGhhc2hQcmVmaXgubGVuZ3RoKSE9PWhhc2hQcmVmaXgpX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5sb2dXYXJuKCJObyBoYXNoIGZvdW5kIGluIEZhc3RCaWQiKSxzdG9yYWdlLnJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlKGZhc3RCaWRTdG9yYWdlS2V5KTtlbHNle3ZhciBwdWJsaXNoZXJUYWdIYXNoPWZpcnN0TGluZS5zdWJzdHIoaGFzaFByZWZpeC5sZW5ndGgpLHB1Ymxpc2hlclRhZz1mYXN0QmlkRnJvbVN0b3JhZ2Uuc3Vic3RyKGZpcnN0TGluZUVuZFBvc2l0aW9uKzEpO09iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfY3JpdGVvX2RpcmVjdF9yc2FfdmFsaWRhdGVfYnVpbGRfdmVyaWZ5X2pzX18udmVyaWZ5KShwdWJsaXNoZXJUYWcscHVibGlzaGVyVGFnSGFzaCxGQVNUX0JJRF9QVUJLRVlfTixGQVNUX0JJRF9QVUJLRVlfRSk/KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18ubG9nSW5mbygiVXNpbmcgQ3JpdGVvIEZhc3RCaWQiKSxldmFsKHB1Ymxpc2hlclRhZykpOihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmxvZ1dhcm4oIkludmFsaWQgQ3JpdGVvIEZhc3RCaWQgZm91bmQiKSxzdG9yYWdlLnJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlKGZhc3RCaWRTdG9yYWdlS2V5KSl9fX1jYXRjaCh0KXt9fU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NyY19hZGFwdGVyc19iaWRkZXJGYWN0b3J5X2pzX18ucmVnaXN0ZXJCaWRkZXIpKHNwZWMpfSw3MDpmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1yKDcxKSxzPXIoNzIpO2UudmVyaWZ5PWZ1bmN0aW9uKHQsZSxyLGEpe3ZhciBfPW5ldyBpLkJpZ0ludGVnZXIoaS5iNjR0b0hleChlKSksbz1uZXcgaS5CaWdJbnRlZ2VyKGkuYjY0dG9IZXgocikpLG49Xy5tb2RQb3dJbnQoYSxvKTtyZXR1cm4gaS5yZW1vdmVFeHRyYVN5bWJvbHMobi50b0hleFN0cmluZygpKT09PXMuU2hhMjU2Lmhhc2godCl9fSw3MTpmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7bnVsbCE9PXQmJnRoaXMuZnJvbUhleFN0cmluZyh0KX1yZXR1cm4gdC5wcm90b3R5cGUudG9IZXhTdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLnM8MClyZXR1cm4iLSIrdGhpcy5uZWdhdGUoKS50b0hleFN0cmluZygpO3ZhciB0LGU9ITEscj0iIixpPXRoaXMudCxzPXRoaXMuREItaSp0aGlzLkRCJTQ7aWYoaS0tID4wKWZvcihzPHRoaXMuREImJih0PXRoaXNbaV0+PnMpPjAmJihlPSEwLHI9ZCh0KSk7aT49MDspczw0Pyh0PSh0aGlzW2ldJigxPDxzKS0xKTw8NC1zLHR8PXRoaXNbLS1pXT4+KHMrPXRoaXMuREItNCkpOih0PXRoaXNbaV0+PihzLT00KSYxNSxzPD0wJiYocys9dGhpcy5EQiwtLWkpKSx0PjAmJihlPSEwKSxlJiYocis9ZCh0KSk7cmV0dXJuIGU/cjoiMCJ9LHQucHJvdG90eXBlLmZyb21IZXhTdHJpbmc9ZnVuY3Rpb24oZSl7aWYobnVsbCE9PWUpe3RoaXMudD0wLHRoaXMucz0wO2Zvcih2YXIgcj1lLmxlbmd0aCxpPSExLHM9MDstLXI+PTA7KXt2YXIgYT1wKGUscik7YTwwPyItIj09ZS5jaGFyQXQocikmJihpPSEwKTooaT0hMSwwPT1zP3RoaXNbdGhpcy50KytdPWE6cys0PnRoaXMuREI/KHRoaXNbdGhpcy50LTFdfD0oYSYoMTw8dGhpcy5EQi1zKS0xKTw8cyx0aGlzW3RoaXMudCsrXT1hPj50aGlzLkRCLXMpOnRoaXNbdGhpcy50LTFdfD1hPDxzLChzKz00KT49dGhpcy5EQiYmKHMtPXRoaXMuREIpKX0wLHRoaXMuY2xhbXAoKSxpJiZ0LlpFUk8uc3ViVG8odGhpcyx0aGlzKX19LHQucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3ZhciBlPWEoKTtyZXR1cm4gdC5aRVJPLnN1YlRvKHRoaXMsZSksZX0sdC5wcm90b3R5cGUuYWJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuczwwP3RoaXMubmVnYXRlKCk6dGhpc30sdC5wcm90b3R5cGUubW9kPWZ1bmN0aW9uKGUpe3ZhciByPWEoKTtyZXR1cm4gdGhpcy5hYnMoKS5kaXZSZW1UbyhlLG51bGwsciksdGhpcy5zPDAmJnIuY29tcGFyZVRvKHQuWkVSTyk+MCYmZS5zdWJUbyhyLHIpLHJ9LHQucHJvdG90eXBlLmNvcHlUbz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50LTE7ZT49MDstLWUpdFtlXT10aGlzW2VdO3QudD10aGlzLnQsdC5zPXRoaXMuc30sdC5wcm90b3R5cGUubFNoaWZ0VG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dCV0aGlzLkRCLGk9dGhpcy5EQi1yLHM9KDE8PGkpLTEsYT1NYXRoLmZsb29yKHQvdGhpcy5EQiksXz10aGlzLnM8PHImdGhpcy5ETSxvPXRoaXMudC0xO28+PTA7LS1vKWVbbythKzFdPXRoaXNbb10+Pml8XyxfPSh0aGlzW29dJnMpPDxyO2ZvcihvPWEtMTtvPj0wOy0tbyllW29dPTA7ZVthXT1fLGUudD10aGlzLnQrYSsxLGUucz10aGlzLnMsZS5jbGFtcCgpfSx0LnByb3RvdHlwZS5pbnZEaWdpdD1mdW5jdGlvbigpe2lmKHRoaXMudDwxKXJldHVybiAwO3ZhciB0PXRoaXNbMF07aWYoMD09KDEmdCkpcmV0dXJuIDA7dmFyIGU9MyZ0O3JldHVybihlPShlPShlPShlPWUqKDItKDE1JnQpKmUpJjE1KSooMi0oMjU1JnQpKmUpJjI1NSkqKDItKCg2NTUzNSZ0KSplJjY1NTM1KSkmNjU1MzUpKigyLXQqZSV0aGlzLkRWKSV0aGlzLkRWKT4wP3RoaXMuRFYtZTotZX0sdC5wcm90b3R5cGUuZGxTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7dmFyIHI7Zm9yKHI9dGhpcy50LTE7cj49MDstLXIpZVtyK3RdPXRoaXNbcl07Zm9yKHI9dC0xO3I+PTA7LS1yKWVbcl09MDtlLnQ9dGhpcy50K3QsZS5zPXRoaXMuc30sdC5wcm90b3R5cGUuc3F1YXJlVG89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuYWJzKCkscj10LnQ9MiplLnQ7LS1yPj0wOyl0W3JdPTA7Zm9yKHI9MDtyPGUudC0xOysrcil7dmFyIGk9ZS5hbShyLGVbcl0sdCwyKnIsMCwxKTsodFtyK2UudF0rPWUuYW0ocisxLDIqZVtyXSx0LDIqcisxLGksZS50LXItMSkpPj1lLkRWJiYodFtyK2UudF0tPWUuRFYsdFtyK2UudCsxXT0xKX10LnQ+MCYmKHRbdC50LTFdKz1lLmFtKHIsZVtyXSx0LDIqciwwLDEpKSx0LnM9MCx0LmNsYW1wKCl9LHQucHJvdG90eXBlLm11bHRpcGx5VG89ZnVuY3Rpb24oZSxyKXt2YXIgaT10aGlzLmFicygpLHM9ZS5hYnMoKSxhPWkudDtmb3Ioci50PWErcy50Oy0tYT49MDspclthXT0wO2ZvcihhPTA7YTxzLnQ7KythKXJbYStpLnRdPWkuYW0oMCxzW2FdLHIsYSwwLGkudCk7ci5zPTAsci5jbGFtcCgpLHRoaXMucyE9ZS5zJiZ0LlpFUk8uc3ViVG8ocixyKX0sdC5wcm90b3R5cGUuZGl2UmVtVG89ZnVuY3Rpb24oZSxyLGkpe3ZhciBzPWUuYWJzKCk7aWYoIShzLnQ8PTApKXt2YXIgbz10aGlzLmFicygpO2lmKG8udDxzLnQpcmV0dXJuIG51bGwhPXImJnIuZnJvbUhleFN0cmluZygiMCIpLHZvaWQobnVsbCE9aSYmdGhpcy5jb3B5VG8oaSkpO251bGw9PWkmJihpPWEoKSk7dmFyIG49YSgpLGM9dGhpcy5zLHA9ZS5zLGQ9dGhpcy5EQi1fKHNbcy50LTFdKTtkPjA/KHMubFNoaWZ0VG8oZCxuKSxvLmxTaGlmdFRvKGQsaSkpOihzLmNvcHlUbyhuKSxvLmNvcHlUbyhpKSk7dmFyIHU9bi50LGw9blt1LTFdO2lmKDAhPWwpe3ZhciBoPWwqKDE8PHRoaXMuRjEpKyh1PjE/blt1LTJdPj50aGlzLkYyOjApLGY9dGhpcy5GVi9oLEU9KDE8PHRoaXMuRjEpL2gsdj0xPDx0aGlzLkYyLG09aS50LFQ9bS11LGI9bnVsbD09cj9hKCk6cjtmb3Iobi5kbFNoaWZ0VG8oVCxiKSxpLmNvbXBhcmVUbyhiKT49MCYmKGlbaS50KytdPTEsaS5zdWJUbyhiLGkpKSx0Lk9ORS5kbFNoaWZ0VG8odSxiKSxiLnN1YlRvKG4sbik7bi50PHU7KW5bbi50KytdPTA7Zm9yKDstLVQ+PTA7KXt2YXIgRD1pWy0tbV09PWw/dGhpcy5ETTpNYXRoLmZsb29yKGlbbV0qZisoaVttLTFdK3YpKkUpO2lmKChpW21dKz1uLmFtKDAsRCxpLFQsMCx1KSk8RClmb3Iobi5kbFNoaWZ0VG8oVCxiKSxpLnN1YlRvKGIsaSk7aVttXTwtLUQ7KWkuc3ViVG8oYixpKX1udWxsIT1yJiYoaS5kclNoaWZ0VG8odSxyKSxjIT1wJiZ0LlpFUk8uc3ViVG8ocixyKSksaS50PXUsaS5jbGFtcCgpLGQ+MCYmaS5yU2hpZnRUbyhkLGkpLGM8MCYmdC5aRVJPLnN1YlRvKGksaSl9fX0sdC5wcm90b3R5cGUuclNoaWZ0VG89ZnVuY3Rpb24odCxlKXtlLnM9dGhpcy5zO3ZhciByPU1hdGguZmxvb3IodC90aGlzLkRCKTtpZihyPj10aGlzLnQpZS50PTA7ZWxzZXt2YXIgaT10JXRoaXMuREIscz10aGlzLkRCLWksYT0oMTw8aSktMTtlWzBdPXRoaXNbcl0+Pmk7Zm9yKHZhciBfPXIrMTtfPHRoaXMudDsrK18pZVtfLXItMV18PSh0aGlzW19dJmEpPDxzLGVbXy1yXT10aGlzW19dPj5pO2k+MCYmKGVbdGhpcy50LXItMV18PSh0aGlzLnMmYSk8PHMpLGUudD10aGlzLnQtcixlLmNsYW1wKCl9fSx0LnByb3RvdHlwZS5kclNoaWZ0VG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dDtyPHRoaXMudDsrK3IpZVtyLXRdPXRoaXNbcl07ZS50PU1hdGgubWF4KHRoaXMudC10LDApLGUucz10aGlzLnN9LHQucHJvdG90eXBlLnN1YlRvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPTAsaT0wLHM9TWF0aC5taW4odC50LHRoaXMudCk7cjxzOylpKz10aGlzW3JdLXRbcl0sZVtyKytdPWkmdGhpcy5ETSxpPj49dGhpcy5EQjtpZih0LnQ8dGhpcy50KXtmb3IoaS09dC5zO3I8dGhpcy50OylpKz10aGlzW3JdLGVbcisrXT1pJnRoaXMuRE0saT4+PXRoaXMuREI7aSs9dGhpcy5zfWVsc2V7Zm9yKGkrPXRoaXMucztyPHQudDspaS09dFtyXSxlW3IrK109aSZ0aGlzLkRNLGk+Pj10aGlzLkRCO2ktPXQuc31lLnM9aTwwPy0xOjAsaTwtMT9lW3IrK109dGhpcy5EVitpOmk+MCYmKGVbcisrXT1pKSxlLnQ9cixlLmNsYW1wKCl9LHQucHJvdG90eXBlLmNsYW1wPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucyZ0aGlzLkRNO3RoaXMudD4wJiZ0aGlzW3RoaXMudC0xXT09dDspLS10aGlzLnR9LHQucHJvdG90eXBlLm1vZFBvd0ludD1mdW5jdGlvbih0LGUpe3ZhciByO3JldHVybiByPXQ8MjU2fHxlLmlzRXZlbigpP25ldyB1KGUpOm5ldyBsKGUpLHRoaXMuZXhwKHQscil9LHQucHJvdG90eXBlLmV4cD1mdW5jdGlvbihlLHIpe2lmKGU+NDI5NDk2NzI5NXx8ZTwxKXJldHVybiB0Lk9ORTt2YXIgaT1hKCkscz1hKCksbz1yLmNvbnZlcnQodGhpcyksbj1fKGUpLTE7Zm9yKG8uY29weVRvKGkpOy0tbj49MDspaWYoci5zcXJUbyhpLHMpLChlJjE8PG4pPjApci5tdWxUbyhzLG8saSk7ZWxzZXt2YXIgYz1pO2k9cyxzPWN9cmV0dXJuIHIucmV2ZXJ0KGkpfSx0LnByb3RvdHlwZS5pc0V2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gMD09KHRoaXMudD4wPzEmdGhpc1swXTp0aGlzLnMpfSx0LnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zLXQucztpZigwIT1lKXJldHVybiBlO3ZhciByPXRoaXMudDtpZigwIT0oZT1yLXQudCkpcmV0dXJuIHRoaXMuczwwPy1lOmU7Zm9yKDstLXI+PTA7KWlmKDAhPShlPXRoaXNbcl0tdFtyXSkpcmV0dXJuIGU7cmV0dXJuIDB9LHQucHJvdG90eXBlLmFtMT1mdW5jdGlvbih0LGUscixpLHMsYSl7Zm9yKDstLWE+PTA7KXt2YXIgXz1lKnRoaXNbdCsrXStyW2ldK3M7cz1NYXRoLmZsb29yKF8vNjcxMDg4NjQpLHJbaSsrXT02NzEwODg2MyZffXJldHVybiBzfSx0LnByb3RvdHlwZS5hbTI9ZnVuY3Rpb24odCxlLHIsaSxzLGEpe2Zvcih2YXIgXz0zMjc2NyZlLG89ZT4+MTU7LS1hPj0wOyl7dmFyIG49MzI3NjcmdGhpc1t0XSxjPXRoaXNbdCsrXT4+MTUscD1vKm4rYypfO3M9KChuPV8qbisoKDMyNzY3JnApPDwxNSkrcltpXSsoMTA3Mzc0MTgyMyZzKSk+Pj4zMCkrKHA+Pj4xNSkrbypjKyhzPj4+MzApLHJbaSsrXT0xMDczNzQxODIzJm59cmV0dXJuIHN9LHQucHJvdG90eXBlLmFtMz1mdW5jdGlvbih0LGUscixpLHMsYSl7Zm9yKHZhciBfPTE2MzgzJmUsbz1lPj4xNDstLWE+PTA7KXt2YXIgbj0xNjM4MyZ0aGlzW3RdLGM9dGhpc1t0KytdPj4xNCxwPW8qbitjKl87cz0oKG49XypuKygoMTYzODMmcCk8PDE0KStyW2ldK3MpPj4yOCkrKHA+PjE0KStvKmMscltpKytdPTI2ODQzNTQ1NSZufXJldHVybiBzfSx0fSgpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gbmV3IHMobnVsbCl9ZnVuY3Rpb24gXyh0KXt2YXIgZSxyPTE7cmV0dXJuIDAhPShlPXQ+Pj4xNikmJih0PWUscis9MTYpLDAhPShlPXQ+PjgpJiYodD1lLHIrPTgpLDAhPShlPXQ+PjQpJiYodD1lLHIrPTQpLDAhPShlPXQ+PjIpJiYodD1lLHIrPTIpLDAhPShlPXQ+PjEpJiYodD1lLHIrPTEpLHJ9ZS5CaWdJbnRlZ2VyPXMsZS5uYmk9YSxlLm5iaXRzPV87dmFyIG8sbixjPVtdO2ZvcihvPSIwIi5jaGFyQ29kZUF0KDApLG49MDtuPD05OysrbiljW28rK109bjtmb3Iobz0iYSIuY2hhckNvZGVBdCgwKSxuPTEwO248MzY7KytuKWNbbysrXT1uO2ZvcihvPSJBIi5jaGFyQ29kZUF0KDApLG49MTA7bjwzNjsrK24pY1tvKytdPW47ZnVuY3Rpb24gcCh0LGUpe3ZhciByPWNbdC5jaGFyQ29kZUF0KGUpXTtyZXR1cm4gbnVsbD09cj8tMTpyfWUuaW50QXQ9cDtmdW5jdGlvbiBkKHQpe3JldHVybiIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiLmNoYXJBdCh0KX1lLmludDJjaGFyPWQ7ZS5iNjR0b0hleD1mdW5jdGlvbih0KXt2YXIgZSxyPSIiLGk9MCxzPTA7Zm9yKGU9MDtlPHQubGVuZ3RoJiYiPSIhPXQuY2hhckF0KGUpOysrZSl7dmFyIGE9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLmluZGV4T2YodC5jaGFyQXQoZSkpO2E8MHx8KDA9PWk/KHIrPWQoYT4+Mikscz0zJmEsaT0xKToxPT1pPyhyKz1kKHM8PDJ8YT4+NCkscz0xNSZhLGk9Mik6Mj09aT8ocis9ZChzKSxyKz1kKGE+PjIpLHM9MyZhLGk9Myk6KHIrPWQoczw8MnxhPj40KSxyKz1kKDE1JmEpLGk9MCkpfXJldHVybiAxPT1pJiYocis9ZChzPDwyKSkscn0sZS5yZW1vdmVFeHRyYVN5bWJvbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXjFmKzAwLywiIikucmVwbGFjZSgiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjAiLCIiKX07dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubT10fXJldHVybiB0LnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnM8MHx8dC5jb21wYXJlVG8odGhpcy5tKT49MD90Lm1vZCh0aGlzLm0pOnR9LHQucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sdC5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQpe3QuZGl2UmVtVG8odGhpcy5tLG51bGwsdCl9LHQucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKHQsZSxyKXt0Lm11bHRpcGx5VG8oZSxyKSx0aGlzLnJlZHVjZShyKX0sdC5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24odCxlKXt0LnNxdWFyZVRvKGUpLHRoaXMucmVkdWNlKGUpfSx0fSgpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubT10LHRoaXMubXA9dC5pbnZEaWdpdCgpLHRoaXMubXBsPTMyNzY3JnRoaXMubXAsdGhpcy5tcGg9dGhpcy5tcD4+MTUsdGhpcy51bT0oMTw8dC5EQi0xNSktMSx0aGlzLm10Mj0yKnQudH1yZXR1cm4gdC5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbih0KXt2YXIgZT1hKCk7cmV0dXJuIHQuYWJzKCkuZGxTaGlmdFRvKHRoaXMubS50LGUpLGUuZGl2UmVtVG8odGhpcy5tLG51bGwsZSksdC5zPDAmJmUuY29tcGFyZVRvKHMuWkVSTyk+MCYmdGhpcy5tLnN1YlRvKGUsZSksZX0sdC5wcm90b3R5cGUucmV2ZXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPWEoKTtyZXR1cm4gdC5jb3B5VG8oZSksdGhpcy5yZWR1Y2UoZSksZX0sdC5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQpe2Zvcig7dC50PD10aGlzLm10MjspdFt0LnQrK109MDtmb3IodmFyIGU9MDtlPHRoaXMubS50OysrZSl7dmFyIHI9MzI3NjcmdFtlXSxpPXIqdGhpcy5tcGwrKChyKnRoaXMubXBoKyh0W2VdPj4xNSkqdGhpcy5tcGwmdGhpcy51bSk8PDE1KSZ0LkRNO2Zvcih0W3I9ZSt0aGlzLm0udF0rPXRoaXMubS5hbSgwLGksdCxlLDAsdGhpcy5tLnQpO3Rbcl0+PXQuRFY7KXRbcl0tPXQuRFYsdFsrK3JdKyt9dC5jbGFtcCgpLHQuZHJTaGlmdFRvKHRoaXMubS50LHQpLHQuY29tcGFyZVRvKHRoaXMubSk+PTAmJnQuc3ViVG8odGhpcy5tLHQpfSx0LnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbih0LGUscil7dC5tdWx0aXBseVRvKGUsciksdGhpcy5yZWR1Y2Uocil9LHQucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKHQsZSl7dC5zcXVhcmVUbyhlKSx0aGlzLnJlZHVjZShlKX0sdH0oKTtmdW5jdGlvbiBoKHQpe3ZhciBlPWEoKTtyZXR1cm4gZS5mcm9tSGV4U3RyaW5nKHQudG9TdHJpbmcoKSksZX1lLm5idj1oLHMuWkVSTz1oKDApLHMuT05FPWgoMSksIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlciI9PW5hdmlnYXRvci5hcHBOYW1lPyhzLnByb3RvdHlwZS5hbT1zLnByb3RvdHlwZS5hbTIsaT0zMCk6Ik5ldHNjYXBlIiE9bmF2aWdhdG9yLmFwcE5hbWU/KHMucHJvdG90eXBlLmFtPXMucHJvdG90eXBlLmFtMSxpPTI2KToocy5wcm90b3R5cGUuYW09cy5wcm90b3R5cGUuYW0zLGk9MjgpLHMucHJvdG90eXBlLkRCPWkscy5wcm90b3R5cGUuRE09KDE8PGkpLTEscy5wcm90b3R5cGUuRFY9MTw8aTtzLnByb3RvdHlwZS5GVj1NYXRoLnBvdygyLDUyKSxzLnByb3RvdHlwZS5GMT01Mi1pLHMucHJvdG90eXBlLkYyPTIqaS01Mn0sNzI6ZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0Lmhhc2g9ZnVuY3Rpb24oZSl7ZT10LnV0ZjhFbmNvZGUoZXx8IiIpO2Zvcih2YXIgcj1bMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XSxpPVsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0scz0oZSs9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjgpKS5sZW5ndGgvNCsyLGE9TWF0aC5jZWlsKHMvMTYpLF89bmV3IEFycmF5KGEpLG89MDtvPGE7bysrKXtfW29dPW5ldyBBcnJheSgxNik7Zm9yKHZhciBuPTA7bjwxNjtuKyspX1tvXVtuXT1lLmNoYXJDb2RlQXQoNjQqbys0Km4pPDwyNHxlLmNoYXJDb2RlQXQoNjQqbys0Km4rMSk8PDE2fGUuY2hhckNvZGVBdCg2NCpvKzQqbisyKTw8OHxlLmNoYXJDb2RlQXQoNjQqbys0Km4rMyk8PDB9dmFyIGM9OCooZS5sZW5ndGgtMSkvTWF0aC5wb3coMiwzMikscD04KihlLmxlbmd0aC0xKT4+PjA7X1thLTFdWzE0XT1NYXRoLmZsb29yKGMpLF9bYS0xXVsxNV09cDtmb3Iobz0wO288YTtvKyspe2Zvcih2YXIgZD1uZXcgQXJyYXkoNjQpLHU9MDt1PDE2O3UrKylkW3VdPV9bb11bdV07Zm9yKHU9MTY7dTw2NDt1KyspZFt1XT10LnExKGRbdS0yXSkrZFt1LTddK3QucTAoZFt1LTE1XSkrZFt1LTE2XT4+PjA7dmFyIGw9aVswXSxoPWlbMV0sZj1pWzJdLEU9aVszXSx2PWlbNF0sbT1pWzVdLFQ9aVs2XSxiPWlbN107Zm9yKHU9MDt1PDY0O3UrKyl7dmFyIEQ9Yit0LnoxKHYpK3QuQ2godixtLFQpK3JbdV0rZFt1XSx5PXQuejAobCkrdC5NYWoobCxoLGYpO2I9VCxUPW0sbT12LHY9RStEPj4+MCxFPWYsZj1oLGg9bCxsPUQreT4+PjB9aVswXT1pWzBdK2w+Pj4wLGlbMV09aVsxXStoPj4+MCxpWzJdPWlbMl0rZj4+PjAsaVszXT1pWzNdK0U+Pj4wLGlbNF09aVs0XSt2Pj4+MCxpWzVdPWlbNV0rbT4+PjAsaVs2XT1pWzZdK1Q+Pj4wLGlbN109aVs3XStiPj4+MH12YXIgUD1uZXcgQXJyYXkoaS5sZW5ndGgpO2ZvcihiPTA7YjxpLmxlbmd0aDtiKyspUFtiXT0oIjAwMDAwMDAwIitpW2JdLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTgpO3JldHVybiBQLmpvaW4oIiIpfSx0LnV0ZjhFbmNvZGU9ZnVuY3Rpb24odCl7dHJ5e3JldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZSh0KS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrU3RyaW5nLmZyb21DaGFyQ29kZShlKX0pLCIiKX1jYXRjaChlKXtyZXR1cm4gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHQpKX19LHQuUk9UUj1mdW5jdGlvbih0LGUpe3JldHVybiBlPj4+dHxlPDwzMi10fSx0LnowPWZ1bmN0aW9uKGUpe3JldHVybiB0LlJPVFIoMixlKV50LlJPVFIoMTMsZSledC5ST1RSKDIyLGUpfSx0LnoxPWZ1bmN0aW9uKGUpe3JldHVybiB0LlJPVFIoNixlKV50LlJPVFIoMTEsZSledC5ST1RSKDI1LGUpfSx0LnEwPWZ1bmN0aW9uKGUpe3JldHVybiB0LlJPVFIoNyxlKV50LlJPVFIoMTgsZSleZT4+PjN9LHQucTE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuUk9UUigxNyxlKV50LlJPVFIoMTksZSleZT4+PjEwfSx0LkNoPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdCZlXn50JnJ9LHQuTWFqPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdCZlXnQmcl5lJnJ9LHR9KCk7ZS5TaGEyNTY9aX19LFszNjRdKTsKdXBianNDaHVuayhbMjY2XSx7MzY4OmZ1bmN0aW9uKGUscixuKXtlLmV4cG9ydHM9bigzNjkpfSwzNjk6ZnVuY3Rpb24oZSxyLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHIsImN1cnJlbmN5U3VwcG9ydEVuYWJsZWQiLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZChyLCJjdXJyZW5jeVJhdGVzIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKSxyLnNldENvbmZpZz1tLHIuYWRkQmlkUmVzcG9uc2VIb29rPU87dmFyIG89bigxNCksYz1uKDQyKSx0PW4oNSksaT0obi5uKHQpLG4oNCkpLGE9bigwKSx1PW4oMykscz1uKDEwKTtmdW5jdGlvbiBmKGUpe3JldHVybihmPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIGQsbD0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3ByZWJpZC9jdXJyZW5jeS1maWxlQDEvbGF0ZXN0Lmpzb24/ZGF0ZT0kJFRPREFZJCQiLHk9W10sZz17fSx2PSExLHA9ITAsYj0iVVNEIixoPSExLEM9e30sUz17fTtmdW5jdGlvbiBtKGUpe3ZhciByPWw7aWYoIm9iamVjdCI9PT1mKGUucmF0ZXMpJiYoQy5jb252ZXJzaW9ucz1lLnJhdGVzLHY9ITAscD0hMSksIm9iamVjdCI9PT1mKGUuZGVmYXVsdFJhdGVzKSYmKGQ9ZS5kZWZhdWx0UmF0ZXMsQy5jb252ZXJzaW9ucz1kLHY9ITApLCJzdHJpbmciPT10eXBlb2YgZS5hZFNlcnZlckN1cnJlbmN5KXthLmxvZ0luZm8oImVuYWJsaW5nIGN1cnJlbmN5IHN1cHBvcnQiLGFyZ3VtZW50cyksYj1lLmFkU2VydmVyQ3VycmVuY3ksZS5jb252ZXJzaW9uUmF0ZUZpbGUmJihhLmxvZ0luZm8oImN1cnJlbmN5IHVzaW5nIG92ZXJyaWRlIGNvbnZlcnNpb25SYXRlRmlsZToiLGUuY29udmVyc2lvblJhdGVGaWxlKSxyPWUuY29udmVyc2lvblJhdGVGaWxlKTt2YXIgbj1yLmluZGV4T2YoIiQkVE9EQVkkJCIpO2lmKC0xIT09bil7dmFyIG89bmV3IERhdGUsYz0iIi5jb25jYXQoby5nZXRNb250aCgpKzEpLHQ9IiIuY29uY2F0KG8uZ2V0RGF0ZSgpKTtjLmxlbmd0aDwyJiYoYz0iMCIuY29uY2F0KGMpKSx0Lmxlbmd0aDwyJiYodD0iMCIuY29uY2F0KHQpKTt2YXIgaT0iIi5jb25jYXQoby5nZXRGdWxsWWVhcigpKS5jb25jYXQoYykuY29uY2F0KHQpO3I9IiIuY29uY2F0KHIuc3Vic3RyaW5nKDAsbikpLmNvbmNhdChpKS5jb25jYXQoci5zdWJzdHJpbmcobis5LHIubGVuZ3RoKSl9RChyKX1lbHNlIGEubG9nSW5mbygiZGlzYWJsaW5nIGN1cnJlbmN5IHN1cHBvcnQiKSxJKCk7Im9iamVjdCI9PT1mKGUuYmlkZGVyQ3VycmVuY3lEZWZhdWx0KSYmKFM9ZS5iaWRkZXJDdXJyZW5jeURlZmF1bHQpfWZ1bmN0aW9uIFIoZSl7ZD8oYS5sb2dXYXJuKGUpLGEubG9nV2FybigiQ3VycmVuY3kgZmFpbGVkIGxvYWRpbmcgcmF0ZXMsIGZhbGxpbmcgYmFjayB0byBjdXJyZW5jeS5kZWZhdWx0UmF0ZXMiKSk6YS5sb2dFcnJvcihlKX1mdW5jdGlvbiBEKGUpe2c9e30saD0hMCxhLmxvZ0luZm8oIkluc3RhbGxpbmcgYWRkQmlkUmVzcG9uc2UgZGVjb3JhdG9yIGZvciBjdXJyZW5jeSBtb2R1bGUiLGFyZ3VtZW50cyksT2JqZWN0KG8uYSkoKS5jb252ZXJ0Q3VycmVuY3k9ZnVuY3Rpb24oZSxyLG4pe3JldHVybiBwYXJzZUZsb2F0KGUpKncocixuKX0sT2JqZWN0KHMuYSkoImFkZEJpZFJlc3BvbnNlIikuYmVmb3JlKE8sMTAwKSxwJiYocD0hMSxPYmplY3QoaS5hKShlLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3RyeXtDPUpTT04ucGFyc2UoZSksYS5sb2dJbmZvKCJjdXJyZW5jeVJhdGVzIHNldCB0byAiK0pTT04uc3RyaW5naWZ5KEMpKSx2PSEwLGooKX1jYXRjaChyKXtSKCJGYWlsZWQgdG8gcGFyc2UgY3VycmVuY3lSYXRlcyByZXNwb25zZTogIitlKX19LGVycm9yOlJ9KSl9ZnVuY3Rpb24gSSgpe2EubG9nSW5mbygiVW5pbnN0YWxsaW5nIGFkZEJpZFJlc3BvbnNlIGRlY29yYXRvciBmb3IgY3VycmVuY3kgbW9kdWxlIixhcmd1bWVudHMpLE9iamVjdChzLmEpKCJhZGRCaWRSZXNwb25zZSIpLmdldEhvb2tzKHtob29rOk99KS5yZW1vdmUoKSxkZWxldGUgT2JqZWN0KG8uYSkoKS5jb252ZXJ0Q3VycmVuY3ksYj0iVVNEIixnPXt9LGg9ITEsdj0hMSxwPSEwLEM9e30sUz17fX1mdW5jdGlvbiBPKGUscixuKXtpZighbilyZXR1cm4gZS5jYWxsKHRoaXMscik7dmFyIG89bi5iaWRkZXJDb2RlfHxuLmJpZGRlcjtpZihTW29dKXt2YXIgaT1TW29dO24uY3VycmVuY3kmJmkhPT1uLmN1cnJlbmN5P2EubG9nV2FybigiQ3VycmVuY3kgZGVmYXVsdCAnIi5jb25jYXQobywiOiAiKS5jb25jYXQoaSwiJyBpZ25vcmVkLiBhZGFwdGVyIHNwZWNpZmllZCAnIikuY29uY2F0KG4uY3VycmVuY3ksIiciKSk6bi5jdXJyZW5jeT1pfWlmKG4uY3VycmVuY3l8fChhLmxvZ1dhcm4oJ0N1cnJlbmN5IG5vdCBzcGVjaWZpZWQgb24gYmlkLiAgRGVmYXVsdGVkIHRvICJVU0QiJyksbi5jdXJyZW5jeT0iVVNEIiksbi5nZXRDcG1Jbk5ld0N1cnJlbmN5PWZ1bmN0aW9uKGUpe3JldHVybihwYXJzZUZsb2F0KHRoaXMuY3BtKSp3KHRoaXMuY3VycmVuY3ksZSkpLnRvRml4ZWQoMyl9LG4uY3VycmVuY3k9PT1iKXJldHVybiBlLmNhbGwodGhpcyxyLG4pO3kucHVzaChmdW5jdGlvbihlLHIsbil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG89blsxXTtpZih2b2lkIDAhPT1vJiYiY3VycmVuY3kiaW4gbyYmImNwbSJpbiBvKXt2YXIgaT1vLmN1cnJlbmN5O3RyeXt2YXIgdT13KGkpOzEhPT11JiYoby5jcG09KHBhcnNlRmxvYXQoby5jcG0pKnUpLnRvRml4ZWQoNCksby5jdXJyZW5jeT1iKX1jYXRjaChlKXthLmxvZ1dhcm4oIlJldHVybmluZyBOT19CSUQsIGdldEN1cnJlbmN5Q29udmVyc2lvbiB0aHJldyBlcnJvcjogIixlKSxuWzFdPU9iamVjdChjLmEpKHQuU1RBVFVTLk5PX0JJRCx7YmlkZGVyOm8uYmlkZGVyQ29kZXx8by5iaWRkZXIsYmlkSWQ6by5yZXF1ZXN0SWR9KX19cmV0dXJuIGUuYXBwbHkocixuKX19KGUsdGhpcyxbcixuXSkpLGgmJiF2fHxqKCl9ZnVuY3Rpb24gaigpe2Zvcig7eS5sZW5ndGg+MDspeS5zaGlmdCgpKCl9ZnVuY3Rpb24gdyhlKXt2YXIgcixuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpiLG89bnVsbCxjPSIiLmNvbmNhdChlLCItPiIpLmNvbmNhdChuKTtpZihjIGluIGcpbz1nW2NdLGEubG9nTWVzc2FnZSgiVXNpbmcgY29udmVyc2lvbkNhY2hlIHZhbHVlICIrbysiIGZvciAiK2MpO2Vsc2UgaWYoITE9PT1oKXtpZigiVVNEIiE9PWUpdGhyb3cgbmV3IEVycm9yKCJQcmViaWQgY3VycmVuY3kgc3VwcG9ydCBoYXMgbm90IGJlZW4gZW5hYmxlZCBhbmQgZnJvbUN1cnJlbmN5IGlzIG5vdCBVU0QiKTtvPTF9ZWxzZSBpZihlPT09bilvPTE7ZWxzZSBpZihlIGluIEMuY29udmVyc2lvbnMpe2lmKCEobiBpbihyPUMuY29udmVyc2lvbnNbZV0pKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBhZFNlcnZlckN1cnJlbmN5IGluIGNvbmZpZyAnIituKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO289cltuXSxhLmxvZ0luZm8oImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyBkaXJlY3QgIitlKyIgdG8gIituKyIgY29udmVyc2lvblJhdGUgIitvKX1lbHNlIGlmKG4gaW4gQy5jb252ZXJzaW9ucyl7aWYoIShlIGluKHI9Qy5jb252ZXJzaW9uc1tuXSkpKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGZyb21DdXJyZW5jeSAnIitlKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO289RigxL3JbZV0sNCksYS5sb2dJbmZvKCJnZXRDdXJyZW5jeUNvbnZlcnNpb24gdXNpbmcgcmVjaXByb2NhbCAiK2UrIiB0byAiK24rIiBjb252ZXJzaW9uUmF0ZSAiK28pfWVsc2V7dmFyIHQ9T2JqZWN0LmtleXMoQy5jb252ZXJzaW9ucylbMF07aWYoIShlIGluIEMuY29udmVyc2lvbnNbdF0pKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGZyb21DdXJyZW5jeSAnIitlKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO3ZhciBpPTEvQy5jb252ZXJzaW9uc1t0XVtlXTtpZighKG4gaW4gQy5jb252ZXJzaW9uc1t0XSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgYWRTZXJ2ZXJDdXJyZW5jeSBpbiBjb25maWcgJyIrbisiJyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbmN5IHJhdGVzIGZpbGUiKTt2YXIgdT1DLmNvbnZlcnNpb25zW3RdW25dO289RihpKnUsNCksYS5sb2dJbmZvKCJnZXRDdXJyZW5jeUNvbnZlcnNpb24gdXNpbmcgaW50ZXJtZWRpYXRlICIrZSsiIHRocnUgIit0KyIgdG8gIituKyIgY29udmVyc2lvblJhdGUgIitvKX1yZXR1cm4gYyBpbiBnfHwoYS5sb2dNZXNzYWdlKCJBZGRpbmcgY29udmVyc2lvbkNhY2hlIHZhbHVlICIrbysiIGZvciAiK2MpLGdbY109byksb31mdW5jdGlvbiBGKGUscil7Zm9yKHZhciBuPTEsbz0wO288cjtvKyspbis9IjAiO3JldHVybiBNYXRoLnJvdW5kKGUqbikvbn11LmIuZ2V0Q29uZmlnKCJjdXJyZW5jeSIsKGZ1bmN0aW9uKGUpe3JldHVybiBtKGUuY3VycmVuY3kpfSkpfX0sWzM2OF0pOwp1cGJqc0NodW5rKFsyNjBdLHszODI6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDM4Myl9LDM4MzpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksci5nZXRGbG9vcj1oLHIuY2xlYW5TaXplcz12LHIuc2h1ZmZsZT1BLHIucmVtb3ZlRHVwbGljYXRlPUksci51cHRvNT1TLHIubWF0Y2hSZXF1ZXN0PXgsci5jaGVja0RlZXBBcnJheT1PLHIuZGVmYXVsdFNpemU9dyxyLmJpbmRVc2VySWQ9VCxyLmdldEFwaT16LHIuZ2V0UGxheWJhY2ttZXRob2Q9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg+MClyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBiLnBsYXliYWNrX21ldGhvZFtlXX0pKTtyZXR1cm5bMl19LHIuZ2V0UHJvdG9jb2xzPWosci5jbGVhblZhc3Q9Xzt2YXIgbj10KDApLGk9dCgxKSxvPXQoMykscz10KDIpO2Z1bmN0aW9uIGEoZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUscil7dmFyIHQ9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT10KXJldHVybjt2YXIgbixpLG89W10scz0hMCxhPSExO3RyeXtmb3IodD10LmNhbGwoZSk7IShzPShuPXQubmV4dCgpKS5kb25lKSYmKG8ucHVzaChuLnZhbHVlKSwhcnx8by5sZW5ndGghPT1yKTtzPSEwKTt9Y2F0Y2goZSl7YT0hMCxpPWV9ZmluYWxseXt0cnl7c3x8bnVsbD09dC5yZXR1cm58fHQucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IGl9fXJldHVybiBvfShlLHIpfHx1KGUscil8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBjKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBkKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8dShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB1KGUscil7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBkKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXR8fCJTZXQiPT09dD9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCk/ZChlLHIpOnZvaWQgMH19ZnVuY3Rpb24gZChlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KHIpO3Q8cjt0Kyspblt0XT1lW3RdO3JldHVybiBufWZ1bmN0aW9uIHAoZSl7cmV0dXJuKHA9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBsKGUscil7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyJiYobj1uLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKS5lbnVtZXJhYmxlfSkpKSx0LnB1c2guYXBwbHkodCxuKX1yZXR1cm4gdH1mdW5jdGlvbiBtKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP2woT2JqZWN0KHQpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihyKXtmKGUscix0W3JdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKTpsKE9iamVjdCh0KSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGYoZSxyLHQpe3JldHVybiByIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbcl09dCxlfXZhciB5PSJodHRwczovL2RteC5kaXN0cmljdG0uaW8vYi92MSIsYj17cGxheWJhY2tfbWV0aG9kOnthdXRvX3BsYXlfc291bmRfb246MSxhdXRvX3BsYXlfc291bmRfb2ZmOjIsY2xpY2tfdG9fcGxheTozLG1vdXNlX292ZXI6NCx2aWV3cG9ydF9zb3VuZF9vbjo1LHZpZXdwb3J0X3NvdW5kX29mZjo2fX0sZz17Y29kZToiZGlzdHJpY3RtRE1YIixndmxpZDoxNDQsYWxpYXNlczpbImRteCJdLHN1cHBvcnRlZEZvcm1hdDpbcy5iLHMuZF0sc3VwcG9ydGVkTWVkaWFUeXBlczpbcy5kLHMuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy5tZW1iZXJpZH0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXtyZXR1cm4oZT1lLmJvZHl8fHt9KS5zZWF0YmlkJiZuLmlzQXJyYXkoZS5zZWF0YmlkKT9lLnNlYXRiaWQucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPXQuYmlkLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtpZihlLnByaWNlPHQucHJpY2Upe3ZhciBuPXgodC5pbXBpZCxyKSxpPXcobiksbz1pLndpZHRoLHM9aS5oZWlnaHQ7cmV0dXJuIHQuY3BtPXBhcnNlRmxvYXQodC5wcmljZSkudG9GaXhlZCgyKSx0LmJpZElkPXQuaW1waWQsdC5yZXF1ZXN0SWQ9dC5pbXBpZCx0LndpZHRoPXQud3x8byx0LmhlaWdodD10Lmh8fHMsdC50dGw9MzAwLHQubWVkaWFUeXBlPW4ubWVkaWFUeXBlcyYmbi5tZWRpYVR5cGVzLnZpZGVvPyJ2aWRlbyI6ImJhbm5lciIsInZpZGVvIj09PXQubWVkaWFUeXBlJiYodC52YXN0WG1sPV8odC5hZG0sdC5udXJsKSx0LnR0bD0zNjAwKSx0LmRlYWxpZCYmKHQuZGVhbElkPXQuZGVhbGlkKSx0LnV1aWQ9dC5iaWRJZCx0LmFkPXQuYWRtLHQubmV0UmV2ZW51ZT0hMCx0LmNyZWF0aXZlSWQ9dC5jcmlkLHQuY3VycmVuY3k9IlVTRCIsdC5tZXRhPXQubWV0YXx8e30sdC5hZG9tYWluJiZ0LmFkb21haW4ubGVuZ3RoPjAmJih0Lm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9dC5hZG9tYWluKSx0fXJldHVybiBlLmNwbT1lLnByaWNlLGV9KSx7cHJpY2U6MH0pO3JldHVybiBuLmFkbSYmZS5wdXNoKG4pLGV9KSxbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hIWUuYmlkSWR9KSk6W119LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD1vLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0IiksaT1udWxsLHM9e2lkOm4uZ2VuZXJhdGVVVUlEKCksY3VyOlsiVVNEIl0sdG1heDp0LTMwMCx0ZXN0OnRoaXMudGVzdCgpfHwwLHNpdGU6e3B1Ymxpc2hlcjp7aWQ6U3RyaW5nKGVbMF0ucGFyYW1zLm1lbWJlcmlkKXx8bnVsbH19fTt0cnl7dmFyIGE9by5iLmdldENvbmZpZygiZG14Iik7cy51c2VyPWEudXNlcnx8e307dmFyIGM9YS5zaXRlfHx7fTtzLnNpdGU9bShtKHt9LHMuc2l0ZSksYyl9Y2F0Y2goZSl7fXZhciB1PVtdO2VbMF0mJmVbMF0udXNlcklkJiYoVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQuaWRsX2VudiIpLCJsaXZlcmFtcC5jb20iLDEpLFQodSxuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLmlkNWlkLnVpZCIpLCJpZDUtc3luYy5jb20iLDEpLFQodSxuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLnB1YmNpZCIpLCJwdWJjaWQub3JnIiwxKSxUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC50ZGlkIiksImFkc2VydmVyLm9yZyIsMSksVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQuY3JpdGVvSWQiKSwiY3JpdGVvLmNvbSIsMSksVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQuYnJpdGVwb29saWQiKSwiYnJpdGVwb29sLmNvbSIsMSksVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQubGlwYi5saXBiaWQiKSwibGl2ZWludGVudC5jb20iLDEpLFQodSxuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLmludGVudGlxaWQiKSwiaW50ZW50aXEuY29tIiwxKSxUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5sb3RhbWVQYW5vcmFtYUlkIiksImxvdGFtZS5jb20iLDEpLFQodSxuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLnBhcnJhYmxlSWQiKSwicGFycmFibGUuY29tIiwxKSxUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5uZXRJZCIpLCJuZXRpZC5kZSIsMSkscy51c2VyPXMudXNlcnx8e30scy51c2VyLmV4dD1zLnVzZXIuZXh0fHx7fSxzLnVzZXIuZXh0LmVpZHM9dSkscy50ZXN0fHxkZWxldGUgcy50ZXN0LHIuZ2RwckNvbnNlbnQmJihzLnJlZ3M9e30scy5yZWdzLmV4dD17fSxzLnJlZ3MuZXh0LmdkcHI9ITA9PT1yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCwhMD09PXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihzLnVzZXI9e30scy51c2VyLmV4dD17fSxzLnVzZXIuZXh0LmNvbnNlbnQ9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSkscy5yZWdzPXMucmVnc3x8e30scy5yZWdzLmNvcHBhPSEwPT09by5iLmdldENvbmZpZygiY29wcGEiKT8xOjAsciYmci51c3BDb25zZW50JiYocy5yZWdzPXMucmVnc3x8e30scy5yZWdzLmV4dD1zLnJlZ3MuZXh0fHx7fSxzLnJlZ3MuZXh0LnVzX3ByaXZhY3k9ci51c3BDb25zZW50KTt0cnl7aT1lWzBdLnNjaGFpbixzLnNvdXJjZT17fSxzLnNvdXJjZS5leHQ9e30scy5zb3VyY2UuZXh0LnNjaGFpbj1pfHx7fX1jYXRjaChlKXt9dmFyIGQ9ZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPXt9O3JldHVybiByLmlkPWUuYmlkSWQsci50YWdpZD1TdHJpbmcoZS5wYXJhbXMuZG14aWR8fGUuYWRVbml0Q29kZSksci5zZWN1cmU9MSxyLmJpZGZsb29yPWgoZSksZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8/ci52aWRlbz17dG9wZnJhbWU6MSxza2lwOmUubWVkaWFUeXBlcy52aWRlby5za2lwfHwwLGxpbmVhcml0eTplLm1lZGlhVHlwZXMudmlkZW8ubGluZWFyaXR5fHwxLG1pbmR1cmF0aW9uOmUubWVkaWFUeXBlcy52aWRlby5taW5kdXJhdGlvbnx8NSxtYXhkdXJhdGlvbjplLm1lZGlhVHlwZXMudmlkZW8ubWF4ZHVyYXRpb258fDYwLHBsYXliYWNrbWV0aG9kOmUubWVkaWFUeXBlcy52aWRlby5wbGF5YmFja21ldGhvZHx8WzJdLGFwaTp6KGUubWVkaWFUeXBlcy52aWRlbyksbWltZXM6ZS5tZWRpYVR5cGVzLnZpZGVvLm1pbWVzfHxbInZpZGVvL21wNCJdLHByb3RvY29sczpqKGUubWVkaWFUeXBlcy52aWRlbyksaDplLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVsxXSx3OmUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzBdfTpyLmJhbm5lcj17dG9wZnJhbWU6MSx3OnYoZS5zaXplcywidyIpLGg6dihlLnNpemVzLCJoIiksZm9ybWF0OnYoZS5zaXplcykubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGUudyYmIm51bWJlciI9PXR5cGVvZiBlLmh9KSl9LHJ9KSk7cmV0dXJuIGQubGVuZ3RoPD01PyhzLmltcD1kLHttZXRob2Q6IlBPU1QiLHVybDp5LGRhdGE6SlNPTi5zdHJpbmdpZnkocyksYmlkZGVyUmVxdWVzdDpyfSk6UyhkLHMscix5KX0sdGVzdDpmdW5jdGlvbigpe3JldHVybi0xIT09d2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiZG1UZXN0PXRydWUiKT8xOjB9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCxuKXt2YXIgaT1bXSxvPSJodHRwczovL2Nkbi5kaXN0cmljdG0uaW8vaWRzL2luZGV4Lmh0bWwiO2lmKHQmJnQuZ2RwckFwcGxpZXMmJiJzdHJpbmciPT10eXBlb2YgdC5jb25zZW50U3RyaW5nJiZpLnB1c2goWyJnZHByIix0LmNvbnNlbnRTdHJpbmddKSxuJiZpLnB1c2goWyJjY3BhIixuXSksaS5sZW5ndGg+MCYmKG8rPSI/IitpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuam9pbigiPSIpfSkpLmpvaW4oIiYiKSksZS5pZnJhbWVFbmFibGVkKXJldHVyblt7dHlwZToiaWZyYW1lIix1cmw6b31dfX07ZnVuY3Rpb24gaChlKXt2YXIgcj1udWxsO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yKXt2YXIgdD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ZS5tZWRpYVR5cGVzLnZpZGVvPyJ2aWRlbyI6ImJhbm5lciIsc2l6ZTplLnNpemVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpfSk7Im9iamVjdCIhPT1wKHQpfHwiVVNEIiE9PXQuY3VycmVuY3l8fGlzTmFOKHBhcnNlRmxvYXQodC5mbG9vcikpfHwocj1wYXJzZUZsb2F0KHQuZmxvb3IpKX1yZXR1cm4gbnVsbCE9PXI/cjplLnBhcmFtcy5mbG9vcn1mdW5jdGlvbiB2KGUscil7dmFyIHQ9QShlLFt7c2l6ZTpbMzAwLDI1MF0sczoxMDB9LHtzaXplOls3MjgsOTBdLHM6OTV9LHtzaXplOlszMjAsNTBdLHM6OTB9LHtzaXplOlsxNjAsNjAwXSxzOjg4fSx7c2l6ZTpbMzAwLDYwMF0sczo4NX0se3NpemU6WzMwMCw1MF0sczo4MH0se3NpemU6Wzk3MCwyNTBdLHM6NzV9LHtzaXplOls5NzAsOTBdLHM6NjB9XSk7c3dpdGNoKHIpe2Nhc2UidyI6cmV0dXJuIHRbMF1bMF18fDA7Y2FzZSJoIjpyZXR1cm4gdFswXVsxXXx8MDtjYXNlInNpemUiOmRlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIEEoZSxyKXt2YXIgdD1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1yLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KGUuc2l6ZVswXSwieCIpLmNvbmNhdChlLnNpemVbMV0pfSkpLmluZGV4T2YoIiIuY29uY2F0KGVbMF0sIngiKS5jb25jYXQoZVsxXSkpfSkpLG49ZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT1lLmxlbmd0aD8oZS5wdXNoKHQpLGUpOihlLnB1c2godCksKGU9KGU9ci5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybi0xIT09ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChlWzBdLCJ4IikuY29uY2F0KGVbMV0pfSkpLmluZGV4T2YoIiIuY29uY2F0KHIuc2l6ZVswXSwieCIpLmNvbmNhdChyLnNpemVbMV0pKX0pKSkuc29ydCgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gci5zLWUuc30pKSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zaXplfSkpKX0pLFtdKTtyZXR1cm4gSShbXS5jb25jYXQoYyhuKSxjKHQpKSl9ZnVuY3Rpb24gSShlKXtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKHIsdCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQoZVswXSwieCIpLmNvbmNhdChlWzFdKX0pKS5pbmRleE9mKCIiLmNvbmNhdChyWzBdLCJ4IikuY29uY2F0KHJbMV0pKT09PXR9KSl9ZnVuY3Rpb24gUyhlLHIsdCxuKXtmb3IodmFyIGk9W107MCE9PWUubGVuZ3RoOyllLmxlbmd0aD49NT9pLnB1c2goZS5zcGxpY2UoMCw1KSk6aS5wdXNoKGUuc3BsaWNlKDAsZS5sZW5ndGgpKTtyZXR1cm4gaS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLmltcD1lLHttZXRob2Q6IlBPU1QiLHVybDpuLGRhdGE6SlNPTi5zdHJpbmdpZnkociksYmlkZGVyUmVxdWVzdDp0fX0pKX1mdW5jdGlvbiB4KGUscil7cmV0dXJuIGEoci5iaWRkZXJSZXF1ZXN0LmJpZHMuZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gci5iaWRJZD09PWV9KSksMSlbMF19ZnVuY3Rpb24gTyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmQXJyYXkuaXNBcnJheShlWzBdKT9lWzBdOmV9ZnVuY3Rpb24gdyhlKXt2YXIgcj1lLnNpemVzLHQ9e307cmV0dXJuIHQud2lkdGg9TyhyKVswXSx0LmhlaWdodD1PKHIpWzFdLHR9ZnVuY3Rpb24gVChlLHIsdCxpKXtuLmlzU3RyKHIpJiZBcnJheS5pc0FycmF5KGUpJiZlLnB1c2goe3NvdXJjZTp0LHVpZHM6W3tpZDpyLGF0eXBlOml9XX0pfWZ1bmN0aW9uIHooZSl7dmFyIHI9ZS5hcGk7cmV0dXJuIHImJkFycmF5LmlzQXJyYXkocikmJnIubGVuZ3RoPjA/cjpbMl19ZnVuY3Rpb24gaihlKXt2YXIgcj1lLnByb3RvY29scztyZXR1cm4gciYmQXJyYXkuaXNBcnJheShyKSYmci5sZW5ndGg+MD9yOlsyLDMsNSw2LDcsOF19ZnVuY3Rpb24gXyhlLHIpe3RyeXt2YXIgdD0vPGltZ1xzW14+XSo/c3JjXHMqPVxzKlsnXCJdKFteJ1wiXSo/KVsnXCJdW14+XSo/Pi8sbj1hKGUubWF0Y2godCksMiksaT1uWzBdLG89blsxXTtpZihlPWUucmVwbGFjZSh0LCIiKSxpJiZvKXt2YXIgcz0iPEltcHJlc3Npb24+PCFbQ0RBVEFbIi5jb25jYXQobywiXV0+PC9JbXByZXNzaW9uPiIpO2U9ZS5yZXBsYWNlKCI8L0ltcHJlc3Npb24+IiwiPC9JbXByZXNzaW9uPiIuY29uY2F0KHMpKX1yZXR1cm4gZX1jYXRjaCh0KXtpZighcilyZXR1cm4gZTt2YXIgYz0iPEltcHJlc3Npb24+PCFbQ0RBVEFbIi5jb25jYXQociwiXV0+PC9JbXByZXNzaW9uPiIpO3JldHVybiBlPWUucmVwbGFjZSgiPC9JbXByZXNzaW9uPiIsIjwvSW1wcmVzc2lvbj4iLmNvbmNhdChjKSl9fU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShnKX19LFszODJdKTsKdXBianNDaHVuayhbMjU1XSx7MzkyOmZ1bmN0aW9uKGUscixpKXtlLmV4cG9ydHM9aSgzOTMpfSwzOTM6ZnVuY3Rpb24oZSxyLGkpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksaS5kKHIsImVteEFkYXB0ZXIiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLGkuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKTt2YXIgdD1pKDApLG49aSgxKSxhPWkoMiksZD1pKDEzKSxvPWkoMTIpLHM9aS5uKG8pLHU9aSgxMSksYz1pLm4odSk7ZnVuY3Rpb24gcCgpe3JldHVybihwPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBpPWFyZ3VtZW50c1tyXTtmb3IodmFyIHQgaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSx0KSYmKGVbdF09aVt0XSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGw9ImVteF9kaWdpdGFsIixnPSJodHRwczovL2pzLmJyZWFsdGltZS5jb20vb3V0c3RyZWFtLzEuMzAuMC9idW5kbGUuanMiLG09IlVTRCIsZj1be2tleToiaWRsX2VudiIsc291cmNlOiJsaXZlcmFtcC5jb20iLHJ0aVBhcnRuZXI6ImlkbCIscXVlcnlQYXJhbToiaWRsIn0se2tleToidWlkMi5pZCIsc291cmNlOiJ1aWRhcGkuY29tIixydGlQYXJ0bmVyOiJVSUQyIixxdWVyeVBhcmFtOiJ1aWQyIn1dLHY9e3ZhbGlkYXRlU2l6ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaXNBcnJheShlKSYmdm9pZCAwIT09ZVswXT9lLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gdC5pc0FycmF5KGUpJiYyPT09ZS5sZW5ndGh9KSk6KHQubG9nV2FybigiZW14X2RpZ2l0YWw6IFNpemVzIHNob3VsZCBiZSBhbiBhcnJheSIpLCExKX0sY2hlY2tWaWRlb0NvbnRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvJiZlLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCYmKCJpbnN0cmVhbSI9PT1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dHx8Im91dHN0cmVhbSI9PT1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCl9LGJ1aWxkQmFubmVyOmZ1bmN0aW9uKGUpe3ZhciByPVtdO3JldHVybiByPWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOmUuc2l6ZXMsdi52YWxpZGF0ZVNpemVzKHIpfHwodC5sb2dXYXJuKCJlbXhfZGlnaXRhbDogY291bGQgbm90IGRldGVjdCBtZWRpYVR5cGUgYmFubmVyIHNpemVzLiBBc3NpZ25pbmcgdG8gYmlkIHNpemVzIGluc3RlYWQiKSxyPWUuc2l6ZXMpLHtmb3JtYXQ6ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKSx3OnJbMF1bMF0saDpyWzBdWzFdfX0sZm9ybWF0VmlkZW9SZXNwb25zZTpmdW5jdGlvbihlLHIsaSl7KGUudmFzdFhtbD1yLmFkbSxpLmJpZGRlclJlcXVlc3QmJmkuYmlkZGVyUmVxdWVzdC5iaWRzJiZpLmJpZGRlclJlcXVlc3QuYmlkcy5sZW5ndGg+MCkmJihjKCkoaS5iaWRkZXJSZXF1ZXN0LmJpZHMsKGZ1bmN0aW9uKHIpe3JldHVybiBlLnJlcXVlc3RJZCYmci5iaWRJZCYmZS5yZXF1ZXN0SWQ9PT1yLmJpZElkJiZyLm1lZGlhVHlwZXMmJnIubWVkaWFUeXBlcy52aWRlbyYmIm91dHN0cmVhbSI9PT1yLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dH0pKSYmKGUucmVuZGVyZXI9di5jcmVhdGVSZW5kZXJlcihlLHtpZDpyLmlkLHVybDpnfSkpKTtyZXR1cm4gZX0saXNNb2JpbGU6ZnVuY3Rpb24oKXtyZXR1cm4vKGlvc3xpcG9kfGlwYWR8aXBob25lfGFuZHJvaWQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0saXNDb25uZWN0ZWRUVjpmdW5jdGlvbigpe3JldHVybi8oc21hcnRbLV0/dHZ8aGJidHZ8YXBwbGV0dnxnb29nbGV0dnxoZG1pfG5ldGNhc3RcLnR2fHZpZXJhfG5ldHR2fHJva3V8XGJkdHZcYnxzb255ZHR2fGluZXR0dmJyb3dzZXJ8XGJ0dlxiKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGdldERldmljZTpmdW5jdGlvbigpe3JldHVybnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGpzOjEsZG50OiJ5ZXMiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT1uYXZpZ2F0b3IubXNEb05vdFRyYWNrPzE6MCxoOnNjcmVlbi5oZWlnaHQsdzpzY3JlZW4ud2lkdGgsZGV2aWNldHlwZTp2LmlzTW9iaWxlKCk/MTp2LmlzQ29ubmVjdGVkVFYoKT8zOjIsbGFuZ3VhZ2U6bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHxuYXZpZ2F0b3Iuc3lzdGVtTGFuZ3VhZ2V9fSxjbGVhblByb3RvY29sczpmdW5jdGlvbihlKXtyZXR1cm4gZS5wcm90b2NvbHMmJnMoKShlLnByb3RvY29scyw3KSYmKHQubG9nV2FybigiZW14X2RpZ2l0YWw6IFZBU1QgNC4wIGlzIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkLiBUaGlzIHByb3RvY29sIGhhcyBiZWVuIGZpbHRlcmVkIG91dCBvZiB0aGUgcmVxdWVzdC4iKSxlLnByb3RvY29scz1lLnByb3RvY29scy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiA3IT09ZX0pKSksZX0sb3V0c3RyZWFtUmVuZGVyOmZ1bmN0aW9uKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt2YXIgcj1lJiZlLnBhcmFtcyYmZS5wYXJhbXNbMF0mJmUucGFyYW1zWzBdLnZpZGVvP2UucGFyYW1zWzBdLnZpZGVvOnt9O3dpbmRvdy5lbXhWaWRlb1F1ZXVlPXdpbmRvdy5lbXhWaWRlb1F1ZXVlfHxbXSx3aW5kb3cucXVldWVFbXhWaWRlbyh7aWQ6ZS5hZFVuaXRDb2RlLGFkc1Jlc3BvbnNlczplLnZhc3RYbWwsb3B0aW9uczpyfSksd2luZG93LmVteFZpZGVvUmVhZHkmJndpbmRvdy52aWRlb2pzJiZ3aW5kb3cuZW14VmlkZW9SZWFkeSgpfSkpfSxjcmVhdGVSZW5kZXJlcjpmdW5jdGlvbihlLHIpe3ZhciBpPWQuYS5pbnN0YWxsKHtpZDpyLmlkLHVybDpnLGxvYWRlZDohMX0pO3RyeXtpLnNldFJlbmRlcih2Lm91dHN0cmVhbVJlbmRlcil9Y2F0Y2goZSl7dC5sb2dXYXJuKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiBpfSxidWlsZFZpZGVvOmZ1bmN0aW9uKGUpe3ZhciByPXAoZS5tZWRpYVR5cGVzLnZpZGVvLGUucGFyYW1zLnZpZGVvKTtyZXR1cm4gdC5pc0FycmF5KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKT8oci53PWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzBdLHIuaD1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVsxXSk6KHIudz1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSxyLmg9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMV0pLHYuY2xlYW5Qcm90b2NvbHMocil9LHBhcnNlUmVzcG9uc2U6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZS5yZXBsYWNlKC8lKD8hWzAtOV1bMC05YS1mQS1GXSspL2csIiUyNSIpKX1jYXRjaChlKXt0LmxvZ0Vycm9yKCJlbXhfZGlnaXRhbEJpZEFkYXB0ZXIiLCJlcnJvciIsZSl9fSxnZXRSZWZlcnJlcjpmdW5jdGlvbigpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcn1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQucmVmZXJyZXJ9fSxnZXRTaXRlOmZ1bmN0aW9uKGUpe3JldHVybntkb21haW46dC5wYXJzZVVybChlLnJlZmVyZXIpLmhvc3RuYW1lLHBhZ2U6ZS5yZWZlcmVyLHJlZjp2LmdldFJlZmVycmVyKCl9fSxnZXRHZHByOmZ1bmN0aW9uKGUscil7cmV0dXJuIGUuZ2RwckNvbnNlbnQmJihyLnJlZ3M9e2V4dDp7Z2RwcjohMD09PWUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowfX0pLGUuZ2RwckNvbnNlbnQmJmUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihyLnVzZXI9e2V4dDp7Y29uc2VudDplLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmd9fSkscn0sZ2V0U3VwcGx5Q2hhaW46ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5iaWRzWzBdJiZlLmJpZHNbMF0uc2NoYWluJiYoci5zb3VyY2U9e2V4dDp7c2NoYWluOmUuYmlkc1swXS5zY2hhaW59fSkscn0sZ2V0RWlkczpmdW5jdGlvbihlKXtyZXR1cm4gZi5tYXAodi5nZXRVc2VySWQoZSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9LGdldFVzZXJJZDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIGk9ci5rZXksbj1yLnNvdXJjZSxhPXIucnRpUGFydG5lcixkPXQuZGVlcEFjY2VzcyhlLCJ1c2VySWQuIi5jb25jYXQoaSkpO3JldHVybiBkP3YuZm9ybWF0RWlkKGQsbixhKTpudWxsfX0sZm9ybWF0RWlkOmZ1bmN0aW9uKGUscixpKXtyZXR1cm57c291cmNlOnIsdWlkczpbe2lkOmUsZXh0OntydGlQYXJ0bmVyOml9fV19fX0seT17Y29kZTpsLGd2bGlkOjE4MyxzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZighZXx8IWUucGFyYW1zKXJldHVybiB0LmxvZ1dhcm4oImVteF9kaWdpdGFsOiBNaXNzaW5nIGJpZCBvciBiaWQgcGFyYW1zLiIpLCExO2lmKGUuYmlkZGVyIT09bClyZXR1cm4gdC5sb2dXYXJuKCdlbXhfZGlnaXRhbDogTXVzdCB1c2UgImVteF9kaWdpdGFsIiBhcyBiaWRkZXIgY29kZS4nKSwhMTtpZighZS5wYXJhbXMudGFnaWR8fCF0LmlzU3RyKGUucGFyYW1zLnRhZ2lkKSlyZXR1cm4gdC5sb2dXYXJuKCJlbXhfZGlnaXRhbDogTWlzc2luZyB0YWdpZCBwYXJhbSBvciB0YWdpZCBwcmVzZW50IGFuZCBub3QgdHlwZSBTdHJpbmcuIiksITE7dmFyIHI7aWYoZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyKXtpZihyPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzLCF2LnZhbGlkYXRlU2l6ZXMocikpcmV0dXJuIHQubG9nV2FybigiZW14X2RpZ2l0YWw6IE1pc3Npbmcgc2l6ZXMgaW4gYmlkIiksITF9ZWxzZSBpZihlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbyl7aWYoIXYuY2hlY2tWaWRlb0NvbnRleHQoZSkpcmV0dXJuIHQubG9nV2FybigiZW14X2RpZ2l0YWw6IE1pc3NpbmcgdmlkZW8gY29udGV4dDogaW5zdHJlYW0gb3Igb3V0c3RyZWFtIiksITE7aWYoIWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplKXJldHVybiB0LmxvZ1dhcm4oImVteF9kaWdpdGFsOiBNaXNzaW5nIHZpZGVvIHBsYXllclNpemUiKSwhMX1yZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBpPVtdLG49Imh0dHBzOi8vaGIuZW14ZGd0LmNvbT90PSIrKHIudGltZW91dHx8IiIpKyImdHM9IitEYXRlLm5vdygpKyImc3JjPXBianMiLGE9bG9jYXRpb24ucHJvdG9jb2wuaW5kZXhPZigiaHR0cHMiKT4tMT8xOjAsZD12LmdldERldmljZSgpLG89di5nZXRTaXRlKHIucmVmZXJlckluZm8pO3QuX2VhY2goZSwoZnVuY3Rpb24oZSl7dmFyIHI9dC5nZXRCaWRJZFBhcmFtZXRlcigidGFnaWQiLGUucGFyYW1zKSxuPXBhcnNlRmxvYXQoZnVuY3Rpb24oZSl7aWYoIXQuaXNGbihlLmdldEZsb29yKSlyZXR1cm4gcGFyc2VGbG9hdCh0LmdldEJpZElkUGFyYW1ldGVyKCJiaWRmbG9vciIsZS5wYXJhbXMpKTt2YXIgcj1lLmdldEZsb29yKHtjdXJyZW5jeTptLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZih0LmlzUGxhaW5PYmplY3QocikmJiFpc05hTihyLmZsb29yKSYmIlVTRCI9PT1yLmN1cnJlbmN5KXJldHVybiByLmZsb29yO3JldHVybiBudWxsfShlKSl8fDAsZD0hIWUubWVkaWFUeXBlcy52aWRlbyxvPXAoe2lkOmUuYmlkSWQsdGlkOmUudHJhbnNhY3Rpb25JZCx0YWdpZDpyLHNlY3VyZTphfSxkP3t2aWRlbzp2LmJ1aWxkVmlkZW8oZSl9OntiYW5uZXI6di5idWlsZEJhbm5lcihlKX0sbj4wP3tiaWRmbG9vcjpuLGJpZGZsb29yY3VyOm19Ont9KTtpLnB1c2gobyl9KSk7dmFyIHM9e2lkOnIuYXVjdGlvbklkLGltcDppLGRldmljZTpkLHNpdGU6byxjdXI6bSx2ZXJzaW9uOiIxLjUuMSJ9O2lmKHM9di5nZXRHZHByKHIscCh7fSxzKSkscz12LmdldFN1cHBseUNoYWluKHIscCh7fSxzKSksciYmci51c3BDb25zZW50JiYocy51c19wcml2YWN5PXIudXNwQ29uc2VudCksci51c2VySWQpe3ZhciB1PXYuZ2V0RWlkcyhyKTt1Lmxlbmd0aD4wJiYocy51c2VyJiZzLnVzZXIuZXh0P3MudXNlci5leHQuZWlkcz11OnMudXNlcj17ZXh0OntlaWRzOnV9fSl9cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOm4sZGF0YTpKU09OLnN0cmluZ2lmeShzKSxvcHRpb25zOnt3aXRoQ3JlZGVudGlhbHM6ITB9LGJpZGRlclJlcXVlc3Q6cn19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIGk9W10sdD1lLmJvZHl8fHt9O3JldHVybiB0LnNlYXRiaWQmJnQuc2VhdGJpZC5sZW5ndGg+MCYmdC5zZWF0YmlkWzBdLmJpZCYmdC5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2U9ZS5iaWRbMF07dmFyIHQ9ITEsbj12LnBhcnNlUmVzcG9uc2UoZS5hZG0pfHwiIixkPXtyZXF1ZXN0SWQ6ZS5pZCxjcG06ZS5wcmljZSx3aWR0aDplLncsaGVpZ2h0OmUuaCxjcmVhdGl2ZUlkOmUuY3JpZHx8ZS5pZCxkZWFsSWQ6ZS5kZWFsaWR8fG51bGwsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6ZS50dGwsYWQ6bn07ZS5hZG0mJmUuYWRtLmluZGV4T2YoIjw/eG1sIHZlcnNpb249Iik+LTEmJih0PSEwLGQ9di5mb3JtYXRWaWRlb1Jlc3BvbnNlKGQscCh7fSxlKSxyKSksZC5tZWRpYVR5cGU9dD9hLmQ6YS5iLGUuYWRvbWFpbiYmZS5hZG9tYWluLmxlbmd0aCYmKGQubWV0YT17YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufSksaS5wdXNoKGQpfSkpLGl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsaSx0KXt2YXIgbj1bXTtpZihlLmlmcmFtZUVuYWJsZWQpe3ZhciBhPSJodHRwczovL2JpZGRyLmJyZWFsdGltZS5jb20vY2hlY2suaHRtbCI7aSYmInN0cmluZyI9PXR5cGVvZiBpLmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiBpLmdkcHJBcHBsaWVzP2ErPSI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIoaS5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KGkuY29uc2VudFN0cmluZyk6YSs9Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQoaS5jb25zZW50U3RyaW5nKSksbi5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDphfSl9cmV0dXJuIG59fTtPYmplY3Qobi5yZWdpc3RlckJpZGRlcikoeSl9fSxbMzkyXSk7CnVwYmpzQ2h1bmsoWzIyOF0sezQ1MDpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNDUxKX0sNDUxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe24uZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKTt2YXIgcj1uKDApLGk9bigyKSxvPW4oMyksYT1uKDcpLGM9bigxMiksdT1uLm4oYyksZD1uKDEpO2Z1bmN0aW9uIHMoKXtyZXR1cm4ocz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGwoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/cChPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2YoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnAoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gZihlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gbShlKXtyZXR1cm4obT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGIoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1uKXJldHVybjt2YXIgcixpLG89W10sYT0hMCxjPSExO3RyeXtmb3Iobj1uLmNhbGwoZSk7IShhPShyPW4ubmV4dCgpKS5kb25lKSYmKG8ucHVzaChyLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7Yz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHkoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHkoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHkoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgdj1PYmplY3QoYS5iKSgpLGc9e3Q6MCxycTo4LHBidjoiNS4xMS4wIn0saD1baS5iLGkuZF0sST17fSx3PXt9LFM9bnVsbDtmdW5jdGlvbiBPKHQpe3ZhciBuLGksbyxhLGMsdSxkLHM7aWYody52dylyZXR1cm4gdzt0cnl7aT0obj1lLnRvcCkuc2NyZWVuLG89dHx8IiJ9Y2F0Y2goZSl7cmV0dXJuIHIubG9nRXJyb3IoZSksd31yZXR1cm4gdz17dnc6bi5pbm5lcldpZHRoLHZoOm4uaW5uZXJIZWlnaHQsc3c6aS53aWR0aCxzaDppLmhlaWdodCxwdTpvLGNlOnYuY29va2llc0FyZUVuYWJsZWQoKSxkcHI6bi5kZXZpY2VQaXhlbFJhdGlvfHwxLGpjc2k6SlNPTi5zdHJpbmdpZnkoZyksb2d1Oih1PShkb2N1bWVudCYmZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXSkucXVlcnlTZWxlY3RvcigibWV0YVtwcm9wZXJ0eT0nb2c6dXJsJ10iKSx1P3UuY29udGVudDpudWxsKX0sZD13aW5kb3cubmF2aWdhdG9yJiYod2luZG93Lm5hdmlnYXRvci5jb25uZWN0aW9ufHx3aW5kb3cubmF2aWdhdG9yLm1vekNvbm5lY3Rpb258fHdpbmRvdy5uYXZpZ2F0b3Iud2Via2l0Q29ubmVjdGlvbiksKGM9KHM9ZCYmKGQuZG93bmxpbmt8fGQuYmFuZHdpZHRoKSk/TWF0aC5yb3VuZCgxMDI0KnMpOm51bGwpJiYody5ucz1jKSwoYT0oby5tYXRjaCgvI2dnYWQ9KFx3KykkLyl8fFswLDBdKVsxXSkmJih3W2lzTmFOKGEpPyJlQWRCdXlJZCI6ImFkQnV5SWQiXT1hKSx3fWZ1bmN0aW9uIGooZSx0KXtyZXR1cm4gZS5yZXBsYWNlKCJBRF9KU09OIix3aW5kb3cuYnRvYShKU09OLnN0cmluZ2lmeSh0KSkpfWZ1bmN0aW9uIHgoZSl7dmFyIHQ9ZS5kaWdpdHJ1c3RpZCYmZS5kaWdpdHJ1c3RpZC5kYXRhO3JldHVybiF0fHx0LnByaXZhY3kmJnQucHJpdmFjeS5vcHRvdXQ/e306e2R0OnQuaWR9fWZ1bmN0aW9uIFAoZSl7dmFyIHQ9MCxuPTAscj0wO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPWIoZSwyKSxvPWlbMF0sYT1pWzFdLGM9bz5hP286YTsoYz5yfHxjPT09ciYmbz49dCYmYT49bikmJihyPWMsdD1vLG49YSl9KSksW3Qsbl19dmFyIEM9e2NvZGU6Imd1bWd1bSIsYWxpYXNlczpbImdnIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJhbXMsbj1lLmFkVW5pdENvZGUsaT10LmluU2NyZWVufHx0LmluU2NyZWVuUHViSUR8fHQuaW5TbG90fHx0LklDVnx8dC52aWRlb3x8dC5pblZpZGVvfHx0LnNsb3R8fHQubmF0aXZlfHx0LnpvbmV8fHQucHViSUQ7aWYoSVtpXSlyZXR1cm4gci5sb2dXYXJuKCJbR3VtR3VtXSBQbGVhc2UgY2hlY2sgdGhlIGltcGxlbWVudGF0aW9uIGZvciAiLmNvbmNhdChpLCIgZm9yIHRoZSBwbGFjZW1lbnQgIikuY29uY2F0KG4pKSwhMTtzd2l0Y2goITApe2Nhc2UhIXQuem9uZTpjYXNlISF0LnB1YklkOmNhc2UhIXQuaW5TY3JlZW46Y2FzZSEhdC5pblNjcmVlblB1YklEOmNhc2UhIXQuaW5TbG90OmNhc2UhIXQuSUNWOmNhc2UhIXQudmlkZW86Y2FzZSEhdC5pblZpZGVvOmNhc2UhIXQudmlkZW9QdWJJRDpicmVhaztkZWZhdWx0OnJldHVybiByLmxvZ1dhcm4oIltHdW1HdW1dIE5vIHByb2R1Y3Qgc2VsZWN0ZWQgZm9yIHRoZSBwbGFjZW1lbnQgIi5jb25jYXQobiwiLCBwbGVhc2UgY2hlY2sgeW91ciBpbXBsZW1lbnRhdGlvbi4iKSksITF9cmV0dXJuISh0LmJpZGZsb29yJiYoIm51bWJlciIhPXR5cGVvZiB0LmJpZGZsb29yfHwhaXNGaW5pdGUodC5iaWRmbG9vcikpKXx8KHIubG9nV2FybigiW0d1bUd1bV0gYmlkZmxvb3IgbXVzdCBiZSBhIE51bWJlciIpLCExKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciBuPVtdLGk9dCYmdC5nZHByQ29uc2VudCxhPXQmJnQudXNwQ29uc2VudCxjPW8uYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKSx1PXQmJnQucmVmZXJlckluZm8mJnQucmVmZXJlckluZm8ucmVmZXJlcjtyZXR1cm4gci5fZWFjaChlLChmdW5jdGlvbihlKXt2YXIgdCxvLGQ9ZS5iaWRJZCxwPWUubWVkaWFUeXBlcyxmPXZvaWQgMD09PXA/e306cCx5PWUucGFyYW1zLHY9dm9pZCAwPT09eT97fTp5LGc9ZS5zY2hhaW4saD1lLnRyYW5zYWN0aW9uSWQsST1lLnVzZXJJZCx3PXZvaWQgMD09PUk/e306SSxqPWUub3J0YjJJbXAsQz1mdW5jdGlvbihlLHQsbil7dmFyIHI9T2JqZWN0LmtleXMoZSlbMF18fCJiYW5uZXIiLGk9e2Zsb29yOjAsY3VycmVuY3k6IlVTRCJ9O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuLmdldEZsb29yKXt2YXIgbz1uLmdldEZsb29yKHttZWRpYVR5cGU6cixzaXplOiIqIn0pLGE9by5jdXJyZW5jeSxjPW8uZmxvb3I7YyYmKGkuZmxvb3I9YyksYSYmKGkuY3VycmVuY3k9YSksdCYmYyYmIlVTRCI9PT1hJiYoaS5mbG9vcj1NYXRoLm1heCh0LHBhcnNlRmxvYXQoYykpKX1lbHNlIHQmJihpLmZsb29yPXQpO3JldHVybiBpfShmLHYuYmlkZmxvb3IsZSksRD1DLmN1cnJlbmN5LHo9Qy5mbG9vcixrPWZ1bmN0aW9uKGUpe3ZhciB0PVsidWlkIiwiZWlkIiwibGlwYmlkIl07cmV0dXJuIE9iamVjdC5rZXlzKGUpLnJlZHVjZSgoZnVuY3Rpb24obixyKXt2YXIgaT1lW3JdO3N3aXRjaChtKGkpKXtjYXNlInN0cmluZyI6bltyXT1pO2JyZWFrO2Nhc2Uib2JqZWN0Ijp2YXIgbz10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGkuaGFzT3duUHJvcGVydHkoZSl9KSk7by5sZW5ndGgmJihuW3JdPWlbb1swXV0pfXJldHVybiBufSkse30pfSh3KSxBPVsxLDFdLFQ9e30sUj0iIjtmb3IodmFyIFUgaW4gaylUW1VdPWtbVV07aWYoci5kZWVwQWNjZXNzKGosImV4dC5kYXRhLmFkc2VydmVyLm5hbWUiKSYmKFI9ai5leHQuZGF0YS5hZHNlcnZlci5hZHNsb3QpLGYuYmFubmVyP0E9Zi5iYW5uZXIuc2l6ZXM6Zi52aWRlbyYmKEE9Zi52aWRlby5wbGF5ZXJTaXplLFQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5taW5kdXJhdGlvbixuPWUubWF4ZHVyYXRpb24saT1lLmxpbmVhcml0eSxvPWUuc3RhcnRkZWxheSxhPWUucGxhY2VtZW50LGM9ZS5wcm90b2NvbHMsdT12b2lkIDA9PT1jP1tdOmMsZD1lLnBsYXllclNpemUscz12b2lkIDA9PT1kP1tdOmQscD1yLnBhcnNlU2l6ZXNJbnB1dChzKSxsPWIocFswXSYmcFswXS5zcGxpdCgieCIpLDIpLGY9bFswXSxtPWxbMV0seT0iIjtyZXR1cm4gdS5sZW5ndGgmJih5PXUuam9pbigiLCIpKSx7bWluZDp0LG1heGQ6bixsaTppLHNkOm8scHQ6YSxwcjp5LHZpdzpmLHZpaDptfX0oZi52aWRlbykpLFMmJihULnB2PVMpLHomJihULmZwPXosVC5mcGM9RCksdi5pcmlzY2F0JiYic3RyaW5nIj09dHlwZW9mIHYuaXJpc2NhdCYmKFQuaXJpc2NhdD12LmlyaXNjYXQpLHYuaXJpc2lkJiYic3RyaW5nIj09dHlwZW9mIHYuaXJpc2lkJiYoVC5pcmlzaWQ9di5pcmlzaWQpLHYuem9uZXx8di5wdWJJZClpZih2LnpvbmU/VC50PXYuem9uZTpULnB1YklkPXYucHViSWQsVC5waT0yLHYuc2xvdCl7dmFyIEc9YihQKEEpLDIpLFY9R1swXSxFPUdbMV07VC5tYXh3PVYsVC5tYXhoPUUsVC5zaT1wYXJzZUludCh2LnNsb3QsMTApLFQucGk9MyxULmJmPUEucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiIiLmNvbmNhdChlKS5jb25jYXQoZSYmIiwiKS5jb25jYXQodFswXSwieCIpLmNvbmNhdCh0WzFdKX0pLCIiKX1lbHNlIHYubmF0aXZlPyhULm5pPXBhcnNlSW50KHYubmF0aXZlLDEwKSxULnBpPTUpOmYudmlkZW8mJihULnBpPTI9PT1mLnZpZGVvLmxpbmVhcml0eT82OjcpO2Vsc2UgVD1sKGwoe30sVCksZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtlLmluU2NyZWVuUHViSUQmJihuLnB1YklkPWUuaW5TY3JlZW5QdWJJRCxuLnBpPTIpO2UuaW5TY3JlZW4mJihuLnQ9ZS5pblNjcmVlbixuLnBpPTIpO2lmKGUuaW5TbG90KXt2YXIgcj1iKFAodCksMiksaT1yWzBdLG89clsxXTtuLm1heHc9aSxuLm1heGg9byxuLnNpPXBhcnNlSW50KGUuaW5TbG90LDEwKSxuLnBpPTMsbi5iZj10LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4iIi5jb25jYXQoZSkuY29uY2F0KGUmJiIsIikuY29uY2F0KHRbMF0sIngiKS5jb25jYXQodFsxXSl9KSwiIil9ZS5JQ1YmJihuLm5pPXBhcnNlSW50KGUuSUNWLDEwKSxuLnBpPTUpO2UudmlkZW9QdWJJRCYmKG4ucHViSWQ9ZS52aWRlb1B1YklELG4ucGk9Nyk7ZS52aWRlbyYmKG4udD1lLnZpZGVvLG4ucGk9Nyk7ZS5pblZpZGVvJiYobi50PWUuaW5WaWRlbyxuLnBpPTYpO3JldHVybiBufSh2LEEpKTtpJiYoVC5nZHByQXBwbGllcz1pLmdkcHJBcHBsaWVzPzE6MCksVC5nZHByQXBwbGllcyYmKFQuZ2RwckNvbnNlbnQ9aS5jb25zZW50U3RyaW5nKSxhJiYoVC51c3BDb25zZW50PWEpLGcmJmcubm9kZXMmJihULnNjaGFpbj0obz0iIi5jb25jYXQoKHQ9ZykudmVyLCIsIikuY29uY2F0KHQuY29tcGxldGUpLHQubm9kZXMubWFwKChmdW5jdGlvbihlKXtvKz0iISIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLmFzaXx8IiIpLCIsIiksbys9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLnNpZHx8IiIpLCIsIiksbys9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLmhwfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUucmlkfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUubmFtZXx8IiIpLCIsIiksbys9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLmRvbWFpbnx8IiIpKX0pKSxvKSksbi5wdXNoKHtpZDpkLHRtYXg6Yyx0SWQ6aCxwaTpULnBpLHNlbGVjdG9yOnYuc2VsZWN0b3Isc2l6ZXM6QSx1cmw6Imh0dHBzOi8vZzIuZ3VtZ3VtLmNvbS9oYmlkL2ltcCIsbWV0aG9kOiJHRVQiLGRhdGE6cyhULE8odSkseCh3KSx7Z3BpZDpSfSl9KX0pKSxufSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPVtdLG89ZS5ib2R5O2lmKCFvfHxvLmVycil7dmFyIGE9dC5kYXRhfHx7fSxjPWEuc2l8fGEubml8fGEudHx8YS5wdWJJZCxkPW8/by5lcnIuZHJ0OjE4ZTU7SVtjXT17cHJvZHVjdElkOmEucGksdGltZXN0YW1wOihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe0lbY10mJmRlbGV0ZSBJW2NdfSksZCksci5sb2dXYXJuKCJbR3VtR3VtXSBQbGVhc2UgY2hlY2sgdGhlIGltcGxlbWVudGF0aW9uIGZvciAiLmNvbmNhdChjKSl9dmFyIHA9cyh7YWQ6e3ByaWNlOjAsaWQ6MCxtYXJrdXA6IiIsd2lkdGg6MCxoZWlnaHQ6MH0scGFnOntwdmlkOjB9LG1ldGE6e2Fkb21haW46W10sbWVkaWFUeXBlOiIifX0sbyksZj1wLmFkLG09Zi5wcmljZSx5PWYuaWQsdj1mLm1hcmt1cCxoPWYuY3VyLHc9Zi53aWR0aCxPPWYuaGVpZ2h0LHg9Zi5tYXh3LFA9Zi5tYXhoLEM9cC5jdyxEPXAucGFnLnB2aWQsej1wLmpjc2ksaz1wLm1ldGEsQT1rLmFkb21haW4sVD1rLm1lZGlhVHlwZSxSPXQuZGF0YXx8e30sVT1SLnBpLEc9Nj09PVV8fDc9PT1VP2kuZDppLmIsVj0zPT09VSYmOT09PVIuc2ksRT17YWR2ZXJ0aXNlckRvbWFpbnM6QXx8W10sbWVkaWFUeXBlOlR8fEd9LE49ci5wYXJzZVNpemVzSW5wdXQodC5zaXplcyk7eCYmUD9OPVsiIi5jb25jYXQoeCwieCIpLmNvbmNhdChQKV06NT09PVUmJnUoKShOLCIxeDEiKT9OPVsiMXgxIl06Mj09PVUmJnUoKShOLCIxeDEiKSYmKE49dyYmTz9bIiIuY29uY2F0KHcsIngiKS5jb25jYXQoTyldOnIucGFyc2VTaXplc0lucHV0KHQuc2l6ZXMpKTt2YXIgcT1iKE5bMF0uc3BsaXQoIngiKSwyKSxCPXFbMF0sTT1xWzFdO3JldHVybiB6JiYoby5qY3NpPWcpLFM9RCx5JiZuLnB1c2gobChsKHthZDpDP2ooQyxzKHt9LG8se2JpZFJlcXVlc3Q6dH0pKTp2fSxHPT09aS5kJiZ7YWQ6dix2YXN0WG1sOnZ9KSx7fSx7bWVkaWFUeXBlOkcsY3BtOlY/LjE6bSxjcmVhdGl2ZUlkOnksY3VycmVuY3k6aHx8IlVTRCIsaGVpZ2h0Ok0sbmV0UmV2ZW51ZTohMCxyZXF1ZXN0SWQ6dC5pZCx0dGw6NjAsd2lkdGg6QixtZXRhOkV9KSksbn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5ib2R5JiZlLmJvZHkucHhzJiZlLmJvZHkucHhzLnNjcnx8W119KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0KX0pLFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOiJmIj09PWUudD8iaWZyYW1lIjoiaW1hZ2UiLHVybDplLnV9fSkpfSxzdXBwb3J0ZWRNZWRpYVR5cGVzOmh9O09iamVjdChkLnJlZ2lzdGVyQmlkZGVyKShDKX0uY2FsbCh0LG4oMzkpKX19LFs0NTBdKTsKdXBianNDaHVuayhbMjIyXSx7NDY0OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg0NjUpfSw0NjU6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsIklENV9TVE9SQUdFX05BTUUiLChmdW5jdGlvbigpe3JldHVybiBwfSkpLHQuZChyLCJJRDVfUFJJVkFDWV9TVE9SQUdFX05BTUUiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLHQuZChyLCJpZDVJZFN1Ym1vZHVsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksci5leHBEYXlzU3RyPXYsci5uYkNhY2hlTmFtZT1JLHIuc3RvcmVOYkluQ2FjaGU9eSxyLmdldE5iRnJvbUNhY2hlPVMsci5nZXRGcm9tTG9jYWxTdG9yYWdlPWgsci5zdG9yZUluTG9jYWxTdG9yYWdlPUQ7dmFyIG89dCgwKSxuPXQoNCksYT10KDEwKSxpPXQoMjApLHM9dCg3KSxjPXQoOCkscD0iaWQ1aWQiLHU9IiIuY29uY2F0KHAsIl9wcml2YWN5IiksZD0iaHRtbDUiLGc9IlVzZXIgSUQgLSBJRDUgc3VibW9kdWxlOiAiLGw9WyJwYmpzLWlkNWlkIiwiaWQ1aWQuMXN0IiwiaWQ1aWQiXSxtPU9iamVjdChzLmIpKDEzMSwiaWQ1SWQiKSxmPXtuYW1lOiJpZDVJZCIsZ3ZsaWQ6MTMxLGRlY29kZTpmdW5jdGlvbihlLHIpe3ZhciB0PTA7aWYoZSYmInN0cmluZyI9PXR5cGVvZiBlLnVuaXZlcnNhbF91aWQpe3ZhciBuPXtpZDVpZDp7dWlkOmUudW5pdmVyc2FsX3VpZCxleHQ6e2xpbmtUeXBlOnQ9ZS5saW5rX3R5cGV8fHR9fX07c3dpdGNoKG8uZGVlcEFjY2VzcyhlLCJhYl90ZXN0aW5nLnJlc3VsdCIpKXtjYXNlImNvbnRyb2wiOm8ubG9nSW5mbyhnKyJBL0IgVGVzdGluZyAtIHVzZXIgaXMgaW4gdGhlIENvbnRyb2wgR3JvdXA6IElENSBJRCBpcyBOT1QgZXhwb3NlZCIpLG8uZGVlcFNldFZhbHVlKG4sImlkNWlkLmV4dC5hYlRlc3RpbmdDb250cm9sR3JvdXAiLCEwKTticmVhaztjYXNlImVycm9yIjpvLmxvZ0Vycm9yKGcrIkEvQiBUZXN0aW5nIEVSUk9SISBjb250cm9sR3JvdXBQY3QgbXVzdCBiZSBhIG51bWJlciA+PSAwIGFuZCA8PSAxIik7YnJlYWs7Y2FzZSJub3JtYWwiOm8ubG9nSW5mbyhnKyJBL0IgVGVzdGluZyAtIHVzZXIgaXMgTk9UIGluIHRoZSBDb250cm9sIEdyb3VwIiksby5kZWVwU2V0VmFsdWUobiwiaWQ1aWQuZXh0LmFiVGVzdGluZ0NvbnRyb2xHcm91cCIsITEpfXJldHVybiBvLmxvZ0luZm8oZysiRGVjb2RlZCBJRCIsbiksbn19LGdldElkOmZ1bmN0aW9uKGUscix0KXtpZihiKGUpKXt2YXIgYSxzPSJodHRwczovL2lkNS1zeW5jLmNvbS9nL3YyLyIuY29uY2F0KGUucGFyYW1zLnBhcnRuZXIsIi5qc29uIikscD1yJiYiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJBcHBsaWVzJiZyLmdkcHJBcHBsaWVzPzE6MCxmPWMudXNwRGF0YUhhbmRsZXIuZ2V0Q29uc2VudERhdGEoKSxJPU9iamVjdChpLmEpKCksUz10JiZ0LnNpZ25hdHVyZT90LnNpZ25hdHVyZToobC5mb3JFYWNoKChmdW5jdGlvbihlKXttLmdldENvb2tpZShlKSYmKGE9SlNPTi5wYXJzZShtLmdldENvb2tpZShlKSl8fGEpfSkpLGEmJmEuc2lnbmF0dXJlfHwiIiksaD17cGFydG5lcjplLnBhcmFtcy5wYXJ0bmVyLGdkcHI6cCxuYlBhZ2U6XyhlLnBhcmFtcy5wYXJ0bmVyKSxvOiJwYmpzIixyZjpJLnJlZmVyZXIsdG9wOkkucmVhY2hlZFRvcD8xOjAsdTpJLnN0YWNrWzBdfHx3aW5kb3cubG9jYXRpb24uaHJlZix2OiI1LjExLjAifTshcHx8dm9pZCAwPT09ci5jb25zZW50U3RyaW5nfHxvLmlzRW1wdHkoci5jb25zZW50U3RyaW5nKXx8by5pc0VtcHR5U3RyKHIuY29uc2VudFN0cmluZyl8fChoLmdkcHJfY29uc2VudD1yLmNvbnNlbnRTdHJpbmcpLHZvaWQgMD09PWZ8fG8uaXNFbXB0eShmKXx8by5pc0VtcHR5U3RyKGYpfHwoaC51c19wcml2YWN5PWYpLHZvaWQgMD09PVN8fG8uaXNFbXB0eVN0cihTKXx8KGgucz1TKSx2b2lkIDA9PT1lLnBhcmFtcy5wZHx8by5pc0VtcHR5U3RyKGUucGFyYW1zLnBkKXx8KGgucGQ9ZS5wYXJhbXMucGQpLHZvaWQgMD09PWUucGFyYW1zLnByb3ZpZGVyfHxvLmlzRW1wdHlTdHIoZS5wYXJhbXMucHJvdmlkZXIpfHwoaC5wcm92aWRlcj1lLnBhcmFtcy5wcm92aWRlcik7dmFyIEU9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uZGVlcEFjY2VzcyhlLCJwYXJhbXMuYWJUZXN0aW5nIix7ZW5hYmxlZDohMX0pfShlKTshMD09PUUuZW5hYmxlZCYmKGguYWJfdGVzdGluZz17ZW5hYmxlZDohMCxjb250cm9sX2dyb3VwX3BjdDpFLmNvbnRyb2xHcm91cFBjdH0pO3JldHVybntjYWxsYmFjazpmdW5jdGlvbihyKXt2YXIgdD17c3VjY2VzczpmdW5jdGlvbih0KXt2YXIgbjtpZih0KXRyeXtuPUpTT04ucGFyc2UodCksby5sb2dJbmZvKGcrInJlc3BvbnNlIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlciIsbikseShlLnBhcmFtcy5wYXJ0bmVyLDApLG4ucHJpdmFjeSYmRCh1LEpTT04uc3RyaW5naWZ5KG4ucHJpdmFjeSksMzApLGUuc3RvcmFnZS50eXBlPT09ZCYmZnVuY3Rpb24oZSl7by5sb2dJbmZvKGcrInJlbW92aW5nIGxlZ2FjeSBjb29raWVzIiksbC5mb3JFYWNoKChmdW5jdGlvbihyKXttLnNldENvb2tpZSgiIi5jb25jYXQociksIiAiLHYoLTEpKSxtLnNldENvb2tpZSgiIi5jb25jYXQociwiX25iIiksIiAiLHYoLTEpKSxtLnNldENvb2tpZSgiIi5jb25jYXQociwiXyIpLmNvbmNhdChlLCJfbmIiKSwiICIsdigtMSkpLG0uc2V0Q29va2llKCIiLmNvbmNhdChyLCJfbGFzdCIpLCIgIix2KC0xKSl9KSl9KGUucGFyYW1zLnBhcnRuZXIpfWNhdGNoKGUpe28ubG9nRXJyb3IoZytlKX1yKG4pfSxlcnJvcjpmdW5jdGlvbihlKXtvLmxvZ0Vycm9yKGcrImdldElkIGZldGNoIGVuY291bnRlcmVkIGFuIGVycm9yIixlKSxyKCl9fTtvLmxvZ0luZm8oZysicmVxdWVzdGluZyBhbiBJRCBmcm9tIHRoZSBzZXJ2ZXIiLGgpLE9iamVjdChuLmEpKHMsdCxKU09OLnN0cmluZ2lmeShoKSx7bWV0aG9kOiJQT1NUIix3aXRoQ3JlZGVudGlhbHM6ITB9KX19fX0sZXh0ZW5kSWQ6ZnVuY3Rpb24oZSxyLHQpe3JldHVybiBiKGUpLF8oZSYmZS5wYXJhbXMmJmUucGFyYW1zLnBhcnRuZXJ8fDApLG8ubG9nSW5mbyhnKyJ1c2luZyBjYWNoZWQgSUQiLHQpLHR9fTtmdW5jdGlvbiBiKGUpe3JldHVybiBlJiZlLnBhcmFtcyYmZS5wYXJhbXMucGFydG5lciYmIm51bWJlciI9PXR5cGVvZiBlLnBhcmFtcy5wYXJ0bmVyP2Uuc3RvcmFnZSYmZS5zdG9yYWdlLnR5cGUmJmUuc3RvcmFnZS5uYW1lPyhlLnN0b3JhZ2UudHlwZSE9PWQmJm8ubG9nV2FybihnKyJzdG9yYWdlIHR5cGUgcmVjb21tZW5kZWQgdG8gYmUgJyIuY29uY2F0KGQsIicuIEluIGEgZnV0dXJlIHJlbGVhc2UgdGhpcyBtYXkgYmVjb21lIGEgc3RyaWN0IHJlcXVpcmVtZW50IikpLGUuc3RvcmFnZS5uYW1lIT09cCYmby5sb2dXYXJuKGcrInN0b3JhZ2UgbmFtZSByZWNvbW1lbmRlZCB0byBiZSAnIi5jb25jYXQocCwiJy4gSW4gYSBmdXR1cmUgcmVsZWFzZSB0aGlzIG1heSBiZWNvbWUgYSBzdHJpY3QgcmVxdWlyZW1lbnQiKSksITApOihvLmxvZ0Vycm9yKGcrInN0b3JhZ2UgcmVxdWlyZWQgdG8gYmUgc2V0IiksITEpOihvLmxvZ0Vycm9yKGcrInBhcnRuZXIgcmVxdWlyZWQgdG8gYmUgZGVmaW5lZCBhcyBhIG51bWJlciIpLCExKX1mdW5jdGlvbiB2KGUpe3JldHVybiBuZXcgRGF0ZShEYXRlLm5vdygpKzg2NGU1KmUpLnRvVVRDU3RyaW5nKCl9ZnVuY3Rpb24gSShlKXtyZXR1cm4iIi5jb25jYXQocCwiXyIpLmNvbmNhdChlLCJfbmIiKX1mdW5jdGlvbiB5KGUscil7RChJKGUpLHIsMzApfWZ1bmN0aW9uIFMoZSl7dmFyIHI9aChJKGUpKTtyZXR1cm4gcj9wYXJzZUludChyKTowfWZ1bmN0aW9uIF8oZSl7dmFyIHI9UyhlKSsxO3JldHVybiB5KGUscikscn1mdW5jdGlvbiBoKGUpe3ZhciByPW0uZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KGUsIl9leHAiKSk7cmV0dXJuIiI9PT1yfHxyJiZuZXcgRGF0ZShyKS5nZXRUaW1lKCktRGF0ZS5ub3coKT4wP20uZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoZSk6KG0ucmVtb3ZlRGF0YUZyb21Mb2NhbFN0b3JhZ2UoZSksbnVsbCl9ZnVuY3Rpb24gRChlLHIsdCl7bS5zZXREYXRhSW5Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KGUsIl9leHAiKSx2KHQpKSxtLnNldERhdGFJbkxvY2FsU3RvcmFnZSgiIi5jb25jYXQoZSkscil9T2JqZWN0KGEuZSkoInVzZXJJZCIsZil9fSxbNDY0XSk7CnVwYmpzQ2h1bmsoWzQ3XSx7MTg6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtyLmI9ZnVuY3Rpb24oZSl7dmFyIHI9W107Zm9yKHZhciB0IGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSlpZigicHViUHJvdmlkZWRJZCI9PT10KXI9ci5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBpPW4oZVt0XSx0KTtpJiZyLnB1c2goaSl9cmV0dXJuIHJ9LHIuYT1mdW5jdGlvbihlKXt2YXIgcj1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmlzUGxhaW5PYmplY3QoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpLmRlZXBBY2Nlc3MoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmaS5kZWVwQWNjZXNzKGEsdCsiLnNvdXJjZSIpJiZyLnB1c2goe3NvdXJjZTphW3RdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSxyfTt2YXIgaT10KDApLGE9e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgcj1pLnBpY2soZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXMocikubGVuZ3RoKXJldHVybiByfX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfX07ZnVuY3Rpb24gbihlLHIpe3ZhciB0PWFbcl07aWYodCYmZSl7dmFyIG49e307bi5zb3VyY2U9dC5zb3VyY2U7dmFyIHM9aS5pc0ZuKHQuZ2V0VmFsdWUpP3QuZ2V0VmFsdWUoZSk6ZTtpZihpLmlzU3RyKHMpKXt2YXIgZD17aWQ6cyxhdHlwZTp0LmF0eXBlfTtpZihpLmlzRm4odC5nZXRVaWRFeHQpKXt2YXIgYz10LmdldFVpZEV4dChlKTtjJiYoZC5leHQ9Yyl9aWYobi51aWRzPVtkXSxpLmlzRm4odC5nZXRFaWRFeHQpKXt2YXIgbz10LmdldEVpZEV4dChlKTtvJiYobi5leHQ9byl9cmV0dXJuIG59fXJldHVybiBudWxsfX0sNDc2OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg0NzcpfSw0Nzc6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLHIuSW1wcm92ZURpZ2l0YWxBZFNlcnZlckpTQ2xpZW50PXY7dmFyIGk9dCgwKSxhPXQoMSksbj10KDMpLHM9dCgyKSxkPXQoMTMpLGM9dCgxOCksbz10KDEyKSx1PXQubihvKTtmdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgaSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbD0iaHR0cHM6Ly9hY2RuLmFkbnhzLmNvbS92aWRlby9vdXRzdHJlYW0vQU5PdXRzdHJlYW1WaWRlby5qcyIsbT1bInNraXAiLCJza2lwbWluIiwic2tpcGFmdGVyIl0sZj17dmVyc2lvbjoiNy40LjAiLGNvZGU6ImltcHJvdmVkaWdpdGFsIixndmxpZDoyNTMsYWxpYXNlczpbImlkIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpbcy5iLHMuYyxzLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUucGFyYW1zJiYoZS5wYXJhbXMucGxhY2VtZW50SWR8fGUucGFyYW1zLnBsYWNlbWVudEtleSYmZS5wYXJhbXMucHVibGlzaGVySWQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHI9aS5nZXRCaWRJZFBhcmFtZXRlcigiYWRVbml0Q29kZSIsZSl8fG51bGwsdD1pLmdldEJpZElkUGFyYW1ldGVyKCJwbGFjZW1lbnRJZCIsZS5wYXJhbXMpfHxudWxsLGE9bnVsbCxkPW51bGw7bnVsbD09PXQmJihhPWkuZ2V0QmlkSWRQYXJhbWV0ZXIoInB1Ymxpc2hlcklkIixlLnBhcmFtcyl8fG51bGwsZD1pLmdldEJpZElkUGFyYW1ldGVyKCJwbGFjZW1lbnRLZXkiLGUucGFyYW1zKXx8bnVsbCk7dmFyIGM9aS5nZXRCaWRJZFBhcmFtZXRlcigia2V5VmFsdWVzIixlLnBhcmFtcyl8fG51bGwsbz1pLmdldEJpZElkUGFyYW1ldGVyKCJzaXplIixlLnBhcmFtcyl8fG51bGwscD1pLmdldEJpZElkUGFyYW1ldGVyKCJiaWRJZCIsZSksbD1pLmdldEJpZElkUGFyYW1ldGVyKCJ0cmFuc2FjdGlvbklkIixlKSxmPW4uYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKSxnPXt9O3koZSkmJihnLmFkVHlwZXM9W3MuZF0pOyh5KGUpfHxoKGUpKSYmKGcudmlkZW89ZnVuY3Rpb24oZSl7dmFyIHI9e307cmV0dXJuIE9iamVjdC5rZXlzKE9iamVjdChlLm1lZGlhVHlwZXMudmlkZW8pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB1KCkobSxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3RdPWUubWVkaWFUeXBlcy52aWRlb1t0XX0pKSxPYmplY3Qua2V5cyhPYmplY3QoZS5wYXJhbXMudmlkZW8pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB1KCkobSxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3RdPWUucGFyYW1zLnZpZGVvW3RdfSkpLHJ9KGUpKTt0P2cucGxhY2VtZW50SWQ9dDooYSYmKGcucHVibGlzaGVySWQ9YSksZCYmKGcucGxhY2VtZW50S2V5PWQpKTtjJiYoZy5rZXlWYWx1ZXM9Yyk7ITA9PT1uLmIuZ2V0Q29uZmlnKCJpbXByb3ZlZGlnaXRhbC51c2VQcmViaWRTaXplcyIpJiYheShlKSYmIWgoZSkmJmUuc2l6ZXMmJmUuc2l6ZXMubGVuZ3RoPjA/Zy5mb3JtYXQ9ZS5zaXplczpvJiZvLncmJm8uaCYmKGcuc2l6ZT17fSxnLnNpemUuaD1vLmgsZy5zaXplLnc9by53KTtwJiYoZy5pZD1wKTtyJiYoZy5hZFVuaXRJZD1yKTtsJiYoZy50cmFuc2FjdGlvbklkPWwpO2YmJihnLmN1cnJlbmN5PWYpO3ZhciBiPWZ1bmN0aW9uKGUpe2lmKCFpLmlzRm4oZS5nZXRGbG9vcikpcmV0dXJuIG51bGw7dmFyIHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKGkuaXNQbGFpbk9iamVjdChyKSYmIWlzTmFOKHIuZmxvb3IpJiYiVVNEIj09PXIuY3VycmVuY3kpcmV0dXJuIHIuZmxvb3I7cmV0dXJuIG51bGx9KGUpLHY9bnVsbDtifHwoYj1pLmdldEJpZElkUGFyYW1ldGVyKCJiaWRGbG9vciIsZS5wYXJhbXMpLHY9aS5nZXRCaWRJZFBhcmFtZXRlcigiYmlkRmxvb3JDdXIiLGUucGFyYW1zKSk7YiYmKGcuYmlkRmxvb3I9YixnLmJpZEZsb29yQ3VyPXY/di50b1VwcGVyQ2FzZSgpOiJVU0QiKTtyZXR1cm4gZ30oZSl9KSksYT1uZXcgdigiaGIiKSxkPXtzaW5nbGVSZXF1ZXN0TW9kZTohMD09PW4uYi5nZXRDb25maWcoImltcHJvdmVkaWdpdGFsLnNpbmdsZVJlcXVlc3QiKSxyZXR1cm5PYmpUeXBlOmEuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5VUkxfUEFSQU1TX1NQTElULGxpYlZlcnNpb246dGhpcy52ZXJzaW9ufTtpZihyJiZyLmdkcHJDb25zZW50JiZyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihkLmdkcHI9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxyJiZyLnVzcENvbnNlbnQmJihkLnVzUHJpdmFjeT1yLnVzcENvbnNlbnQpLHImJnIucmVmZXJlckluZm8mJnIucmVmZXJlckluZm8ucmVmZXJlciYmKGQucmVmZXJyZXI9ci5yZWZlcmVySW5mby5yZWZlcmVyKSxkLnNjaGFpbj1lWzBdLnNjaGFpbixlWzBdLnVzZXJJZCl7dmFyIG89T2JqZWN0KGMuYikoZVswXS51c2VySWQpO28ubGVuZ3RoJiZpLmRlZXBTZXRWYWx1ZShkLCJ1c2VyLmV4dC5laWRzIixvKX12YXIgcD1hLmNyZWF0ZVJlcXVlc3QodCxkKTtyZXR1cm4gcC5lcnJvcnMmJnAuZXJyb3JzLmxlbmd0aD4wJiZpLmxvZ0Vycm9yKCJJRCBXQVJOSU5HIDB4MDEiKSxwLnJlcXVlc3RzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlclJlcXVlc3Q9cn0pKSxwLnJlcXVlc3RzfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PXIuYmlkZGVyUmVxdWVzdCxhPVtdO3JldHVybiBpLl9lYWNoKGUuYm9keS5iaWQsKGZ1bmN0aW9uKGUpe2lmKGUucHJpY2UmJm51bGwhPT1lLnByaWNlJiYhZS5oYXNPd25Qcm9wZXJ0eSgiZXJyb3JDb2RlIikmJihlLmFkbXx8ZS5uYXRpdmUpKXt2YXIgcj1pLmdldEJpZFJlcXVlc3QoZS5pZCxbdF0pLG49e307aWYoZS5uYXRpdmUpbi5uYXRpdmU9ZnVuY3Rpb24oZSl7dmFyIHI9e307aWYoIWV8fCFpLmlzQXJyYXkoZS5hc3NldHMpKXJldHVybiBudWxsO2UuYXNzZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUudGl0bGUpci50aXRsZT1lLnRpdGxlLnRleHQ7ZWxzZSBpZihlLmRhdGEpc3dpdGNoKGUuZGF0YS50eXBlKXtjYXNlIDE6ci5zcG9uc29yZWRCeT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAyOnIuYm9keT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAzOnIucmF0aW5nPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDQ6ci5saWtlcz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA1OnIuZG93bmxvYWRzPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDY6ci5wcmljZT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA3OnIuc2FsZVByaWNlPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDg6ci5waG9uZT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA5OnIuYWRkcmVzcz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAxMDpyLmJvZHkyPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDExOnIuZGlzcGxheVVybD1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAxMjpyLmN0YT1lLmRhdGEudmFsdWV9ZWxzZSBpZihlLmltZylzd2l0Y2goZS5pbWcudHlwZSl7Y2FzZSAyOnIuaWNvbj17dXJsOmUuaW1nLnVybCx3aWR0aDplLmltZy53LGhlaWdodDplLmltZy5ofTticmVhaztjYXNlIDM6ci5pbWFnZT17dXJsOmUuaW1nLnVybCx3aWR0aDplLmltZy53LGhlaWdodDplLmltZy5ofX19KSksZS5ldmVudHRyYWNrZXJzPyhyLmltcHJlc3Npb25UcmFja2Vycz1bXSxlLmV2ZW50dHJhY2tlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoMT09PWUuZXZlbnQpc3dpdGNoKGUubWV0aG9kKXtjYXNlIDE6ci5pbXByZXNzaW9uVHJhY2tlcnMucHVzaChlLnVybCk7YnJlYWs7Y2FzZSAyOnIuamF2YXNjcmlwdFRyYWNrZXJzPSc8c2NyaXB0IHNyYz0iJy5jb25jYXQoZS51cmwsJyI+PFwvc2NyaXB0PicpfX0pKSk6KHIuaW1wcmVzc2lvblRyYWNrZXJzPWUuaW1wdHJhY2tlcnN8fFtdLHIuamF2YXNjcmlwdFRyYWNrZXJzPWUuanN0cmFja2VyKTtlLmxpbmsmJihyLmNsaWNrVXJsPWUubGluay51cmwsci5jbGlja1RyYWNrZXJzPWUubGluay5jbGlja3RyYWNrZXJzKTtlLnByaXZhY3kmJihyLnByaXZhY3lMaW5rPWUucHJpdmFjeSk7cmV0dXJuIHJ9KGUubmF0aXZlKSxuLm9ydGJOYXRpdmU9ZS5uYXRpdmUsZS5udXJsJiZuLm5hdGl2ZS5pbXByZXNzaW9uVHJhY2tlcnMudW5zaGlmdChlLm51cmwpLG4ubWVkaWFUeXBlPXMuYztlbHNlIGlmKGUuYWRfdHlwZSYmInZpZGVvIj09PWUuYWRfdHlwZSluLnZhc3RYbWw9ZS5hZG0sbi5tZWRpYVR5cGU9cy5kLGgocikmJihuLmFkUmVzcG9uc2U9e2NvbnRlbnQ6bi52YXN0WG1sLGhlaWdodDplLmgsd2lkdGg6ZS53fSxuLnJlbmRlcmVyPWZ1bmN0aW9uKGUpe3ZhciByPWQuYS5pbnN0YWxsKHtpZDplLmFkVW5pdENvZGUsdXJsOmwsbG9hZGVkOiExLGNvbmZpZzppLmRlZXBBY2Nlc3MoZSwicmVuZGVyZXIub3B0aW9ucyIpLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfSk7dHJ5e3Iuc2V0UmVuZGVyKGcpfWNhdGNoKGUpe2kubG9nV2FybigiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gcn0ocikpO2Vsc2V7dmFyIGM9IiI7ZS5udXJsJiZlLm51cmwubGVuZ3RoPjAmJihjPSc8aW1nIHNyYz0iJy5jb25jYXQoZS5udXJsLCciIHdpZHRoPSIwIiBoZWlnaHQ9IjAiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPicpKSxuLmFkPSIiLmNvbmNhdChjLCI8c2NyaXB0PiIpLmNvbmNhdChlLmFkbSwiPFwvc2NyaXB0PiIpLG4ubWVkaWFUeXBlPXMuYn1pZihuLmNwbT1wYXJzZUZsb2F0KGUucHJpY2UpLG4uY3JlYXRpdmVJZD1lLmNyaWQsbi5jdXJyZW5jeT1lLmN1cnJlbmN5P2UuY3VycmVuY3kudG9VcHBlckNhc2UoKToiVVNEIixpLmlzTnVtYmVyKGUubGlkKSYmZS5idXlpbmdfdHlwZSYmInJ0YiIhPT1lLmJ1eWluZ190eXBlKW4uZGVhbElkPWUubGlkO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShlLmxpZCkmJkFycmF5LmlzQXJyYXkoZS5idXlpbmdfdHlwZSkmJmUubGlkLmxlbmd0aD09PWUuYnV5aW5nX3R5cGUubGVuZ3RoKXt2YXIgbz0hMTtlLmJ1eWluZ190eXBlLmZvckVhY2goKGZ1bmN0aW9uKHIsdCl7b3x8ciYmInJ0YiIhPT1yJiYobz0hMCxuLmRlYWxJZD1lLmxpZFt0XSl9KSl9bi5oZWlnaHQ9ZS5oLG4ubmV0UmV2ZW51ZT0hIWUuaXNOZXQmJmUuaXNOZXQsbi5yZXF1ZXN0SWQ9ZS5pZCxuLnR0bD0zMDAsbi53aWR0aD1lLncsbi53aWR0aCYmbi5oZWlnaHR8fChuLndpZHRoPTEsbi5oZWlnaHQ9MSksZS5hZG9tYWluJiYobi5tZXRhPXthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW59KSxhLnB1c2gobil9fSkpLGF9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe2lmKGUucGl4ZWxFbmFibGVkKXt2YXIgdD1bXTtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJvZHkuYmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kuaXNBcnJheShlLnN5bmMpJiZlLnN5bmMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7LTE9PT10LmluZGV4T2YoZSkmJnQucHVzaChlKX0pKX0pKX0pKSx0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ImltYWdlIix1cmw6ZX19KSl9cmV0dXJuW119fTtmdW5jdGlvbiB5KGUpe3ZhciByPU9iamVjdC5rZXlzKGkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzIix7fSkpLHQ9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxhPWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTtyZXR1cm4idmlkZW8iPT09ZS5tZWRpYVR5cGV8fDE9PT1yLmxlbmd0aCYmdCYmIm91dHN0cmVhbSIhPT1hfWZ1bmN0aW9uIGgoZSl7dmFyIHI9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKSx0PWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTtyZXR1cm4gciYmIm91dHN0cmVhbSI9PT10fWZ1bmN0aW9uIGcoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5BTk91dHN0cmVhbVZpZGVvLnJlbmRlckFkKHtzaXplczpbZS53aWR0aCxlLmhlaWdodF0sdGFyZ2V0SWQ6ZS5hZFVuaXRDb2RlLGFkUmVzcG9uc2U6ZS5hZFJlc3BvbnNlLHJlbmRlcmVyT3B0aW9uczplLnJlbmRlcmVyLmdldENvbmZpZygpfSxiLmJpbmQobnVsbCxlKSl9KSl9ZnVuY3Rpb24gYihlLHIsdCl7ZS5yZW5kZXJlci5oYW5kbGVWaWRlb0V2ZW50KHtpZDpyLGV2ZW50TmFtZTp0fSl9ZnVuY3Rpb24gdihlKXt0aGlzLkNPTlNUQU5UUz17QURfU0VSVkVSX0JBU0VfVVJMOiJpY2UuMzYweWllbGQuY29tIixFTkRfUE9JTlQ6ZXx8ImhiIixBRF9TRVJWRVJfVVJMX1BBUkFNOiJqc29ucD0iLENMSUVOVF9WRVJTSU9OOiJKUy02LjQuMCIsTUFYX1VSTF9MRU5HVEg6MjA4MyxFUlJPUl9DT0RFUzp7TUlTU0lOR19QTEFDRU1FTlRfUEFSQU1TOjIsTElCX1ZFUlNJT05fTUlTU0lORzozfSxSRVRVUk5fT0JKX1RZUEU6e0RFRkFVTFQ6MCxVUkxfUEFSQU1TX1NQTElUOjF9fSx0aGlzLmdldEVycm9yUmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybntpZE1hcHBpbmdzOnt9LHJlcXVlc3RzOnt9LGVycm9yQ29kZTplfX0sdGhpcy5jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKGUscix0KXtpZighci5saWJWZXJzaW9uKXJldHVybiB0aGlzLmdldEVycm9yUmV0dXJuKHRoaXMuQ09OU1RBTlRTLkVSUk9SX0NPREVTLkxJQl9WRVJTSU9OX01JU1NJTkcpO3IucmV0dXJuT2JqVHlwZT1yLnJldHVybk9ialR5cGV8fHRoaXMuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5ERUZBVUxULHIuYWRTZXJ2ZXJCYXNlVXJsPSJodHRwczovLyIrKHIuYWRTZXJ2ZXJCYXNlVXJsfHx0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfQkFTRV9VUkwpO3ZhciBhLG49W107aWYoaS5pc0FycmF5KGUpKWZvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKWE9dGhpcy5jcmVhdGVJbXByZXNzaW9uT2JqZWN0KGVbc10pLG4ucHVzaChhKTtlbHNlIGE9dGhpcy5jcmVhdGVJbXByZXNzaW9uT2JqZWN0KGUpLG4ucHVzaChhKTt2YXIgZD0hMDtyLnJldHVybk9ialR5cGU9PT10aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuVVJMX1BBUkFNU19TUExJVCYmKGQ9ITEpO3ZhciBjPXtyZXF1ZXN0czpbXX07ZCYmKGMuaWRNYXBwaW5ncz1bXSk7Zm9yKHZhciBvPW51bGwsdT0iIi5jb25jYXQoci5hZFNlcnZlckJhc2VVcmwsIi8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuRU5EX1BPSU5ULCI/IikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pLHA9e2JpZF9yZXF1ZXN0OnRoaXMuY3JlYXRlQmFzaWNCaWRSZXF1ZXN0T2JqZWN0KHIsdCl9LGw9MDtsPG4ubGVuZ3RoO2wrKylpZigoYT1uW2xdKS5lcnJvckNvZGUpKG89b3x8W10pLnB1c2goe2Vycm9yQ29kZTphLmVycm9yQ29kZSxhZFVuaXRJZDphLmFkVW5pdElkfSk7ZWxzZXtkJiZjLmlkTWFwcGluZ3MucHVzaCh7YWRVbml0SWQ6YS5hZFVuaXRJZCxpZDphLmltcHJlc3Npb25PYmplY3QuaWR9KSxwLmJpZF9yZXF1ZXN0LmltcD1wLmJpZF9yZXF1ZXN0LmltcHx8W10scC5iaWRfcmVxdWVzdC5pbXAucHVzaChhLmltcHJlc3Npb25PYmplY3QpO3ZhciBtPSExOyh1K2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShwKSkpLmxlbmd0aD50aGlzLkNPTlNUQU5UUy5NQVhfVVJMX0xFTkdUSCYmKG09ITAscC5iaWRfcmVxdWVzdC5pbXAubGVuZ3RoPjEmJihwLmJpZF9yZXF1ZXN0LmltcC5wb3AoKSxkJiZjLmlkTWFwcGluZ3MucG9wKCksbC0tKSksIW0mJnIuc2luZ2xlUmVxdWVzdE1vZGUmJmwhPT1uLmxlbmd0aC0xfHwoYy5yZXF1ZXN0cy5wdXNoKHRoaXMuZm9ybWF0UmVxdWVzdChyLHApKSxwPXtiaWRfcmVxdWVzdDp0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdChyLHQpfSl9cmV0dXJuIG8mJihjLmVycm9ycz1vKSxjfSx0aGlzLmZvcm1hdFJlcXVlc3Q9ZnVuY3Rpb24oZSxyKXtzd2l0Y2goZS5yZXR1cm5PYmpUeXBlKXtjYXNlIHRoaXMuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5VUkxfUEFSQU1TX1NQTElUOnJldHVybnttZXRob2Q6IkdFVCIsdXJsOiIiLmNvbmNhdChlLmFkU2VydmVyQmFzZVVybCwiLyIpLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5FTkRfUE9JTlQpLGRhdGE6IiIuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpKX07ZGVmYXVsdDpyZXR1cm57dXJsOiIiLmNvbmNhdChlLmFkU2VydmVyQmFzZVVybCwiLyIpKyIiLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5FTkRfUE9JTlQsIj8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX1VSTF9QQVJBTSkrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKX19fSx0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdD1mdW5jdGlvbihlLHIpe3ZhciB0PXtzZWN1cmU6MX07aWYoZS5yZXF1ZXN0SWQ/dC5pZD1lLnJlcXVlc3RJZDp0LmlkPWkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGUuZG9tYWluJiYodC5kb21haW49ZS5kb21haW4pLGUucGFnZSYmKHQucGFnZT1lLnBhZ2UpLGUucmVmJiYodC5yZWY9ZS5yZWYpLGUuY2FsbGJhY2smJih0LmNhbGxiYWNrPWUuY2FsbGJhY2spLGUubGliVmVyc2lvbiYmKHQudmVyc2lvbj1lLmxpYlZlcnNpb24rIi0iK3RoaXMuQ09OU1RBTlRTLkNMSUVOVF9WRVJTSU9OKSxlLnJlZmVycmVyJiYodC5yZWZlcnJlcj1lLnJlZmVycmVyKSwoZS5nZHByfHwwPT09ZS5nZHByKSYmKHQuZ2Rwcj1lLmdkcHIpLGUudXNQcml2YWN5JiYodC51c19wcml2YWN5PWUudXNQcml2YWN5KSxlLnNjaGFpbiYmKHQuc2NoYWluPWUuc2NoYWluKSxlLnVzZXImJih0LnVzZXI9ZS51c2VyKSxyKWZvcih2YXIgYSBpbiByKXRbYV09clthXTtyZXR1cm4gdH0sdGhpcy5jcmVhdGVJbXByZXNzaW9uT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciByPXt9LHQ9e307aWYoci5pbXByZXNzaW9uT2JqZWN0PXQsZS5pZD90LmlkPWUuaWQ6dC5pZD1pLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxlLmFkVHlwZXMmJih0LmFkX3R5cGVzPWUuYWRUeXBlcyksZS5hZFVuaXRJZCYmKHIuYWRVbml0SWQ9ZS5hZFVuaXRJZCksZS5jdXJyZW5jeSYmKHQuY3VycmVuY3k9ZS5jdXJyZW5jeS50b1VwcGVyQ2FzZSgpKSxlLmJpZEZsb29yJiYodC5iaWRmbG9vcj1lLmJpZEZsb29yKSxlLmJpZEZsb29yQ3VyJiYodC5iaWRmbG9vcmN1cj1lLmJpZEZsb29yQ3VyLnRvVXBwZXJDYXNlKCkpLGUucGxhY2VtZW50SWQmJih0LnBpZD1lLnBsYWNlbWVudElkKSxlLnB1Ymxpc2hlcklkJiYodC5wdWJpZD1lLnB1Ymxpc2hlcklkKSxlLnBsYWNlbWVudEtleSYmKHQucGtleT1lLnBsYWNlbWVudEtleSksZS50cmFuc2FjdGlvbklkJiYodC50aWQ9ZS50cmFuc2FjdGlvbklkKSwhaS5pc0VtcHR5KGUudmlkZW8pKXt2YXIgYT1wKHt9LGUudmlkZW8pOzEhPT1hLnNraXAmJihkZWxldGUgYS5za2lwbWluLGRlbGV0ZSBhLnNraXBhZnRlciwwIT09YS5za2lwJiYoaS5sb2dXYXJuKCJ2aWRlby5za2lwOiBpbnZhbGlkIHZhbHVlICciLmNvbmNhdChhLnNraXAsIicuIEV4cGVjdGVkIDAgb3IgMSIpKSxkZWxldGUgYS5za2lwKSksaS5pc0VtcHR5KGEpfHwodC52aWRlbz1hKX1pZihlLmtleVZhbHVlcylmb3IodmFyIG4gaW4gZS5rZXlWYWx1ZXMpZm9yKHZhciBzPTA7czxlLmtleVZhbHVlc1tuXS5sZW5ndGg7cysrKXQua3Z3PXQua3Z3fHx7fSx0Lmt2d1tuXT10Lmt2d1tuXXx8W10sdC5rdndbbl0ucHVzaChlLmtleVZhbHVlc1tuXVtzXSk7aWYodC5iYW5uZXI9e30sZS5zaXplJiZlLnNpemUudyYmZS5zaXplLmgmJih0LmJhbm5lci53PWUuc2l6ZS53LHQuYmFubmVyLmg9ZS5zaXplLmgpLGUuZm9ybWF0JiZpLmlzQXJyYXkoZS5mb3JtYXQpKXt2YXIgZD1lLmZvcm1hdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAyPT09ZS5sZW5ndGgmJmkuaXNJbnRlZ2VyKGVbMF0pJiZpLmlzSW50ZWdlcihlWzFdKSYmZVswXT49MCYmZVsxXT49MH0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKTtkLmxlbmd0aD4wJiYodC5iYW5uZXIuZm9ybWF0PWQpfXJldHVybiB0LnBpZHx8dC5wdWJpZHx8dC5wa2V5fHx0LmJhbm5lciYmdC5iYW5uZXIudyYmdC5iYW5uZXIuaHx8KHIuaW1wcmVzc2lvbk9iamVjdD1udWxsLHIuZXJyb3JDb2RlPXRoaXMuQ09OU1RBTlRTLkVSUk9SX0NPREVTLk1JU1NJTkdfUExBQ0VNRU5UX1BBUkFNUykscn19T2JqZWN0KGEucmVnaXN0ZXJCaWRkZXIpKGYpfX0sWzQ3Nl0pOwp1cGJqc0NodW5rKFsyMDZdLHs1MDQ6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDUwNSl9LDUwNTpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFZ9KSk7dmFyIGk9dCgwKSxuPXQoMiksYT10KDMpLG89dCgxMSkscz10Lm4obyksZD10KDEpLGM9dCgyMik7ZnVuY3Rpb24gcChlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gdihlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGIoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gdShlLHIpe3ZhciB0PU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKGk9aS5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksdC5wdXNoLmFwcGx5KHQsaSl9cmV0dXJuIHR9ZnVuY3Rpb24gbShlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj91KE9iamVjdCh0KSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7bChlLHIsdFtyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSk6dShPYmplY3QodCkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBsKGUscix0KXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPXQsZX1mdW5jdGlvbiBmKGUpe3JldHVybihmPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24geShlLHIpe3ZhciB0PSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZighdCl7aWYoQXJyYXkuaXNBcnJheShlKXx8KHQ9YihlKSl8fHImJmUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpe3QmJihlPXQpO3ZhciBpPTAsbj1mdW5jdGlvbigpe307cmV0dXJue3M6bixuOmZ1bmN0aW9uKCl7cmV0dXJuIGk+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW2krK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6bn19dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfXZhciBhLG89ITAscz0hMTtyZXR1cm57czpmdW5jdGlvbigpe3Q9dC5jYWxsKGUpfSxuOmZ1bmN0aW9uKCl7dmFyIGU9dC5uZXh0KCk7cmV0dXJuIG89ZS5kb25lLGV9LGU6ZnVuY3Rpb24oZSl7cz0hMCxhPWV9LGY6ZnVuY3Rpb24oKXt0cnl7b3x8bnVsbD09dC5yZXR1cm58fHQucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGF9fX19ZnVuY3Rpb24gYihlLHIpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gdihlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT10fHwiU2V0Ij09PXQ/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpP3YoZSxyKTp2b2lkIDB9fWZ1bmN0aW9uIHYoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxpPW5ldyBBcnJheShyKTt0PHI7dCsrKWlbdF09ZVt0XTtyZXR1cm4gaX12YXIgZz0icm91bmRlbCIsaD1bbi5iLG4uZF0seD04ZTMsST17SlBZOjF9LE89InAiLHc9IngiLEE9e1NJVEU6WyJpZCIsIm5hbWUiLCJkb21haW4iLCJjYXQiLCJzZWN0aW9uY2F0IiwicGFnZWNhdCIsInBhZ2UiLCJyZWYiLCJzZWFyY2giLCJtb2JpbGUiLCJwcml2YWN5cG9saWN5IiwicHVibGlzaGVyIiwiY29udGVudCIsImtleXdvcmRzIiwiZXh0Il0sVVNFUjpbImlkIiwiYnV5ZXJ1aWQiLCJ5b2IiLCJnZW5kZXIiLCJrZXl3b3JkcyIsImN1c3RvbWRhdGEiLCJnZW8iLCJkYXRhIiwiZXh0Il19LFM9eyJsaXZlcmFtcC5jb20iOiJpZGwiLCJuZXRpZC5kZSI6Ik5FVElEIiwibmV1c3Rhci5iaXoiOiJmYWJyaWNrSWQiLCJ6ZW90YXAuY29tIjoiemVvdGFwSWRQbHVzIiwidWlkYXBpLmNvbSI6IlVJRDIiLCJhZHNlcnZlci5vcmciOiJURElEIn0sUD1bImJyaXRlcG9vbGlkIiwiaWQ1aWQiLCJsaXBiaWQiLCJoYWxvSWQiLCJjcml0ZW9JZCIsImxvdGFtZVBhbm9yYW1hSWQiLCJtZXJrbGVJZCIsInBhcnJhYmxlSWQiLCJjb25uZWN0aWQiLCJ0YXBhZElkIiwicXVhbnRjYXN0SWQiLCJwdWJjaWQiLCJURElEIiwiZmxvY0lkIl0sej1bIm1pbWVzIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiJdLFQ9WyJtaW1lcyIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJwcm90b2NvbHMiLCJwcm90b2NvbCIsInN0YXJ0ZGVsYXkiLCJwbGFjZW1lbnQiLCJsaW5lYXJpdHkiLCJza2lwIiwic2tpcG1pbiIsInNraXBhZnRlciIsInNlcXVlbmNlIiwiYmF0dHIiLCJtYXhleHRlbmRlZCIsIm1pbmJpdHJhdGUiLCJtYXhiaXRyYXRlIiwiYm94aW5nYWxsb3dlZCIsInBsYXliYWNrbWV0aG9kIiwicGxheWJhY2tlbmQiLCJkZWxpdmVyeSIsInBvcyIsImNvbXBhbmlvbmFkIiwiYXBpIiwiY29tcGFuaW9udHlwZSIsImV4dCIsInBsYXllclNpemUiLCJ3IiwiaCJdO2Z1bmN0aW9uIGooZSl7dmFyIHI9ayhlKTtyLmJhbm5lcj17fTt2YXIgdD1pLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnNpemUiKTtyZXR1cm4gdCYmKHIuYmFubmVyLnc9dFswXSxyLmJhbm5lci5oPXRbMV0saS5kZWVwQWNjZXNzKHIsImV4dC5zaWQiKXx8KHIuZXh0LnNpZD1pLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5KHQpKSksci5iYW5uZXIudG9wZnJhbWU9aS5pbklmcmFtZSgpPzA6MSxFKGUscixuLmIpLHJ9ZnVuY3Rpb24gQyhlKXt2YXIgcj1rKGUpLHQ9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxhPWkuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8iKTtpZighcShlLHQsYSkpcmV0dXJue307Zm9yKHZhciBvIGluIHIudmlkZW89YT9pLmRlZXBDbG9uZShlLnBhcmFtcy52aWRlbyk6e30sdCktMT09PVQuaW5kZXhPZihvKXx8ci52aWRlby5oYXNPd25Qcm9wZXJ0eShvKXx8KHIudmlkZW9bb109dFtvXSk7aWYoci52aWRlby5taW5kdXJhdGlvbj5yLnZpZGVvLm1heGR1cmF0aW9uKXJldHVybiBpLmxvZ0Vycm9yKCJJWCBCaWQgQWRhcHRlcjogdmlkZW8gbWluZHVyYXRpb24gWyIuY29uY2F0KHIudmlkZW8ubWluZHVyYXRpb24sIl0gY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiB2aWRlbyBtYXhkdXJhdGlvbiBbIikuY29uY2F0KHIudmlkZW8ubWF4ZHVyYXRpb24sIl0iKSkse307dmFyIHM9YSYmYS5jb250ZXh0fHx0JiZ0LmNvbnRleHQ7aWYocyYmIXIudmlkZW8uaGFzT3duUHJvcGVydHkoInBsYWNlbWVudCIpJiYocz09PWMuYT9yLnZpZGVvLnBsYWNlbWVudD0xOnM9PT1jLmI/ci52aWRlby5wbGFjZW1lbnQ9NDppLmxvZ1dhcm4oIklYIEJpZCBBZGFwdGVyOiBWaWRlbyBjb250ZXh0ICciLmNvbmNhdChzLCInIGlzIG5vdCBzdXBwb3J0ZWQiKSkpLCFyLnZpZGVvLnd8fCFyLnZpZGVvLmgpe3ZhciBkPVUoaS5kZWVwQWNjZXNzKHIsInZpZGVvLnBsYXllclNpemUiKSl8fFUoaS5kZWVwQWNjZXNzKGUsInBhcmFtcy5zaXplIikpO2lmKCFkKXJldHVybiBpLmxvZ1dhcm4oIklYIEJpZCBBZGFwdGVyOiBWaWRlbyBzaXplIGlzIG1pc3NpbmcgaW4gW21lZGlhVHlwZXMudmlkZW9dIG1pc3NpbmciKSx7fTtyLnZpZGVvLnc9ZFswXSxyLnZpZGVvLmg9ZFsxXSxpLmRlZXBBY2Nlc3MociwiZXh0LnNpZCIpfHwoci5leHQuc2lkPWkucGFyc2VHUFRTaW5nbGVTaXplQXJyYXkoZCkpfXJldHVybiBFKGUscixuLmQpLHJ9ZnVuY3Rpb24gayhlKXt2YXIgcj17fTtyLmlkPWUuYmlkSWQsci5leHQ9e30sci5leHQuc2l0ZUlEPWUucGFyYW1zLnNpdGVJZCwhZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImlkIil8fCJzdHJpbmciIT10eXBlb2YgZS5wYXJhbXMuaWQmJiJudW1iZXIiIT10eXBlb2YgZS5wYXJhbXMuaWR8fChyLmV4dC5zaWQ9U3RyaW5nKGUucGFyYW1zLmlkKSk7dmFyIHQ9aS5kZWVwQWNjZXNzKGUsIm9ydGIySW1wLmV4dC5kYXRhLmFkc2VydmVyLmFkc2xvdCIpO3JldHVybiB0JiYoci5leHQuZGZwX2FkX3VuaXRfY29kZT10KSxyfWZ1bmN0aW9uIEUoZSxyLHQpe3ZhciBuPW51bGwsYT1udWxsO2lmKGUucGFyYW1zLmJpZEZsb29yJiZlLnBhcmFtcy5iaWRGbG9vckN1ciYmKG49e2Zsb29yOmUucGFyYW1zLmJpZEZsb29yLGN1cnJlbmN5OmUucGFyYW1zLmJpZEZsb29yQ3VyfSksaS5pc0ZuKGUuZ2V0Rmxvb3IpKXt2YXIgbz0iKiIscz0iKiI7aWYodCYmaS5jb250YWlucyhoLHQpKXt2YXIgZD1yW3RdO289dCxzPVtkLncsZC5oXX10cnl7YT1lLmdldEZsb29yKHttZWRpYVR5cGU6byxzaXplOnN9KX1jYXRjaChlKXtpLmxvZ1dhcm4oInByaWNlRmxvb3JzIG1vZHVsZSBjYWxsIGdldEZsb29yIGZhaWxlZCwgZXJyb3IgOiAiLGUpfX1hPyhyLmJpZGZsb29yPWEuZmxvb3Isci5iaWRmbG9vcmN1cj1hLmN1cnJlbmN5LHIuZXh0LmZsPU8pOm4mJihyLmJpZGZsb29yPW4uZmxvb3Isci5iaWRmbG9vcmN1cj1uLmN1cnJlbmN5LHIuZXh0LmZsPXcpfWZ1bmN0aW9uIEQoZSxyLHQpe3ZhciBhPXt9LG89ISghaS5kZWVwQWNjZXNzKGUsImV4cCIpfHwhaS5pc0ludGVnZXIoZS5leHApKSxzPWkuZGVlcEFjY2VzcyhlLCJkZWFsaWQiKXx8aS5kZWVwQWNjZXNzKGUsImV4dC5kZWFsaWQiKTtyZXR1cm4gSS5oYXNPd25Qcm9wZXJ0eShyKT9hLmNwbT1lLnByaWNlL0lbcl06YS5jcG09ZS5wcmljZS8xMDAsYS5yZXF1ZXN0SWQ9ZS5pbXBpZCxzJiYoYS5kZWFsSWQ9cyksYS5uZXRSZXZlbnVlPXRydWUsYS5jdXJyZW5jeT1yLGEuY3JlYXRpdmVJZD1lLmhhc093blByb3BlcnR5KCJjcmlkIik/ZS5jcmlkOiItIixpLmRlZXBBY2Nlc3MoZSwiZXh0LnZhc3R1cmwiKT8oYS52YXN0VXJsPWUuZXh0LnZhc3R1cmwsYS53aWR0aD10LnZpZGVvLncsYS5oZWlnaHQ9dC52aWRlby5oLGEubWVkaWFUeXBlPW4uZCxhLnR0bD1vP2UuZXhwOjM2MDApOihhLmFkPWUuYWRtLGEud2lkdGg9ZS53LGEuaGVpZ2h0PWUuaCxhLm1lZGlhVHlwZT1uLmIsYS50dGw9bz9lLmV4cDozMDApLGEubWV0YT17fSxhLm1ldGEubmV0d29ya0lkPWkuZGVlcEFjY2VzcyhlLCJleHQuZHNwaWQiKSxhLm1ldGEuYnJhbmRJZD1pLmRlZXBBY2Nlc3MoZSwiZXh0LmFkdmJyYW5kaWQiKSxhLm1ldGEuYnJhbmROYW1lPWkuZGVlcEFjY2VzcyhlLCJleHQuYWR2YnJhbmQiKSxlLmFkb21haW4mJmUuYWRvbWFpbi5sZW5ndGg+MCYmKGEubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1lLmFkb21haW4pLGF9ZnVuY3Rpb24gRihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmMj09PWUubGVuZ3RoJiZpLmlzSW50ZWdlcihlWzBdKSYmaS5pc0ludGVnZXIoZVsxXSl9ZnVuY3Rpb24gUigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXSxyPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO2lmKEYoZSkpcmV0dXJuIGVbMF09PT1yWzBdJiZlWzFdPT09clsxXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZihlW3RdWzBdPT09clswXSYmZVt0XVsxXT09PXJbMV0pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gcShlLHIsdCl7dmFyIG49ITA7cnx8aS5sb2dXYXJuKCJJWCBCaWQgQWRhcHRlcjogbWVkaWFUeXBlcy52aWRlbyBpcyB0aGUgcHJlZmVycmVkIGxvY2F0aW9uIGZvciB2aWRlbyBwYXJhbXMgaW4gYWQgdW5pdCIpO3ZhciBhLG89eSh6KTt0cnl7Zm9yKG8ucygpOyEoYT1vLm4oKSkuZG9uZTspe3ZhciBzPWEudmFsdWUsZD1yJiZyLmhhc093blByb3BlcnR5KHMpLGM9dCYmdC5oYXNPd25Qcm9wZXJ0eShzKTtkfHxjfHwoaS5sb2dFcnJvcigiSVggQmlkIEFkYXB0ZXI6ICIuY29uY2F0KHMsIiBpcyBub3QgaW5jbHVkZWQgaW4gZWl0aGVyIHRoZSBhZHVuaXQgb3IgcGFyYW1zIGxldmVsIikpLG49ITEpfX1jYXRjaChlKXtvLmUoZSl9ZmluYWxseXtvLmYoKX1pZighbilyZXR1cm4hMTt2YXIgcD1yJiZyLmhhc093blByb3BlcnR5KCJwcm90b2NvbCIpLHU9ciYmci5oYXNPd25Qcm9wZXJ0eSgicHJvdG9jb2xzIiksbT10JiZ0Lmhhc093blByb3BlcnR5KCJwcm90b2NvbCIpLGw9dCYmdC5oYXNPd25Qcm9wZXJ0eSgicHJvdG9jb2xzIik7cmV0dXJuIHB8fHV8fG18fGx9ZnVuY3Rpb24gVSgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtyZXR1cm4gRihlKT9lOiEhRihlWzBdKSYmZVswXX1mdW5jdGlvbiBCKGUscil7aWYoZSlyZXR1cm4gcygpKHIsKGZ1bmN0aW9uKHIpe3JldHVybiByLmlkPT09ZX0pKX1mdW5jdGlvbiBOKGUscix0LG8pe3ZhciBzPSJodHRwczovL2h0bGIuY2FzYWxlbWVkaWEuY29tL2N5Z251cyIsZD1mdW5jdGlvbihlLHIpe3ZhciB0PVtdLG49e307aWYoaS5pc0FycmF5KGUpKXt2YXIgYSxvPXkoZSk7dHJ5e2ZvcihvLnMoKTshKGE9by5uKCkpLmRvbmU7KXt2YXIgcz1hLnZhbHVlO1Nbcy5zb3VyY2VdJiZpLmRlZXBBY2Nlc3MocywidWlkcy4wIikmJihuW3Muc291cmNlXT0hMCxzLnVpZHNbMF0uZXh0PXtydGlQYXJ0bmVyOlNbcy5zb3VyY2VdfSxkZWxldGUgcy51aWRzWzBdLmF0eXBlLHQucHVzaChzKSl9fWNhdGNoKGUpe28uZShlKX1maW5hbGx5e28uZigpfX1pZihyJiZyLmlkJiZyLnZlcnNpb24pe3ZhciBkPXtzb3VyY2U6ImNocm9tZS5jb20iLHVpZHM6W3tpZDpyLmlkLGV4dDp7cnRpUGFydG5lcjoiZmxvY0lkIix2ZXI6ci52ZXJzaW9ufX1dfTt0LnB1c2goZCksblsiY2hyb21lLmNvbSJdPSEwfXJldHVybnt0b1NlbmQ6dCxzZWVuU291cmNlczpufX0oaS5kZWVwQWNjZXNzKGUsIjAudXNlcklkQXNFaWRzIiksaS5kZWVwQWNjZXNzKGUsIjAudXNlcklkLmZsb2NJZCIpKSxjPWQudG9TZW5kO2lmKHdpbmRvdy5oZWFkZXJ0YWcmJiJmdW5jdGlvbiI9PXR5cGVvZiB3aW5kb3cuaGVhZGVydGFnLmdldElkZW50aXR5SW5mbyl7dmFyIHU9d2luZG93LmhlYWRlcnRhZy5nZXRJZGVudGl0eUluZm8oKTtpZih1JiYib2JqZWN0Ij09PWYodSkpZm9yKHZhciBsIGluIHUpaWYodS5oYXNPd25Qcm9wZXJ0eShsKSl7dmFyIGI9dVtsXTshYi5yZXNwb25zZVBlbmRpbmcmJmIuZGF0YSYmIm9iamVjdCI9PT1mKGIuZGF0YSkmJk9iamVjdC5rZXlzKGIuZGF0YSkubGVuZ3RoJiYhZC5zZWVuU291cmNlc1tiLmRhdGEuc291cmNlXSYmYy5wdXNoKGIuZGF0YSl9fWlmKHImJnIuYmlkZGVyQ29kZT09PWcmJiFkLnNlZW5Tb3VyY2VzWyJsaXZlcmFtcC5jb20iXSlyZXR1cm5bXTt2YXIgdj17fTt2LmlkPWVbMF0uYmlkZGVyUmVxdWVzdElkLnRvU3RyaW5nKCksdi5zaXRlPXt9LHYuZXh0PXt9LHYuZXh0LnNvdXJjZT0icHJlYmlkIix2LmV4dC5peGRpYWc9e30sdi5leHQuaXhkaWFnLm1zZD0wLHYuZXh0Lml4ZGlhZy5tc2k9MCx2LmltcD1bXTt2YXIgaD1mdW5jdGlvbihlKXtmb3IodmFyIHI9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zYWN0aW9uSWR9KSkuZmlsdGVyKChmdW5jdGlvbihlLHIsdCl7cmV0dXJuIHQuaW5kZXhPZihlKT09PXJ9KSksdD17bWZ1OjAsYnU6MCxpdTowLG51OjAsb3U6MCxhbGx1OjAscmVuOiExLHZlcnNpb246IjUuMTEuMCIsdXNlcklkczpfKGVbMF0pfSxuPWZ1bmN0aW9uKG4pe2lmKG89ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zYWN0aW9uSWQ9PT1yW25dfSkpWzBdLGkuZGVlcEFjY2VzcyhvLCJtZWRpYVR5cGVzIikpe2lmKE9iamVjdC5rZXlzKG8ubWVkaWFUeXBlcykubGVuZ3RoPjEmJnQubWZ1KyssaS5kZWVwQWNjZXNzKG8sIm1lZGlhVHlwZXMubmF0aXZlIikmJnQubnUrKyxpLmRlZXBBY2Nlc3MobywibWVkaWFUeXBlcy5iYW5uZXIiKSYmdC5idSsrLCJvdXRzdHJlYW0iPT09aS5kZWVwQWNjZXNzKG8sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpKXt0Lm91Kys7dmFyIGE9Im9iamVjdCI9PT1mKGkuZGVlcEFjY2VzcyhvLCJyZW5kZXJlciIpfHxpLmRlZXBBY2Nlc3MobywibWVkaWFUeXBlcy52aWRlby5yZW5kZXJlciIpKTt0LnJlbj10LnJlbiYmYT9pLmRlZXBBY2Nlc3ModCwicmVuIik6YX0iaW5zdHJlYW0iPT09aS5kZWVwQWNjZXNzKG8sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiZ0Lml1KyssdC5hbGx1Kyt9fSxhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBvO24oYSl9cmV0dXJuIHR9KGUpO2Zvcih2YXIgSSBpbiBoKXYuZXh0Lml4ZGlhZ1tJXT1oW0ldO2lmKGVbMF0uc2NoYWluJiYodi5zb3VyY2U9e2V4dDp7c2NoYWluOmVbMF0uc2NoYWlufX0pLGMubGVuZ3RoPjAmJih2LnVzZXI9e30sdi51c2VyLmVpZHM9YyksZG9jdW1lbnQucmVmZXJyZXImJiIiIT09ZG9jdW1lbnQucmVmZXJyZXImJih2LnNpdGUucmVmPWRvY3VtZW50LnJlZmVycmVyKSxyKXtpZihyLmdkcHJDb25zZW50KXt2YXIgTz1yLmdkcHJDb25zZW50O08uaGFzT3duUHJvcGVydHkoImdkcHJBcHBsaWVzIikmJih2LnJlZ3M9e2V4dDp7Z2RwcjpPLmdkcHJBcHBsaWVzPzE6MH19KSxPLmhhc093blByb3BlcnR5KCJjb25zZW50U3RyaW5nIikmJih2LnVzZXI9di51c2VyfHx7fSx2LnVzZXIuZXh0PXtjb25zZW50Ok8uY29uc2VudFN0cmluZ3x8IiJ9LE8uaGFzT3duUHJvcGVydHkoImFkZHRsQ29uc2VudCIpJiZPLmFkZHRsQ29uc2VudCYmKHYudXNlci5leHQuY29uc2VudGVkX3Byb3ZpZGVyc19zZXR0aW5ncz17Y29uc2VudGVkX3Byb3ZpZGVyczpPLmFkZHRsQ29uc2VudH0pKX1yLnVzcENvbnNlbnQmJmkuZGVlcFNldFZhbHVlKHYsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCksci5yZWZlcmVySW5mbyYmKHYuc2l0ZS5wYWdlPXIucmVmZXJlckluZm8ucmVmZXJlcil9YS5iLmdldENvbmZpZygiY29wcGEiKSYmaS5kZWVwU2V0VmFsdWUodiwicmVncy5jb3BwYSIsMSk7dmFyIHc9e307dy5zPWVbMF0ucGFyYW1zLnNpdGVJZCx3LnY9byx3LmFjPSJqIix3LnNkPTEsOC4xPT09byYmKHcubmY9MSk7dmFyIFA9ciYmci5iaWRkZXJDb2RlfHwiaXgiLHo9YS5iLmdldENvbmZpZyhQKSxUPVtdLGo9MCxDPU9iamVjdC5rZXlzKHQpLGs9IiIuY29uY2F0KHMpLmNvbmNhdChpLnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKG0obSh7fSx3KSx7fSx7cjpKU09OLnN0cmluZ2lmeSh2KX0pKSkubGVuZ3RoO2lmKGs+eClyZXR1cm4gaS5sb2dFcnJvcigiaXggYmlkZGVyOiBCYXNlIHJlcXVlc3Qgc2l6ZSBoYXMgZXhjZWVkZWQgbWF4aW11bSByZXF1ZXN0IHNpemUuIiksVDt2YXIgRT1rLEQ9MCxGPSExO2lmKHope2lmKCJvYmplY3QiPT09Zih6LmZpcnN0UGFydHlEYXRhKSl7dmFyIFI9ei5maXJzdFBhcnR5RGF0YSxxPSI/Ijtmb3IodmFyIFUgaW4gUilSLmhhc093blByb3BlcnR5KFUpJiYocSs9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChVKSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoUltVXSksIiYiKSk7cT1xLnNsaWNlKDAsLTEpLChEPWVuY29kZVVSSUNvbXBvbmVudChxKS5sZW5ndGgpPHg/KCJwYWdlImluIHYuc2l0ZT92LnNpdGUucGFnZSs9cTp2LnNpdGUucGFnZT1xLEUrPUQpOmkubG9nRXJyb3IoIml4IGJpZGRlcjogSVggY29uZmlnIEZQRCByZXF1ZXN0IHNpemUgaGFzIGV4Y2VlZGVkIG1heGltdW0gcmVxdWVzdCBzaXplLiIpfSJudW1iZXIiPT10eXBlb2Ygei50aW1lb3V0JiYody50PXoudGltZW91dCksImJvb2xlYW4iPT10eXBlb2Ygei5kZXRlY3RNaXNzaW5nU2l6ZXM/di5leHQuaXhkaWFnLmRtcz16LmRldGVjdE1pc3NpbmdTaXplczp2LmV4dC5peGRpYWcuZG1zPSEwfWZvcih2YXIgQj1mdW5jdGlvbihlKXtpZihFPj14fHxULmxlbmd0aD49NClyZXR1cm4iYnJlYWsiO2Zvcih2YXIgcj10W0NbZV1dLG89ci5taXNzaW5nQ291bnQsZD12b2lkIDA9PT1vPzA6byxjPXIubWlzc2luZ0ltcHMsdT12b2lkIDA9PT1jP1tdOmMsbD1yLml4SW1wcyxmPSExLHk9eC1FLGI9e2l4SW1wczp2b2lkIDA9PT1sP1tdOmwsbWlzc2luZ0Jhbm5lckltcHJlc3Npb25zOnV9LGc9T2JqZWN0LmtleXMoYikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYltlXX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5jb25jYXQuYXBwbHkoZSxwKHIpKX0pLFtdKSxoPWVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh7aW1wcmVzc2lvbk9iamVjdHM6Z30pKS5sZW5ndGg7aD55OylmPSEwLGcucG9wKCksaD1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoe2ltcHJlc3Npb25PYmplY3RzOmd9KSkubGVuZ3RoO2lmKGcubGVuZ3RoJiZuLmIgaW4gZ1swXSl7dmFyIEk9Z1swXSxPPXtpZDpJLmlkLGJhbm5lcjp7dG9wZnJhbWU6SS5iYW5uZXIudG9wZnJhbWUsZm9ybWF0OmcubWFwKChmdW5jdGlvbihlKXt2YXIgcj1lLmJhbm5lcjtyZXR1cm57dzpyLncsaDpyLmgsZXh0OmUuZXh0fX0pKX19OyJiaWRmbG9vciJpbiBnWzBdJiYoTy5iaWRmbG9vcj1nWzBdLmJpZGZsb29yKSwiYmlkZmxvb3JjdXIiaW4gZ1swXSYmKE8uYmlkZmxvb3JjdXI9Z1swXS5iaWRmbG9vcmN1ciksdi5pbXAucHVzaChPKSx2LmV4dC5peGRpYWcubXNkKz1kLHYuZXh0Lml4ZGlhZy5tc2krPXUubGVuZ3RofWVsc2V7dmFyIFM7KFM9di5pbXApLnB1c2guYXBwbHkoUyxwKGcpKX1FKz1oO3ZhciBQPWEuYi5nZXRDb25maWcoIm9ydGIyIil8fHt9O2lmKCFpLmlzRW1wdHkoUCkmJiFGKXt2LmV4dC5peGRpYWcuZnBkPSEwO3ZhciB6PW0oe30sUC5zaXRlfHxQLmNvbnRleHQpO09iamVjdC5rZXlzKHopLmZvckVhY2goKGZ1bmN0aW9uKGUpey0xPT09QS5TSVRFLmluZGV4T2YoZSkmJmRlbGV0ZSB6W2VdfSkpO3ZhciBEPW0oe30sUC51c2VyKTtPYmplY3Qua2V5cyhEKS5mb3JFYWNoKChmdW5jdGlvbihlKXstMT09PUEuVVNFUi5pbmRleE9mKGUpJiZkZWxldGUgRFtlXX0pKTt2YXIgUj1pLmRlZXBDbG9uZSh2KTtpZihSLnNpdGU9aS5tZXJnZURlZXAoe30sUi5zaXRlLHopLFIudXNlcj1pLm1lcmdlRGVlcCh7fSxSLnVzZXIsRCksIiIuY29uY2F0KHMpLmNvbmNhdChpLnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKG0obSh7fSx3KSx7fSx7cjpKU09OLnN0cmluZ2lmeShSKX0pKSkubGVuZ3RoPHgpe3Yuc2l0ZT1pLm1lcmdlRGVlcCh7fSx2LnNpdGUseiksdi51c2VyPWkubWVyZ2VEZWVwKHt9LHYudXNlcixEKSxGPSEwO3ZhciBxPWVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShtKG0oe30seiksRCkpKS5sZW5ndGg7RSs9cX1lbHNlIGkubG9nRXJyb3IoIml4IGJpZGRlcjogRlBEIHJlcXVlc3Qgc2l6ZSBoYXMgZXhjZWVkZWQgbWF4aW11bSByZXF1ZXN0IHNpemUuIil9dmFyIFU9ZT09PUMubGVuZ3RoLTE7aWYoZnx8VSl7dmFyIEI9aS5kZWVwQ2xvbmUodyk7VSYmIWp8fCh2LmV4dC5peGRpYWcuc249aixCLnNuPWopLGorKyxCLnI9SlNPTi5zdHJpbmdpZnkodiksVC5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOnMsZGF0YTpCfSksRT1rLHYuaW1wPVtdLHYuZXh0Lml4ZGlhZy5tc2Q9MCx2LmV4dC5peGRpYWcubXNpPTAsRj0hMX19LE49MDtOPEMubGVuZ3RoO04rKyl7aWYoImJyZWFrIj09PUIoTikpYnJlYWt9cmV0dXJuIFR9ZnVuY3Rpb24gXyhlKXt2YXIgcj1lLnVzZXJJZHx8e307cmV0dXJuIFAuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gcltlXX0pKX1mdW5jdGlvbiBKKGUscil7aWYocilmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIGk9ZVt0XTtpZihyWzBdPT09aVswXSYmclsxXT09PWlbMV0pe2Uuc3BsaWNlKHQsMSk7YnJlYWt9fX1mdW5jdGlvbiBNKGUscix0KXt2YXIgbj1lLnRyYW5zYWN0aW9uSWQ7aWYoci5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIGE9W107cltuXS5oYXNPd25Qcm9wZXJ0eSgibWlzc2luZ1NpemVzIikmJihhPXJbbl0ubWlzc2luZ1NpemVzKSxKKGEsZS5wYXJhbXMuc2l6ZSkscltuXS5taXNzaW5nU2l6ZXM9YX1lbHNlIGlmKGkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpKXt2YXIgbz1pLmRlZXBDbG9uZShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKTtKKG8sZS5wYXJhbXMuc2l6ZSk7dmFyIHM9e21pc3NpbmdTaXplczpvLGltcHJlc3Npb246dH07cltuXT1zfX1mdW5jdGlvbiBYKGUscix0KXt2YXIgYT1pLmRlZXBDbG9uZShyKTtyZXR1cm4gYS5leHQuc2lkPWkucGFyc2VHUFRTaW5nbGVTaXplQXJyYXkodCksYS5iYW5uZXIudz10WzBdLGEuYmFubmVyLmg9dFsxXSxFKGUsYSxuLmIpLGF9dmFyIFY9e2NvZGU6Iml4IixndmxpZDoxMCxhbGlhc2VzOlt7Y29kZTpnLGd2bGlkOjEwLHNraXBQYnNBbGlhc2luZzohMX1dLHN1cHBvcnRlZE1lZGlhVHlwZXM6aCxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgcix0LG49aS5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlbyIpLGE9aS5kZWVwQWNjZXNzKGUsInBhcmFtcy5zaXplIiksbz1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSxzPWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIiksZD1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIiksYz1lLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmlkRmxvb3IiKSxwPWUucGFyYW1zLmhhc093blByb3BlcnR5KCJiaWRGbG9vckN1ciIpO2lmKGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZSIpJiYhaS5jb250YWlucyhoLGUubWVkaWFUeXBlKSlyZXR1cm4hMTtpZihpLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSYmIW8pcmV0dXJuITE7aWYoYSl7dmFyIHU9VShhKTtpZighdSlyZXR1cm4gaS5sb2dFcnJvcigiaXggYmlkZGVyIHBhcmFtczogc2l6ZSBoYXMgaW52YWxpZCBmb3JtYXQuIiksITE7aWYoIVIoZS5zaXplcyx1KSYmIVIoZCx1KSYmIVIobyx1KSlyZXR1cm4gaS5sb2dFcnJvcigiaXggYmlkZGVyIHBhcmFtczogYmlkIHNpemUgaXMgbm90IGluY2x1ZGVkIGluIGFkIHVuaXQgc2l6ZXMgb3IgcGxheWVyIHNpemUuIiksITF9cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlLnBhcmFtcy5zaXRlSWQmJiJudW1iZXIiIT10eXBlb2YgZS5wYXJhbXMuc2l0ZUlkPyhpLmxvZ0Vycm9yKCJpeCBiaWRkZXIgcGFyYW1zOiBzaXRlSWQgbXVzdCBiZSBzdHJpbmcgb3IgbnVtYmVyIHZhbHVlLiIpLCExKTohYyYmIXB8fGMmJnAmJihyPWUucGFyYW1zLmJpZEZsb29yLHQ9ZS5wYXJhbXMuYmlkRmxvb3JDdXIsQm9vbGVhbigibnVtYmVyIj09dHlwZW9mIHImJiJzdHJpbmciPT10eXBlb2YgdCYmdC5tYXRjaCgvXltBLVpdezN9JC8pKSk/ISghbyYmKHN8fG4pKXx8cSgwLHMsbik6KGkubG9nRXJyb3IoIml4IGJpZGRlciBwYXJhbXM6IGJpZEZsb29yIC8gYmlkRmxvb3JDdXIgcGFyYW1ldGVyIGhhcyBpbnZhbGlkIGZvcm1hdC4iKSwhMSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXtmb3IodmFyIHQ9W10sbz17fSxzPXt9LGQ9bnVsbCxjPXt9LHU9bShtKHt9LHtkZXRlY3RNaXNzaW5nU2l6ZXM6ITB9KSxhLmIuZ2V0Q29uZmlnKCJpeCIpKSxsPTA7bDxlLmxlbmd0aDtsKyspe2Q9ZVtsXTt2YXIgZj1pLmRlZXBBY2Nlc3MoZCwibWVkaWFUeXBlcy52aWRlbyIpLHk9aS5kZWVwQWNjZXNzKGQsInBhcmFtcy52aWRlbyIpO2lmKChkLm1lZGlhVHlwZT09PW4uZHx8Znx8eSkmJiFzLmhhc093blByb3BlcnR5KGQudHJhbnNhY3Rpb25JZCkpe3ZhciBiPUMoZCk7MCE9T2JqZWN0LmtleXMoYikubGVuZ3RoJiYoc1tkLnRyYW5zYWN0aW9uSWRdPXt9LHNbZC50cmFuc2FjdGlvbklkXS5peEltcHM9W10sc1tkLnRyYW5zYWN0aW9uSWRdLml4SW1wcy5wdXNoKGIpKX1pZihkLm1lZGlhVHlwZT09PW4uYnx8aS5kZWVwQWNjZXNzKGQsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIil8fCFkLm1lZGlhVHlwZSYmIWQubWVkaWFUeXBlcyl7dmFyIHY9aihkKTtpLmRlZXBBY2Nlc3MoZCwicGFyYW1zLnNpemUiKSYmKG8uaGFzT3duUHJvcGVydHkoZC50cmFuc2FjdGlvbklkKXx8KG9bZC50cmFuc2FjdGlvbklkXT17fSksb1tkLnRyYW5zYWN0aW9uSWRdLmhhc093blByb3BlcnR5KCJpeEltcHMiKXx8KG9bZC50cmFuc2FjdGlvbklkXS5peEltcHM9W10pLG9bZC50cmFuc2FjdGlvbklkXS5peEltcHMucHVzaCh2KSksdS5oYXNPd25Qcm9wZXJ0eSgiZGV0ZWN0TWlzc2luZ1NpemVzIikmJnUuZGV0ZWN0TWlzc2luZ1NpemVzJiZNKGQsYyx2KX19Zm9yKHZhciBnIGluIGMpaWYoYy5oYXNPd25Qcm9wZXJ0eShnKSl7dmFyIGg9Y1tnXS5taXNzaW5nU2l6ZXM7by5oYXNPd25Qcm9wZXJ0eShnKXx8KG9bZ109e30pLG9bZ10uaGFzT3duUHJvcGVydHkoIm1pc3NpbmdJbXBzIil8fChvW2ddLm1pc3NpbmdJbXBzPVtdLG9bZ10ubWlzc2luZ0NvdW50PTApO2Zvcih2YXIgeD1jW2ddLmltcHJlc3Npb24sST0wO0k8aC5sZW5ndGg7SSsrKXt2YXIgTz1YKGQseCxoW0ldKTtvW2ddLm1pc3NpbmdJbXBzLnB1c2goTyksb1tnXS5taXNzaW5nQ291bnQrK319cmV0dXJuIE9iamVjdC5rZXlzKG8pLmxlbmd0aD4wJiZ0LnB1c2guYXBwbHkodCxwKE4oZSxyLG8sNy4yKSkpLE9iamVjdC5rZXlzKHMpLmxlbmd0aD4wJiZ0LnB1c2guYXBwbHkodCxwKE4oZSxyLHMsOC4xKSkpLHR9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10saT1udWxsO2lmKCFlLmhhc093blByb3BlcnR5KCJib2R5Iil8fCFlLmJvZHkuaGFzT3duUHJvcGVydHkoInNlYXRiaWQiKSlyZXR1cm4gdDtmb3IodmFyIG49ZS5ib2R5LGE9bi5zZWF0YmlkLG89MDtvPGEubGVuZ3RoO28rKylpZihhW29dLmhhc093blByb3BlcnR5KCJiaWQiKSlmb3IodmFyIHM9YVtvXS5iaWQsZD1KU09OLnBhcnNlKHIuZGF0YS5yKSxjPTA7YzxzLmxlbmd0aDtjKyspe3ZhciBwPUIoc1tjXS5pbXBpZCxkLmltcCk7aT1EKHNbY10sbi5jdXIscCksdC5wdXNoKGkpfXJldHVybiB0fSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gaS5jb252ZXJ0VHlwZXMoe3NpdGVJRDoibnVtYmVyIn0sZSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/W3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9qcy1zZWMuaW5kZXh3dy5jb20vdW0vaXhtYXRjaC5odG1sIn1dOltdfX07T2JqZWN0KGQucmVnaXN0ZXJCaWRkZXIpKFYpfX0sWzUwNF0pOwp1cGJqc0NodW5rKFsxOTRdLHs1NDA6ZnVuY3Rpb24oZSxuLHIpe2UuZXhwb3J0cz1yKDU0MSl9LDU0MTpmdW5jdGlvbihlLG4scil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQobiwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHQ9cigwKSxkPXIoMiksaT1yKDEpLHM9e2NvZGU6ImxvY2tlcmRvbWUiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2QuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy5hZFVuaXRJZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG4pe3ZhciByLGQ9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNjaGFpbiYmKHI9cnx8ZS5zY2hhaW4pLHtyZXF1ZXN0SWQ6ZS5iaWRJZCxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZSxhZFVuaXRJZDp0LmdldEJpZElkUGFyYW1ldGVyKCJhZFVuaXRJZCIsZS5wYXJhbXMpLHNpemVzOmUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc319KSksaT1uJiZuLnJlZmVyZXJJbmZvJiZuLnJlZmVyZXJJbmZvLmNhbm9uaWNhbFVybHx8IiIscz1uJiZuLnJlZmVyZXJJbmZvJiZuLnJlZmVyZXJJbmZvLnJlZmVyZXJ8fCIiLGE9e2JpZFJlcXVlc3RzOmQsdXJsOmVuY29kZVVSSUNvbXBvbmVudChpKSxyZWZlcnJlcjplbmNvZGVVUklDb21wb25lbnQocyl9O3JldHVybiByJiYoYS5zY2hhaW49ciksbiYmKG4uZ2RwckNvbnNlbnQmJihhLmdkcHI9e2FwcGxpZXM6bi5nZHByQ29uc2VudC5nZHByQXBwbGllcyxjb25zZW50Om4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZ30pLG4udXNwQ29uc2VudCYmKGEudXNfcHJpdmFjeT17Y29uc2VudDpuLnVzcENvbnNlbnR9KSkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2xvY2tlcmRvbWUuY29tL2xhZGJpZC9wcmViaWQiLGRhdGE6SlNPTi5zdHJpbmdpZnkoYSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLG4pe3JldHVybiBlJiZlLmJvZHkmJmUuYm9keS5iaWRzP2UuYm9keS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3JlcXVlc3RJZDplLnJlcXVlc3RJZCxjcG06ZS5jcG0sd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsY3JlYXRpdmVJZDplLmNyZWF0aXZlSWQsY3VycmVuY3k6ZS5jdXJyZW5jeSxuZXRSZXZlbnVlOmUubmV0UmV2ZW51ZSxhZDplLmFkLHR0bDplLnR0bCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW4mJkFycmF5LmlzQXJyYXkoZS5hZG9tYWluKT9lLmFkb21haW46W119fX0pKTpbXX19O09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShzKX19LFs1NDBdKTsKdXBianNDaHVuayhbMTgyXSx7NTcyOmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big1NzMpfSw1NzM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBVfSkpO3ZhciByPW4oMSksaT1uKDApLGE9bigzKSxvPW4oMiksZD1uKDIwKSxzPW4oMTMpO2Z1bmN0aW9uIGMoKXtyZXR1cm4oYz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciB1PSJtZWRpYW5ldCIscD0iaHR0cHM6Ly9wcmViaWQubWVkaWEubmV0L3ZpZGVvL2J1bmRsZS5qcyIsbD0wLGY9MSxtPTIsZz0iY2xpZW50X3RpbWVvdXQiLGI9ImNsaWVudF9iaWRfd29uIix5PU9iamVjdChkLmEpKCksaD17fTtmdW5jdGlvbiB2KCl7dHJ5e3JldHVybiB3aW5kb3cudG9wLmRvY3VtZW50LnJlZmVycmVyfWNhdGNoKGUpe3JldHVybiBkb2N1bWVudC5yZWZlcnJlcn19ZnVuY3Rpb24gdyhlKXtyZXR1cm4gYyh7ZG9tYWluOihlPWV8fHt9KS5kb21haW58fGgudXJsRGF0YS5kb21haW4scGFnZTplLnBhZ2V8fGgudXJsRGF0YS5wYWdlLHJlZjplLnJlZnx8digpLGlzVG9wOmUuaXNUb3B8fGgudXJsRGF0YS5pc1RvcH0sZnVuY3Rpb24oKXtpZihoLnBhZ2VNZXRhKXJldHVybiBoLnBhZ2VNZXRhO3ZhciBlPXgoJ2xpbmtbcmVsPSJjYW5vbmljYWwiXScsImhyZWYiKSx0PXgoJ21ldGFbcHJvcGVydHk9Im9nOnVybCJdJywiY29udGVudCIpLG49eCgnbWV0YVtuYW1lPSJ0d2l0dGVyOnVybCJdJywiY29udGVudCIpO3JldHVybiBoLnBhZ2VNZXRhPWMoe30sZSYme2Nhbm9uaWNhbF91cmw6ZX0sdCYme29nX3VybDp0fSxuJiZ7dHdpdHRlcl91cmw6bn0pLGgucGFnZU1ldGF9KCkpfWZ1bmN0aW9uIHgoZSx0KXt2YXIgbixyLGE9ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIG49aS5nZXRXaW5kb3dUb3AoKS5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpO2lmKG51bGwhPT1uJiZuW3RdKXJldHVybiBuW3RdfWNhdGNoKGUpe319KGUsdCk7cmV0dXJuIGEmJihuPWEsKHI9aS5nZXRXaW5kb3dUb3AoKS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpLmhyZWY9bixyLmhyZWYpfWZ1bmN0aW9uIF8oZSx0KXtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnR5cGU9PT10fSkpfWZ1bmN0aW9uIEEoZSl7cmV0dXJue3c6cGFyc2VJbnQoZVswXSwxMCksaDpwYXJzZUludChlWzFdLDEwKX19ZnVuY3Rpb24gVChlLHQpe3ZhciBuPWkuZGVlcEFjY2VzcyhlLCJwYXJhbXMiKSxyPWkuZGVlcEFjY2Vzcyh0LCJnZHByQ29uc2VudCIpLG89aS5kZWVwQWNjZXNzKHQsInVzcENvbnNlbnQiKSxkPWkuZGVlcEFjY2VzcyhlLCJ1c2VySWQiKSxzPWkuZGVlcEFjY2VzcyhlLCJzY2hhaW4iKXx8e30sdT1VLmdldFdpbmRvd1NpemUoKSxwPSEoIXJ8fCFyLmdkcHJBcHBsaWVzKSxsPSEhbyxmPSEhYS5iLmdldENvbmZpZygiY29wcGEiKTtyZXR1cm4gYyh7fSx7Y3VzdG9tZXJfaWQ6bi5jaWR9LHtwcmViaWRfdmVyc2lvbjp1cGJqcy52ZXJzaW9ufSx7Z2Rwcl9hcHBsaWVzOnB9LHAmJntnZHByX2NvbnNlbnRfc3RyaW5nOnIuY29uc2VudFN0cmluZ3x8IiJ9LHt1c3BfYXBwbGllczpsfSxsJiZ7dXNwX2NvbnNlbnRfc3RyaW5nOm98fCIifSx7Y29wcGFfYXBwbGllczpmfSwtMSE9PXUudyYmLTEhPT11LmgmJntzY3JlZW46dX0sZCYme3VzZXJfaWQ6ZH0sdXBianMubWVkaWFuZXRHbG9iYWxzLmFuYWx5dGljc0VuYWJsZWQmJnthbmFseXRpY3M6ITB9LCFpLmlzRW1wdHkocykmJntzY2hhaW46c30pfWZ1bmN0aW9uIGooZSl7dmFyIHQsbj17aWQ6ZS5iaWRJZCxleHQ6e2RmcF9pZDplLmFkVW5pdENvZGUsZGlzcGxheV9jb3VudDplLmJpZFJlcXVlc3RzQ291bnR9LGFsbDplLnBhcmFtc30scj1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKXx8W10sYT1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpfHx7fSxkPWMoe30saS5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlbyIpfHx7fSxhKTtpZihpLmlzRW1wdHkoZCl8fChuLnZpZGVvPWQpLHIubGVuZ3RoPjAmJihuLmJhbm5lcj0odD1yLGkuaXNBcnJheSh0KSYmMj09PXQubGVuZ3RoJiYhaS5pc0FycmF5KHRbMF0pP1tBKHQpXTp0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIEEoZSl9KSkpKSxlLm5hdGl2ZVBhcmFtcyl0cnl7bi5uYXRpdmU9SlNPTi5zdHJpbmdpZnkoZS5uYXRpdmVQYXJhbXMpfWNhdGNoKGUpe2kubG9nRXJyb3IoIiIuY29uY2F0KHUsIiA6IEluY29ycmVjdCBKU09OIDogYmlkUmVxdWVzdC5uYXRpdmVQYXJhbXMiKSl9ZS5wYXJhbXMuY3JpZCYmKG4udGFnaWQ9ZS5wYXJhbXMuY3JpZC50b1N0cmluZygpKTt2YXIgcz1wYXJzZUZsb2F0KGUucGFyYW1zLmJpZGZsb29yfHxlLnBhcmFtcy5iaWRGbG9vcik7cyYmKG4uYmlkZmxvb3I9cyk7dmFyIHA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYoIXQmJi0xIT09ZS5pbmRleE9mKCIvIikpe3ZhciBuPWkuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKGUpLmRpdklkO2kuaXNTdHIobikmJih0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pKX1pZih0JiZ0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCl7dmFyIHI9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxhPXt9O3JldHVybiBhLnRvcF9sZWZ0PXt5OnIudG9wLHg6ci5sZWZ0fSxhLmJvdHRvbV9yaWdodD17eTpyLmJvdHRvbSx4OnIucmlnaHR9LGF9cmV0dXJuIG51bGx9KGUuYWRVbml0Q29kZSk7aWYocCYmbi5iYW5uZXImJjAhPT1uLmJhbm5lci5sZW5ndGgpe3ZhciBnPWZ1bmN0aW9uKGUpe3JldHVybnt0b3BfbGVmdDp7eDplLnRvcF9sZWZ0Lngrd2luZG93LnBhZ2VYT2Zmc2V0LHk6ZS50b3BfbGVmdC55K3dpbmRvdy5wYWdlWU9mZnNldH0sYm90dG9tX3JpZ2h0Ont4OmUuYm90dG9tX3JpZ2h0Lngrd2luZG93LnBhZ2VYT2Zmc2V0LHk6ZS5ib3R0b21fcmlnaHQueSt3aW5kb3cucGFnZVlPZmZzZXR9fX0ocCk7bi5leHQuY29vcmRpbmF0ZXM9ZyxuLmV4dC52aWV3YWJpbGl0eT1JKHAudG9wX2xlZnQsRShuLmJhbm5lcikpLEkoZy50b3BfbGVmdCxFKG4uYmFubmVyKSk+LjU/bi5leHQudmlzaWJpbGl0eT1mOm4uZXh0LnZpc2liaWxpdHk9bX1lbHNlIG4uZXh0LnZpc2liaWxpdHk9bDt2YXIgYj1mdW5jdGlvbihlKXt2YXIgdD1bXTsiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vciYmW28uYixvLmQsby5jXS5mb3JFYWNoKChmdW5jdGlvbihuKXtlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobikmJihuPT1vLmI/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5mb3JFYWNoKChmdW5jdGlvbihyKXtTKGUsbixyLHQpfSkpOlMoZSxuLCIqIix0KSl9KSk7cmV0dXJuIHR9KGUpO3JldHVybiBiJiZiLmxlbmd0aD4wJiYobi5iaWRmbG9vcnM9Yiksbn1mdW5jdGlvbiBTKGUsdCxuLHIpe3ZhciBpPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTp0LHNpemU6bn0pO24ubGVuZ3RoPjEmJihpLnNpemU9biksaS5tZWRpYVR5cGU9dCxyLnB1c2goaSl9ZnVuY3Rpb24gRShlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuaCp0Lnc8ZS5oKmUudz90OmV9KSl9ZnVuY3Rpb24gSShlLHQpe3ZhciBuPXQudyp0Lmgscj1VLmdldFdpbmRvd1NpemUoKSxpPXt4OmUueCt0LncseTplLnkrdC5ofTtyZXR1cm4gMD09PW58fC0xPT09ci53fHwtMT09PXIuaD8wOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUueD5yLnh8fHQueDxuLnh8fGUueT5yLnl8fHQueTxuLnkpcmV0dXJuIDA7cmV0dXJuKE1hdGgubWluKHQueCxyLngpLU1hdGgubWF4KGUueCxuLngpKSooTWF0aC5taW4odC55LHIueSktTWF0aC5tYXgoZS55LG4ueSkpfShlLGkse3g6MCx5OjB9LHt4OnIudyx5OnIuaH0pL259ZnVuY3Rpb24gTyhlLHQpe3Q9aS5pc0FycmF5KHQpJiZ0fHxbXTt2YXIgbj17bG9naWQ6ImtmayIsZXZ0aWQ6InByb2plY3RldmVudHMiLHByb2plY3Q6InByZWJpZCJ9O3JldHVybiBuLmFjaWQ9aS5kZWVwQWNjZXNzKHQsIjAuYXVjdGlvbklkIil8fCIiLG4uY2lkPXVwYmpzLm1lZGlhbmV0R2xvYmFscy5jaWR8fCIiLG4uY3JpZD10Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZGVlcEFjY2VzcyhlLCJwYXJhbXMuMC5jcmlkIil8fGUuYWRVbml0Q29kZX0pKS5qb2luKCJ8Iiksbi5hZHVuaXRfY291bnQ9dC5sZW5ndGh8fDAsbi5kbj1oLnVybERhdGEuZG9tYWlufHwiIixuLnJlcXVybD1oLnVybERhdGEucGFnZXx8IiIsbi5pc3RvcD1oLnVybERhdGEuaXNUb3B8fCIiLG4uZXZlbnQ9ZS5uYW1lfHwiIixuLnZhbHVlPWUudmFsdWV8fCIiLG4ucmQ9ZS5yZWxhdGVkX2RhdGF8fCIiLG59ZnVuY3Rpb24gQyhlLHQpe3ZhciBuPXtwcm90b2NvbDoiaHR0cHMiLGhvc3RuYW1lOiJxc2VhcmNoLWEuYWthbWFpaGQubmV0L2xvZyIsc2VhcmNoOk8oZSx0KX07aS50cmlnZ2VyUGl4ZWwoaS5idWlsZFVybChuKSl9ZnVuY3Rpb24gTShlKXt2YXIgdCxuPWkuZGVlcEFjY2VzcyhlLCJjb250ZXh0Iil8fCIiLHI9aS5kZWVwQWNjZXNzKGUsInZ0byIpOyJvdXRzdHJlYW0iPT1uJiZyJiYoZS5yZW5kZXJlcj0oKHQ9cy5hLmluc3RhbGwoe3VybDpwfSkpLnNldFJlbmRlcigoZnVuY3Rpb24oZSl7d2luZG93Lm1uZXQucXVldWUucHVzaCgoZnVuY3Rpb24oKXt2YXIgdD17d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsdmFzdFRpbWVvdXQ6ZS52dG8sbWF4QWxsb3dlZFZhc3RUYWdSZWRpcmVjdHM6ZS5tYXZ0cixhbGxvd1ZwYWlkOmUuYXZwLGF1dG9QbGF5OmUuYXAscHJlbG9hZDplLnBsLG11dGU6ZS5tdH0sbj1lLmRmcF9pZCxyPWkuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKG4pLmRpdklkfHxuO3dpbmRvdy5tbmV0Lm1lZGlhTmV0b3V0c3RyZWFtUGxheWVyKGUscix0KX0pKX0pKSx0KSl9d2luZG93Lm1uZXQ9d2luZG93Lm1uZXR8fHt9LHdpbmRvdy5tbmV0LnF1ZXVlPXdpbmRvdy5tbmV0LnF1ZXVlfHxbXSxoLnVybERhdGE9e2RvbWFpbjppLnBhcnNlVXJsKHkucmVmZXJlcikuaG9zdG5hbWUscGFnZTp5LnJlZmVyZXIsaXNUb3A6eS5yZWFjaGVkVG9wfSx1cGJqcy5tZWRpYW5ldEdsb2JhbHM9dXBianMubWVkaWFuZXRHbG9iYWxzfHx7fTt2YXIgVT17Y29kZTp1LGd2bGlkOjE0MixzdXBwb3J0ZWRNZWRpYVR5cGVzOltvLmIsby5jLG8uZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zP2UucGFyYW1zLmNpZCYmaS5pc1N0cihlLnBhcmFtcy5jaWQpJiYhaS5pc0VtcHR5U3RyKGUucGFyYW1zLmNpZCk/KGModXBianMubWVkaWFuZXRHbG9iYWxzLCF1cGJqcy5tZWRpYW5ldEdsb2JhbHMuY2lkJiZ7Y2lkOmUucGFyYW1zLmNpZH0pLCEwKTooaS5sb2dFcnJvcigiIi5jb25jYXQodSwiIDogY2lkIHNob3VsZCBiZSBhIHN0cmluZyIpKSwhMSk6KGkubG9nRXJyb3IoIiIuY29uY2F0KHUsIiA6IE1pc3NpbmcgYmlkIHBhcmFtZXRlcnMiKSksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1mdW5jdGlvbihlLHQpe3JldHVybntzaXRlOncoZVswXS5wYXJhbXMuc2l0ZSksZXh0OlQoZVswXSx0KSxpZDplWzBdLmF1Y3Rpb25JZCxpbXA6ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBqKGUpfSkpLHRtYXg6dC50aW1lb3V0fHxhLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil9fShlLHQpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoobj1yLmV4dC5jdXN0b21lcl9pZCwiaHR0cHM6Ly9wcmViaWQubWVkaWEubmV0L3J0Yi9wcmViaWQ/Y2lkPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKSxkYXRhOkpTT04uc3RyaW5naWZ5KHIpfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtpZighZXx8IWUuYm9keSlyZXR1cm4gaS5sb2dJbmZvKCIiLmNvbmNhdCh1LCIgOiByZXNwb25zZSBpcyBlbXB0eSIpKSxuO3ZhciByPWUuYm9keS5iaWRMaXN0O3JldHVybiBpLmlzQXJyYXkocikmJjAhPT1yLmxlbmd0aD8oKG49ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hMT09PWUubm9fYmlkJiZwYXJzZUZsb2F0KGUuY3BtKT4wfShlKX0pKSkuZm9yRWFjaChNKSxuKTooaS5sb2dJbmZvKCIiLmNvbmNhdCh1LCIgOiBubyBiaWRzIikpLG4pfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPShuPXQsIWkuaXNFbXB0eShuKSYmblswXS5ib2R5JiZuWzBdLmJvZHkuZXh0JiZpLmlzQXJyYXkoblswXS5ib2R5LmV4dC5jc1VybCk/blswXS5ib2R5LmV4dC5jc1VybDpbXSk7cmV0dXJuIGUuaWZyYW1lRW5hYmxlZD9fKHIsImlmcmFtZSIpOmUucGl4ZWxFbmFibGVkP18ociwiaW1hZ2UiKTp2b2lkIDB9LG9uVGltZW91dDpmdW5jdGlvbihlKXt0cnl7Qyh7bmFtZTpnLHZhbHVlOmUubGVuZ3RoLHJlbGF0ZWRfZGF0YTplWzBdLnRpbWVvdXR8fGEuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKX0sZSl9Y2F0Y2goZSl7fX0sb25CaWRXb246ZnVuY3Rpb24oZSl7dHJ5e0Moe25hbWU6Yix2YWx1ZTplLmNwbX0sW2VdKX1jYXRjaChlKXt9fSxjbGVhck1uRGF0YTpmdW5jdGlvbigpe2g9e319LGdldFdpbmRvd1NpemU6ZnVuY3Rpb24oKXtyZXR1cm57dzp3aW5kb3cuc2NyZWVuLndpZHRofHwtMSxoOndpbmRvdy5zY3JlZW4uaGVpZ2h0fHwtMX19fTtPYmplY3Qoci5yZWdpc3RlckJpZGRlcikoVSl9fSxbNTcyXSk7CnVwYmpzQ2h1bmsoWzE2OV0sezU5ODpmdW5jdGlvbihlLG4sdCl7ZS5leHBvcnRzPXQoNTk5KX0sNTk5OmZ1bmN0aW9uKGUsbix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChuLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKTt2YXIgaT10KDApLHI9dCgzKSxvPXQoMSksZD10KDIpLGE9dCg3KSxzPSJub2JpZCIsdT1PYmplY3QoYS5iKSg4MTYscyk7ZnVuY3Rpb24gYyhlLG4pe2kubG9nSW5mbygiLU5vQmlkLSAiK2Usbil9ZnVuY3Rpb24gcChlLG4pe2Z1bmN0aW9uIHQoZSxuKXt2YXIgdD1mdW5jdGlvbihlLG4pe2Zvcih2YXIgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKG5bdF0uZD09PWUpcmV0dXJuIG5bdF07cmV0dXJuITF9KGUuZGl2LG4pfHx7fTtyZXR1cm4gZS5hY2NvdW50JiYodC5zPWUuYWNjb3VudCksZS5zaXplcyYmKHQuej1lLnNpemVzKSxlLmRpdiYmKHQuZD1lLmRpdiksZS50YXJnZXRpbmc/dC5nPWUudGFyZ2V0aW5nOnQuZz17fSxlLmRpdiYmZnVuY3Rpb24oZSxuLHQpe2Zvcih2YXIgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgcj1lW2ldO3Jbbl0mJnJbbl09PT10JiZlLnNwbGljZShpLDEpfX0obiwiZCIsZS5kaXYpLGUuc2l6ZU1hcHBpbmcmJih0LnNtPWUuc2l6ZU1hcHBpbmcpLGUuc2l0ZUlkJiYodC5zaWQ9ZS5zaXRlSWQpLGUucGxhY2VtZW50SWQmJih0LnBpZD1lLnBsYWNlbWVudElkKSxlLmFkX3R5cGUmJih0LmF0PWUuYWRfdHlwZSksZS5wYXJhbXMmJih0LnBhcmFtcz1lLnBhcmFtcyksbi5wdXNoKHQpLG59aWYodm9pZCAwIT09d2luZG93Lm5vYmlkLnJlZnJlc2hMaW1pdCYmd2luZG93Lm5vYmlkLnJlZnJlc2hMaW1pdDx3aW5kb3cubm9iaWQucmVmcmVzaENvdW50KXJldHVybiExO3ZhciBvLGE9KG89Il91YmxvY2siLHUuZ2V0Q29va2llKG8pKTtpZihhKXJldHVybiBjKCJSZXF1ZXN0IGJsb2NrZWQgZm9yIHVzZXIuIGhvdXJzOiAiLGEpLCExO2Zvcih2YXIgcz1bXSxwPTAsbD1bXSxnPTA7ZzxlLmxlbmd0aDtnKyspe3ZhciBmPWVbZ10sYj1mLmFkVW5pdENvZGU7cy5wdXNoKGIpO3ZhciB2PWYuc2l6ZXM7cD12b2lkIDAhPT1mLnBhcmFtcy5zaXRlSWQmJmYucGFyYW1zLnNpdGVJZD9mLnBhcmFtcy5zaXRlSWQ6cDt2YXIgbT1mLnBhcmFtcy5wbGFjZW1lbnRJZCx3PSJiYW5uZXIiLGg9aS5kZWVwQWNjZXNzKGYsIm1lZGlhVHlwZXMudmlkZW8iKSx5PWkuZGVlcEFjY2VzcyhmLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTsoZi5tZWRpYVR5cGU9PT1kLmR8fGgmJigiaW5zdHJlYW0iPT09eXx8Im91dHN0cmVhbSI9PT15KSkmJih3PSJ2aWRlbyIpLHAmJnQoe2RpdjpiLHNpemVzOnYsc2l0ZUlkOnAscGxhY2VtZW50SWQ6bSxhZF90eXBlOncscGFyYW1zOmYucGFyYW1zfSxsKX1yZXR1cm4hIXAmJmZ1bmN0aW9uKHQsbyxkKXt2YXIgYSxzLHUsYyxwLGwsZyxmLGI9e307Yi5zaWQ9byxiLmw9ZnVuY3Rpb24oZSl7dmFyIG49IiI7cmV0dXJuIG49ZSYmZS5yZWZlcmVySW5mbyYmZS5yZWZlcmVySW5mby5yZWZlcmVyP2UucmVmZXJlckluZm8ucmVmZXJlcjp3aW5kb3cuY29udGV4dCYmd2luZG93LmNvbnRleHQubG9jYXRpb24mJndpbmRvdy5jb250ZXh0LmxvY2F0aW9uLmhyZWY/d2luZG93LmNvbnRleHQubG9jYXRpb24uaHJlZjpkb2N1bWVudC5sb2NhdGlvbi5ocmVmLGVuY29kZVVSSUNvbXBvbmVudChuLnJlcGxhY2UoL1wlL2csIiIpKX0obiksYi50dD1lbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQudGl0bGUpLGIudHQ9Yi50dC5yZXBsYWNlKC8nfDt8cXVvdDt8Mzk7fCZhbXA7fCZ8I3xcclxufFxyfFxufFx0fFxmfFwlMEF8XCJ8XCUyMnxcJTVDfFwlMjN8XCUyNnxcJTI2fFwlMDkvZ20sIiIpLGIuYT1mdW5jdGlvbihlLG4pe3ZhciB0PVtdO2lmKGUmJmUubGVuZ3RoKXtpZihuKXt2YXIgaT1bXTtlIGluc3RhbmNlb2YgQXJyYXk/aT1lOmkucHVzaChlKTtmb3IodmFyIHI9MCxvPW4ubGVuZ3RoO3I8bztyKyspe3ZhciBkPW5bcl07ZCYmZC5kJiZpLmluZGV4T2YoZC5kKT4tMSYmdC5wdXNoKGQpfX19ZWxzZSB0PW47cmV0dXJuIHR9KHQsZHx8W10pLGIudD0oYT1uZXcgRGF0ZSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlPD05PyIwIitlOiIiK2V9LHU9YS5nZXREYXRlKCksYz1hLmdldEZ1bGxZZWFyKCkscD1hLmdldE1vbnRoKCkrMSxsPWEuZ2V0SG91cnMoKSxnPWEuZ2V0TWludXRlcygpLGY9YS5nZXRTZWNvbmRzKCksYysiLSIrcyhwKSsiLSIrcyh1KSsiICIrcyhsKSsiOiIrcyhnKSsiOiIrcyhmKSksYi50ej1NYXRoLnJvdW5kKChuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSksYi5yPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCksbj1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHdpbmRvdy5pbm5lckhlaWdodHx8MCk7cmV0dXJuIiIuY29uY2F0KGUsIngiKS5jb25jYXQobil9Y2F0Y2goZSl7aS5sb2dXYXJuKCJDb3VsZCBub3QgcGFyc2Ugc2NyZWVuIGRpbWVuc2lvbnMsIGVycm9yIGRldGFpbHM6IixlKX19KCksYi5sYW5nPW5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fG5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZSxiLnJlZj1kb2N1bWVudC5yZWZlcnJlcixiLmdkcHI9ZnVuY3Rpb24oZSl7dmFyIG49e307cmV0dXJuIGUmJmUuZ2RwckNvbnNlbnQmJihuPXtjb25zZW50U3RyaW5nOmUuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxjb25zZW50UmVxdWlyZWQ6ImJvb2xlYW4iPT10eXBlb2YgZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllc30pLG59KG4pLGIudXNwPWZ1bmN0aW9uKGUpe3ZhciBuPSIiO3JldHVybiBlJiZlLnVzcENvbnNlbnQmJihuPWUudXNwQ29uc2VudCksbn0obiksYi5wamJkcj1uJiZuLmJpZGRlckNvZGU/bi5iaWRkZXJDb2RlOiJub2JpZCI7dmFyIHY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubGVuZ3RoPjA/ZVswXS5zY2hhaW46bnVsbH0oZSk7diYmKGIuc2NoYWluPXYpO3ZhciBtPSEwPT09ci5iLmdldENvbmZpZygiY29wcGEiKT97Y29wcGE6ITB9OmUmJmUubGVuZ3RoPjA/ZVswXS5jb3BwYTpudWxsO20mJihiLmNvcHBhPW0pO3ZhciB3PWZ1bmN0aW9uKGUpe2lmKGkuaXNBcnJheShlKSYmZS5sZW5ndGg+MCl7dmFyIG49W107cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9W107ZS51aWRzJiZlLnVpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5wdXNoKHtpZDplLmlkKyIifSl9KSksZS5zb3VyY2UmJnQubGVuZ3RoPjAmJm4ucHVzaCh7c291cmNlOmUuc291cmNlLHVpZHM6dH0pfSkpLG59fShpLmRlZXBBY2Nlc3MoZSwiMC51c2VySWRBc0VpZHMiKSk7cmV0dXJuIHcmJncubGVuZ3RoPjAmJihiLmVpZHM9dyksYn0ocyxwLGwpfWZ1bmN0aW9uIGwoZSxuKXt2YXIgdD1mdW5jdGlvbihlLG4pe2Zvcih2YXIgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKG5bdF0uYWRVbml0Q29kZT09ZSlyZXR1cm4gblt0XTtyZXR1cm4hMX07IWZ1bmN0aW9uKGUpe2UmJnZvaWQgMCE9PWUucmxpbWl0JiYod2luZG93Lm5vYmlkLnJlZnJlc2hMaW1pdD1lLnJsaW1pdCl9KGUpLGZ1bmN0aW9uKGUpe2UmJnZvaWQgMCE9PWUudWJsb2NrJiZmdW5jdGlvbihlLG4sdCl7dmFyIGk9bmV3IERhdGU7aS5zZXRUaW1lKGkuZ2V0VGltZSgpKzYwKnQqNjAqMWUzKTt2YXIgcj0iZXhwaXJlcz0iK2kudG9VVENTdHJpbmcoKTt1LnNldENvb2tpZShlLG4scil9KCJfdWJsb2NrIiwiMSIsZS51YmxvY2spfShlKTtmb3IodmFyIGk9W10scj0wO2UuYmlkcyYmcjxlLmJpZHMubGVuZ3RoO3IrKyl7dmFyIG89ZS5iaWRzW3JdO2lmKCEoby5iZHJpZDwxMDApJiZuJiZuLmJpZGRlclJlcXVlc3QmJm4uYmlkZGVyUmVxdWVzdC5iaWRzKXt3aW5kb3cubm9iaWQuYmlkUmVzcG9uc2VzWyIiK28uaWRdPW87dmFyIGE9dChvLmRpdmlkLG4uYmlkZGVyUmVxdWVzdC5iaWRzKTtpZihhKXt2YXIgcz17cmVxdWVzdElkOmEuYmlkSWQsY3BtOjEqKG8ucHJpY2U/by5wcmljZTpvLmJ1Y2tldD9vLmJ1Y2tldDowKSx3aWR0aDpvLnNpemUudyxoZWlnaHQ6by5zaXplLmgsY3JlYXRpdmVJZDpvLmNyZWF0aXZlaWR8fCIiLGRlYWxJZDpvLmRlYWxpZHx8IiIsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzAwLGFkOm8uYWRtLG1lZGlhVHlwZTpvLmF0eXBlfHxkLmJ9O28udmFzdFVybCYmKHMudmFzdFVybD1vLnZhc3RVcmwpLG8udmFzdFhtbCYmKHMudmFzdFhtbD1vLnZhc3RYbWwpLG8udmlkZW9DYWNoZUtleSYmKHMudmlkZW9DYWNoZUtleT1vLnZpZGVvQ2FjaGVLZXkpLG8ubWV0YSYmKHMubWV0YT1vLm1ldGEpLGkucHVzaChzKX19fXJldHVybiBpfXdpbmRvdy5ub2JpZFZlcnNpb249IjEuMy4xIix3aW5kb3cubm9iaWQ9d2luZG93Lm5vYmlkfHx7fSx3aW5kb3cubm9iaWQuYmlkUmVzcG9uc2VzPXdpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXN8fHt9LHdpbmRvdy5ub2JpZC50aW1lb3V0VG90YWw9MCx3aW5kb3cubm9iaWQuYmlkV29uVG90YWw9MCx3aW5kb3cubm9iaWQucmVmcmVzaENvdW50PTAsd2luZG93Lm5vYmlkLnJlbmRlclRhZz1mdW5jdGlvbihlLG4sdCl7Yygibm9iaWQucmVuZGVyVGFnKCkiLG4pO3ZhciBpPXdpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXNbIiIrbl07aWYoaSYmaS5hZG0yKXtjKCJub2JpZC5yZW5kZXJUYWcoKSBmb3VuZCB0YWciLG4pO3ZhciByPWkuYWRtMjtyZXR1cm4gZS53cml0ZShyKSx2b2lkIGUuY2xvc2UoKX1jKCJub2JpZC5yZW5kZXJUYWcoKSB0YWcgTk9UIEZPVU5EICpFUlJPUioiLG4pfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKGUpe3ZhciBuPSIiK2VbZS5tZXNzYWdlPyJtZXNzYWdlIjoiZGF0YSJdO2lmKCJuYlRhZ1JlbmRlcmVyLnJlcXVlc3RBZE1hcmt1cHwiPT09bi5zdWJzdHJpbmcoMCwibmJUYWdSZW5kZXJlci5yZXF1ZXN0QWRNYXJrdXB8Ii5sZW5ndGgpKXtjKCJQcmViaWQgcmVjZWl2ZWQgbmJUYWdSZW5kZXJlci5yZXF1ZXN0QWRNYXJrdXAgZXZlbnQiKTt2YXIgdD1uLnN1YnN0cmluZyhuLmluZGV4T2YoInwiKSsxKTtpZih3aW5kb3cubm9iaWQmJndpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXMpe3ZhciBpPXdpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXNbIiIrdF07aWYoaSYmaS5hZG0yKXt2YXIgcj1pLmFkbTI7ciYmZS5zb3VyY2UucG9zdE1lc3NhZ2UoIm5iVGFnUmVuZGVyZXIucmVuZGVyQWRJblNhZmVGcmFtZXwiK3IsIioiKX19fX0pLCExKTt2YXIgZz17Y29kZTpzLGd2bGlkOjgxNixhbGlhc2VzOlt7Y29kZToiZHVyYXRpb24iLGd2bGlkOjY3NH1dLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2QuYixkLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBjKCJpc0JpZFJlcXVlc3RWYWxpZCIsZSksISFlLnBhcmFtcy5zaXRlSWR9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxuKXtpZihjKCJ2YWxpZEJpZFJlcXVlc3RzIixlKSwhZXx8ZS5sZW5ndGg8PTApYygiRW1wdHkgdmFsaWRCaWRSZXF1ZXN0cyIpO2Vsc2V7dmFyIHQ9cChlLG4pO2lmKHQpe3dpbmRvdy5ub2JpZC5yZWZyZXNoQ291bnQrKzt2YXIgcixvLGQ9SlNPTi5zdHJpbmdpZnkodCkucmVwbGFjZSgvJ3wmfCMvZywiIiksYT0ocj0iaHR0cHM6Ly9hZHMuc2VydmVub2JpZC5jb20vIiwobz0iZnVuY3Rpb24iPT10eXBlb2YgaS5nZXRQYXJhbWV0ZXJCeU5hbWUmJmkuZ2V0UGFyYW1ldGVyQnlOYW1lKCJub2JpZC1lbnYiKSk/ImJldGEiPT1vP3I9Imh0dHBzOi8vYmV0YS5zZXJ2ZW5vYmlkLmNvbS8iOiJkZXYiPT1vP3I9Ii8vbG9jYWxob3N0OjgyODIvIjoicWEiPT1vJiYocj0iaHR0cHM6Ly9xYS1hZHMubm9iaWQuY29tLyIpOnI9Imh0dHBzOi8vYWRzLnNlcnZlbm9iaWQuY29tLyIscisiYWRyZXE/Y2I9IitNYXRoLmZsb29yKDExZTMqTWF0aC5yYW5kb20oKSkpLHM9e307cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPSEwO3JldHVybiBlJiZlLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYyPT09ZS5nZHByQ29uc2VudC5hcGlWZXJzaW9uJiYobj0hKCEwIT09aS5kZWVwQWNjZXNzKGUuZ2RwckNvbnNlbnQsInZlbmRvckRhdGEucHVycG9zZS5jb25zZW50cy4xIikpKSxufShuKXx8KHM9e3dpdGhDcmVkZW50aWFsczohMX0pLHttZXRob2Q6IlBPU1QiLHVybDphLGRhdGE6ZCxiaWRkZXJSZXF1ZXN0Om4sb3B0aW9uczpzfX19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLG4pe3JldHVybiBjKCJpbnRlcnByZXRSZXNwb25zZSAtPiBzZXJ2ZXJSZXNwb25zZSIsZSksYygiaW50ZXJwcmV0UmVzcG9uc2UgLT4gYmlkUmVxdWVzdCIsbiksbChlLmJvZHksbil9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLG4sdCxyKXtpZihlLmlmcmFtZUVuYWJsZWQpe3ZhciBvPSIiO3JldHVybiB0JiYic3RyaW5nIj09dHlwZW9mIHQuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIHQuZ2RwckFwcGxpZXM/bys9Ij9nZHByPSIuY29uY2F0KE51bWJlcih0LmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQodC5jb25zZW50U3RyaW5nKTpvKz0iP2dkcHJfY29uc2VudD0iLmNvbmNhdCh0LmNvbnNlbnRTdHJpbmcpKSxyJiYoby5sZW5ndGg+MD9vKz0iJiI6bys9Ij8iLG8rPSJ1c3BfY29uc2VudD0iK3IpLFt7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vcHVibGljLnNlcnZlbm9iaWQuY29tL3N5bmMuaHRtbCIrb31dfWlmKGUucGl4ZWxFbmFibGVkJiZuLmxlbmd0aD4wKXt2YXIgZD1bXTtyZXR1cm4gblswXS5ib2R5LnN5bmNzJiZuWzBdLmJvZHkuc3luY3MubGVuZ3RoPjAmJm5bMF0uYm9keS5zeW5jcy5mb3JFYWNoKChmdW5jdGlvbihlKXtkLnB1c2goe3R5cGU6ImltYWdlIix1cmw6ZX0pfSkpLGR9cmV0dXJuIGkubG9nV2FybigiLU5vQmlkLSBQbGVhc2UgZW5hYmxlIGlmcmFtZSBiYXNlZCB1c2VyIHN5bmMuIixlKSxbXX0sb25UaW1lb3V0OmZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cubm9iaWQudGltZW91dFRvdGFsKyssYygiVGltZW91dCB0b3RhbDogIit3aW5kb3cubm9iaWQudGltZW91dFRvdGFsLGUpLHdpbmRvdy5ub2JpZC50aW1lb3V0VG90YWx9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cubm9iaWQuYmlkV29uVG90YWwrKyxjKCJCaWRXb24gdG90YWw6ICIrd2luZG93Lm5vYmlkLmJpZFdvblRvdGFsLGUpLHdpbmRvdy5ub2JpZC5iaWRXb25Ub3RhbH19O09iamVjdChvLnJlZ2lzdGVyQmlkZGVyKShnKX19LFs1OThdKTsKdXBianNDaHVuayhbMTYzXSx7NjE2OmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big2MTcpfSw2MTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsIlVTRVJfSURfQ09ERV9UT19RVUVSWV9BUkciLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKTt2YXIgcj1uKDMpLGE9bigxKSxpPW4oMCksbz1uKDIpLGQ9bigxMikscz1uLm4oZCk7ZnVuY3Rpb24gYyhlKXtyZXR1cm4oYz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1uKXJldHVybjt2YXIgcixhLGk9W10sbz0hMCxkPSExO3RyeXtmb3Iobj1uLmNhbGwoZSk7IShvPShyPW4ubmV4dCgpKS5kb25lKSYmKGkucHVzaChyLnZhbHVlKSwhdHx8aS5sZW5ndGghPT10KTtvPSEwKTt9Y2F0Y2goZSl7ZD0hMCxhPWV9ZmluYWxseXt0cnl7b3x8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihkKXRocm93IGF9fXJldHVybiBpfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHUoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHUoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgbT1bby5iLG8uZF0sbD1bInN0YXJ0ZGVsYXkiLCJtaW1lcyIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJzdGFydGRlbGF5Iiwic2tpcHBhYmxlIiwicGxheWJhY2ttZXRob2QiLCJhcGkiLCJwcm90b2NvbHMiLCJib3hpbmdhbGxvd2VkIiwibGluZWFyaXR5IiwiZGVsaXZlcnkiLCJwcm90b2NvbCIsInBsYWNlbWVudCIsIm1pbmJpdHJhdGUiLCJtYXhiaXRyYXRlIl0sZj17YnJpdGVwb29saWQ6ImJyaXRlcG9vbGlkIixjcml0ZW9JZDoiY3JpdGVvaWQiLGZhYnJpY2tJZDoibnVlc3RhcmlkIixoYWxvSWQ6ImF1ZGlnZW50aWQiLGlkNWlkOiJpZDVpZCIsaWRsX2VudjoibHJlIixJRFA6Inplb3RhcGlkIixpZHhJZDoiaWR4aWQiLGludGVudElxSWQ6ImludGVudGlxaWQiLGxpcGI6ImxpcGJpZCIsbG90YW1lUGFub3JhbWFJZDoibG90YW1laWQiLG1lcmtsZUlkOiJtZXJrbGVpZCIsbmV0SWQ6Im5ldGlkIixwYXJyYWJsZUlkOiJwYXJyYWJsZWlkIixwdWJjaWQ6InB1YmNpZCIscXVhbnRjYXN0SWQ6InF1YW50Y2FzdGlkIix0YXBhZElkOiJ0YXBhZGlkIix0ZGlkOiJ0dGR1dWlkIix1aWQyOiJ1aWQyIixmbG9jSWQ6ImZsb2MiLGFkbWl4ZXJJZDoiYWRtaXhlcmlkIixkZWVwaW50ZW50SWQ6ImRlZXBpbnRlbnRpZCIsZG1kSWQ6ImRtZGlkIixuZXh0cm9sbElkOiJuZXh0cm9sbGlkIixub3ZhdGlxOiJub3ZhdGlxaWQiLG13T3BlbkxpbmtJZDoibXdvcGVubGlua2lkIixkYXBJZDoiZGFwaWQiLGFteElkOiJhbXhpZCJ9LGI9e2NvZGU6Im9wZW54IixndmxpZDo2OSxzdXBwb3J0ZWRNZWRpYVR5cGVzOm0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJhbXMuZGVsRG9tYWlufHxlLnBhcmFtcy5wbGF0Zm9ybTtyZXR1cm4gaS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIikmJnQ/ISFlLnBhcmFtcy51bml0fHxpLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoIik+MDohKCFlLnBhcmFtcy51bml0fHwhdCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuW107dmFyIG49W10sYT1wKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gbj10LGkuZGVlcEFjY2VzcyhuLCJtZWRpYVR5cGVzLnZpZGVvIikmJiFpLmRlZXBBY2Nlc3MobiwibWVkaWFUeXBlcy5iYW5uZXIiKXx8bi5tZWRpYVR5cGU9PT1vLmQ/ZVswXS5wdXNoKHQpOmVbMV0ucHVzaCh0KSxlfSksW1tdLFtdXSl9KGUpLDIpLGQ9YVswXSxjPWFbMV07cmV0dXJuIGMubGVuZ3RoPjAmJm4ucHVzaChmdW5jdGlvbihlLHQpe3ZhciBuPVtdLGE9ITEsZD12KGUsdCkscz1pLl9tYXAoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLnVuaXR9KSk7ZC5hdXM9aS5fbWFwKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBpLnBhcnNlU2l6ZXNJbnB1dChlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKS5qb2luKCIsIil9KSkuam9pbigifCIpLGQuZGl2aWRzPWkuX21hcChlLChmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUuYWRVbml0Q29kZSl9KSkuam9pbigiLCIpLGQuYXVjcz1pLl9tYXAoZSwoZnVuY3Rpb24oZSl7dmFyIHQ9aS5kZWVwQWNjZXNzKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90Iik7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0fHwiIil9KSkuam9pbigiLCIpLHMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkmJihkLmF1aWQ9cy5qb2luKCIsIikpO2Uuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLmRvTm90VHJhY2t9KSkmJihkLm5zPTEpOyghMD09PXIuYi5nZXRDb25maWcoImNvcHBhIil8fGUuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLmNvcHBhfSkpKSYmKGQudGZjZD0xKTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUucGFyYW1zLmN1c3RvbVBhcmFtcyl7dmFyIHQ9aS5fbWFwKE9iamVjdC5rZXlzKGUucGFyYW1zLmN1c3RvbVBhcmFtcyksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPXRbZV07aS5pc0FycmF5KG4pJiYobj1uLmpvaW4oIiwiKSk7cmV0dXJuKGUudG9Mb3dlckNhc2UoKSsiPSIrbi50b0xvd2VyQ2FzZSgpKS5yZXBsYWNlKCIrIiwiLiIpLnJlcGxhY2UoIi8iLCJfIil9KHQsZS5wYXJhbXMuY3VzdG9tUGFyYW1zKX0pKSxyPXdpbmRvdy5idG9hKHQuam9pbigiJiIpKTthPSEwLG4ucHVzaChyKX1lbHNlIG4ucHVzaCgiIil9KSksYSYmKGQudHBzPW4uam9pbigiLCIpKTtyZXR1cm4geShkLG8uYixlKSx7bWV0aG9kOiJHRVQiLHVybDpkLnBoPyJodHRwczovL3Uub3BlbngubmV0L3cvMS4wL2FyaiI6Imh0dHBzOi8vIi5jb25jYXQoZVswXS5wYXJhbXMuZGVsRG9tYWluLCIvdy8xLjAvYXJqIiksZGF0YTpkLHBheWxvYWQ6e2JpZHM6ZSxzdGFydFRpbWU6bmV3IERhdGV9fX0oYyx0KSksZC5sZW5ndGg+MCYmZC5mb3JFYWNoKChmdW5jdGlvbihlKXtuLnB1c2goZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlLHQpe3ZhciBuLHIsYT1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpLGQ9dihbZV0sdCksYz1pLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvIil8fHt9LHA9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpLHU9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpO2kuaXNBcnJheShlLnNpemVzKSYmMj09PWUuc2l6ZXMubGVuZ3RoJiYhaS5pc0FycmF5KGUuc2l6ZXNbMF0pPyhuPXBhcnNlSW50KGUuc2l6ZXNbMF0sMTApLHI9cGFyc2VJbnQoZS5zaXplc1sxXSwxMCkpOmkuaXNBcnJheShlLnNpemVzKSYmaS5pc0FycmF5KGUuc2l6ZXNbMF0pJiYyPT09ZS5zaXplc1swXS5sZW5ndGg/KG49cGFyc2VJbnQoZS5zaXplc1swXVswXSwxMCkscj1wYXJzZUludChlLnNpemVzWzBdWzFdLDEwKSk6aS5pc0FycmF5KHUpJiYyPT09dS5sZW5ndGgmJihuPXBhcnNlSW50KHVbMF0sMTApLHI9cGFyc2VJbnQodVsxXSwxMCkpO3ZhciBtPXt3Om4saDpyfSxmPWUucGFyYW1zLnZpZGVvfHxlLnBhcmFtcy5vcGVucnRifHx7fTtmLm9wZW5ydGImJihmPWYub3BlbnJ0Yik7aS5pc0FycmF5KGYuaW1wKSYmKGY9Zi5pbXBbMF0udmlkZW8pO09iamVjdC5rZXlzKGYpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHMoKShsLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBtW2VdPWZbZV19KSksT2JqZWN0LmtleXMoYSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gcygpKGwsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG1bZV09YVtlXX0pKTt2YXIgYj17aW1wOlt7dmlkZW86bX1dfTtkLm9wZW5ydGI9SlNPTi5zdHJpbmdpZnkoYiksZC5hdWlkPWUucGFyYW1zLnVuaXQsZC52d2Q9bnx8Yy52d2QsZC52aHQ9cnx8Yy52aHQsIm91dHN0cmVhbSI9PT1wJiYoZC52b3M9IjEwMSIpO2MubWltZXMmJihkLnZtaW1lcz1jLm1pbWVzKTtlLnBhcmFtcy50ZXN0JiYoZC52dGVzdD0xKTt2YXIgaD1pLmRlZXBBY2Nlc3MoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKTtoJiYoZC5hdWNzPWVuY29kZVVSSUNvbXBvbmVudChoKSk7cmV0dXJuIHkoZCxvLmQsW2VdKSxkfShlLHQpO3JldHVybnttZXRob2Q6IkdFVCIsdXJsOm4ucGg/Imh0dHBzOi8vdS5vcGVueC5uZXQvdi8xLjAvYXZqcCI6Imh0dHBzOi8vIi5jb25jYXQoZS5wYXJhbXMuZGVsRG9tYWluLCIvdi8xLjAvYXZqcCIpLGRhdGE6bixwYXlsb2FkOntiaWQ6ZSxzdGFydFRpbWU6bmV3IERhdGV9fX0oZSx0KSl9KSksbn0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmJvZHk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybi9hdmpwJC8udGVzdChlLnVybCk/by5kOm8uYn0odCk9PT1vLmQ/ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmJpZCxyPSh0LnN0YXJ0VGltZSxbXSk7aWYodm9pZCAwIT09ZSYmIiIhPT1lLnZhc3RVcmwmJmUucHViX3Jldj4wKXt2YXIgYT1pLnBhcnNlVXJsKGUudmFzdFVybCkuc2VhcmNofHx7fSxkPXt9O2QucmVxdWVzdElkPW4uYmlkSWQsZS5kZWFsX2lkJiYoZC5kZWFsSWQ9ZS5kZWFsX2lkKSxkLnR0bD0zMDAsZC5uZXRSZXZlbnVlPSEwLGQuY3VycmVuY3k9ZS5jdXJyZW5jeSxkLmNwbT1wYXJzZUludChlLnB1Yl9yZXYsMTApLzFlMyxkLndpZHRoPXBhcnNlSW50KGUud2lkdGgsMTApLGQuaGVpZ2h0PXBhcnNlSW50KGUuaGVpZ2h0LDEwKSxkLmNyZWF0aXZlSWQ9ZS5hZGlkLGQudmFzdFVybD1lLnZhc3RVcmwsZC5tZWRpYVR5cGU9by5kLGUucGg9YS5waCxlLmNvbG89YS5jb2xvLGUudHM9YS50cyxyLnB1c2goZCl9cmV0dXJuIHJ9KG4sdC5wYXlsb2FkKTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10LmJpZHMscj0odC5zdGFydFRpbWUsZS5hZHMuYWQpLGE9W10saT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgbz1yW2ldLGQ9cGFyc2VJbnQoby5pZHgsMTApLHM9e307aWYocy5yZXF1ZXN0SWQ9bltkXS5iaWRJZCxvLnB1Yl9yZXYpe3MuY3BtPU51bWJlcihvLnB1Yl9yZXYpLzFlMzt2YXIgYz1vLmNyZWF0aXZlWzBdO2MmJihzLndpZHRoPWMud2lkdGgscy5oZWlnaHQ9Yy5oZWlnaHQpLHMuY3JlYXRpdmVJZD1jLmlkLHMuYWQ9by5odG1sLG8uZGVhbF9pZCYmKHMuZGVhbElkPW8uZGVhbF9pZCkscy50dGw9MzAwLHMubmV0UmV2ZW51ZT0hMCxzLmN1cnJlbmN5PW8uY3VycmVuY3ksby50YmQmJihzLnRiZD1vLnRiZCkscy50cz1vLnRzLHMubWV0YT17fSxvLmJyYW5kX2lkJiYocy5tZXRhLmJyYW5kSWQ9by5icmFuZF9pZCksby5hZG9tYWluJiZsZW5ndGgoby5hZG9tYWluKT4wP3MubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1vLmFkb21haW46cy5tZXRhLmFkdmVydGlzZXJEb21haW5zPVtdLG8uYWR2X2lkJiYocy5tZXRhLmRzcGlkPW8uYWR2X2lkKSxhLnB1c2gocyl9fXJldHVybiBhfShuLHQucGF5bG9hZCl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQsbixyKXtpZihlLmlmcmFtZUVuYWJsZWR8fGUucGl4ZWxFbmFibGVkKXJldHVyblt7dHlwZTplLmlmcmFtZUVuYWJsZWQ/ImlmcmFtZSI6ImltYWdlIix1cmw6aS5kZWVwQWNjZXNzKHQsIjAuYm9keS5hZHMucGl4ZWxzIil8fGkuZGVlcEFjY2Vzcyh0LCIwLmJvZHkucGl4ZWxzIil8fGZ1bmN0aW9uKGUsdCl7dmFyIG49Imh0dHBzOi8vdS5vcGVueC5uZXQvdy8xLjAvcGQiLHI9W107ZSYmKHIucHVzaCgiZ2Rwcj0iKyhlLmdkcHJBcHBsaWVzPzE6MCkpLHIucHVzaCgiZ2Rwcl9jb25zZW50PSIrZW5jb2RlVVJJQ29tcG9uZW50KGUuY29uc2VudFN0cmluZ3x8IiIpKSk7dCYmci5wdXNoKCJ1c19wcml2YWN5PSIrZW5jb2RlVVJJQ29tcG9uZW50KHQpKTtyZXR1cm4iIi5jb25jYXQobikuY29uY2F0KHIubGVuZ3RoPjA/Ij8iK3Iuam9pbigiJiIpOiIiKX0obixyKX1dfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5jb252ZXJ0VHlwZXMoe3VuaXQ6InN0cmluZyIsY3VzdG9tRmxvb3I6Im51bWJlciJ9LGUpfX07ZnVuY3Rpb24gaChlKXt2YXIgdCxuLHIsYT13aW5kb3csaT1kb2N1bWVudCxvPWkuZG9jdW1lbnRFbGVtZW50O2lmKGUpe3RyeXthPXdpbmRvdy50b3AsaT13aW5kb3cudG9wLmRvY3VtZW50fWNhdGNoKGUpe3JldHVybn1vPWkuZG9jdW1lbnRFbGVtZW50LHI9aS5ib2R5LHQ9YS5pbm5lcldpZHRofHxvLmNsaWVudFdpZHRofHxyLmNsaWVudFdpZHRoLG49YS5pbm5lckhlaWdodHx8by5jbGllbnRIZWlnaHR8fHIuY2xpZW50SGVpZ2h0fWVsc2Ugbz1pLmRvY3VtZW50RWxlbWVudCx0PWEuaW5uZXJXaWR0aHx8by5jbGllbnRXaWR0aCxuPWEuaW5uZXJIZWlnaHR8fG8uY2xpZW50SGVpZ2h0O3JldHVybiIiLmNvbmNhdCh0LCJ4IikuY29uY2F0KG4pfWZ1bmN0aW9uIHYoZSx0KXt2YXIgbixhPWkuaW5JZnJhbWUoKTtuPXtqdTpyLmIuZ2V0Q29uZmlnKCJwYWdlVXJsIil8fHQucmVmZXJlckluZm8ucmVmZXJlcixjaDpkb2N1bWVudC5jaGFyU2V0fHxkb2N1bWVudC5jaGFyYWN0ZXJTZXQscmVzOiIiLmNvbmNhdChzY3JlZW4ud2lkdGgsIngiKS5jb25jYXQoc2NyZWVuLmhlaWdodCwieCIpLmNvbmNhdChzY3JlZW4uY29sb3JEZXB0aCksaWZyOmEsdHo6KG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpLHR3czpoKGEpLGJlOjEsYmM6ZVswXS5wYXJhbXMuYmN8fCIiLmNvbmNhdCgiaGJfcGIiLCJfIikuY29uY2F0KCIzLjAuMyIpLGRkZGlkOmkuX21hcChlLChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkfSkpLmpvaW4oIiwiKSxub2NhY2hlOihuZXcgRGF0ZSkuZ2V0VGltZSgpfTt2YXIgbyxkLHMscCx1LG09ci5iLmdldENvbmZpZygib3J0YjIudXNlci5kYXRhIik7aWYoQXJyYXkuaXNBcnJheShtKSYmbS5sZW5ndGg+MCl7dmFyIGw9bS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUuc2VnbWVudCkmJmUuc2VnbWVudC5sZW5ndGg+MCYmdm9pZCAwIT09ZS5uYW1lJiZlLm5hbWUubGVuZ3RoPjB9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPSJvYmplY3QiPT09Yyh0LmV4dCkmJnQuZXh0LnNlZ3RheD8iIi5jb25jYXQodC5uYW1lLCIvIikuY29uY2F0KHQuZXh0LnNlZ3RheCk6dC5uYW1lO3JldHVybiBlW25dPShlW25dfHxbXSkuY29uY2F0KHQuc2VnbWVudC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkpKSxlfSkse30pLGI9T2JqZWN0LmtleXMobCkubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiBlKyI6IitsW2VdLmpvaW4oInwiKX0pKS5qb2luKCIsIik7Yi5sZW5ndGg+MCYmKG4uc209ZW5jb2RlVVJJQ29tcG9uZW50KGIpKX1pZihlWzBdLnBhcmFtcy5wbGF0Zm9ybSYmKG4ucGg9ZVswXS5wYXJhbXMucGxhdGZvcm0pLHQuZ2RwckNvbnNlbnQpe3ZhciB2PXQuZ2RwckNvbnNlbnQ7dm9pZCAwIT09di5jb25zZW50U3RyaW5nJiYobi5nZHByX2NvbnNlbnQ9di5jb25zZW50U3RyaW5nKSx2b2lkIDAhPT12LmdkcHJBcHBsaWVzJiYobi5nZHByPXYuZ2RwckFwcGxpZXM/MTowKSwiaWFiIj09PXIuYi5nZXRDb25maWcoImNvbnNlbnRNYW5hZ2VtZW50LmNtcEFwaSIpJiYobi54X2dkcHJfZj0xKX1yZXR1cm4gdCYmdC51c3BDb25zZW50JiYobi51c19wcml2YWN5PXQudXNwQ29uc2VudCksaS5kZWVwQWNjZXNzKGVbMF0sImNydW1icy5wdWJjaWQiKSYmaS5kZWVwU2V0VmFsdWUoZVswXSwidXNlcklkLnB1YmNpZCIsaS5kZWVwQWNjZXNzKGVbMF0sImNydW1icy5wdWJjaWQiKSksbz1uLGQ9ZVswXS51c2VySWQsaS5fZWFjaChkLChmdW5jdGlvbihlLHQpe3ZhciBuPWZbdF07aWYoZi5oYXNPd25Qcm9wZXJ0eSh0KSlzd2l0Y2godCl7Y2FzZSJmbG9jSWQiOmNhc2UidWlkMiI6b1tuXT1lLmlkO2JyZWFrO2Nhc2UibGlwYiI6aWYob1tuXT1lLmxpcGJpZCxBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aD4wKXt2YXIgcj0ibGl2ZWludGVudDoiK2Uuc2VnbWVudHMuam9pbigifCIpO28uc209IiIuY29uY2F0KG8uc20/by5zbStlbmNvZGVVUklDb21wb25lbnQoIiwiKToiIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChyKSl9YnJlYWs7Y2FzZSJwYXJyYWJsZUlkIjpvW25dPWUuZWlkO2JyZWFrO2Nhc2UiaWQ1aWQiOm9bbl09ZS51aWQ7YnJlYWs7Y2FzZSJub3ZhdGlxIjpvW25dPWUuc25vd2ZsYWtlO2JyZWFrO2RlZmF1bHQ6b1tuXT1lfX0pKSxuPW8sZVswXS5zY2hhaW4mJihuLnNjaGFpbj0ocz1lWzBdLnNjaGFpbiwiIi5jb25jYXQocy52ZXIsIiwiKS5jb25jYXQocy5jb21wbGV0ZSwiISIpLmNvbmNhdCgocD1zLm5vZGVzLHU9WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iXSxwLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XXx8IiJ9KSkuam9pbigiLCIpfSkpLmpvaW4oIiEiKSkpKSksbn1mdW5jdGlvbiB5KGUsdCxuKXt2YXIgYT1bXSxpPSExO24uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgbj17fSxhPXIuYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKXx8IlVTRCI7ImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3ImJihuPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OmEsbWVkaWFUeXBlOnQsc2l6ZToiKiJ9KSk7dmFyIGk9bi5mbG9vcnx8ZS5wYXJhbXMuY3VzdG9tRmxvb3J8fDA7cmV0dXJuIE1hdGgucm91bmQoMWUzKmkpfShlLHQpO24/KGEucHVzaChuKSxpPSEwKTphLnB1c2goMCl9KSksaSYmKGUuYXVtZnM9YS5qb2luKCIsIikpfU9iamVjdChhLnJlZ2lzdGVyQmlkZGVyKShiKX19LFs2MTZdKTsKdXBianNDaHVuayhbMzNdLHs2NDA6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDY0MSl9LDY0MTpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLnJlc2V0U3luY2VkU3RhdHVzPWZ1bmN0aW9uKCl7VT0wfSxyLnJlc2V0V3VybE1hcD1mdW5jdGlvbigpe1g9e319LHIuUHJlYmlkU2VydmVyPSQ7dmFyIG49dCg3NyksaT10KDQyKSxzPXQoMCksbz10KDUpLGE9dC5uKG8pLGM9dCg4KSxkPXQoMykscD10KDIpLHU9dCgzNiksbD10KDEpLGI9dCg5KSxmPXQubihiKSx2PXQoMTIpLGc9dC5uKHYpLHk9dCg2NDIpLG09dCg0KSxoPXQoMTEpLEM9dC5uKGgpO2Z1bmN0aW9uIFMoZSxyKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3ImJihuPW4uZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpLmVudW1lcmFibGV9KSkpLHQucHVzaC5hcHBseSh0LG4pfXJldHVybiB0fWZ1bmN0aW9uIHgoZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/UyhPYmplY3QodCksITApLmZvckVhY2goKGZ1bmN0aW9uKHIpe08oZSxyLHRbcl0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpOlMoT2JqZWN0KHQpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gTyhlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9ZnVuY3Rpb24gaihlLHIpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSxyKXt2YXIgdD1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXQpcmV0dXJuO3ZhciBuLGkscz1bXSxvPSEwLGE9ITE7dHJ5e2Zvcih0PXQuY2FsbChlKTshKG89KG49dC5uZXh0KCkpLmRvbmUpJiYocy5wdXNoKG4udmFsdWUpLCFyfHxzLmxlbmd0aCE9PXIpO289ITApO31jYXRjaChlKXthPSEwLGk9ZX1maW5hbGx5e3RyeXtvfHxudWxsPT10LnJldHVybnx8dC5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgaX19cmV0dXJuIHN9KGUscil8fGZ1bmN0aW9uKGUscil7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gQShlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT10fHwiU2V0Ij09PXQpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSlyZXR1cm4gQShlLHIpfShlLHIpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gQShlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KHIpO3Q8cjt0Kyspblt0XT1lW3RdO3JldHVybiBufWZ1bmN0aW9uIEUoKXtyZXR1cm4oRT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHcoZSl7cmV0dXJuKHc9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgUCxrLF89ZC5iLmdldENvbmZpZyxJPWEuYS5TMlMuU1JDLFU9MCxCPXt0aW1lb3V0OjFlMyxtYXhCaWRzOjEsYWRhcHRlcjoicHJlYmlkU2VydmVyIixhZGFwdGVyT3B0aW9uczp7fSxzeW5jVXJsTW9kaWZpZXI6e30sYmlkZGVyczpbXX07ZnVuY3Rpb24gVChlKXtpZihlKXt2YXIgcj1BcnJheS5pc0FycmF5KGUpP2U6W2VdLHQ9W107cmV0dXJuIHIuZXZlcnkoKGZ1bmN0aW9uKHIsbixpKXtpZigoZnVuY3Rpb24oZSl7WyJlbmRwb2ludCIsInN5bmNFbmRwb2ludCJdLmZvckVhY2goKGZ1bmN0aW9uKHIpe2lmKHMuaXNTdHIoZVtyXSkpe3ZhciB0PWVbcl07ZVtyXT17cDFDb25zZW50OnQsbm9QMUNvbnNlbnQ6dH19IXMuaXNQbGFpbk9iamVjdChlW3JdKXx8ZVtyXS5wMUNvbnNlbnQmJmVbcl0ubm9QMUNvbnNlbnR8fFsicDFDb25zZW50Iiwibm9QMUNvbnNlbnQiXS5mb3JFYWNoKChmdW5jdGlvbih0KXtlW3JdW3RdfHxzLmxvZ1dhcm4oInMyc0NvbmZpZy4iLmNvbmNhdChyLCIuIikuY29uY2F0KHQsIiBub3QgZGVmaW5lZC4gIFBCUyByZXF1ZXN0IHdpbGwgYmUgc2tpcHBlZCBpbiBzb21lIFAxIHNjZW5hcmlvcy4iKSl9KSl9KSl9KGUpLCExIT09ZnVuY3Rpb24oZSl7aWYoZS5kZWZhdWx0VmVuZG9yKXt2YXIgcj1lLmRlZmF1bHRWZW5kb3IsdD1PYmplY3Qua2V5cyhlKTtpZigheS5hW3JdKXJldHVybiBzLmxvZ0Vycm9yKCJJbmNvcnJlY3Qgb3IgdW5hdmFpbGFibGUgcHJlYmlkIHNlcnZlciBkZWZhdWx0IHZlbmRvciBvcHRpb246ICIrciksITE7T2JqZWN0LmtleXMoeS5hW3JdKS5mb3JFYWNoKChmdW5jdGlvbihuKXtCW25dIT09ZVtuXSYmZygpKHQsbil8fChlW25dPXkuYVtyXVtuXSl9KSl9cmV0dXJuIGUuZW5hYmxlZD0iYm9vbGVhbiI9PXR5cGVvZiBlLmVuYWJsZWQmJmUuZW5hYmxlZH0ocikpJiYhMSE9PWZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKFsiYWNjb3VudElkIiwiYmlkZGVycyIsImVuZHBvaW50Il0uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZygpKHIsZSkmJihzLmxvZ0Vycm9yKGUrIiBtaXNzaW5nIGluIHNlcnZlciB0byBzZXJ2ZXIgY29uZmlnIiksITApfSkpLmxlbmd0aD4wKXJldHVybiExfShyKSlyZXR1cm4gQXJyYXkuaXNBcnJheShyLmJpZGRlcnMpJiYoaVtuXS5iaWRkZXJzPXIuYmlkZGVycy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09dC5pbmRleE9mKGUpJiYodC5wdXNoKGUpLCEwKX0pKSksITA7cmV0dXJuIHMubG9nV2FybigicHJlYmlkU2VydmVyOiBzMnMgY29uZmlnIGlzIGRpc2FibGVkIiksITF9KSk/UD1yOnZvaWQgMH19ZnVuY3Rpb24gUihlLHIsdCxuKXtpZihQLmxlbmd0aCE9PVUpe1UrKzt2YXIgaT17dXVpZDpzLmdlbmVyYXRlVVVJRCgpLGJpZGRlcnM6ZSxhY2NvdW50Om4uYWNjb3VudElkfSxvPW4udXNlclN5bmNMaW1pdDtzLmlzTnVtYmVyKG8pJiZvPjAmJihpLmxpbWl0PW8pLHImJihpLmdkcHI9ci5nZHByQXBwbGllcz8xOjAsITEhPT1yLmdkcHJBcHBsaWVzJiYoaS5nZHByX2NvbnNlbnQ9ci5jb25zZW50U3RyaW5nKSksdCYmKGkudXNfcHJpdmFjeT10KSwiYm9vbGVhbiI9PXR5cGVvZiBuLmNvb3BTeW5jJiYoaS5jb29wU3luYz1uLmNvb3BTeW5jKTt2YXIgYT1KU09OLnN0cmluZ2lmeShpKTtPYmplY3QobS5hKShLKG4uc3luY0VuZHBvaW50LHIpLChmdW5jdGlvbihlKXt0cnl7RCgoZT1KU09OLnBhcnNlKGUpKS5iaWRkZXJfc3RhdHVzLG4pfWNhdGNoKGUpe3MubG9nRXJyb3IoZSl9fSksYSx7Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0pfX1mdW5jdGlvbiBEKGUscil7aWYoMCE9PWUubGVuZ3RoKXt2YXIgdD1lLnNoaWZ0KCk7dC5ub19jb29raWU/ZnVuY3Rpb24oZSxyLHQsbixpKXtpZihpLnN5bmNVcmxNb2RpZmllciYmImZ1bmN0aW9uIj09dHlwZW9mIGkuc3luY1VybE1vZGlmaWVyW3RdKXtxKGUsaS5zeW5jVXJsTW9kaWZpZXJbdF0oZSxyLHQpLHQsbil9ZWxzZSBxKGUscix0LG4pfSh0LnVzZXJzeW5jLnR5cGUsdC51c2Vyc3luYy51cmwsdC5iaWRkZXIscy5iaW5kLmNhbGwoRCxudWxsLGUscikscik6RChlLHIpfX1mdW5jdGlvbiBxKGUscix0LG4pe3I/ImltYWdlIj09PWV8fCJyZWRpcmVjdCI9PT1lPyhzLmxvZ01lc3NhZ2UoJ0ludm9raW5nIGltYWdlIHBpeGVsIHVzZXIgc3luYyBmb3IgYmlkZGVyOiAiJy5jb25jYXQodCwnIicpKSxzLnRyaWdnZXJQaXhlbChyLG4pKToiaWZyYW1lIj09ZT8ocy5sb2dNZXNzYWdlKCdJbnZva2luZyBpZnJhbWUgdXNlciBzeW5jIGZvciBiaWRkZXI6ICInLmNvbmNhdCh0LCciJykpLHMuaW5zZXJ0VXNlclN5bmNJZnJhbWUocixuKSk6KHMubG9nRXJyb3IoJ1VzZXIgc3luYyB0eXBlICInLmNvbmNhdChlLCciIG5vdCBzdXBwb3J0ZWQgZm9yIGJpZGRlcjogIicpLmNvbmNhdCh0LCciJykpLG4oKSk6KHMubG9nRXJyb3IoJ05vIHN5bmMgdXJsIGZvciBiaWRkZXIgIicuY29uY2F0KHQsJyI6ICcpLmNvbmNhdChyKSksbigpKX1kLmIuc2V0RGVmYXVsdHMoe3Myc0NvbmZpZzpCfSksXygiczJzQ29uZmlnIiwoZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5zMnNDb25maWcpfSkpO3ZhciBWPXtzcG9uc29yZWRCeToxLGJvZHk6MixyYXRpbmc6MyxsaWtlczo0LGRvd25sb2Fkczo1LHByaWNlOjYsc2FsZVByaWNlOjcscGhvbmU6OCxhZGRyZXNzOjksYm9keTI6MTAsY3RhOjEyfSxOPU9iamVjdC5rZXlzKFYpLHo9e2ljb246MSxpbWFnZTozfSxNPXtpbWc6MSxqczoyfTtbVix6LHtpbXByZXNzaW9uOjEsInZpZXdhYmxlLW1yYzUwIjoyLCJ2aWV3YWJsZS1tcmMxMDAiOjMsInZpZXdhYmxlLXZpZGVvNTAiOjR9LE1dLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHIpe2VbZVtyXV09cn0pKX0pKTt2YXIgVz17fSxKPXt9LFg9e307dmFyIEY9ZnVuY3Rpb24oZSxyLHQsbixpKXt2YXIgbz1bXSxhPXt9LHA9clswXSxsPW5ldyBTZXQ7aWYodC5mb3JFYWNoKChmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5jb2RlLGk9MTtsLmhhcyh0KTspaSsrLHQ9IiIuY29uY2F0KGUuY29kZSwiLSIpLmNvbmNhdChpKTtsLmFkZCh0KTt2YXIgYixmPU9iamVjdCh1LmgpKHMuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLm5hdGl2ZSIpKTtpZihmKXRyeXtiPUpbdF09T2JqZWN0LmtleXMoZikucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciB0PWZbcl07ZnVuY3Rpb24gbihlKXtyZXR1cm4gRSh7cmVxdWlyZWQ6dC5yZXF1aXJlZD8xOjB9LGU/cy5jbGVhbk9iaihlKTp7fSl9c3dpdGNoKHIpe2Nhc2UiaW1hZ2UiOmNhc2UiaWNvbiI6dmFyIGk9eltyXSxvPXMuY2xlYW5PYmooe3R5cGU6aSx3OnMuZGVlcEFjY2Vzcyh0LCJzaXplcy4wIiksaDpzLmRlZXBBY2Nlc3ModCwic2l6ZXMuMSIpLHdtaW46cy5kZWVwQWNjZXNzKHQsImFzcGVjdF9yYXRpb3MuMC5taW5fd2lkdGgiKSxobWluOnMuZGVlcEFjY2Vzcyh0LCJhc3BlY3RfcmF0aW9zLjAubWluX2hlaWdodCIpfSk7aWYoIShvLncmJm8uaHx8by5obWluJiZvLndtaW4pKXRocm93ImludmFsaWQgaW1nIHNpemVzIChtdXN0IHByb3ZpZGUgc2l6ZXMgb3IgbWluX2hlaWdodCAmIG1pbl93aWR0aCBpZiB1c2luZyBhc3BlY3RfcmF0aW9zKSI7QXJyYXkuaXNBcnJheSh0LmFzcGVjdF9yYXRpb3MpJiYoby5leHQ9e2FzcGVjdHJhdGlvczp0LmFzcGVjdF9yYXRpb3MubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQoZS5yYXRpb193aWR0aCwiOiIpLmNvbmNhdChlLnJhdGlvX2hlaWdodCl9KSl9KSxlLnB1c2gobih7aW1nOm99KSk7YnJlYWs7Y2FzZSJ0aXRsZSI6aWYoIXQubGVuKXRocm93ImludmFsaWQgdGl0bGUubGVuIjtlLnB1c2gobih7dGl0bGU6e2xlbjp0Lmxlbn19KSk7YnJlYWs7ZGVmYXVsdDp2YXIgYT1WW3JdO2EmJmUucHVzaChuKHtkYXRhOnt0eXBlOmEsbGVuOnQubGVufX0pKX1yZXR1cm4gZX0pLFtdKX1jYXRjaChlKXtzLmxvZ0Vycm9yKCJlcnJvciBjcmVhdGluZyBuYXRpdmUgcmVxdWVzdDogIitTdHJpbmcoZSkpfXZhciB2PXMuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIiksZz1zLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIiKTtlLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoV1siIi5jb25jYXQodCkuY29uY2F0KGUuYmlkZGVyKV09ZS5iaWRfaWQsYy5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbZS5iaWRkZXJdKXt2YXIgcj1jLmRlZmF1bHQuYmlkZGVyUmVnaXN0cnlbZS5iaWRkZXJdO3ImJiFyLmdldFNwZWMoKS5za2lwUGJzQWxpYXNpbmcmJihhW2UuYmlkZGVyXT1jLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmJpZGRlcl0pfX0pKTt2YXIgeT17fTtpZihnJiZnLnNpemVzKXt2YXIgbT1zLnBhcnNlU2l6ZXNJbnB1dChnLnNpemVzKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWooZS5zcGxpdCgieCIpLDIpLHQ9clswXSxuPXJbMV07cmV0dXJue3c6cGFyc2VJbnQodCwxMCksaDpwYXJzZUludChuLDEwKX19KSk7eS5iYW5uZXI9e2Zvcm1hdDptfSxnLnBvcyYmKHkuYmFubmVyLnBvcz1nLnBvcyl9aWYocy5pc0VtcHR5KHYpfHwoIm91dHN0cmVhbSIhPT12LmNvbnRleHR8fHYucmVuZGVyZXJ8fGUucmVuZGVyZXI/KCJpbnN0cmVhbSIhPT12LmNvbnRleHR8fHYuaGFzT3duUHJvcGVydHkoInBsYWNlbWVudCIpfHwodi5wbGFjZW1lbnQ9MSkseS52aWRlbz1PYmplY3Qua2V5cyh2KS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJjb250ZXh0IiE9PWV9KSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiJwbGF5ZXJTaXplIj09PXI/KGUudz1zLmRlZXBBY2Nlc3ModiwiIi5jb25jYXQociwiLjAuMCIpKSxlLmg9cy5kZWVwQWNjZXNzKHYsIiIuY29uY2F0KHIsIi4wLjEiKSkpOmVbcl09dltyXSxlfSkse30pKTpzLmxvZ0Vycm9yKCJPdXRzdHJlYW0gYmlkIHdpdGhvdXQgcmVuZGVyZXIgY2Fubm90IGJlIHNlbnQgdG8gUHJlYmlkIFNlcnZlci4iKSksYil0cnl7eS5uYXRpdmU9e3JlcXVlc3Q6SlNPTi5zdHJpbmdpZnkoe2NvbnRleHQ6MSxwbGNtdHR5cGU6MSxldmVudHRyYWNrZXJzOlt7ZXZlbnQ6MSxtZXRob2RzOlsxXX1dLGFzc2V0czpifSksdmVyOiIxLjIifX1jYXRjaChlKXtzLmxvZ0Vycm9yKCJlcnJvciBjcmVhdGluZyBuYXRpdmUgcmVxdWVzdDogIitTdHJpbmcoZSkpfXZhciBoPWUuYmlkcy5yZWR1Y2UoKGZ1bmN0aW9uKHQsaSl7dmFyIHM9Yy5kZWZhdWx0LmJpZGRlclJlZ2lzdHJ5W2kuYmlkZGVyXTtyZXR1cm4gcyYmcy5nZXRTcGVjKCkudHJhbnNmb3JtQmlkUGFyYW1zJiYoaS5wYXJhbXM9cy5nZXRTcGVjKCkudHJhbnNmb3JtQmlkUGFyYW1zKGkucGFyYW1zLCEwLGUscikpLHRbaS5iaWRkZXJdPW4uYWRhcHRlck9wdGlvbnMmJm4uYWRhcHRlck9wdGlvbnNbaS5iaWRkZXJdP0Uoe30saS5wYXJhbXMsbi5hZGFwdGVyT3B0aW9uc1tpLmJpZGRlcl0pOmkucGFyYW1zLHR9KSx4KHt9LHMuZGVlcEFjY2VzcyhlLCJvcnRiMkltcC5leHQiKSkpLFM9e2lkOnQsZXh0Omgsc2VjdXJlOm4uc2VjdXJlfSxPPXgoe30scy5kZWVwQWNjZXNzKGUsIm9ydGIySW1wLmV4dC5kYXRhIikpO09iamVjdC5rZXlzKE8pLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJwYmFkc2xvdCI9PT1lPyJzdHJpbmciPT10eXBlb2YgT1tlXSYmT1tlXT9zLmRlZXBTZXRWYWx1ZShTLCJleHQuZGF0YS5wYmFkc2xvdCIsT1tlXSk6ZGVsZXRlIFMuZXh0LmRhdGEucGJhZHNsb3Q6ImFkc2VydmVyIj09PWU/WyJuYW1lIiwiYWRzbG90Il0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9cy5kZWVwQWNjZXNzKE8sImFkc2VydmVyLiIuY29uY2F0KGUpKTsic3RyaW5nIj09dHlwZW9mIHImJnImJnMuZGVlcFNldFZhbHVlKFMsImV4dC5kYXRhLmFkc2VydmVyLiIuY29uY2F0KGUudG9Mb3dlckNhc2UoKSkscil9KSk6cy5kZWVwU2V0VmFsdWUoUywiZXh0LmRhdGEuIi5jb25jYXQoZSksT1tlXSl9KSksRShTLHkpO3ZhciBBPUMoKShwLmJpZHMsKGZ1bmN0aW9uKHIpe3JldHVybiByLmFkVW5pdENvZGU9PT1lLmNvZGUmJnIuc3RvcmVkQXVjdGlvblJlc3BvbnNlfSkpO0EmJnMuZGVlcFNldFZhbHVlKFMsImV4dC5wcmViaWQuc3RvcmVkYXVjdGlvbnJlc3BvbnNlLmlkIixBLnN0b3JlZEF1Y3Rpb25SZXNwb25zZS50b1N0cmluZygpKTt2YXIgdz1DKCkocC5iaWRzLChmdW5jdGlvbihyKXtyZXR1cm4gci5hZFVuaXRDb2RlPT09ZS5jb2RlJiYiZnVuY3Rpb24iPT10eXBlb2Ygci5nZXRGbG9vcn0pKTtpZih3KXt2YXIgUDt0cnl7UD13LmdldEZsb29yKHtjdXJyZW5jeTpkLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5Iil8fCJVU0QifSl9Y2F0Y2goZSl7cy5sb2dFcnJvcigiUEJTOiBnZXRGbG9vciB0aHJldyBhbiBlcnJvcjogIixlKX1QJiZQLmN1cnJlbmN5JiYhaXNOYU4ocGFyc2VGbG9hdChQLmZsb29yKSkmJihTLmJpZGZsb29yPXBhcnNlRmxvYXQoUC5mbG9vciksUy5iaWRmbG9vcmN1cj1QLmN1cnJlbmN5KX0oUy5iYW5uZXJ8fFMudmlkZW98fFMubmF0aXZlKSYmby5wdXNoKFMpfSkpLG8ubGVuZ3RoKXt2YXIgYj17aWQ6ZS50aWQsc291cmNlOnt0aWQ6ZS50aWR9LHRtYXg6bi50aW1lb3V0LGltcDpvLHRlc3Q6bi50ZXN0fHwwLGV4dDp7cHJlYmlkOnthdWN0aW9udGltZXN0YW1wOnAuYXVjdGlvblN0YXJ0LHRhcmdldGluZzp7aW5jbHVkZXdpbm5lcnM6ITAsaW5jbHVkZWJpZGRlcmtleXM6ITF9fX19O2IuZXh0LnByZWJpZD1FKGIuZXh0LnByZWJpZCx7Y2hhbm5lbDp7bmFtZToicGJqcyIsdmVyc2lvbjp1cGJqcy52ZXJzaW9ufX0pLF8oImRlYnVnIikmJihiLmV4dC5wcmViaWQ9RShiLmV4dC5wcmViaWQse2RlYnVnOiEwfSkpLG4uZXh0UHJlYmlkJiYib2JqZWN0Ij09PXcobi5leHRQcmViaWQpJiYoYi5leHQucHJlYmlkPUUoYi5leHQucHJlYmlkLG4uZXh0UHJlYmlkKSk7dmFyIGY9ZC5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpO2YmJiJzdHJpbmciPT10eXBlb2YgZj9iLmN1cj1bZl06QXJyYXkuaXNBcnJheShmKSYmZi5sZW5ndGgmJihiLmN1cj1bZlswXV0pLGZ1bmN0aW9uKGUscix0KXtlJiYoIm9iamVjdCI9PT13KGQuYi5nZXRDb25maWcoImFwcCIpKT8oZS5hcHA9ZC5iLmdldENvbmZpZygiYXBwIiksZS5hcHAucHVibGlzaGVyPXtpZDp0fSk6KGUuc2l0ZT17fSxzLmlzUGxhaW5PYmplY3QoZC5iLmdldENvbmZpZygic2l0ZSIpKSYmKGUuc2l0ZT1kLmIuZ2V0Q29uZmlnKCJzaXRlIikpLHMuZGVlcEFjY2VzcyhlLnNpdGUsInB1Ymxpc2hlci5pZCIpfHxzLmRlZXBTZXRWYWx1ZShlLnNpdGUsInB1Ymxpc2hlci5pZCIsdCksZS5zaXRlLnBhZ2V8fChlLnNpdGUucGFnZT1yKSksIm9iamVjdCI9PT13KGQuYi5nZXRDb25maWcoImRldmljZSIpKSYmKGUuZGV2aWNlPWQuYi5nZXRDb25maWcoImRldmljZSIpKSxlLmRldmljZXx8KGUuZGV2aWNlPXt9KSxlLmRldmljZS53fHwoZS5kZXZpY2Uudz13aW5kb3cuaW5uZXJXaWR0aCksZS5kZXZpY2UuaHx8KGUuZGV2aWNlLmg9d2luZG93LmlubmVySGVpZ2h0KSl9KGIsclswXS5yZWZlcmVySW5mby5yZWZlcmVyLG4uYWNjb3VudElkKTt2YXIgdj1zLmRlZXBBY2Nlc3MociwiMC5iaWRzLjAuc2NoYWluIik7diYmKGIuc291cmNlLmV4dD17c2NoYWluOnZ9KSxzLmlzRW1wdHkoYSl8fChiLmV4dC5wcmViaWQuYWxpYXNlcz14KHgoe30sYi5leHQucHJlYmlkLmFsaWFzZXMpLGEpKTt2YXIgZz1zLmRlZXBBY2Nlc3MociwiMC5iaWRzLjAudXNlcklkQXNFaWRzIik7cy5pc0FycmF5KGcpJiZnLmxlbmd0aD4wJiZzLmRlZXBTZXRWYWx1ZShiLCJ1c2VyLmV4dC5laWRzIixnKSxzLmlzQXJyYXkoaykmJmsubGVuZ3RoPjAmJihpJiZzLmlzQXJyYXkoaSkmJmsuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWRkZXJzJiYoZS5iaWRkZXJzPWUuYmlkZGVycy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmluY2x1ZGVzKGUpfSkpKX0pKSxzLmRlZXBTZXRWYWx1ZShiLCJleHQucHJlYmlkLmRhdGEuZWlkcGVybWlzc2lvbnMiLGspKTt2YXIgeT1kLmIuZ2V0Q29uZmlnKCJtdWx0aWJpZCIpO2lmKHkmJnMuZGVlcFNldFZhbHVlKGIsImV4dC5wcmViaWQubXVsdGliaWQiLHkucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2UudG9Mb3dlckNhc2UoKV09cltlXX0pKSxlLnB1c2godCksZX0pLFtdKSkscil7dmFyIG07aWYocC5nZHByQ29uc2VudCkiYm9vbGVhbiI9PXR5cGVvZiBwLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYobT1wLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCkscy5kZWVwU2V0VmFsdWUoYiwicmVncy5leHQuZ2RwciIsbSkscy5kZWVwU2V0VmFsdWUoYiwidXNlci5leHQuY29uc2VudCIscC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxwLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCYmInN0cmluZyI9PXR5cGVvZiBwLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCYmcy5kZWVwU2V0VmFsdWUoYiwidXNlci5leHQuQ29uc2VudGVkUHJvdmlkZXJzU2V0dGluZ3MuY29uc2VudGVkX3Byb3ZpZGVycyIscC5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQpO3AudXNwQ29uc2VudCYmcy5kZWVwU2V0VmFsdWUoYiwicmVncy5leHQudXNfcHJpdmFjeSIscC51c3BDb25zZW50KX0hMD09PV8oImNvcHBhIikmJnMuZGVlcFNldFZhbHVlKGIsInJlZ3MuY29wcGEiLDEpO3ZhciBoPV8oIm9ydGIyIil8fHt9O3JldHVybiBoLnNpdGUmJnMubWVyZ2VEZWVwKGIse3NpdGU6aC5zaXRlfSksaC51c2VyJiZzLm1lcmdlRGVlcChiLHt1c2VyOmgudXNlcn0pLGZ1bmN0aW9uKGUpe3ZhciByPWQuYi5nZXRCaWRkZXJDb25maWcoKSx0PU9iamVjdC5rZXlzKHIpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj1yW3RdO2lmKG4ub3J0YjIpe3ZhciBpPXt9O24ub3J0YjIuc2l0ZSYmKGkuc2l0ZT1uLm9ydGIyLnNpdGUpLG4ub3J0YjIudXNlciYmKGkudXNlcj1uLm9ydGIyLnVzZXIpLGUucHVzaCh7YmlkZGVyczpbdF0sY29uZmlnOntvcnRiMjppfX0pfXJldHVybiBlfSksW10pO3QubGVuZ3RoJiZzLmRlZXBTZXRWYWx1ZShlLCJleHQucHJlYmlkLmJpZGRlcmNvbmZpZyIsdCl9KGIpLGJ9cy5sb2dFcnJvcigiUmVxdWVzdCB0byBQcmViaWQgU2VydmVyIHJlamVjdGVkIGR1ZSB0byBpbnZhbGlkIG1lZGlhIHR5cGUocykgaW4gYWRVbml0LiIpfSxIPWZ1bmN0aW9uKGUscix0KXt2YXIgbj1bXSxvPXMuZGVlcEFjY2VzcyhlLCJleHQucmVzcG9uc2V0aW1lbWlsbGlzIiksYz1yLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlckNvZGV9KSk7cmV0dXJuIGMmJm8mJk9iamVjdC5rZXlzKG8pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXMuZGVlcENsb25lKGMpO3QuaXNEeW5hbWljPSEwLHQuYmlkZGVyQ29kZT1lLHQuYmlkZGVyUmVxdWVzdElkPXMuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLHQuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihyKXtyLmJpZGRlcj1lLHIuYmlkZGVyUmVxdWVzdElkPXQuYmlkZGVyUmVxdWVzdElkLHIuYmlkX2lkPXMuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLHIuYmlkSWQ9ci5iaWRfaWQsV1siIi5jb25jYXQoci5hZFVuaXRDb2RlKS5jb25jYXQoZSldPXIuYmlkX2lkfSkpLHIucHVzaCh0KX0pKSxbWyJlcnJvcnMiLCJzZXJ2ZXJFcnJvcnMiXSxbInJlc3BvbnNldGltZW1pbGxpcyIsInNlcnZlclJlc3BvbnNlVGltZU1zIl1dLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIsdCxuKXt2YXIgaT1zLmRlZXBBY2Nlc3MociwiZXh0LiIuY29uY2F0KHQpKTtpJiZPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChmdW5jdGlvbihyKXt2YXIgdD1DKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyQ29kZT09PXJ9KSk7dCYmKHRbbl09aVtyXSl9KSl9KHIsZSx0WzBdLHRbMV0pfSkpLGUuc2VhdGJpZCYmZS5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKG8peyhvLmJpZHx8W10pLmZvckVhY2goKGZ1bmN0aW9uKGMpe3ZhciBkLHU9IiIuY29uY2F0KGMuaW1waWQpLmNvbmNhdChvLnNlYXQpO1dbdV0mJihkPXMuZ2V0QmlkUmVxdWVzdChXW3VdLHIpKTt2YXIgbD1jLnByaWNlLGI9MCE9PWw/YS5hLlNUQVRVUy5HT09EOmEuYS5TVEFUVVMuTk9fQklELGY9T2JqZWN0KGkuYSkoYixkfHx7YmlkZGVyOm8uc2VhdCxzcmM6SX0pO2YuY3BtPWw7dmFyIHY9cy5kZWVwQWNjZXNzKGUsWyJleHQiLCJyZXNwb25zZXRpbWVtaWxsaXMiLG8uc2VhdF0uam9pbigiLiIpKTtkJiZ2JiYoZC5zZXJ2ZXJSZXNwb25zZVRpbWVNcz12KTt2YXIgZyx5LG0saD1zLmRlZXBBY2Nlc3MoYywiZXh0LnByZWJpZC5iaWRpZCIpO3MuaXNTdHIoaCkmJihmLnBic0JpZElkPWgpLHMuaXNTdHIocy5kZWVwQWNjZXNzKGMsImV4dC5wcmViaWQuZXZlbnRzLndpbiIpKSYmKGc9ZC5hdWN0aW9uSWQseT1mLmFkSWQsbT1zLmRlZXBBY2Nlc3MoYywiZXh0LnByZWJpZC5ldmVudHMud2luIiksW2cseV0uZXZlcnkocy5pc1N0cikmJihYWyIiLmNvbmNhdChnKS5jb25jYXQoeSldPW0pKTt2YXIgQz1zLmRlZXBBY2Nlc3MoYywiZXh0LnByZWJpZC50YXJnZXRpbmciKTtpZihzLmlzUGxhaW5PYmplY3QoQykmJihzLmlzU3RyKHMuZGVlcEFjY2VzcyhjLCJleHQucHJlYmlkLmV2ZW50cy53aW4iKSkmJihDPXMuZ2V0RGVmaW5lZFBhcmFtcyhDLE9iamVjdC5rZXlzKEMpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1lLmluZGV4T2YoImhiX3dpbnVybCIpJiYtMT09PWUuaW5kZXhPZigiaGJfYmlkaWQiKX0pKSkpLGYuYWRzZXJ2ZXJUYXJnZXRpbmc9QyksZi5zZWF0QmlkSWQ9Yy5pZCxzLmRlZXBBY2Nlc3MoYywiZXh0LnByZWJpZC50eXBlIik9PT1wLmQpe2YubWVkaWFUeXBlPXAuZDt2YXIgUz1kLnNpemVzJiZkLnNpemVzWzBdO2YucGxheWVyV2lkdGg9U1swXSxmLnBsYXllckhlaWdodD1TWzFdLGMuZXh0LnByZWJpZC5jYWNoZSYmIm9iamVjdCI9PT13KGMuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sKSYmYy5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwuY2FjaGVJZCYmYy5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwudXJsPyhmLnZpZGVvQ2FjaGVLZXk9Yy5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwuY2FjaGVJZCxmLnZhc3RVcmw9Yy5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwudXJsKTpDJiZDLmhiX3V1aWQmJkMuaGJfY2FjaGVfaG9zdCYmQy5oYl9jYWNoZV9wYXRoJiYoZi52aWRlb0NhY2hlS2V5PUMuaGJfdXVpZCxmLnZhc3RVcmw9Imh0dHBzOi8vIi5jb25jYXQoQy5oYl9jYWNoZV9ob3N0KS5jb25jYXQoQy5oYl9jYWNoZV9wYXRoLCI/dXVpZD0iKS5jb25jYXQoQy5oYl91dWlkKSksYy5hZG0mJihmLnZhc3RYbWw9Yy5hZG0pLCFmLnZhc3RVcmwmJmMubnVybCYmKGYudmFzdFVybD1jLm51cmwpfWVsc2UgaWYocy5kZWVwQWNjZXNzKGMsImV4dC5wcmViaWQudHlwZSIpPT09cC5jKXt2YXIgeCxqO2YubWVkaWFUeXBlPXAuYyxqPSJzdHJpbmciPT10eXBlb2YgYy5hZG0/Zi5hZG09SlNPTi5wYXJzZShjLmFkbSk6Zi5hZG09Yy5hZG07dmFyIEE9KE8oeD17fSxNLmltZyxqLmltcHRyYWNrZXJzfHxbXSksTyh4LE0uanMsai5qc3RyYWNrZXI/W2ouanN0cmFja2VyXTpbXSkseCk7aWYoai5ldmVudHRyYWNrZXJzJiZqLmV2ZW50dHJhY2tlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7c3dpdGNoKGUubWV0aG9kKXtjYXNlIE0uaW1nOkFbTS5pbWddLnB1c2goZS51cmwpO2JyZWFrO2Nhc2UgTS5qczpBW00uanNdLnB1c2goZS51cmwpfX0pKSxzLmlzUGxhaW5PYmplY3QoaikmJkFycmF5LmlzQXJyYXkoai5hc3NldHMpKXt2YXIgRT1KW2MuaW1waWRdO2YubmF0aXZlPXMuY2xlYW5PYmooai5hc3NldHMucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciB0PUVbci5pZF07cmV0dXJuIHMuaXNQbGFpbk9iamVjdChyLmltZyk/ZVt0LmltZy50eXBlP3pbdC5pbWcudHlwZV06ImltYWdlIl09cy5waWNrKHIuaW1nLFsidXJsIiwidyBhcyB3aWR0aCIsImggYXMgaGVpZ2h0Il0pOnMuaXNQbGFpbk9iamVjdChyLnRpdGxlKT9lLnRpdGxlPXIudGl0bGUudGV4dDpzLmlzUGxhaW5PYmplY3Qoci5kYXRhKSYmTi5mb3JFYWNoKChmdW5jdGlvbihuKXtWW25dPT09dC5kYXRhLnR5cGUmJihlW25dPXIuZGF0YS52YWx1ZSl9KSksZX0pLHMuY2xlYW5PYmooe2NsaWNrVXJsOmoubGluayxjbGlja1RyYWNrZXJzOnMuZGVlcEFjY2VzcyhqLCJsaW5rLmNsaWNrdHJhY2tlcnMiKSxpbXByZXNzaW9uVHJhY2tlcnM6QVtNLmltZ10samF2YXNjcmlwdFRyYWNrZXJzOkFbTS5qc119KSkpfWVsc2Ugcy5sb2dFcnJvcigicHJlYmlkIHNlcnZlciBuYXRpdmUgcmVzcG9uc2UgY29udGFpbmVkIG5vIGFzc2V0cyIpfWVsc2UgYy5hZG0mJmMubnVybD8oZi5hZD1jLmFkbSxmLmFkKz1zLmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKGRlY29kZVVSSUNvbXBvbmVudChjLm51cmwpKSk6Yy5hZG0/Zi5hZD1jLmFkbTpjLm51cmwmJihmLmFkVXJsPWMubnVybCk7Zi53aWR0aD1jLncsZi5oZWlnaHQ9Yy5oLGMuZGVhbGlkJiYoZi5kZWFsSWQ9Yy5kZWFsaWQpLGYucmVxdWVzdElkPWQuYmlkSWR8fGQuYmlkX0lkLGYuY3JlYXRpdmVfaWQ9Yy5jcmlkLGYuY3JlYXRpdmVJZD1jLmNyaWQsYy5idXJsJiYoZi5idXJsPWMuYnVybCksZi5jdXJyZW5jeT1lLmN1cj9lLmN1cjoiVVNEIixmLm1ldGE9e307dmFyIFA9cy5kZWVwQWNjZXNzKGMsImV4dC5wcmViaWQubWV0YSIpO1AmJnMuaXNQbGFpbk9iamVjdChQKSYmKGYubWV0YT1zLmRlZXBDbG9uZShQKSksYy5hZG9tYWluJiYoZi5tZXRhLmFkdmVydGlzZXJEb21haW5zPWMuYWRvbWFpbik7dmFyIGs9dC5kZWZhdWx0VHRsfHw2MDtmLnR0bD1jLmV4cD9jLmV4cDprLGYubmV0UmV2ZW51ZT0hYy5uZXRSZXZlbnVlfHxjLm5ldFJldmVudWUsbi5wdXNoKHthZFVuaXQ6ZC5hZFVuaXRDb2RlLGJpZDpmfSl9KSl9KSksbn07ZnVuY3Rpb24gTChlKXt2YXIgcix0LG49ZnVuY3Rpb24oZSxyKXtpZihbZSxyXS5ldmVyeShzLmlzU3RyKSlyZXR1cm4gWFsiIi5jb25jYXQoZSkuY29uY2F0KHIpXX0oZS5hdWN0aW9uSWQsZS5hZElkKTtzLmlzU3RyKG4pJiYocy5sb2dNZXNzYWdlKCdJbnZva2luZyBpbWFnZSBwaXhlbCBmb3Igd3VybCBvbiBCSURfV0lOOiAiJy5jb25jYXQobiwnIicpKSxzLnRyaWdnZXJQaXhlbChuKSxyPWUuYXVjdGlvbklkLHQ9ZS5hZElkLFtyLHRdLmV2ZXJ5KHMuaXNTdHIpJiYoWFsiIi5jb25jYXQocikuY29uY2F0KHQpXT12b2lkIDApKX1mdW5jdGlvbiBLKGUscil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByPSEwO3JldHVybiBlJiZlLmdkcHJBcHBsaWVzJiYyPT09ZS5hcGlWZXJzaW9uJiYocj0hKCEwIT09cy5kZWVwQWNjZXNzKGUsInZlbmRvckRhdGEucHVycG9zZS5jb25zZW50cy4xIikpKSxyfShyKT9lLnAxQ29uc2VudDplLm5vUDFDb25zZW50fWZ1bmN0aW9uIEcoZSl7dmFyIHIsdDtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg+MCYmKHI9ZVswXS5nZHByQ29uc2VudCx0PWVbMF0udXNwQ29uc2VudCkse2dkcHJDb25zZW50OnIsdXNwQ29uc2VudDp0fX1mdW5jdGlvbiAkKCl7dmFyIGU9bmV3IG4uYSgicHJlYmlkU2VydmVyIik7cmV0dXJuIGUuY2FsbEJpZHM9ZnVuY3Rpb24oZSxyLHQsbixpKXt2YXIgbz1zLmRlZXBDbG9uZShlLmFkX3VuaXRzKSxwPUcociksdT1wLmdkcHJDb25zZW50LGI9cC51c3BDb25zZW50LHY9by5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1lZGlhVHlwZXMmJihlLm1lZGlhVHlwZXMubmF0aXZlfHxlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHxlLm1lZGlhVHlwZXMudmlkZW8mJmUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplKX0pKSx5PXYubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpLmZpbHRlcihzLnVuaXF1ZXMpfSkpLnJlZHVjZShzLmZsYXR0ZW4pLmZpbHRlcihzLnVuaXF1ZXMpO2lmKEFycmF5LmlzQXJyYXkoUCkpe2lmKCFyLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlckNvZGV9KSkmJmUuczJzQ29uZmlnJiZlLnMyc0NvbmZpZy5zeW5jRW5kcG9pbnQmJksoZS5zMnNDb25maWcuc3luY0VuZHBvaW50LHUpKVIoZS5zMnNDb25maWcuYmlkZGVycy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBjLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlXXx8ZX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUscix0KXtyZXR1cm4gdC5pbmRleE9mKGUpPT09cn0pKSx1LGIsZS5zMnNDb25maWcpO3ZhciBtPUYoZSxyLHYsZS5zMnNDb25maWcseSksaD1tJiZKU09OLnN0cmluZ2lmeShtKTtzLmxvZ0luZm8oIkJpZFJlcXVlc3Q6ICIraCk7dmFyIEM9SyhlLnMyc0NvbmZpZy5lbmRwb2ludCx1KTttJiZoJiZDP2koQyx7c3VjY2VzczpmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24oZSxyLHQsbixpLG8pe3ZhciBwLHU9W10sYj1HKHQpLHY9Yi5nZHByQ29uc2VudCx5PWIudXNwQ29uc2VudDt0cnl7aWYocD1KU09OLnBhcnNlKGUpLHU9SChwLHQsbykscj1yLmNvbmNhdCh0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyQ29kZX0pKSkuZmlsdGVyKHMudW5pcXVlcyksdC5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiPT09ZS5iaWRkZXJDb2RlfSkpKWlmKG8mJm8uc3luY0VuZHBvaW50JiZLKG8uc3luY0VuZHBvaW50LHYpKVIodC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBjLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmJpZGRlckNvZGVdfHxlLmJpZGRlckNvZGV9KSkuZmlsdGVyKChmdW5jdGlvbihlLHIsdCl7cmV0dXJuIHQuaW5kZXhPZihlKT09PXJ9KSksdix5LG8pO3QuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0R5bmFtaWN9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bihudWxsLHtiaWRkZXJDb2RlOmUuYmlkZGVyQ29kZSxhZGRSZXF1ZXN0T25seTohMH0pfSkpLHUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5hZFVuaXQsaT1lLmJpZDtPYmplY3QobC5pc1ZhbGlkKShyLGksdCkmJm4ocixpKX0pKSx0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIiE9PWUuYmlkZGVyQ29kZX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZi5hLmVtaXQoYS5hLkVWRU5UUy5CSURERVJfRE9ORSxlKX0pKX1jYXRjaChlKXtzLmxvZ0Vycm9yKGUpfSghcHx8cC5zdGF0dXMmJmcoKShwLnN0YXR1cywiRXJyb3IiKSkmJnMubG9nRXJyb3IoImVycm9yIHBhcnNpbmcgcmVzcG9uc2U6ICIscC5zdGF0dXMpO2koKSxmdW5jdGlvbihlLHIsdCl7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1jLmRlZmF1bHQuZ2V0QmlkQWRhcHRlcihlKTtuJiZuLnJlZ2lzdGVyU3luY3MmJmQuYi5ydW5XaXRoQmlkZGVyKGUscy5iaW5kLmNhbGwobi5yZWdpc3RlclN5bmNzLG4sW10scix0KSl9KSl9KHIsdix5KX0oaSx5LHIsdCxuLGUuczJzQ29uZmlnKX0sZXJyb3I6bn0saCx7Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0pOnMubG9nRXJyb3IoIlBCUyByZXF1ZXN0IG5vdCBtYWRlLiAgQ2hlY2sgZW5kcG9pbnRzLiIpfX0sZi5hLm9uKGEuYS5FVkVOVFMuQklEX1dPTixMKSxFKHRoaXMse2NhbGxCaWRzOmUuY2FsbEJpZHMsc2V0QmlkZGVyQ29kZTplLnNldEJpZGRlckNvZGUsdHlwZTpJfSl9T2JqZWN0KHMuZ2V0UHJlYmlkSW50ZXJuYWwpKCkuc2V0RWlkUGVybWlzc2lvbnM9ZnVuY3Rpb24oZSl7az1lfSxjLmRlZmF1bHQucmVnaXN0ZXJCaWRBZGFwdGVyKG5ldyAkLCJwcmViaWRTZXJ2ZXIiKX0sNjQyOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7dC5kKHIsImEiLChmdW5jdGlvbigpe3JldHVybiBufSkpO3ZhciBuPXthcHBuZXh1czp7YWRhcHRlcjoicHJlYmlkU2VydmVyIixlbmFibGVkOiEwLGVuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLmFkbnhzLmNvbS9wYnMvdjEvb3BlbnJ0YjIvYXVjdGlvbiIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLmFkbnhzLXNpbXBsZS5jb20vcGJzL3YxL29wZW5ydGIyL2F1Y3Rpb24ifSxzeW5jRW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQuYWRueHMuY29tL3Bicy92MS9jb29raWVfc3luYyIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLmFkbnhzLXNpbXBsZS5jb20vcGJzL3YxL2Nvb2tpZV9zeW5jIn0sdGltZW91dDoxZTN9LGFwcG5leHVzcHNwOnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9pYi5hZG54cy5jb20vb3BlbnJ0YjIvcHJlYmlkIixub1AxQ29uc2VudDoiaHR0cHM6Ly9pYi5hZG54cy1zaW1wbGUuY29tL29wZW5ydGIyL3ByZWJpZCJ9LHRpbWVvdXQ6MWUzfSxydWJpY29uOnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQtc2VydmVyLnJ1Ymljb25wcm9qZWN0LmNvbS9vcGVucnRiMi9hdWN0aW9uIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQtc2VydmVyLnJ1Ymljb25wcm9qZWN0LmNvbS9vcGVucnRiMi9hdWN0aW9uIn0sc3luY0VuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLXNlcnZlci5ydWJpY29ucHJvamVjdC5jb20vY29va2llX3N5bmMiLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC1zZXJ2ZXIucnViaWNvbnByb2plY3QuY29tL2Nvb2tpZV9zeW5jIn0sdGltZW91dDo1MDB9LG9wZW54OnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQub3BlbngubmV0L29wZW5ydGIyL2F1Y3Rpb24iLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC5vcGVueC5uZXQvb3BlbnJ0YjIvYXVjdGlvbiJ9LHN5bmNFbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC5vcGVueC5uZXQvY29va2llX3N5bmMiLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC5vcGVueC5uZXQvY29va2llX3N5bmMifSx0aW1lb3V0OjFlM30sc25pZ2VsOnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9hZHNlcnYuc25pZ2Vsd2ViLmNvbS9icC92MS9vcGVucnRiMi9hdWN0aW9uIixub1AxQ29uc2VudDoiaHR0cHM6Ly9hZHNlcnYuc25pZ2Vsd2ViLmNvbS9icC92MS9vcGVucnRiMi9hdWN0aW9uIn0sc3luY0VuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vYWRzZXJ2LnNuaWdlbHdlYi5jb20vYnAvdjEvY29va2llX3N5bmMiLG5vUDFDb25zZW50OiJodHRwczovL2Fkc2Vydi5zbmlnZWx3ZWIuY29tL2JwL3YxL2Nvb2tpZV9zeW5jIn0sdGltZW91dDo0MDB9fX19LFs2NDBdKTsKdXBianNDaHVuayhbMTQ5XSx7NjUxOmZ1bmN0aW9uKGUsZCxuKXtlLmV4cG9ydHM9big2NTIpfSw2NTI6ZnVuY3Rpb24oZSxkLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKGQsInB1YlByb3ZpZGVkSWRTdWJtb2R1bGUiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO3ZhciBvPW4oMTApLHU9bigwKSxpPXtuYW1lOiJwdWJQcm92aWRlZElkIixkZWNvZGU6ZnVuY3Rpb24oZSl7dmFyIGQ9ZT97cHViUHJvdmlkZWRJZDplfTp2b2lkIDA7cmV0dXJuIHUubG9nSW5mbygiUHViUHJvdmlkZWRJZDogRGVjb2RlZCB2YWx1ZSAiK0pTT04uc3RyaW5naWZ5KGQpKSxkfSxnZXRJZDpmdW5jdGlvbihlKXt2YXIgZD1lJiZlLnBhcmFtc3x8e30sbj1bXTtyZXR1cm4gdS5pc0FycmF5KGQuZWlkcykmJihuPW4uY29uY2F0KGQuZWlkcykpLCJmdW5jdGlvbiI9PXR5cGVvZiBkLmVpZHNGdW5jdGlvbiYmKG49bi5jb25jYXQoZC5laWRzRnVuY3Rpb24oKSkpLHtpZDpufX19O09iamVjdChvLmUpKCJ1c2VySWQiLGkpfX0sWzY1MV0pOwp1cGJqc0NodW5rKFsxNDddLHs2NTc6ZnVuY3Rpb24oZSxyLGEpe2UuZXhwb3J0cz1hKDY1OCl9LDY1ODpmdW5jdGlvbihlLHIsYSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxhLmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZ9KSk7dmFyIHQ9YSgwKSxpPWEoMSksbj1hKDIpLHM9YSgzKSxvPWEoMTMpO2Z1bmN0aW9uIGQoKXtyZXR1cm4oZD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgYT1hcmd1bWVudHNbcl07Zm9yKHZhciB0IGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsdCkmJihlW3RdPWFbdF0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHAoZSxyKXt2YXIgYT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgdD1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3ImJih0PXQuZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpLmVudW1lcmFibGV9KSkpLGEucHVzaC5hcHBseShhLHQpfXJldHVybiBhfWZ1bmN0aW9uIGMoZSxyLGEpe3JldHVybiByIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6YSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbcl09YSxlfWZ1bmN0aW9uIHUoZSl7cmV0dXJuKHU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgbD0icHVibWF0aWMiLG09IlB1Yk1hdGljOiAiLGc9IlVTRCIsYj12b2lkIDAsaD0iaHR0cHM6Ly9wdWJtYXRpYy5iYnZtcy5jb20vci8iLmNvbmNhdCgiJFJFTkRFUkVSIiwiLmpzIiksZj17a2FkcGFnZXVybDoiIixnZW5kZXI6IiIseW9iOiIiLGxhdDoiIixsb246IiIsd2lpZDoiIixwcm9mSWQ6IiIsdmVySWQ6IiJ9LHk9Im51bWJlciIsdj0ic3RyaW5nIixFPSJib29sZWFuIixJPSJhcnJheSIsdz17bWltZXM6SSxtaW5kdXJhdGlvbjp5LG1heGR1cmF0aW9uOnksc3RhcnRkZWxheTp5LHBsYXliYWNrbWV0aG9kOkksYXBpOkkscHJvdG9jb2xzOkksdzp5LGg6eSxiYXR0cjpJLGxpbmVhcml0eTp5LHBsYWNlbWVudDp5LG1pbmJpdHJhdGU6eSxtYXhiaXRyYXRlOnksc2tpcDp5fSxQPXtUSVRMRTp7SUQ6MSxLRVk6InRpdGxlIixUWVBFOjB9LElNQUdFOntJRDoyLEtFWToiaW1hZ2UiLFRZUEU6MH0sSUNPTjp7SUQ6MyxLRVk6Imljb24iLFRZUEU6MH0sU1BPTlNPUkVEQlk6e0lEOjQsS0VZOiJzcG9uc29yZWRCeSIsVFlQRToxfSxCT0RZOntJRDo1LEtFWToiYm9keSIsVFlQRToyfSxDTElDS1VSTDp7SUQ6NixLRVk6ImNsaWNrVXJsIixUWVBFOjB9LFZJREVPOntJRDo3LEtFWToidmlkZW8iLFRZUEU6MH0sRVhUOntJRDo4LEtFWToiZXh0IixUWVBFOjB9LERBVEE6e0lEOjksS0VZOiJkYXRhIixUWVBFOjB9LExPR086e0lEOjEwLEtFWToibG9nbyIsVFlQRTowfSxTUE9OU09SRUQ6e0lEOjExLEtFWToic3BvbnNvcmVkIixUWVBFOjF9LERFU0M6e0lEOjEyLEtFWToiZGF0YSIsVFlQRToyfSxSQVRJTkc6e0lEOjEzLEtFWToicmF0aW5nIixUWVBFOjN9LExJS0VTOntJRDoxNCxLRVk6Imxpa2VzIixUWVBFOjR9LERPV05MT0FEUzp7SUQ6MTUsS0VZOiJkb3dubG9hZHMiLFRZUEU6NX0sUFJJQ0U6e0lEOjE2LEtFWToicHJpY2UiLFRZUEU6Nn0sU0FMRVBSSUNFOntJRDoxNyxLRVk6InNhbGVwcmljZSIsVFlQRTo3fSxQSE9ORTp7SUQ6MTgsS0VZOiJwaG9uZSIsVFlQRTo4fSxBRERSRVNTOntJRDoxOSxLRVk6ImFkZHJlc3MiLFRZUEU6OX0sREVTQzI6e0lEOjIwLEtFWToiZGVzYzIiLFRZUEU6MTB9LERJU1BMQVlVUkw6e0lEOjIxLEtFWToiZGlzcGxheXVybCIsVFlQRToxMX0sQ1RBOntJRDoyMixLRVk6ImN0YSIsVFlQRToxMn19LE89MSxUPTIsUz0zLEQ9W3tpZDpQLlNQT05TT1JFREJZLklELHJlcXVpcmVkOiEwLGRhdGE6e3R5cGU6MX19LHtpZDpQLlRJVExFLklELHJlcXVpcmVkOiEwfSx7aWQ6UC5JTUFHRS5JRCxyZXF1aXJlZDohMH1dLFk9ezE6IlBNUCIsNToiUFJFRiIsNjoiUE1QRyJ9LHg9MSxSPTIsaz17Ym9vdHN0cmFwUGxheWVyOmZ1bmN0aW9uKGUpe3ZhciByPXtjb2RlOmUuYWRVbml0Q29kZX07aWYoZS52YXN0WG1sP3IudmFzdFhtbD1lLnZhc3RYbWw6ZS52YXN0VXJsJiYoci52YXN0VXJsPWUudmFzdFVybCksZS52YXN0WG1sfHxlLnZhc3RVcmwpe2Zvcih2YXIgYSxpPWsuZ2V0UmVuZGVyZXJJZCgicHVibWF0aWMiLGUucmVuZGVyZXJDb2RlKSxuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUuYWRVbml0Q29kZSkscz0wO3M8d2luZG93LmJsdWViaWxseXdpZy5yZW5kZXJlcnMubGVuZ3RoO3MrKylpZih3aW5kb3cuYmx1ZWJpbGx5d2lnLnJlbmRlcmVyc1tzXS5faWQ9PT1pKXthPXdpbmRvdy5ibHVlYmlsbHl3aWcucmVuZGVyZXJzW3NdO2JyZWFrfWE/YS5ib290c3RyYXAocixuKTp0LmxvZ1dhcm4oIiIuY29uY2F0KG0sIjogQ291bGRuJ3QgZmluZCBhIHJlbmRlcmVyIHdpdGggIikuY29uY2F0KGkpKX1lbHNlIHQubG9nV2FybigiIi5jb25jYXQobSwiOiBObyB2YXN0WG1sIG9yIHZhc3RVcmwgb24gYmlkLCBiYWlsaW5nLi4uIikpfSxuZXdSZW5kZXJlcjpmdW5jdGlvbihlLHIpe3ZhciBhPWgucmVwbGFjZSgiJFJFTkRFUkVSIixlKSxpPW8uYS5pbnN0YWxsKHt1cmw6YSxsb2FkZWQ6ITEsYWRVbml0Q29kZTpyfSk7dHJ5e2kuc2V0UmVuZGVyKGsub3V0c3RyZWFtUmVuZGVyKX1jYXRjaChlKXt0LmxvZ1dhcm4oIiIuY29uY2F0KG0sIjogRXJyb3IgdHlpbmcgdG8gc2V0UmVuZGVyIG9uIHJlbmRlcmVyIiksZSl9cmV0dXJuIGl9LG91dHN0cmVhbVJlbmRlcjpmdW5jdGlvbihlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7ay5ib290c3RyYXBQbGF5ZXIoZSl9KSl9LGdldFJlbmRlcmVySWQ6ZnVuY3Rpb24oZSxyKXtyZXR1cm4iIi5jb25jYXQoZSwiLSIpLmNvbmNhdChyKX19LEE9W24uYixuLmQsbi5jXSxDPTAsej0hMSxLPXt9LE49e307ZnVuY3Rpb24gVShlLHIpe2lmKCF0LmlzU3RyKHIpKXJldHVybiByJiZ0LmxvZ1dhcm4oIlB1Yk1hdGljOiBJZ25vcmluZyBwYXJhbSBrZXk6ICIrZSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgIit1KHIpKSxiO3N3aXRjaChlKXtjYXNlInBtem9uZWlkIjpyZXR1cm4gci5zcGxpdCgiLCIpLnNsaWNlKDAsNTApLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpLmpvaW4oKTtjYXNlImthZGZsb29yIjpjYXNlImxhdCI6Y2FzZSJsb24iOnJldHVybiBwYXJzZUZsb2F0KHIpfHxiO2Nhc2UieW9iIjpyZXR1cm4gcGFyc2VJbnQocil8fGI7ZGVmYXVsdDpyZXR1cm4gcn19ZnVuY3Rpb24gcShlKXt2YXIgcjtlLnBhcmFtcy5hZFVuaXQ9IiIsZS5wYXJhbXMuYWRVbml0SW5kZXg9IjAiLGUucGFyYW1zLndpZHRoPTAsZS5wYXJhbXMuaGVpZ2h0PTAsZS5wYXJhbXMuYWRTbG90PShyPWUucGFyYW1zLmFkU2xvdCx0LmlzU3RyKHIpP3IucmVwbGFjZSgvXlxzKy9nLCIiKS5yZXBsYWNlKC9ccyskL2csIiIpOihyJiZ0LmxvZ1dhcm4oInB1Ym1hdGljOiBhZFNsb3QgbXVzdCBiZSBhIHN0cmluZy4gSWdub3JpbmcgYWRTbG90IiksIiIpKTt2YXIgYT1lLnBhcmFtcy5hZFNsb3QsaT1hLnNwbGl0KCI6Iik7aWYoYT1pWzBdLDI9PWkubGVuZ3RoJiYoZS5wYXJhbXMuYWRVbml0SW5kZXg9aVsxXSksaT1hLnNwbGl0KCJAIiksZS5wYXJhbXMuYWRVbml0PWlbMF0saS5sZW5ndGg+MSl7aWYoMiE9KGk9aVsxXS5zcGxpdCgieCIpKS5sZW5ndGgpcmV0dXJuIHZvaWQgdC5sb2dXYXJuKCJQdWJNYXRpYzogQWRTbG90IEVycm9yOiBhZFNsb3Qgbm90IGluIHJlcXVpcmVkIGZvcm1hdCIpO2UucGFyYW1zLndpZHRoPXBhcnNlSW50KGlbMF0sMTApLGUucGFyYW1zLmhlaWdodD1wYXJzZUludChpWzFdLDEwKX1lbHNlIGlmKGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSYmZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uYikmJmUubWVkaWFUeXBlcy5iYW5uZXIuaGFzT3duUHJvcGVydHkoInNpemVzIikpe2Zvcih2YXIgcz0wLG89W107czxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aDtzKyspMj09PWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXNbc10ubGVuZ3RoJiZvLnB1c2goZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1tzXSk7ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz1vLGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoPj0xJiYoZS5wYXJhbXMud2lkdGg9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1swXVswXSxlLnBhcmFtcy5oZWlnaHQ9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1swXVsxXSxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMuc3BsaWNlKDEsZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGgtMSkpfX1mdW5jdGlvbiBNKGUscixhKXt2YXIgaSxuPSJJZ25vcmluZyBwYXJhbSBrZXk6ICIrZSsiLCBleHBlY3RzICIrYSsiLCBmb3VuZCAiK3Uocik7c3dpdGNoKGEpe2Nhc2UgRTppPXQuaXNCb29sZWFuO2JyZWFrO2Nhc2UgeTppPXQuaXNOdW1iZXI7YnJlYWs7Y2FzZSB2Omk9dC5pc1N0cjticmVhaztjYXNlIEk6aT10LmlzQXJyYXl9cmV0dXJuIGkocik/cjoodC5sb2dXYXJuKG0rbiksYil9ZnVuY3Rpb24gaihlLHIpe3ZhciBhPWUuS0VZO3JldHVybntpZDplLklELHJlcXVpcmVkOnJbYV0ucmVxdWlyZWQ/MTowLGRhdGE6e3R5cGU6ZS5UWVBFLGxlbjpyW2FdLmxlbixleHQ6clthXS5leHR9fX1mdW5jdGlvbiBMKGUpe3ZhciByPXthc3NldHM6W119O2Zvcih2YXIgYSBpbiBlKXtpZihlLmhhc093blByb3BlcnR5KGEpKXt2YXIgaT17fTtpZighKHIuYXNzZXRzJiZyLmFzc2V0cy5sZW5ndGg+MCYmci5hc3NldHMuaGFzT3duUHJvcGVydHkoYSkpKXN3aXRjaChhKXtjYXNlIFAuVElUTEUuS0VZOmVbYV0ubGVufHxlW2FdLmxlbmd0aD9pPXtpZDpQLlRJVExFLklELHJlcXVpcmVkOmVbYV0ucmVxdWlyZWQ/MTowLHRpdGxlOntsZW46ZVthXS5sZW58fGVbYV0ubGVuZ3RoLGV4dDplW2FdLmV4dH19OnQubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBUaXRsZSBMZW5ndGggaXMgcmVxdWlyZWQgZm9yIG5hdGl2ZSBhZDogIitKU09OLnN0cmluZ2lmeShlKSk7YnJlYWs7Y2FzZSBQLklNQUdFLktFWTplW2FdLnNpemVzJiZlW2FdLnNpemVzLmxlbmd0aD4wP2k9e2lkOlAuSU1BR0UuSUQscmVxdWlyZWQ6ZVthXS5yZXF1aXJlZD8xOjAsaW1nOnt0eXBlOlMsdzplW2FdLnd8fGVbYV0ud2lkdGh8fChlW2FdLnNpemVzP2VbYV0uc2l6ZXNbMF06YiksaDplW2FdLmh8fGVbYV0uaGVpZ2h0fHwoZVthXS5zaXplcz9lW2FdLnNpemVzWzFdOmIpLHdtaW46ZVthXS53bWlufHxlW2FdLm1pbmltdW1XaWR0aHx8KGVbYV0ubWluc2l6ZXM/ZVthXS5taW5zaXplc1swXTpiKSxobWluOmVbYV0uaG1pbnx8ZVthXS5taW5pbXVtSGVpZ2h0fHwoZVthXS5taW5zaXplcz9lW2FdLm1pbnNpemVzWzFdOmIpLG1pbWVzOmVbYV0ubWltZXMsZXh0OmVbYV0uZXh0fX06dC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IEltYWdlIHNpemVzIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2UgUC5JQ09OLktFWTplW2FdLnNpemVzJiZlW2FdLnNpemVzLmxlbmd0aD4wP2k9e2lkOlAuSUNPTi5JRCxyZXF1aXJlZDplW2FdLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6Tyx3OmVbYV0ud3x8ZVthXS53aWR0aHx8KGVbYV0uc2l6ZXM/ZVthXS5zaXplc1swXTpiKSxoOmVbYV0uaHx8ZVthXS5oZWlnaHR8fChlW2FdLnNpemVzP2VbYV0uc2l6ZXNbMV06Yil9fTp0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogSWNvbiBzaXplcyBpcyByZXF1aXJlZCBmb3IgbmF0aXZlIGFkOiAiK0pTT04uc3RyaW5naWZ5KGUpKTticmVhaztjYXNlIFAuVklERU8uS0VZOmk9e2lkOlAuVklERU8uSUQscmVxdWlyZWQ6ZVthXS5yZXF1aXJlZD8xOjAsdmlkZW86e21pbmR1cmF0aW9uOmVbYV0ubWluZHVyYXRpb24sbWF4ZHVyYXRpb246ZVthXS5tYXhkdXJhdGlvbixwcm90b2NvbHM6ZVthXS5wcm90b2NvbHMsbWltZXM6ZVthXS5taW1lcyxleHQ6ZVthXS5leHR9fTticmVhaztjYXNlIFAuRVhULktFWTppPXtpZDpQLkVYVC5JRCxyZXF1aXJlZDplW2FdLnJlcXVpcmVkPzE6MH07YnJlYWs7Y2FzZSBQLkxPR08uS0VZOmk9e2lkOlAuTE9HTy5JRCxyZXF1aXJlZDplW2FdLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6VCx3OmVbYV0ud3x8ZVthXS53aWR0aHx8KGVbYV0uc2l6ZXM/ZVthXS5zaXplc1swXTpiKSxoOmVbYV0uaHx8ZVthXS5oZWlnaHR8fChlW2FdLnNpemVzP2VbYV0uc2l6ZXNbMV06Yil9fTticmVhaztjYXNlIFAuU1BPTlNPUkVEQlkuS0VZOmNhc2UgUC5CT0RZLktFWTpjYXNlIFAuUkFUSU5HLktFWTpjYXNlIFAuTElLRVMuS0VZOmNhc2UgUC5ET1dOTE9BRFMuS0VZOmNhc2UgUC5QUklDRS5LRVk6Y2FzZSBQLlNBTEVQUklDRS5LRVk6Y2FzZSBQLlBIT05FLktFWTpjYXNlIFAuQUREUkVTUy5LRVk6Y2FzZSBQLkRFU0MyLktFWTpjYXNlIFAuRElTUExBWVVSTC5LRVk6Y2FzZSBQLkNUQS5LRVk6aT1qKE5bYV0sZSl9fWkmJmkuaWQmJihyLmFzc2V0c1tyLmFzc2V0cy5sZW5ndGhdPWkpfXZhciBuPUQubGVuZ3RoLHM9MDtyZXR1cm4gRC5mb3JFYWNoKChmdW5jdGlvbihlKXtmb3IodmFyIGE9ci5hc3NldHMubGVuZ3RoLHQ9MDt0PGE7dCsrKWlmKGUuaWQ9PXIuYXNzZXRzW3RdLmlkKXtzKys7YnJlYWt9fSkpLHo9biE9cyxyfWZ1bmN0aW9uIFcoZSl7dmFyIHIsYT1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLGk9W107aWYoYSE9PWImJnQuaXNBcnJheShhKSl7aWYocj17fSxlLnBhcmFtcy53aWR0aHx8ZS5wYXJhbXMuaGVpZ2h0KXIudz1lLnBhcmFtcy53aWR0aCxyLmg9ZS5wYXJhbXMuaGVpZ2h0O2Vsc2V7aWYoMD09PWEubGVuZ3RoKXJldHVybiByPWIsdC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IG1lZGlhVHlwZXMuYmFubmVyLnNpemUgbWlzc2luZyBmb3IgYWR1bml0OiAiK2UucGFyYW1zLmFkVW5pdCsiLiBJZ25vcmluZyB0aGUgYmFubmVyIGltcHJlc3Npb24gaW4gdGhlIGFkdW5pdC4iKSxyO3Iudz1wYXJzZUludChhWzBdWzBdLDEwKSxyLmg9cGFyc2VJbnQoYVswXVsxXSwxMCksYT1hLnNwbGljZSgxLGEubGVuZ3RoLTEpfWEubGVuZ3RoPjAmJihpPVtdLGEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5sZW5ndGg+MSYmaS5wdXNoKHt3OmVbMF0saDplWzFdfSl9KSksaS5sZW5ndGg+MCYmKHIuZm9ybWF0PWkpKSxyLnBvcz0wLHIudG9wZnJhbWU9dC5pbklmcmFtZSgpPzA6MX1lbHNlIHQubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBtZWRpYVR5cGVzLmJhbm5lci5zaXplIG1pc3NpbmcgZm9yIGFkdW5pdDogIitlLnBhcmFtcy5hZFVuaXQrIi4gSWdub3JpbmcgdGhlIGJhbm5lciBpbXByZXNzaW9uIGluIHRoZSBhZHVuaXQuIikscj1iO3JldHVybiByfWZ1bmN0aW9uIF8oZSl7dmFyIHIsYT10Lm1lcmdlRGVlcCh0LmRlZXBBY2Nlc3MoZS5tZWRpYVR5cGVzLCJ2aWRlbyIpLGUucGFyYW1zLnZpZGVvKTtpZihhIT09Yil7Zm9yKHZhciBpIGluIHI9e30sdylhLmhhc093blByb3BlcnR5KGkpJiYocltpXT1NKGksYVtpXSx3W2ldKSk7dC5pc0FycmF5KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKT8oci53PXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzBdLDEwKSxyLmg9cGFyc2VJbnQoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMV0sMTApKTp0LmlzTnVtYmVyKGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKSYmKHIudz1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSwxMCksci5oPXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzFdLDEwKSl9ZWxzZSByPWIsdC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IFZpZGVvIGNvbmZpZyBwYXJhbXMgbWlzc2luZyBmb3IgYWR1bml0OiAiK2UucGFyYW1zLmFkVW5pdCsiIHdpdGggbWVkaWFUeXBlIHNldCBhcyB2aWRlby4gSWdub3JpbmcgdmlkZW8gaW1wcmVzc2lvbiBpbiB0aGUgYWR1bml0LiIpO3JldHVybiByfWZ1bmN0aW9uIEIoZSxyKXt2YXIgYSxpLG89e30sZD17fSxsPWUuaGFzT3duUHJvcGVydHkoInNpemVzIik/ZS5zaXplczpbXSxtPSIiLGg9W107aWYoZnVuY3Rpb24oZSxyKXtyLnBhcmFtcy5kZWFscyYmKHQuaXNBcnJheShyLnBhcmFtcy5kZWFscyk/ci5wYXJhbXMuZGVhbHMuZm9yRWFjaCgoZnVuY3Rpb24ocil7dC5pc1N0cihyKSYmci5sZW5ndGg+Mz8oZS5wbXB8fChlLnBtcD17cHJpdmF0ZV9hdWN0aW9uOjAsZGVhbHM6W119KSxlLnBtcC5kZWFscy5wdXNoKHtpZDpyfSkpOnQubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBkZWFsLWlkIHByZXNlbnQgaW4gYXJyYXkgYmlkLnBhcmFtcy5kZWFscyBzaG91bGQgYmUgYSBzdHJpbmdzIHdpdGggbW9yZSB0aGFuIDMgY2hhcmF0ZXJzIGxlbmd0aCwgZGVhbC1pZCBpZ25vcmVkOiAiK3IpfSkpOnQubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBiaWQucGFyYW1zLmRlYWxzIHNob3VsZCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLiIpKX0obz17aWQ6ZS5iaWRJZCx0YWdpZDplLnBhcmFtcy5hZFVuaXR8fHZvaWQgMCxiaWRmbG9vcjpVKCJrYWRmbG9vciIsZS5wYXJhbXMua2FkZmxvb3IpLHNlY3VyZToxLGV4dDp7cG1ab25lSWQ6VSgicG16b25laWQiLGUucGFyYW1zLnBtem9uZWlkKX0sYmlkZmxvb3JjdXI6ZS5wYXJhbXMuY3VycmVuY3k/VSgiY3VycmVuY3kiLGUucGFyYW1zLmN1cnJlbmN5KTpnfSxlKSxmdW5jdGlvbihlLHIpe3ZhciBhLGk9IiI7aWYoci5wYXJhbXMuZGN0cilpZihpPXIucGFyYW1zLmRjdHIsdC5pc1N0cihpKSYmaS5sZW5ndGg+MCl7dmFyIG49aS5zcGxpdCgifCIpO2k9IiIsbi5mb3JFYWNoKChmdW5jdGlvbihlKXtpKz1lLmxlbmd0aD4wP2UudHJpbSgpKyJ8IjoiIn0pKSxhPWkubGVuZ3RoLCJ8Ij09PWkuc3Vic3RyaW5nKGEsYS0xKSYmKGk9aS5zdWJzdHJpbmcoMCxhLTEpKSxlLmV4dC5rZXlfdmFsPWkudHJpbSgpfWVsc2UgdC5sb2dXYXJuKCJQdWJNYXRpYzogSWdub3JpbmcgcGFyYW0gOiBkY3RyIHdpdGggdmFsdWUgOiAiK2krIiwgZXhwZWN0cyBzdHJpbmctdmFsdWUsIGZvdW5kIGVtcHR5IG9yIG5vbi1zdHJpbmcgdmFsdWUiKX0obyxlKSxlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIikpZm9yKG0gaW4gZS5tZWRpYVR5cGVzKXN3aXRjaChtKXtjYXNlIG4uYjooYT1XKGUpKSE9PWImJihvLmJhbm5lcj1hKTticmVhaztjYXNlIG4uYzpkLnJlcXVlc3Q9SlNPTi5zdHJpbmdpZnkoTChlLm5hdGl2ZVBhcmFtcykpLHo/dC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IEVycm9yIGluIE5hdGl2ZSBhZHVuaXQgIitlLnBhcmFtcy5hZFVuaXQrIi4gSWdub3JpbmcgdGhlIGFkdW5pdC4gUmVmZXIgdG8gaHR0cDovL3ByZWJpZC5vcmcvZGV2LWRvY3Mvc2hvdy1uYXRpdmUtYWRzLmh0bWwgZm9yIG1vcmUgZGV0YWlscy4iKTpvLm5hdGl2ZT1kO2JyZWFrO2Nhc2Ugbi5kOihpPV8oZSkpIT09YiYmKG8udmlkZW89aSl9ZWxzZSBhPXtwb3M6MCx3OmUucGFyYW1zLndpZHRoLGg6ZS5wYXJhbXMuaGVpZ2h0LHRvcGZyYW1lOnQuaW5JZnJhbWUoKT8wOjF9LHQuaXNBcnJheShsKSYmbC5sZW5ndGg+MSYmKChsPWwuc3BsaWNlKDEsbC5sZW5ndGgtMSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2gucHVzaCh7dzplWzBdLGg6ZVsxXX0pfSkpLGEuZm9ybWF0PWgpLG8uYmFubmVyPWE7cmV0dXJuIGZ1bmN0aW9uKGUscil7dmFyIGE9ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIGE9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/cChPYmplY3QoYSksITApLmZvckVhY2goKGZ1bmN0aW9uKHIpe2MoZSxyLGFbcl0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoYSkpOnAoT2JqZWN0KGEpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxyKSl9KSl9cmV0dXJuIGV9KHt9LHQuZGVlcEFjY2VzcyhyLCJvcnRiMkltcC5leHQuZGF0YSIpKTtPYmplY3Qua2V5cyhhKS5mb3JFYWNoKChmdW5jdGlvbihyKXsicGJhZHNsb3QiPT09cj8ic3RyaW5nIj09dHlwZW9mIGFbcl0mJmFbcl0mJnQuZGVlcFNldFZhbHVlKGUsImV4dC5kYXRhLnBiYWRzbG90IixhW3JdKToiYWRzZXJ2ZXIiPT09cj9bIm5hbWUiLCJhZHNsb3QiXS5mb3JFYWNoKChmdW5jdGlvbihyKXt2YXIgaT10LmRlZXBBY2Nlc3MoYSwiYWRzZXJ2ZXIuIi5jb25jYXQocikpOyJzdHJpbmciPT10eXBlb2YgaSYmaSYmKHQuZGVlcFNldFZhbHVlKGUsImV4dC5kYXRhLmFkc2VydmVyLiIuY29uY2F0KHIudG9Mb3dlckNhc2UoKSksaSksImFkc2xvdCI9PT1yJiZ0LmRlZXBTZXRWYWx1ZShlLCJleHQuZGZwX2FkX3VuaXRfY29kZSIsaSkpfSkpOnQuZGVlcFNldFZhbHVlKGUsImV4dC5kYXRhLiIuY29uY2F0KHIpLGFbcl0pfSkpfShvLGUpLGZ1bmN0aW9uKGUscil7dmFyIGE9LTE7ImZ1bmN0aW9uIiE9dHlwZW9mIHIuZ2V0Rmxvb3J8fHMuYi5nZXRDb25maWcoInB1Ym1hdGljLmRpc2FibGVGbG9vcnMiKXx8W24uYixuLmQsbi5jXS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihlLmhhc093blByb3BlcnR5KHQpKXt2YXIgaT1yLmdldEZsb29yKHtjdXJyZW5jeTplLmJpZGZsb29yY3VyLG1lZGlhVHlwZTp0LHNpemU6IioifSk7aWYoIm9iamVjdCI9PT11KGkpJiZpLmN1cnJlbmN5PT09ZS5iaWRmbG9vcmN1ciYmIWlzTmFOKHBhcnNlSW50KGkuZmxvb3IpKSl7dmFyIG49cGFyc2VGbG9hdChpLmZsb29yKTthPS0xPT1hP246TWF0aC5taW4obixhKX19fSkpO2UuYmlkZmxvb3ImJihhPU1hdGgubWF4KGEsZS5iaWRmbG9vcikpO2UuYmlkZmxvb3I9IWlzTmFOKGEpJiZhPjA/YTpifShvLGUpLG8uaGFzT3duUHJvcGVydHkobi5iKXx8by5oYXNPd25Qcm9wZXJ0eShuLmMpfHxvLmhhc093blByb3BlcnR5KG4uZCk/bzpifWZ1bmN0aW9uIFYoZSxyKXt2YXIgYT1udWxsLGk9dC5kZWVwQWNjZXNzKGUsIjAudXNlcklkLmZsb2NJZCIpO2lmKGkmJmkuaWQpc3dpdGNoKHIpe2Nhc2UgUjphPXtpZDoiRkxPQyIsbmFtZToiRkxPQyIsZXh0Ont2ZXI6aS52ZXJzaW9ufSxzZWdtZW50Olt7aWQ6aS5pZCxuYW1lOiJjaHJvbWUuY29tIix2YWx1ZTppLmlkLnRvU3RyaW5nKCl9XX07YnJlYWs7Y2FzZSB4OmRlZmF1bHQ6YT17c291cmNlOiJjaHJvbWUuY29tIix1aWRzOlt7YXR5cGU6MSxpZDppLmlkLGV4dDp7dmVyOmkudmVyc2lvbn19XX19cmV0dXJuIGF9ZnVuY3Rpb24gRyhlKXtyZXR1cm4hMD09PXQuaXNBcnJheShlKSYmZS5sZW5ndGg+MH10Ll9lYWNoKFAsKGZ1bmN0aW9uKGUpe0tbZS5JRF09ZS5LRVl9KSksdC5fZWFjaChQLChmdW5jdGlvbihlKXtOW2UuS0VZXT1lfSkpO3ZhciBGPXtjb2RlOmwsZ3ZsaWQ6NzYsc3VwcG9ydGVkTWVkaWFUeXBlczpbbi5iLG4uZCxuLmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKGUmJmUucGFyYW1zKXtpZighdC5pc1N0cihlLnBhcmFtcy5wdWJsaXNoZXJJZCkpcmV0dXJuIHQubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBwdWJsaXNoZXJJZCBpcyBtYW5kYXRvcnkgYW5kIGNhbm5vdCBiZSBudW1lcmljICh3cmFwIGl0IGluIHF1b3RlcyBpbiB5b3VyIGNvbmZpZykuIENhbGwgdG8gT3BlbkJpZCB3aWxsIG5vdCBiZSBzZW50IGZvciBhZCB1bml0OiAiK0pTT04uc3RyaW5naWZ5KGUpKSwhMTtpZihlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIikmJmUubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuLmQpKXt2YXIgcj10LmRlZXBBY2Nlc3MoZS5tZWRpYVR5cGVzLCJ2aWRlby5taW1lcyIpLGE9dC5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlby5taW1lcyIpO2lmKCExPT09RyhyKSYmITE9PT1HKGEpKXJldHVybiB0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogRm9yIHZpZGVvIGFkcywgYmlkLm1lZGlhVHlwZXMudmlkZW8ubWltZXMgT1IgYmlkLnBhcmFtcy52aWRlby5taW1lcyBzaG91bGQgYmUgcHJlc2VudCBhbmQgbXVzdCBiZSBhIG5vbi1lbXB0eSBhcnJheS4gQ2FsbCB0byBPcGVuQmlkIHdpbGwgbm90IGJlIHNlbnQgZm9yIGFkIHVuaXQ6IitKU09OLnN0cmluZ2lmeShlKSksITE7aWYoIWUubWVkaWFUeXBlc1tuLmRdLmhhc093blByb3BlcnR5KCJjb250ZXh0IikpcmV0dXJuIHQubG9nRXJyb3IoIiIuY29uY2F0KG0sIjogbm8gY29udGV4dCBzcGVjaWZpZWQgaW4gYmlkLiBSZWplY3RpbmcgYmlkOiAiKSxlKSwhMTtpZigib3V0c3RyZWFtIj09PWUubWVkaWFUeXBlc1tuLmRdLmNvbnRleHQmJiF0LmlzU3RyKGUucGFyYW1zLm91dHN0cmVhbUFVKSYmIWUuaGFzT3duUHJvcGVydHkoInJlbmRlcmVyIikmJiFlLm1lZGlhVHlwZXNbbi5kXS5oYXNPd25Qcm9wZXJ0eSgicmVuZGVyZXIiKSlyZXR1cm4gZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uYil8fGUubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuLmMpPyhkZWxldGUgZS5tZWRpYVR5cGVzW24uZF0sdC5sb2dXYXJuKCIiLmNvbmNhdChtLCc6IGZvciAib3V0c3RyZWFtIiBiaWRzIGVpdGhlciBvdXRzdHJlYW1BVSBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBvciBhZCB1bml0IHN1cHBsaWVkIHJlbmRlcmVyIGlzIHJlcXVpcmVkLiBSZWplY3RpbmcgbWVkaWF0eXBlIFZpZGVvIG9mIGJpZDogJyksZSksITApOih0LmxvZ0Vycm9yKCIiLmNvbmNhdChtLCc6IGZvciAib3V0c3RyZWFtIiBiaWRzIGVpdGhlciBvdXRzdHJlYW1BVSBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBvciBhZCB1bml0IHN1cHBsaWVkIHJlbmRlcmVyIGlzIHJlcXVpcmVkLiBSZWplY3RpbmcgYmlkOiAnKSxlKSwhMSl9cmV0dXJuITB9cmV0dXJuITF9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgYTtyJiZyLnJlZmVyZXJJbmZvJiYoYT1yLnJlZmVyZXJJbmZvKTt2YXIgaSxvPWZ1bmN0aW9uKGUpe3JldHVybntwYWdlVVJMOmUmJmUucmVmZXJlcj9lLnJlZmVyZXI6d2luZG93LmxvY2F0aW9uLmhyZWYscmVmVVJMOndpbmRvdy5kb2N1bWVudC5yZWZlcnJlcn19KGEpLHA9ZnVuY3Rpb24oZSl7cmV0dXJue2lkOiIiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLGF0OjEsY3VyOltnXSxpbXA6W10sc2l0ZTp7cGFnZTplLnBhZ2VVUkwscmVmOmUucmVmVVJMLHB1Ymxpc2hlcjp7fX0sZGV2aWNlOnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGpzOjEsZG50OiJ5ZXMiPT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT1uYXZpZ2F0b3IubXNEb05vdFRyYWNrPzE6MCxoOnNjcmVlbi5oZWlnaHQsdzpzY3JlZW4ud2lkdGgsbGFuZ3VhZ2U6bmF2aWdhdG9yLmxhbmd1YWdlfSx1c2VyOnt9LGV4dDp7fX19KG8pLGM9IiIsbD1bXSxtPVtdO2lmKGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoKGk9dC5kZWVwQ2xvbmUoZSkpLnBhcmFtcy5hZFNsb3Q9aS5wYXJhbXMuYWRTbG90fHwiIixxKGkpLGkucGFyYW1zLmhhc093blByb3BlcnR5KCJ2aWRlbyIpKTtlbHNlIGlmKCEoaS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpJiZpLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobi5jKXx8MCE9PWkucGFyYW1zLndpZHRofHwwIT09aS5wYXJhbXMuaGVpZ2h0KSlyZXR1cm4gdm9pZCB0LmxvZ1dhcm4oIlB1Yk1hdGljOiBTa2lwcGluZyB0aGUgbm9uLXN0YW5kYXJkIGFkc2xvdDogIixpLnBhcmFtcy5hZFNsb3QsSlNPTi5zdHJpbmdpZnkoaSkpO28ucHViSWQ9by5wdWJJZHx8aS5wYXJhbXMucHVibGlzaGVySWQsKG89ZnVuY3Rpb24oZSxyKXt2YXIgYSxpLG47Zm9yKGEgaW4gci5rYWRwYWdldXJsfHwoci5rYWRwYWdldXJsPXIucGFnZVVSTCksZilmLmhhc093blByb3BlcnR5KGEpJiYoaT1lW2FdKSYmKCJvYmplY3QiPT09dShuPWZbYV0pJiYoaT1uLmYoaSxyKSksdC5pc1N0cihpKT9yW2FdPWk6dC5sb2dXYXJuKCJQdWJNYXRpYzogSWdub3JpbmcgcGFyYW0gOiAiK2ErIiB3aXRoIHZhbHVlIDogIitmW2FdKyIsIGV4cGVjdHMgc3RyaW5nLXZhbHVlLCBmb3VuZCAiK3UoaSkpKTtyZXR1cm4gcn0oaS5wYXJhbXMsbykpLnRyYW5zYWN0aW9uSWQ9aS50cmFuc2FjdGlvbklkLCIiPT09Yz9jPWkucGFyYW1zLmN1cnJlbmN5fHxiOmkucGFyYW1zLmhhc093blByb3BlcnR5KCJjdXJyZW5jeSIpJiZjIT09aS5wYXJhbXMuY3VycmVuY3kmJnQubG9nV2FybigiUHViTWF0aWM6IEN1cnJlbmN5IHNwZWNpZmllciBpZ25vcmVkLiBPbmx5IG9uZSBjdXJyZW5jeSBwZXJtaXR0ZWQuIiksaS5wYXJhbXMuY3VycmVuY3k9YyxpLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiZGN0ciIpJiZ0LmlzU3RyKGkucGFyYW1zLmRjdHIpJiZsLnB1c2goaS5wYXJhbXMuZGN0ciksaS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImJjYXQiKSYmdC5pc0FycmF5KGkucGFyYW1zLmJjYXQpJiYobT1tLmNvbmNhdChpLnBhcmFtcy5iY2F0KSk7dmFyIHI9QihpKTtyJiZwLmltcC5wdXNoKHIpfSkpLDAhPXAuaW1wLmxlbmd0aCl7dmFyIGgseTtwLnNpdGUucHVibGlzaGVyLmlkPW8ucHViSWQudHJpbSgpLEM9by5wdWJJZC50cmltKCkscC5leHQud3JhcHBlcj17fSxwLmV4dC53cmFwcGVyLnByb2ZpbGU9cGFyc2VJbnQoby5wcm9mSWQpfHxiLHAuZXh0LndyYXBwZXIudmVyc2lvbj1wYXJzZUludChvLnZlcklkKXx8YixwLmV4dC53cmFwcGVyLndpaWQ9by53aWlkfHxyLmF1Y3Rpb25JZCxwLmV4dC53cmFwcGVyLnd2PSJwcmViaWRfcHJlYmlkXzUuMTEuMCIscC5leHQud3JhcHBlci50cmFuc2FjdGlvbklkPW8udHJhbnNhY3Rpb25JZCxwLmV4dC53cmFwcGVyLndwPSJwYmpzIixwLnVzZXIuZ2VuZGVyPW8uZ2VuZGVyP28uZ2VuZGVyLnRyaW0oKTpiLHAudXNlci5nZW89e30scC51c2VyLmdlby5sYXQ9VSgibGF0IixvLmxhdCkscC51c2VyLmdlby5sb249VSgibG9uIixvLmxvbikscC51c2VyLnlvYj1VKCJ5b2IiLG8ueW9iKSxwLmRldmljZS5nZW89cC51c2VyLmdlbyxwLnNpdGUucGFnZT1vLmthZHBhZ2V1cmwudHJpbSgpfHxwLnNpdGUucGFnZS50cmltKCkscC5zaXRlLmRvbWFpbj0oaD1wLnNpdGUucGFnZSwoeT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpLmhyZWY9aCx5Lmhvc3RuYW1lKSwib2JqZWN0Ij09PXUocy5iLmdldENvbmZpZygiY29udGVudCIpKSYmKHAuc2l0ZS5jb250ZW50PXMuYi5nZXRDb25maWcoImNvbnRlbnQiKSksIm9iamVjdCI9PT11KHMuYi5nZXRDb25maWcoImRldmljZSIpKSYmKHAuZGV2aWNlPWQocC5kZXZpY2Uscy5iLmdldENvbmZpZygiZGV2aWNlIikpKSx0LmRlZXBTZXRWYWx1ZShwLCJzb3VyY2UudGlkIixvLnRyYW5zYWN0aW9uSWQpLC0xIT09d2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigicHVibWF0aWNUZXN0PXRydWUiKSYmKHAudGVzdD0xKSxlWzBdLnNjaGFpbiYmdC5kZWVwU2V0VmFsdWUocCwic291cmNlLmV4dC5zY2hhaW4iLGVbMF0uc2NoYWluKSxyJiZyLmdkcHJDb25zZW50JiYodC5kZWVwU2V0VmFsdWUocCwidXNlci5leHQuY29uc2VudCIsci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSx0LmRlZXBTZXRWYWx1ZShwLCJyZWdzLmV4dC5nZHByIixyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCkpLHImJnIudXNwQ29uc2VudCYmdC5kZWVwU2V0VmFsdWUocCwicmVncy5leHQudXNfcHJpdmFjeSIsci51c3BDb25zZW50KSwhMD09PXMuYi5nZXRDb25maWcoImNvcHBhIikmJnQuZGVlcFNldFZhbHVlKHAsInJlZ3MuY29wcGEiLDEpLGZ1bmN0aW9uKGUscil7dmFyIGE9dC5kZWVwQWNjZXNzKHIsIjAudXNlcklkQXNFaWRzIiksaT1WKHIseCk7aSYmKGF8fChhPVtdKSxhLnB1c2goaSkpLHQuaXNBcnJheShhKSYmYS5sZW5ndGg+MCYmdC5kZWVwU2V0VmFsdWUoZSwidXNlci5laWRzIixhKX0ocCxlKSxmdW5jdGlvbihlLHIpeyhyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV8fCh0LmxvZ1dhcm4oIlB1Yk1hdGljOiBiY2F0OiBFYWNoIGNhdGVnb3J5IHNob3VsZCBiZSBhIHN0cmluZywgaWdub3JpbmcgY2F0ZWdvcnk6ICIrZSksITEpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSxyLGEpe2lmKGUubGVuZ3RoPjMpcmV0dXJuIGEuaW5kZXhPZihlKT09PXI7dC5sb2dXYXJuKCJQdWJNYXRpYzogYmNhdDogRWFjaCBjYXRlZ29yeSBzaG91bGQgaGF2ZSBhIHZhbHVlIG9mIGEgbGVuZ3RoIG9mIG1vcmUgdGhhbiAzIGNoYXJhY3RlcnMsIGlnbm9yaW5nIGNhdGVnb3J5OiAiK2UpfSkpKS5sZW5ndGg+MCYmKHQubG9nV2FybigiUHViTWF0aWM6IGJjYXQ6IFNlbGVjdGVkOiAiLHIpLGUuYmNhdD1yKX0ocCxtKSxmdW5jdGlvbihlLHIpe3ZhciBhPVYocixSKTthJiYoZS51c2VyfHwoZS51c2VyPXt9KSxlLnVzZXIuZGF0YXx8KGUudXNlci5kYXRhPVtdKSxlLnVzZXIuZGF0YS5wdXNoKGEpKX0ocCxlKTt2YXIgdj1zLmIuZ2V0Q29uZmlnKCJvcnRiMiIpfHx7fTtyZXR1cm4gdi5zaXRlJiZ0Lm1lcmdlRGVlcChwLHtzaXRlOnYuc2l0ZX0pLHYudXNlciYmdC5tZXJnZURlZXAocCx7dXNlcjp2LnVzZXJ9KSwib2JqZWN0Ij09PXUocy5iLmdldENvbmZpZygiYXBwIikpJiYocC5hcHA9cy5iLmdldENvbmZpZygiYXBwIikscC5hcHAucHVibGlzaGVyPXAuc2l0ZS5wdWJsaXNoZXIscC5hcHAuZXh0PXAuc2l0ZS5leHR8fGIsIm9iamVjdCIhPT11KHAuYXBwLmNvbnRlbnQpJiYocC5hcHAuY29udGVudD1wLnNpdGUuY29udGVudHx8YiksZGVsZXRlIHAuc2l0ZSkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2hib3BlbmJpZC5wdWJtYXRpYy5jb20vdHJhbnNsYXRvcj9zb3VyY2U9cHJlYmlkLWNsaWVudCIsZGF0YTpKU09OLnN0cmluZ2lmeShwKSxiaWRkZXJSZXF1ZXN0OnJ9fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgYT1bXSxpPWcscz1KU09OLnBhcnNlKHIuZGF0YSksbz1zLnNpdGUmJnMuc2l0ZS5yZWY/cy5zaXRlLnJlZjoiIjt0cnl7ZS5ib2R5JiZlLmJvZHkuc2VhdGJpZCYmdC5pc0FycmF5KGUuYm9keS5zZWF0YmlkKSYmKGk9ZS5ib2R5LmN1cnx8aSxlLmJvZHkuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZCYmdC5pc0FycmF5KGUuYmlkKSYmZS5iaWQuZm9yRWFjaCgoZnVuY3Rpb24oZCl7dmFyIHA9e3JlcXVlc3RJZDpkLmltcGlkLGNwbToocGFyc2VGbG9hdChkLnByaWNlKXx8MCkudG9GaXhlZCgyKSx3aWR0aDpkLncsaGVpZ2h0OmQuaCxjcmVhdGl2ZUlkOmQuY3JpZHx8ZC5pZCxkZWFsSWQ6ZC5kZWFsaWQsY3VycmVuY3k6aSxuZXRSZXZlbnVlOnRydWUsdHRsOjMwMCxyZWZlcnJlcjpvLGFkOmQuYWRtLHBtX3NlYXQ6ZS5zZWF0fHxudWxsLHBtX2RzcGlkOmQuZXh0JiZkLmV4dC5kc3BpZD9kLmV4dC5kc3BpZDpudWxsLHBhcnRuZXJJbXBJZDpkLmlkfHwiIn07cy5pbXAmJnMuaW1wLmxlbmd0aD4wJiZzLmltcC5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihkLmltcGlkPT09ZS5pZClzd2l0Y2goZnVuY3Rpb24oZSxyKXtpZihlLmV4dCYmbnVsbCE9ZS5leHQuQmlkVHlwZSlyLm1lZGlhVHlwZT1BW2UuZXh0LkJpZFR5cGVdO2Vsc2V7dC5sb2dJbmZvKCJQdWJNYXRpYzogYmlkLmV4dC5CaWRUeXBlIGRvZXMgbm90IGV4aXN0LCBjaGVja2luZyBhbHRlcm5hdGl2ZWx5IGZvciBtZWRpYVR5cGUiKTt2YXIgYT1lLmFkbSxpPSIiLHM9bmV3IFJlZ0V4cCgvVkFTVFxzK3ZlcnNpb24vKTtpZihhLmluZGV4T2YoJ3NwYW4gY2xhc3M9IlB1YkFQSUFkIicpPj0wKXIubWVkaWFUeXBlPW4uYjtlbHNlIGlmKHMudGVzdChhKSlyLm1lZGlhVHlwZT1uLmQ7ZWxzZSB0cnl7KGk9SlNPTi5wYXJzZShhLnJlcGxhY2UoL1xcL2csIiIpKSkmJmkubmF0aXZlJiYoci5tZWRpYVR5cGU9bi5jKX1jYXRjaChlKXt0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogQ2Fubm90IHBhcnNlIG5hdGl2ZSByZXBvbnNlIGZvciBhZCByZXNwb25zZTogIithKX19fShkLHApLHAubWVkaWFUeXBlKXtjYXNlIG4uYjpicmVhaztjYXNlIG4uZDpwLndpZHRoPWQuaGFzT3duUHJvcGVydHkoInciKT9kLnc6ZS52aWRlby53LHAuaGVpZ2h0PWQuaGFzT3duUHJvcGVydHkoImgiKT9kLmg6ZS52aWRlby5oLHAudmFzdFhtbD1kLmFkbSxmdW5jdGlvbihlLHIpe3ZhciBhLHQsaTtpZihyLmJpZGRlclJlcXVlc3QmJnIuYmlkZGVyUmVxdWVzdC5iaWRzKXtmb3IodmFyIHM9MDtzPHIuYmlkZGVyUmVxdWVzdC5iaWRzLmxlbmd0aDtzKyspci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10uYmlkSWQ9PT1lLnJlcXVlc3RJZCYmKGE9ci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10ucGFyYW1zLHQ9ci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10ubWVkaWFUeXBlc1tuLmRdLmNvbnRleHQsaT1yLmJpZGRlclJlcXVlc3QuYmlkc1tzXS5hZFVuaXRDb2RlKTt0JiYib3V0c3RyZWFtIj09PXQmJmEmJmEub3V0c3RyZWFtQVUmJmkmJihlLnJlbmRlcmVyQ29kZT1hLm91dHN0cmVhbUFVLGUucmVuZGVyZXI9ay5uZXdSZW5kZXJlcihlLnJlbmRlcmVyQ29kZSxpKSl9fShwLHIpO2JyZWFrO2Nhc2Ugbi5jOiFmdW5jdGlvbihlLHIpe2lmKHIubmF0aXZlPXt9LGUuaGFzT3duUHJvcGVydHkoImFkbSIpKXt2YXIgYT0iIjt0cnl7YT1KU09OLnBhcnNlKGUuYWRtLnJlcGxhY2UoL1xcL2csIiIpKX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogQ2Fubm90IHBhcnNlIG5hdGl2ZSByZXBvbnNlIGZvciBhZCByZXNwb25zZTogIityLmFkbSl9aWYoYSYmYS5uYXRpdmUmJmEubmF0aXZlLmFzc2V0cyYmYS5uYXRpdmUuYXNzZXRzLmxlbmd0aD4wKXtyLm1lZGlhVHlwZT1uLmM7Zm9yKHZhciBpPTAscz1hLm5hdGl2ZS5hc3NldHMubGVuZ3RoO2k8cztpKyspc3dpdGNoKGEubmF0aXZlLmFzc2V0c1tpXS5pZCl7Y2FzZSBQLlRJVExFLklEOnIubmF0aXZlLnRpdGxlPWEubmF0aXZlLmFzc2V0c1tpXS50aXRsZSYmYS5uYXRpdmUuYXNzZXRzW2ldLnRpdGxlLnRleHQ7YnJlYWs7Y2FzZSBQLklNQUdFLklEOnIubmF0aXZlLmltYWdlPXt1cmw6YS5uYXRpdmUuYXNzZXRzW2ldLmltZyYmYS5uYXRpdmUuYXNzZXRzW2ldLmltZy51cmwsaGVpZ2h0OmEubmF0aXZlLmFzc2V0c1tpXS5pbWcmJmEubmF0aXZlLmFzc2V0c1tpXS5pbWcuaCx3aWR0aDphLm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZhLm5hdGl2ZS5hc3NldHNbaV0uaW1nLnd9O2JyZWFrO2Nhc2UgUC5JQ09OLklEOnIubmF0aXZlLmljb249e3VybDphLm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZhLm5hdGl2ZS5hc3NldHNbaV0uaW1nLnVybCxoZWlnaHQ6YS5uYXRpdmUuYXNzZXRzW2ldLmltZyYmYS5uYXRpdmUuYXNzZXRzW2ldLmltZy5oLHdpZHRoOmEubmF0aXZlLmFzc2V0c1tpXS5pbWcmJmEubmF0aXZlLmFzc2V0c1tpXS5pbWcud307YnJlYWs7Y2FzZSBQLlNQT05TT1JFREJZLklEOmNhc2UgUC5CT0RZLklEOmNhc2UgUC5MSUtFUy5JRDpjYXNlIFAuRE9XTkxPQURTLklEOmNhc2UgUC5QUklDRTpjYXNlIFAuU0FMRVBSSUNFLklEOmNhc2UgUC5QSE9ORS5JRDpjYXNlIFAuQUREUkVTUy5JRDpjYXNlIFAuREVTQzIuSUQ6Y2FzZSBQLkNUQS5JRDpjYXNlIFAuUkFUSU5HLklEOmNhc2UgUC5ESVNQTEFZVVJMLklEOnIubmF0aXZlW0tbYS5uYXRpdmUuYXNzZXRzW2ldLmlkXV09YS5uYXRpdmUuYXNzZXRzW2ldLmRhdGEmJmEubmF0aXZlLmFzc2V0c1tpXS5kYXRhLnZhbHVlfXIubmF0aXZlLmNsaWNrVXJsPWEubmF0aXZlLmxpbmsmJmEubmF0aXZlLmxpbmsudXJsLHIubmF0aXZlLmNsaWNrVHJhY2tlcnM9YS5uYXRpdmUubGluayYmYS5uYXRpdmUubGluay5jbGlja3RyYWNrZXJzfHxbXSxyLm5hdGl2ZS5pbXByZXNzaW9uVHJhY2tlcnM9YS5uYXRpdmUuaW1wdHJhY2tlcnN8fFtdLHIubmF0aXZlLmpzdHJhY2tlcj1hLm5hdGl2ZS5qc3RyYWNrZXJ8fFtdLHIud2lkdGh8fChyLndpZHRoPTApLHIuaGVpZ2h0fHwoci5oZWlnaHQ9MCl9fX0oZCxwKX19KSksZC5leHQmJmQuZXh0LmRlYWxfY2hhbm5lbCYmKHAuZGVhbENoYW5uZWw9WVtkLmV4dC5kZWFsX2NoYW5uZWxdfHxudWxsKSxwLm1ldGE9e30sZC5leHQmJmQuZXh0LmRzcGlkJiYocC5tZXRhLm5ldHdvcmtJZD1kLmV4dC5kc3BpZCksZC5leHQmJmQuZXh0LmFkdmlkJiYocC5tZXRhLmJ1eWVySWQ9ZC5leHQuYWR2aWQpLGQuYWRvbWFpbiYmZC5hZG9tYWluLmxlbmd0aD4wJiYocC5tZXRhLmFkdmVydGlzZXJEb21haW5zPWQuYWRvbWFpbixwLm1ldGEuY2xpY2tVcmw9ZC5hZG9tYWluWzBdKSxlLmV4dCYmZS5leHQuYnV5aWQmJihwLmFkc2VydmVyVGFyZ2V0aW5nPXtoYl9idXlpZF9wdWJtYXRpYzplLmV4dC5idXlpZH0pLGEucHVzaChwKX0pKX0pKSl9Y2F0Y2goZSl7dC5sb2dFcnJvcihlKX1yZXR1cm4gYX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscixhLHQpe3ZhciBpPSIiK0M7cmV0dXJuIGEmJihpKz0iJmdkcHI9IisoYS5nZHByQXBwbGllcz8xOjApLGkrPSImZ2Rwcl9jb25zZW50PSIrZW5jb2RlVVJJQ29tcG9uZW50KGEuY29uc2VudFN0cmluZ3x8IiIpKSx0JiYoaSs9IiZ1c19wcml2YWN5PSIrZW5jb2RlVVJJQ29tcG9uZW50KHQpKSwhMD09PXMuYi5nZXRDb25maWcoImNvcHBhIikmJihpKz0iJmNvcHBhPTEiKSxlLmlmcmFtZUVuYWJsZWQ/W3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9hZHMucHVibWF0aWMuY29tL0FkU2VydmVyL2pzL3VzZXJfc3luYy5odG1sP2tkbnR1aWQ9MSZwPSIraX1dOlt7dHlwZToiaW1hZ2UiLHVybDoiaHR0cHM6Ly9pbWFnZTgucHVibWF0aWMuY29tL0FkU2VydmVyL0ltZ1N5bmM/cD0iK2l9XX0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIHQuY29udmVydFR5cGVzKHtwdWJsaXNoZXJJZDoic3RyaW5nIixhZFNsb3Q6InN0cmluZyJ9LGUpfX07T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKEYpfX0sWzY1N10pOwp1cGJqc0NodW5rKFsyOV0sezY6ZnVuY3Rpb24oZSxuLHQpeyJ1c2Ugc3RyaWN0IjtuLmE9ZnVuY3Rpb24oZSl7dmFyIG4sdD1lLnVybCxyPWUuYW5hbHl0aWNzVHlwZSx1PWUuZ2xvYmFsLGw9ZS5oYW5kbGVyLE89W10sbT0wLFU9ITA7KGZ1bmN0aW9uKCl7aWYoVSl7Zm9yKHZhciBlPTA7ZTxPLmxlbmd0aDtlKyspT1tlXSgpO08ucHVzaD1mdW5jdGlvbihlKXtlKCl9LFU9ITF9cy5sb2dNZXNzYWdlKCJldmVudCBjb3VudCBzZW50IHRvICIuY29uY2F0KHUsIjogIikuY29uY2F0KG0pKX0pKCk7cmV0dXJue3RyYWNrOmZ1bmN0aW9uKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHQ9ZS5hcmdzO3RoaXMuZ2V0QWRhcHRlclR5cGUoKT09PVMmJndpbmRvd1t1XShsLG4sdCk7dGhpcy5nZXRBZGFwdGVyVHlwZSgpPT09TiYmQi5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX0sZW5xdWV1ZTpSLGVuYWJsZUFuYWx5dGljczpqLGRpc2FibGVBbmFseXRpY3M6ZnVuY3Rpb24oKXtzLl9lYWNoKG4sKGZ1bmN0aW9uKGUsbil7Yy5vZmYobixlKX0pKSx0aGlzLmVuYWJsZUFuYWx5dGljcz10aGlzLl9vbGRFbmFibGU/dGhpcy5fb2xkRW5hYmxlOmp9LGdldEFkYXB0ZXJUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuIHJ9LGdldEdsb2JhbDpmdW5jdGlvbigpe3JldHVybiB1fSxnZXRIYW5kbGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGx9LGdldFVybDpmdW5jdGlvbigpe3JldHVybiB0fX07ZnVuY3Rpb24gQihlKXt2YXIgbj1lLmV2ZW50VHlwZSxyPWUuYXJncyx1PWUuY2FsbGJhY2s7T2JqZWN0KGEuYSkodCx1LEpTT04uc3RyaW5naWZ5KHtldmVudFR5cGU6bixhcmdzOnJ9KSl9ZnVuY3Rpb24gUihlKXt2YXIgbj1lLmV2ZW50VHlwZSx0PWUuYXJncyxyPXRoaXM7dSYmd2luZG93W3VdJiZuJiZ0P3RoaXMudHJhY2soe2V2ZW50VHlwZTpuLGFyZ3M6dH0pOk8ucHVzaCgoZnVuY3Rpb24oKXttKyssci50cmFjayh7ZXZlbnRUeXBlOm4sYXJnczp0fSl9KSl9ZnVuY3Rpb24gaihlKXt2YXIgdCxyPXRoaXMsYT10aGlzOyJvYmplY3QiIT09aShlKXx8Im9iamVjdCIhPT1pKGUub3B0aW9ucyl8fCh2b2lkIDA9PT1lLm9wdGlvbnMuc2FtcGxpbmd8fE1hdGgucmFuZG9tKCk8cGFyc2VGbG9hdChlLm9wdGlvbnMuc2FtcGxpbmcpKT8oYy5nZXRFdmVudHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlKXt2YXIgbj1lLmV2ZW50VHlwZSx0PWUuYXJncztuIT09VCYmUi5jYWxsKGEse2V2ZW50VHlwZTpuLGFyZ3M6dH0pfX0pKSxvKHQ9e30seSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOnksYXJnczplfSl9KSksbyh0LGcsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpnLGFyZ3M6ZX0pfSkpLG8odCx2LChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6dixhcmdzOmV9KX0pKSxvKHQsYiwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOmIsYXJnczplfSl9KSksbyh0LFQsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpULGFyZ3M6ZX0pfSkpLG8odCxkLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6ZCxhcmdzOmV9KX0pKSxvKHQsRSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOkUsYXJnczplfSl9KSksbyh0LF8sKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpfLGFyZ3M6ZX0pfSkpLG8odCxBLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6QSxhcmdzOmV9KX0pKSxvKHQscCwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOnAsYXJnczplfSl9KSksbyh0LEQsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpELGFyZ3M6ZX0pfSkpLG8odCxoLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6aCxhcmdzOmV9KX0pKSxvKHQsSSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOkksYXJnczplfSl9KSksbyh0LHEsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpxLGFyZ3M6ZX0pfSkpLG8odCxmLChmdW5jdGlvbihuKXtuLmNvbmZpZz0ib2JqZWN0Ij09PWkoZSkmJmUub3B0aW9uc3x8e30sci5lbnF1ZXVlKHtldmVudFR5cGU6ZixhcmdzOm59KX0pKSxuPXQscy5fZWFjaChuLChmdW5jdGlvbihlLG4pe2Mub24obixlKX0pKSk6cy5sb2dNZXNzYWdlKCdBbmFseXRpY3MgYWRhcHRlciBmb3IgIicuY29uY2F0KHUsJyIgZGlzYWJsZWQgYnkgc2FtcGxpbmcnKSk7dGhpcy5fb2xkRW5hYmxlPXRoaXMuZW5hYmxlQW5hbHl0aWNzLHRoaXMuZW5hYmxlQW5hbHl0aWNzPWZ1bmN0aW9uKCl7cmV0dXJuIHMubG9nTWVzc2FnZSgnQW5hbHl0aWNzIGFkYXB0ZXIgZm9yICInLmNvbmNhdCh1LCciIGFscmVhZHkgZW5hYmxlZCwgdW5uZWNlc3NhcnkgY2FsbCB0byBgZW5hYmxlQW5hbHl0aWNzYC4nKSl9fX07dmFyIHI9dCg1KSx1PXQubihyKSxhPXQoNCk7ZnVuY3Rpb24gbyhlLG4sdCl7cmV0dXJuIG4gaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtuXT10LGV9ZnVuY3Rpb24gaShlKXtyZXR1cm4oaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBjPXQoOSkscz10KDApLGw9dS5hLkVWRU5UUyxmPWwuQVVDVElPTl9JTklULHA9bC5BVUNUSU9OX0VORCx5PWwuUkVRVUVTVF9CSURTLGc9bC5CSURfUkVRVUVTVEVELFQ9bC5CSURfVElNRU9VVCx2PWwuQklEX1JFU1BPTlNFLGI9bC5OT19CSUQsZD1sLkJJRF9XT04sRT1sLkJJRF9BREpVU1RNRU5ULF89bC5CSURERVJfRE9ORSxBPWwuU0VUX1RBUkdFVElORyxEPWwuQURfUkVOREVSX0ZBSUxFRCxoPWwuQURfUkVOREVSX1NVQ0NFRURFRCxJPWwuQVVDVElPTl9ERUJVRyxxPWwuQUREX0FEX1VOSVRTLE49ImVuZHBvaW50IixTPSJidW5kbGUifSw2NjE6ZnVuY3Rpb24oZSxuLHQpe2UuZXhwb3J0cz10KDY2Mil9LDY2MjpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj10KDYpLHU9dCg4KSxhPU9iamVjdChyLmEpKHtnbG9iYWw6IlB1YnN0YWNrQW5hbHl0aWNzIixoYW5kbGVyOiJvbiIsYW5hbHl0aWNzVHlwZToiYnVuZGxlIn0pO3UuZGVmYXVsdC5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXIoe2FkYXB0ZXI6YSxjb2RlOiJwdWJzdGFjayJ9KSxuLmRlZmF1bHQ9YX19LFs2NjFdKTsKdXBianNDaHVuayhbMTQ0XSx7NjczOmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg2NzQpfSw2NzQ6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBtfSkpO3ZhciBuPXQoMCksaT10KDEpLGE9dCgxMyk7ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHM9MTAwLHU9MjAwLG89NTAsYz0xNTAscD01MCxsPSJVU0QiLGY9WyJjcCIsImN0IiwiY2YiLCJ2aWRlbyIsImJhdHRyIiwiYmNhdCIsImJhZHYiLCJiaWRmbG9vciJdLG09e2NvZGU6InB1bHNlcG9pbnQiLGd2bGlkOjgxLGFsaWFzZXM6WyJwdWxzZUxpdGUiLCJwdWxzZXBvaW50TGl0ZSJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6WyJiYW5uZXIiLCJuYXRpdmUiLCJ2aWRlbyJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUucGFyYW1zJiZlLnBhcmFtcy5jcCYmZS5wYXJhbXMuY3QpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2JpZC5jb250ZXh0d2ViLmNvbS9oZWFkZXIvb3J0Yj9zcmM9cHJlYmlkIixkYXRhOntpZDplWzBdLmJpZGRlclJlcXVlc3RJZCxpbXA6ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm57aWQ6ZS5iaWRJZCxiYW5uZXI6dihlKSxuYXRpdmU6aChlKSx0YWdpZDplLnBhcmFtcy5jdC50b1N0cmluZygpLHZpZGVvOmIoZSksYmlkZmxvb3I6ayhlKSxleHQ6ZyhlKX19KGUpfSkpLHNpdGU6TyhlLHIpLGFwcDpUKGUpLGRldmljZTp7dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5zeXN0ZW1MYW5ndWFnZX0sYmNhdDplWzBdLnBhcmFtcy5iY2F0LGJhZHY6ZVswXS5wYXJhbXMuYmFkdix1c2VyOngoZVswXSxyKSxyZWdzOkMociksc291cmNlOlAoZVswXS5zY2hhaW4pfSxiaWRkZXJSZXF1ZXN0OnJ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3JldHVybiBmdW5jdGlvbihlLHIpe3ZhciB0PXt9LGk9e30sZD17fSxzPXIuYm9keTtlLmRhdGEuaW1wLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZS5pZF09ZX0pKSxzJiZzLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lbZS5pbXBpZF09ZX0pKX0pKTtlLmJpZGRlclJlcXVlc3QmJmUuYmlkZGVyUmVxdWVzdC5iaWRzJiZlLmJpZGRlclJlcXVlc3QuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtkW2UuYmlkSWRdPWV9KSk7dmFyIHU9W107cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGlbZV0pe3ZhciByPXtyZXF1ZXN0SWQ6ZSxjcG06aVtlXS5wcmljZSxjcmVhdGl2ZV9pZDppW2VdLmNyaWQsY3JlYXRpdmVJZDppW2VdLmNyaWQsYWRJZDplLHR0bDppW2VdLmV4cHx8MjAsbmV0UmV2ZW51ZTp0cnVlLGN1cnJlbmN5OnMuY3VyfHxsLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmlbZV0uYWRvbWFpbnx8W119fTt0W2VdLnZpZGVvPyhkW2VdJiYib3V0c3RyZWFtIj09PW4uZGVlcEFjY2VzcyhkW2VdLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmKHIucmVuZGVyZXI9KG89bi5kZWVwQWNjZXNzKGRbZV0sInJlbmRlcmVyLm9wdGlvbnMiKSxjPW4uZGVlcEFjY2VzcyhpW2VdLCJleHQub3V0c3RyZWFtIiksKHA9YS5hLmluc3RhbGwoe3VybDpjLnJlbmRlcmVyVXJsLGNvbmZpZzp7ZGVmYXVsdE9wdGlvbnM6Yy5jb25maWcscmVuZGVyZXJPcHRpb25zOm8sdHlwZTpjLnR5cGV9LGxvYWRlZDohMX0pKS5zZXRSZW5kZXIoKGZ1bmN0aW9uKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt2YXIgcj1lLnJlbmRlcmVyLmdldENvbmZpZygpOyhuZXcgd2luZG93LlB1bHNlUG9pbnRPdXRzdHJlYW1SZW5kZXJlcikucmVuZGVyKHthZFVuaXRDb2RlOmUuYWRVbml0Q29kZSx2YXN0WG1sOmUudmFzdFhtbCx0eXBlOnIudHlwZSxkZWZhdWx0T3B0aW9uczpyLmRlZmF1bHRPcHRpb25zLHJlbmRlcmVyT3B0aW9uczpvfSl9KSl9KSkscCkpLHIudmFzdFhtbD1pW2VdLmFkbSxyLm1lZGlhVHlwZT0idmlkZW8iLHIud2lkdGg9aVtlXS53LHIuaGVpZ2h0PWlbZV0uaCk6dFtlXS5iYW5uZXI/KHIuYWQ9aVtlXS5hZG0sci53aWR0aD1pW2VdLnd8fHRbZV0uYmFubmVyLncsci5oZWlnaHQ9aVtlXS5ofHx0W2VdLmJhbm5lci5oKTp0W2VdLm5hdGl2ZSYmKHIubmF0aXZlPWZ1bmN0aW9uKGUscil7aWYoZS5uYXRpdmUpe3ZhciB0PWZ1bmN0aW9uKGUpe3RyeXtpZihlKXJldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKGUpe24ubG9nRXJyb3IoInB1bHNlcG9pbnRMaXRlLnNhZmVQYXJzZSIsIkVSUk9SIixlKX1yZXR1cm4gbnVsbH0oci5hZG0pLGk9e307aWYodCYmdC5uYXRpdmUmJnQubmF0aXZlLmFzc2V0cylyZXR1cm4gdC5uYXRpdmUuYXNzZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kudGl0bGU9ZS50aXRsZT9lLnRpdGxlLnRleHQ6aS50aXRsZSxpLmJvZHk9ZS5kYXRhJiYyPT09ZS5kYXRhLnR5cGU/ZS5kYXRhLnZhbHVlOmkuYm9keSxpLnNwb25zb3JlZEJ5PWUuZGF0YSYmMT09PWUuZGF0YS50eXBlP2UuZGF0YS52YWx1ZTppLnNwb25zb3JlZEJ5LGkuaW1hZ2U9ZS5pbWcmJjM9PT1lLmltZy50eXBlP2UuaW1nLnVybDppLmltYWdlLGkuaWNvbj1lLmltZyYmMT09PWUuaW1nLnR5cGU/ZS5pbWcudXJsOmkuaWNvbn0pKSx0Lm5hdGl2ZS5saW5rJiYoaS5jbGlja1VybD1lbmNvZGVVUklDb21wb25lbnQodC5uYXRpdmUubGluay51cmwpKSxpLmltcHJlc3Npb25UcmFja2Vycz10Lm5hdGl2ZS5pbXB0cmFja2VycyxpfXJldHVybiBudWxsfSh0W2VdLGlbZV0pLHIubWVkaWFUeXBlPSJuYXRpdmUiKSx1LnB1c2gocil9dmFyIG8sYyxwfSkpLHV9KHIsZSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vYmguY29udGV4dHdlYi5jb20vdmlzaXRvcm1hdGNoIn1dOmUucGl4ZWxFbmFibGVkP1t7dHlwZToiaW1hZ2UiLHVybDoiaHR0cHM6Ly9iaC5jb250ZXh0d2ViLmNvbS92aXNpdG9ybWF0Y2gvcHJlYmlkIn1dOnZvaWQgMH0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIG4uY29udmVydFR5cGVzKHtjZjoic3RyaW5nIixjcDoibnVtYmVyIixjdDoibnVtYmVyIn0sZSl9fTtmdW5jdGlvbiB2KGUpe3ZhciByPWZ1bmN0aW9uKGUpe3ZhciByPW4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpO2lmKHImJm4uaXNBcnJheShyKSlyZXR1cm4gci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aH0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKTtyZXR1cm4gbnVsbH0oZSksdD1mdW5jdGlvbihlLHIpe2lmKGUucGFyYW1zLmNmKXt2YXIgdD1lLnBhcmFtcy5jZi50b1VwcGVyQ2FzZSgpLnNwbGl0KCJYIik7cmV0dXJuW3BhcnNlSW50KGUucGFyYW1zLmN3fHx0WzBdLDEwKSxwYXJzZUludChlLnBhcmFtcy5jaHx8dFsxXSwxMCldfWlmKHImJnIubGVuZ3RoPjApcmV0dXJuW3JbMF0udyxyWzBdLmhdO3JldHVyblsxLDFdfShlLHIpO3JldHVybiBlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXI/e3c6dFswXSxoOnRbMV0sYmF0dHI6ZS5wYXJhbXMuYmF0dHIsZm9ybWF0OnJ9Om51bGx9ZnVuY3Rpb24gYihlKXtyZXR1cm4gZS5wYXJhbXMudmlkZW8/ZCh7fSxlLnBhcmFtcy52aWRlbyxlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbz9lLm1lZGlhVHlwZXMudmlkZW86e30se2JhdHRyOmUucGFyYW1zLmJhdHRyfSk6bnVsbH1mdW5jdGlvbiBnKGUpe3ZhciByPXt9LHQ9e307cmV0dXJuIGYuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV09MX0pKSxPYmplY3Qua2V5cyhlLnBhcmFtcykuZm9yRWFjaCgoZnVuY3Rpb24obil7dFtuXXx8KHJbbl09ZS5wYXJhbXNbbl0pfSkpLE9iamVjdC5rZXlzKHIpLmxlbmd0aD4wP3twcmViaWQ6cn06bnVsbH1mdW5jdGlvbiBoKGUpe2lmKGUubmF0aXZlUGFyYW1zKXt2YXIgcj1bXTtyZXR1cm4geShyLGZ1bmN0aW9uKGUscix0KXtpZihyKXJldHVybntpZDplLHJlcXVpcmVkOnIucmVxdWlyZWQ/MTowLHRpdGxlOntsZW46ci5sZW58fHR9fTtyZXR1cm4gbnVsbH0oci5sZW5ndGgrMSxlLm5hdGl2ZVBhcmFtcy50aXRsZSxzKSkseShyLHcoci5sZW5ndGgrMSxlLm5hdGl2ZVBhcmFtcy5ib2R5LDIsdSkpLHkocix3KHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuc3BvbnNvcmVkQnksMSxvKSkseShyLEkoci5sZW5ndGgrMSxlLm5hdGl2ZVBhcmFtcy5pY29uLDEscCxwKSkseShyLEkoci5sZW5ndGgrMSxlLm5hdGl2ZVBhcmFtcy5pbWFnZSwzLGMsYykpLHtyZXF1ZXN0OkpTT04uc3RyaW5naWZ5KHthc3NldHM6cn0pLHZlcjoiMS4xIixiYXR0cjplLnBhcmFtcy5iYXR0cn19cmV0dXJuIG51bGx9ZnVuY3Rpb24geShlLHIpe3ImJmUucHVzaChyKX1mdW5jdGlvbiBJKGUscix0LG4saSl7cmV0dXJuIHI/e2lkOmUscmVxdWlyZWQ6ci5yZXF1aXJlZD8xOjAsaW1nOnt0eXBlOnQsd21pbjpyLndtaW58fG4saG1pbjpyLmhtaW58fGl9fTpudWxsfWZ1bmN0aW9uIHcoZSxyLHQsbil7cmV0dXJuIHI/e2lkOmUscmVxdWlyZWQ6ci5yZXF1aXJlZD8xOjAsZGF0YTp7dHlwZTp0LGxlbjpyLmxlbnx8bn19Om51bGx9ZnVuY3Rpb24gTyhlLHIpe3ZhciB0PWUmJmUubGVuZ3RoPjA/ZVswXS5wYXJhbXMuY3A6IjAiO3JldHVybiBlWzBdLnBhcmFtcy5hcHA/bnVsbDp7cHVibGlzaGVyOntpZDp0LnRvU3RyaW5nKCl9LHJlZjpxKCkscGFnZTpyJiZyLnJlZmVyZXJJbmZvP3IucmVmZXJlckluZm8ucmVmZXJlcjoiIn19ZnVuY3Rpb24gVChlKXt2YXIgcj1lJiZlLmxlbmd0aD4wP2VbMF0ucGFyYW1zLmNwOiIwIix0PWVbMF0ucGFyYW1zLmFwcDtyZXR1cm4gdD97cHVibGlzaGVyOntpZDpyLnRvU3RyaW5nKCl9LGJ1bmRsZTp0LmJ1bmRsZSxzdG9yZXVybDp0LnN0b3JlVXJsLGRvbWFpbjp0LmRvbWFpbn06bnVsbH1mdW5jdGlvbiBxKCl7dHJ5e3JldHVybiB3aW5kb3cudG9wLmRvY3VtZW50LnJlZmVycmVyfWNhdGNoKGUpe3JldHVybiBkb2N1bWVudC5yZWZlcnJlcn19ZnVuY3Rpb24geChlLHIpe3ZhciB0PXt9O2lmKHImJnIuZ2RwckNvbnNlbnQmJih0LmNvbnNlbnQ9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxlJiZlLnVzZXJJZCl7dC5laWRzPVtdLFIodC5laWRzLGUudXNlcklkLnB1YmNpZCwicHViY29tbW9uIiksUih0LmVpZHMsZS51c2VySWQuYnJpdGVwb29saWQsImJyaXRlcG9vbC5jb20iKSxSKHQuZWlkcyxlLnVzZXJJZC5jcml0ZW9JZCwiY3JpdGVvIiksUih0LmVpZHMsZS51c2VySWQuaWRsX2VudiwiaWRlbnRpdHlMaW5rIiksUih0LmVpZHMsbi5kZWVwQWNjZXNzKGUsInVzZXJJZC5pZDVpZC51aWQiKSwiaWQ1LXN5bmMuY29tIixuLmRlZXBBY2Nlc3MoZSwidXNlcklkLmlkNWlkLmV4dCIpKSxSKHQuZWlkcyxuLmRlZXBBY2Nlc3MoZSwidXNlcklkLnBhcnJhYmxlSWQuZWlkIiksInBhcnJhYmxlLmNvbSIpLGUudXNlcklkLmxpcGImJmUudXNlcklkLmxpcGIubGlwYmlkJiZSKHQuZWlkcyxlLnVzZXJJZC5saXBiLmxpcGJpZCwibGl2ZWludGVudC5jb20iKSxSKHQuZWlkcyxlLnVzZXJJZC50ZGlkLCJhZHNlcnZlci5vcmciLHtydGlQYXJ0bmVyOiJURElEIn0pO3ZhciBpPWUudXNlcklkLmRpZ2l0cnVzdGlkO2lmKGkmJmkuZGF0YSl7dmFyIGE9e307aS5kYXRhLmlkJiYoYS5pZD1pLmRhdGEuaWQpLGkuZGF0YS5rZXl2JiYoYS5rZXl2PWkuZGF0YS5rZXl2KSx0LmRpZ2l0cnVzdD1hfX1yZXR1cm57ZXh0OnR9fWZ1bmN0aW9uIFIoZSxyLHQsbil7aWYocil7dmFyIGk9e2lkOnJ9O24mJihpLmV4dD1uKSxlLnB1c2goe3NvdXJjZTp0LHVpZHM6W2ldfSl9fWZ1bmN0aW9uIEMoZSl7aWYoZS5nZHByQ29uc2VudHx8ZS51c3BDb25zZW50KXt2YXIgcj17fTtyZXR1cm4gZS5nZHByQ29uc2VudCYmKHIuZ2Rwcj1lLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCksZS51c3BDb25zZW50JiYoci51c19wcml2YWN5PWUudXNwQ29uc2VudCkse2V4dDpyfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBQKGUpe3JldHVybiBlP3tleHQ6e3NjaGFpbjplfX06bnVsbH1mdW5jdGlvbiBrKGUpe3ZhciByPWUucGFyYW1zLmJpZGZsb29yO2lmKG4uaXNGbihlLmdldEZsb29yKSl7dmFyIHQ9ZS5nZXRGbG9vcih7bWVkaWFUeXBlOmUubWVkaWFUeXBlcy5iYW5uZXI/ImJhbm5lciI6ZS5tZWRpYVR5cGVzLnZpZGVvPyJ2aWRlbyI6Ik5hdGl2ZSIsc2l6ZToiKiIsY3VycmVuY3k6bH0pO3QmJnQuZmxvb3ImJihyPXQuZmxvb3IpfXJldHVybiByfU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShtKX19LFs2NzNdKTsKdXBianNDaHVuayhbMTMyXSx7NzAxOmZ1bmN0aW9uKGUscixhKXtlLmV4cG9ydHM9YSg3MDIpfSw3MDI6ZnVuY3Rpb24oZSxyLGEpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYS5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBufSkpO3ZhciBpPWEoMCksdD1hKDEpLHM9YSgyKTt2YXIgbj1uZXcgZnVuY3Rpb24oKXt0aGlzLmNvZGU9InJoeXRobW9uZSIsdGhpcy5zdXBwb3J0ZWRNZWRpYVR5cGVzPVtzLmQscy5iXTt2YXIgZT1bMiwzLDUsNl0scj1bInZpZGVvL21wNCJdLGE9WzEsMiwzLDRdLHQ9WzFdLG49WzEsMiw1XSxkPXt9LHA9dGhpcztmdW5jdGlvbiBvKGUscil7dmFyIGEsdD1bXSxzPTA7aWYociYmci5yZWZlcmVySW5mbyYmci5yZWZlcmVySW5mby5zdGFjay5sZW5ndGgpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtuLmhyZWY9ci5yZWZlcmVySW5mby5zdGFja1swXSxzPSJodHRwczoiPT1uLnByb3RvY29sPzE6MH1mb3IodmFyIHA9MDtwPGUubGVuZ3RoO3ArKyl7ZFtlW3BdLmFkVW5pdENvZGVdPWVbcF07dmFyIG89e307aWYoby5pZD1lW3BdLmFkVW5pdENvZGUsby5iaWRmbG9vcj0wLG8uc2VjdXJlPXMsaS5kZWVwQWNjZXNzKGVbcF0sIm1lZGlhVHlwZXMuYmFubmVyIil8fCJiYW5uZXIiPT09aS5kZWVwQWNjZXNzKGVbcF0sIm1lZGlhVHlwZSIpKXt2YXIgYz12KGVbcF0pO2MmJihvLmJhbm5lcj1jKX0oaS5kZWVwQWNjZXNzKGVbcF0sIm1lZGlhVHlwZXMudmlkZW8iKXx8InZpZGVvIj09PWkuZGVlcEFjY2VzcyhlW3BdLCJtZWRpYVR5cGUiKSkmJihvLnZpZGVvPXUoZVtwXSkpLChvLmJhbm5lcnx8by52aWRlbykmJihvLmV4dD17YmlkZGVyOntwbGFjZW1lbnRJZDooYT1lW3BdKS5wYXJhbXMucGxhY2VtZW50SWQsem9uZTphLnBhcmFtcyYmYS5wYXJhbXMuem9uZT9hLnBhcmFtcy56b25lOiIxciIscGF0aDphLnBhcmFtcyYmYS5wYXJhbXMucGF0aD9hLnBhcmFtcy5wYXRoOiJtdm8ifX0sdC5wdXNoKG8pKX1yZXR1cm4gdH1mdW5jdGlvbiBjKGUpe3ZhciByPXtkb21haW46IiIscGFnZToiIixyZWY6IiJ9O2lmKGUmJmUucmVmZXJlckluZm8pe3ZhciBhPWUucmVmZXJlckluZm87aWYoci5yZWY9YS5yZWZlcmVyLGEuc3RhY2subGVuZ3RoKXtyLnBhZ2U9YS5zdGFja1thLnN0YWNrLmxlbmd0aC0xXTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7aS5ocmVmPWEuc3RhY2tbMF0sci5kb21haW49aS5ob3N0bmFtZX19cmV0dXJuIHJ9ZnVuY3Rpb24gbShlKXt2YXIgcj1wYXJzZUludChlWzBdKSxhPXBhcnNlSW50KGVbMV0pO3JldHVybiByPT1yJiZhPT1hJiZbcixhXX1mdW5jdGlvbiB2KGUpe3ZhciByPWUuc2l6ZXM7ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiYocj1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKTt2YXIgYT1pLnBhcnNlU2l6ZXNJbnB1dChyKSx0PVtdO3JldHVybiBhLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUpe3ZhciByPW0oZS5zcGxpdCgieCIpKTtyJiZ0LnB1c2goe3c6clswXSxoOnJbMV19KX19KSksISF0Lmxlbmd0aCYme2Zvcm1hdDp0fX1mdW5jdGlvbiB1KHMpe3ZhciBkPVtdO2lmKGkuZGVlcEFjY2VzcyhzLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSl7dmFyIHA9cy5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemU7aS5pc0FycmF5KHMubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKSYmKHA9cy5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pO3ZhciBvPW0ocCk7byYmKGQ9byl9cmV0dXJue21pbWVzOmkuZGVlcEFjY2VzcyhzLCJtZWRpYVR5cGVzLnZpZGVvLm1pbWVzIil8fHIscHJvdG9jb2xzOmkuZGVlcEFjY2VzcyhzLCJtZWRpYVR5cGVzLnZpZGVvLnByb3RvY29scyIpfHxlLHc6ZFswXSxoOmRbMV0sc3RhcnRkZWxheTppLmRlZXBBY2Nlc3MocywibWVkaWFUeXBlcy52aWRlby5zdGFydGRlbGF5Iil8fDAsc2tpcDppLmRlZXBBY2Nlc3MocywibWVkaWFUeXBlcy52aWRlby5za2lwIil8fDAscGxheWJhY2ttZXRob2Q6aS5kZWVwQWNjZXNzKHMsIm1lZGlhVHlwZXMudmlkZW8ucGxheWJhY2ttZXRob2QiKXx8YSxkZWxpdmVyeTppLmRlZXBBY2Nlc3MocywibWVkaWFUeXBlcy52aWRlby5kZWxpdmVyeSIpfHx0LGFwaTppLmRlZXBBY2Nlc3MocywibWVkaWFUeXBlcy52aWRlby5hcGkiKXx8bn19ZnVuY3Rpb24gbChlLHIpe2Zvcih2YXIgYT0wO2E8ci5sZW5ndGg7YSsrKWlmKHJbYV0ucGFyYW1zJiZyW2FdLnBhcmFtc1tlXSlyZXR1cm4gclthXS5wYXJhbXNbZV19dGhpcy5pc0JpZFJlcXVlc3RWYWxpZD1mdW5jdGlvbihlKXtyZXR1cm4hKCFlLnBhcmFtc3x8IWUucGFyYW1zLnBsYWNlbWVudElkKX0sdGhpcy5nZXRVc2VyU3luY3M9ZnVuY3Rpb24oZSxyLGEpe3JldHVybltdfSx0aGlzLmJ1aWxkUmVxdWVzdHM9ZnVuY3Rpb24oZSxyKXt2YXIgYT1sKCJwbGFjZW1lbnRJZCIsZSk7aWYodm9pZCAwPT09YXx8ZS5sZW5ndGg8MSlyZXR1cm5bXTt2YXIgdD1sKCJlbmRwb2ludCIsZSl8fCJodHRwczovL3RhZy4xcnguaW8vcm1wL3twbGFjZW1lbnRJZH0vMC97cGF0aH0/ej17em9uZX0iLHM9bCgiem9uZSIsZSl8fCIxciIsbj1sKCJwYXRoIixlKXx8Im12byI7dD0odD0odD10LnJlcGxhY2UoL1x7cGxhY2VtZW50SWRcfS9pLGEpKS5yZXBsYWNlKC9ce3pvbmVcfS9pLHMpKS5yZXBsYWNlKC9ce3BhdGhcfS9pLG4pO3ZhciBkPS8oXnZ8KFwuMCkrJCkvZ2k7dCs9IiZoYnY9IisiNS4xMS4wIi5yZXBsYWNlKGQsIiIpKyIsIisiMi4xIi5yZXBsYWNlKGQsIiIpO3ZhciBwPWZ1bmN0aW9uKGUscil7dmFyIGE9e2lkOmVbMF0uYmlkZGVyUmVxdWVzdElkLGltcDpvKGUsciksc2l0ZTpjKHIpLGRldmljZTp7dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxpcDoiIixkbnQ6aS5nZXRETlQoKT8xOjB9LHVzZXI6e2V4dDp7Y29uc2VudDppLmRlZXBBY2Nlc3MociwiZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMiKT9yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmc6IiJ9fSxhdDoxLHRtYXg6MWUzLHJlZ3M6e2V4dDp7Z2RwcjohIWkuZGVlcEFjY2VzcyhyLCJnZHByQ29uc2VudC5nZHByQXBwbGllcyIpJiZCb29sZWFuKDEmci5nZHByQ29uc2VudC5nZHByQXBwbGllcyl9fX07cmV0dXJuIGVbMF0uc2NoYWluJiYoYS5zb3VyY2U9e2V4dDp7c2NoYWluOmVbMF0uc2NoYWlufX0pLGF9KGUscik7cmV0dXJuIHAuaW1wLmxlbmd0aD97bWV0aG9kOiJQT1NUIix1cmw6dCxkYXRhOkpTT04uc3RyaW5naWZ5KHApfTp7fX0sdGhpcy5pbnRlcnByZXRSZXNwb25zZT1mdW5jdGlvbihlKXt2YXIgcj1lLmJvZHl8fFtdLGE9W10saT0wO2lmKHIuc2VhdGJpZCl7dmFyIHQ9W107Zm9yKGk9MDtpPHIuc2VhdGJpZC5sZW5ndGg7aSsrKWZvcih2YXIgcz0wO3M8ci5zZWF0YmlkW2ldLmJpZC5sZW5ndGg7cysrKXQucHVzaChyLnNlYXRiaWRbaV0uYmlkW3NdKTtyPXR9Zm9yKGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIG49cltpXSxvPWRbbi5pbXBpZF0sYz17cmVxdWVzdElkOm8uYmlkSWQsYmlkZGVyQ29kZTpwLmNvZGUsY3BtOnBhcnNlRmxvYXQobi5wcmljZSksd2lkdGg6bi53LGhlaWdodDpuLmgsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6bi5hZG9tYWlufSxjcmVhdGl2ZUlkOm4uY3JpZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDozNTB9O28ubWVkaWFUeXBlcyYmby5tZWRpYVR5cGVzLnZpZGVvPyhjLnZhc3RVcmw9bi5udXJsLGMubWVkaWFUeXBlPSJ2aWRlbyIsYy50dGw9NjAwKTpjLmFkPW4uYWRtLGEucHVzaChjKX1yZXR1cm4gYX19O09iamVjdCh0LnJlZ2lzdGVyQmlkZGVyKShuKX19LFs3MDFdKTsKdXBianNDaHVuayhbMTI2XSx7NzE5OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg3MjApfSw3MjA6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBffSkpLHIuaGFzVmlkZW9NZWRpYVR5cGU9Tyx0LmQociwicmVzZXRSdWJpQ29uZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGt9KSksci5tYXNTaXplT3JkZXJpbmc9UixyLmRldGVybWluZVJ1Ymljb25WaWRlb1NpemVJZD16LHIuZ2V0UHJpY2VHcmFudWxhcml0eT1ULHIuaGFzVmFsaWRWaWRlb1BhcmFtcz1FLHIuaGFzVmFsaWRTdXBwbHlDaGFpblBhcmFtcz1VLHIuZW5jb2RlUGFyYW09UCxyLnJlc2V0VXNlclN5bmM9ZnVuY3Rpb24oKXtOPSExfTt2YXIgbj10KDApLGk9dCgxKSxvPXQoMyksYT10KDIpLHM9dCgxMSksYz10Lm4ocyksZD10KDEzKSx1PXQoMTQpO2Z1bmN0aW9uIHAoZSxyKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3ImJihuPW4uZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpLmVudW1lcmFibGV9KSkpLHQucHVzaC5hcHBseSh0LG4pfXJldHVybiB0fWZ1bmN0aW9uIGwoZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/cChPYmplY3QodCksITApLmZvckVhY2goKGZ1bmN0aW9uKHIpe3YoZSxyLHRbcl0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpOnAoT2JqZWN0KHQpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gZigpe3JldHVybihmPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbShlLHIpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSxyKXt2YXIgdD1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXQpcmV0dXJuO3ZhciBuLGksbz1bXSxhPSEwLHM9ITE7dHJ5e2Zvcih0PXQuY2FsbChlKTshKGE9KG49dC5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKG4udmFsdWUpLCFyfHxvLmxlbmd0aCE9PXIpO2E9ITApO31jYXRjaChlKXtzPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT10LnJldHVybnx8dC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgaX19cmV0dXJuIG99KGUscil8fGZ1bmN0aW9uKGUscil7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZyhlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT10fHwiU2V0Ij09PXQpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSlyZXR1cm4gZyhlLHIpfShlLHIpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gZyhlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KHIpO3Q8cjt0Kyspblt0XT1lW3RdO3JldHVybiBufWZ1bmN0aW9uIHYoZSxyLHQpe3JldHVybiByIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbcl09dCxlfWZ1bmN0aW9uIGIoZSl7cmV0dXJuKGI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgeT0iaHR0cHM6Ly92aWRlby1vdXRzdHJlYW0ucnViaWNvbnByb2plY3QuY29tL2FwZXgtMi4wLjAuanMiLHg9e307by5iLmdldENvbmZpZygicnViaWNvbiIsKGZ1bmN0aW9uKGUpe24ubWVyZ2VEZWVwKHgsZS5ydWJpY29uKX0pKTt2YXIgaD17MToiNDY4eDYwIiwyOiI3Mjh4OTAiLDU6IjEyMHg5MCIsNzoiMTI1eDEyNSIsODoiMTIweDYwMCIsOToiMTYweDYwMCIsMTA6IjMwMHg2MDAiLDEzOiIyMDB4MjAwIiwxNDoiMjUweDI1MCIsMTU6IjMwMHgyNTAiLDE2OiIzMzZ4MjgwIiwxNzoiMjQweDQwMCIsMTk6IjMwMHgxMDAiLDMxOiI5ODB4MTIwIiwzMjoiMjUweDM2MCIsMzM6IjE4MHg1MDAiLDM1OiI5ODB4MTUwIiwzNzoiNDY4eDQwMCIsMzg6IjkzMHgxODAiLDM5OiI3NTB4MTAwIiw0MDoiNzUweDIwMCIsNDE6Ijc1MHgzMDAiLDQyOiIyeDQiLDQzOiIzMjB4NTAiLDQ0OiIzMDB4NTAiLDQ4OiIzMDB4MzAwIiw1MzoiMTAyNHg3NjgiLDU0OiIzMDB4MTA1MCIsNTU6Ijk3MHg5MCIsNTc6Ijk3MHgyNTAiLDU4OiIxMDAweDkwIiw1OToiMzIweDgwIiw2MDoiMzIweDE1MCIsNjE6IjEwMDB4MTAwMCIsNjQ6IjU4MHg1MDAiLDY1OiI2NDB4NDgwIiw2NjoiOTMweDYwMCIsNjc6IjMyMHg0ODAiLDY4OiIxODAweDEwMDAiLDcyOiIzMjB4MzIwIiw3MzoiMzIweDE2MCIsNzg6Ijk4MHgyNDAiLDc5OiI5ODB4MzAwIiw4MDoiOTgweDQwMCIsODM6IjQ4MHgzMDAiLDg1OiIzMDB4MTIwIiw5MDoiNTQ4eDE1MCIsOTQ6Ijk3MHgzMTAiLDk1OiI5NzB4MTAwIiw5NjoiOTcweDIxMCIsMTAxOiI0ODB4MzIwIiwxMDI6Ijc2OHgxMDI0IiwxMDM6IjQ4MHgyODAiLDEwNToiMjUweDgwMCIsMTA4OiIzMjB4MjQwIiwxMTM6IjEwMDB4MzAwIiwxMTc6IjMyMHgxMDAiLDEyNToiODAweDI1MCIsMTI2OiIyMDB4NjAwIiwxNDQ6Ijk4MHg2MDAiLDE0NToiOTgweDE1MCIsMTUyOiIxMDAweDI1MCIsMTU2OiI2NDB4MzIwIiwxNTk6IjMyMHgyNTAiLDE3OToiMjUweDYwMCIsMTk1OiI2MDB4MzAwIiwxOTg6IjY0MHgzNjAiLDE5OToiNjQweDIwMCIsMjEzOiIxMDMweDU5MCIsMjE0OiI5ODB4MzYwIiwyMjE6IjF4MSIsMjI5OiIzMjB4MTgwIiwyMzA6IjIwMDB4MTQwMCIsMjMyOiI1ODB4NDAwIiwyMzQ6IjZ4NiIsMjUxOiIyeDIiLDI1NjoiNDgweDgyMCIsMjU3OiI0MDB4NjAwIiwyNTg6IjUwMHgyMDAiLDI1OToiOTk4eDIwMCIsMjY0OiI5NzB4MTAwMCIsMjY1OiIxOTIweDEwODAiLDI3NDoiMTgwMHgyMDAiLDI3ODoiMzIweDUwMCIsMjgyOiIzMjB4NDAwIiwyODg6IjY0MHgzODAiLDU0ODoiNTAweDEwMDAiLDU1MDoiOTgweDQ4MCIsNTUyOiIzMDB4MjAwIiw1NTg6IjY0MHg2NDAifTtuLl9lYWNoKGgsKGZ1bmN0aW9uKGUscil7cmV0dXJuIGhbZV09cn0pKTt2YXIgXz17Y29kZToicnViaWNvbiIsZ3ZsaWQ6NTIsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iLGEuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIm9iamVjdCIhPT1iKGUucGFyYW1zKSlyZXR1cm4hMTtmb3IodmFyIHI9MCx0PVsiYWNjb3VudElkIiwic2l0ZUlkIiwiem9uZUlkIl07cjx0Lmxlbmd0aDtyKyspaWYoZS5wYXJhbXNbdFtyXV09cGFyc2VJbnQoZS5wYXJhbXNbdFtyXV0pLGlzTmFOKGUucGFyYW1zW3Rbcl1dKSlyZXR1cm4gbi5sb2dFcnJvcigiUnViaWNvbjogd3JvbmcgZm9ybWF0IG9mIGFjY291bnRJZCBvciBzaXRlSWQgb3Igem9uZUlkLiIpLCExO3ZhciBpPXcoZSwhMCk7cmV0dXJuISFpJiYoInZpZGVvIiE9PWl8fEUoZSkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10saT1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuInZpZGVvIj09PXcoZSl9KSkubWFwKChmdW5jdGlvbihlKXtlLnN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKTt2YXIgdD17aWQ6ZS50cmFuc2FjdGlvbklkLHRlc3Q6by5iLmdldENvbmZpZygiZGVidWciKT8xOjAsY3VyOlsiVVNEIl0sc291cmNlOnt0aWQ6ZS50cmFuc2FjdGlvbklkfSx0bWF4OnIudGltZW91dCxpbXA6W3tleHA6by5iLmdldENvbmZpZygiczJzQ29uZmlnLmRlZmF1bHRUdGwiKSxpZDplLmFkVW5pdENvZGUsc2VjdXJlOjEsZXh0OnYoe30sZS5iaWRkZXIsZS5wYXJhbXMpLHZpZGVvOm4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIil8fHt9fV0sZXh0OntwcmViaWQ6e2NoYW5uZWw6e25hbWU6InBianMiLHZlcnNpb246dXBianMudmVyc2lvbn0sY2FjaGU6e3Zhc3R4bWw6e3JldHVybkNyZWF0aXZlOiEwPT09eC5yZXR1cm5WYXN0fX0sdGFyZ2V0aW5nOntpbmNsdWRld2lubmVyczohMCxpbmNsdWRlYmlkZGVya2V5czohMSxwcmljZWdyYW51bGFyaXR5OlQoby5iKX0sYmlkZGVyczp7cnViaWNvbjp7aW50ZWdyYXRpb246eC5pbnRfdHlwZXx8InBianMifX19fX07InJ1Ymljb24iIT09ZS5iaWRkZXImJih0LmV4dC5wcmViaWQuYWxpYXNlcz12KHt9LGUuYmlkZGVyLCJydWJpY29uIikpO3ZhciBpLHMsYz1PYmplY3QodS5hKSgpLmluc3RhbGxlZE1vZHVsZXM7aWYoIWN8fGMubGVuZ3RoJiYtMT09PWMuaW5kZXhPZigicnViaWNvbkFuYWx5dGljc0FkYXB0ZXIiKXx8bi5kZWVwU2V0VmFsdWUodCwiZXh0LnByZWJpZC5hbmFseXRpY3MiLHtydWJpY29uOnsiY2xpZW50LWFuYWx5dGljcyI6ITB9fSksImZ1bmN0aW9uIiE9dHlwZW9mIGUuZ2V0Rmxvb3J8fHguZGlzYWJsZUZsb29ycylpPXBhcnNlRmxvYXQobi5kZWVwQWNjZXNzKGUsInBhcmFtcy5mbG9vciIpKTtlbHNle3ZhciBkO3RyeXtkPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToidmlkZW8iLHNpemU6UyhlLCJ2aWRlbyIpfSl9Y2F0Y2goZSl7bi5sb2dFcnJvcigiUnViaWNvbjogZ2V0Rmxvb3IgdGhyZXcgYW4gZXJyb3I6ICIsZSl9aT0ib2JqZWN0IiE9PWIoZCl8fCJVU0QiIT09ZC5jdXJyZW5jeXx8aXNOYU4ocGFyc2VJbnQoZC5mbG9vcikpP3ZvaWQgMDpwYXJzZUZsb2F0KGQuZmxvb3IpfShpc05hTihpKXx8KHQuaW1wWzBdLmJpZGZsb29yPWkpLHQuaW1wWzBdLmV4dFtlLmJpZGRlcl0udmlkZW8uc2l6ZV9pZD16KGUpLGZ1bmN0aW9uKGUscix0KXtpZighZSlyZXR1cm47Im9iamVjdCI9PT1iKG8uYi5nZXRDb25maWcoImFwcCIpKT9lLmFwcD1vLmIuZ2V0Q29uZmlnKCJhcHAiKTplLnNpdGU9e3BhZ2U6QShyLHQpfTsib2JqZWN0Ij09PWIoby5iLmdldENvbmZpZygiZGV2aWNlIikpJiYoZS5kZXZpY2U9by5iLmdldENvbmZpZygiZGV2aWNlIikpO3IucGFyYW1zLnZpZGVvLmxhbmd1YWdlJiZbInNpdGUiLCJkZXZpY2UiXS5mb3JFYWNoKChmdW5jdGlvbih0KXtlW3RdJiYoZVt0XS5jb250ZW50PWYoe2xhbmd1YWdlOnIucGFyYW1zLnZpZGVvLmxhbmd1YWdlfSxlW3RdLmNvbnRlbnQpKX0pKX0odCxlLHIpLGZ1bmN0aW9uKGUscil7Im9iamVjdCI9PT1iKGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8uc2tpcCYmKGUuaW1wWzBdLnZpZGVvLnNraXA9ci5wYXJhbXMudmlkZW8uc2tpcCk7Im9iamVjdCI9PT1iKGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8uc2tpcGFmdGVyJiYoZS5pbXBbMF0udmlkZW8uc2tpcGFmdGVyPXIucGFyYW1zLnZpZGVvLnNraXBkZWxheSk7Im9iamVjdCI9PT1iKGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8ucG9zJiYoImF0ZiI9PT1yLnBhcmFtcy5wb3NpdGlvbj9lLmltcFswXS52aWRlby5wb3M9MToiYnRmIj09PXIucGFyYW1zLnBvc2l0aW9uJiYoZS5pbXBbMF0udmlkZW8ucG9zPTMpKTt2YXIgdD1TKHIsInZpZGVvIik7ZS5pbXBbMF0udmlkZW8udz10WzBdLGUuaW1wWzBdLnZpZGVvLmg9dFsxXX0odCxlKSxyLmdkcHJDb25zZW50KSYmKCJib29sZWFuIj09dHlwZW9mIHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihzPXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSxuLmRlZXBTZXRWYWx1ZSh0LCJyZWdzLmV4dC5nZHByIixzKSxuLmRlZXBTZXRWYWx1ZSh0LCJ1c2VyLmV4dC5jb25zZW50IixyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKTtyLnVzcENvbnNlbnQmJm4uZGVlcFNldFZhbHVlKHQsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCk7dmFyIHA9bi5kZWVwQWNjZXNzKHIsImJpZHMuMC51c2VySWRBc0VpZHMiKTtwJiZwLmxlbmd0aCYmbi5kZWVwU2V0VmFsdWUodCwidXNlci5leHQuZWlkcyIscCk7dmFyIGw9by5iLmdldENvbmZpZygidXNlci5pZCIpO2wmJm4uZGVlcFNldFZhbHVlKHQsInVzZXIuaWQiLGwpLCEwPT09by5iLmdldENvbmZpZygiY29wcGEiKSYmbi5kZWVwU2V0VmFsdWUodCwicmVncy5jb3BwYSIsMSksZS5zY2hhaW4mJlUoZS5zY2hhaW4pJiZuLmRlZXBTZXRWYWx1ZSh0LCJzb3VyY2UuZXh0LnNjaGFpbiIsZS5zY2hhaW4pO3ZhciBtPW8uYi5nZXRDb25maWcoIm11bHRpYmlkIik7cmV0dXJuIG0mJm4uZGVlcFNldFZhbHVlKHQsImV4dC5wcmViaWQubXVsdGliaWQiLG0ucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2UudG9Mb3dlckNhc2UoKV09cltlXX0pKSxlLnB1c2godCksZX0pLFtdKSksQyhlLGEuZCx0KSxlLnN0b3JlZEF1Y3Rpb25SZXNwb25zZSYmbi5kZWVwU2V0VmFsdWUodC5pbXBbMF0sImV4dC5wcmViaWQuc3RvcmVkYXVjdGlvbnJlc3BvbnNlLmlkIixlLnN0b3JlZEF1Y3Rpb25SZXNwb25zZS50b1N0cmluZygpKSxuLmRlZXBTZXRWYWx1ZSh0LmltcFswXSwiZXh0LnByZWJpZC5hdWN0aW9udGltZXN0YW1wIixyLmF1Y3Rpb25TdGFydCkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovLyIuY29uY2F0KHgudmlkZW9Ib3N0fHwicHJlYmlkLXNlcnZlciIsIi5ydWJpY29ucHJvamVjdC5jb20vb3BlbnJ0YjIvYXVjdGlvbiIpLGRhdGE6dCxiaWRSZXF1ZXN0OmV9fSkpO2lmKCEwIT09eC5zaW5nbGVSZXF1ZXN0KXQ9aS5jb25jYXQoZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiPT09dyhlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PV8uY3JlYXRlU2xvdFBhcmFtcyhlLHIpO3JldHVybnttZXRob2Q6IkdFVCIsdXJsOiJodHRwczovLyIuY29uY2F0KHguYmFubmVySG9zdHx8ImZhc3RsYW5lIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS9hL2FwaS9mYXN0bGFuZS5qc29uIiksZGF0YTpfLmdldE9yZGVyZWRQYXJhbXModCkucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciBpPXRbcl07cmV0dXJuIG4uaXNTdHIoaSkmJiIiIT09aXx8bi5pc051bWJlcihpKT8iIi5jb25jYXQoZSkuY29uY2F0KFAocixpKSwiJiIpOmV9KSwiIikrInNsb3RzPTEmcmFuZD0iLmNvbmNhdChNYXRoLnJhbmRvbSgpKSxiaWRSZXF1ZXN0OmV9fSkpKTtlbHNle3ZhciBzPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIj09PXcoZSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybihlW3IucGFyYW1zLnNpdGVJZF09ZVtyLnBhcmFtcy5zaXRlSWRdfHxbXSkucHVzaChyKSxlfSkse30pO3Q9aS5jb25jYXQoT2JqZWN0LmtleXMocykucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBpLG87cmV0dXJuKGk9c1t0XSxvPTEwLGkubWFwKChmdW5jdGlvbihlLHIpe3JldHVybiByJW89PTA/aS5zbGljZShyLHIrbyk6bnVsbH0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgaT1fLmNvbWJpbmVTbG90VXJsUGFyYW1zKHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gXy5jcmVhdGVTbG90UGFyYW1zKGUscil9KSkpO2UucHVzaCh7bWV0aG9kOiJHRVQiLHVybDoiaHR0cHM6Ly8iLmNvbmNhdCh4LmJhbm5lckhvc3R8fCJmYXN0bGFuZSIsIi5ydWJpY29ucHJvamVjdC5jb20vYS9hcGkvZmFzdGxhbmUuanNvbiIpLGRhdGE6Xy5nZXRPcmRlcmVkUGFyYW1zKGkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgdD1pW3JdO3JldHVybiBuLmlzU3RyKHQpJiYiIiE9PXR8fG4uaXNOdW1iZXIodCk/IiIuY29uY2F0KGUpLmNvbmNhdChQKHIsdCksIiYiKTplfSksIiIpKyJzbG90cz0iLmNvbmNhdCh0Lmxlbmd0aCwiJnJhbmQ9IikuY29uY2F0KE1hdGgucmFuZG9tKCkpLGJpZFJlcXVlc3Q6dH0pfSkpLGV9KSxbXSkpfXJldHVybiB0fSxnZXRPcmRlcmVkUGFyYW1zOmZ1bmN0aW9uKGUpe3ZhciByPS9edGdfdi8sdD0vXnRnX2kvLG49L15laWRffF50cGlkXy8saT1bImFjY291bnRfaWQiLCJzaXRlX2lkIiwiem9uZV9pZCIsInNpemVfaWQiLCJhbHRfc2l6ZV9pZHMiLCJwX3BvcyIsImdkcHIiLCJnZHByX2NvbnNlbnQiLCJ1c19wcml2YWN5IiwicnBfc2NoYWluIl0uY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG4udGVzdChlKX0pKSkuY29uY2F0KFsieF9saXZlcmFtcGlkbCIsInBwdWlkIiwicmYiLCJwX2dlby5sYXRpdHVkZSIsInBfZ2VvLmxvbmdpdHVkZSIsImt3Il0pLmNvbmNhdChPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiByLnRlc3QoZSl9KSkpLmNvbmNhdChPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnRlc3QoZSl9KSkpLmNvbmNhdChbInRrX2ZsaW50IiwieF9zb3VyY2UudGlkIiwieF9zb3VyY2UucGNoYWluIiwicF9zY3JlZW5fcmVzIiwicnBfZmxvb3IiLCJycF9zZWN1cmUiLCJ0a191c2VyX2tleSJdKTtyZXR1cm4gaS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PWkuaW5kZXhPZihlKX0pKSl9LGNvbWJpbmVTbG90VXJsUGFyYW1zOmZ1bmN0aW9uKGUpe2lmKDE9PT1lLmxlbmd0aClyZXR1cm4gZVswXTt2YXIgcj1lLnJlZHVjZSgoZnVuY3Rpb24ocix0LG4pe3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihpKXtyLmhhc093blByb3BlcnR5KGkpfHwocltpXT1uZXcgQXJyYXkoZS5sZW5ndGgpKSxyW2ldLnNwbGljZShuLDEsdFtpXSl9KSkscn0pLHt9KSx0PW5ldyBSZWdFeHAoIl4oW147XSopKDtcXDEpKyQiKTtyZXR1cm4gT2JqZWN0LmtleXMocikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49cltlXS5qb2luKCI7IiksaT1uLm1hdGNoKHQpO3JbZV09aT9pWzFdOm59KSkscn0sY3JlYXRlU2xvdFBhcmFtczpmdW5jdGlvbihlLHIpe2Uuc3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3ZhciB0PWUucGFyYW1zLGk9UyhlLCJiYW5uZXIiKSxzPW0odC5sYXRMb25nfHxbXSwyKSxkPXNbMF0sdT1zWzFdLHA9e2FjY291bnRfaWQ6dC5hY2NvdW50SWQsc2l0ZV9pZDp0LnNpdGVJZCx6b25lX2lkOnQuem9uZUlkLHNpemVfaWQ6aVswXSxhbHRfc2l6ZV9pZHM6aS5zbGljZSgxKS5qb2luKCIsIil8fHZvaWQgMCxycF9mbG9vcjoodC5mbG9vcj1wYXJzZUZsb2F0KHQuZmxvb3IpKT49LjAxP3QuZmxvb3I6dm9pZCAwLHJwX3NlY3VyZToiMSIsdGtfZmxpbnQ6IiIuY29uY2F0KHguaW50X3R5cGV8fCJwYmpzX2xpdGUiLCJfdjUuMTEuMCIpLCJ4X3NvdXJjZS50aWQiOmUudHJhbnNhY3Rpb25JZCwieF9zb3VyY2UucGNoYWluIjp0LnBjaGFpbixwX3NjcmVlbl9yZXM6W3dpbmRvdy5zY3JlZW4ud2lkdGgsd2luZG93LnNjcmVlbi5oZWlnaHRdLmpvaW4oIngiKSx0a191c2VyX2tleTp0LnVzZXJJZCwicF9nZW8ubGF0aXR1ZGUiOmlzTmFOKHBhcnNlRmxvYXQoZCkpP3ZvaWQgMDpwYXJzZUZsb2F0KGQpLnRvRml4ZWQoNCksInBfZ2VvLmxvbmdpdHVkZSI6aXNOYU4ocGFyc2VGbG9hdCh1KSk/dm9pZCAwOnBhcnNlRmxvYXQodSkudG9GaXhlZCg0KSwidGdfZmwuZWlkIjplLmNvZGUscmY6QShlLHIpfTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vciYmIXguZGlzYWJsZUZsb29ycyl7dmFyIGw7dHJ5e2w9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiJiYW5uZXIiLHNpemU6IioifSl9Y2F0Y2goZSl7bi5sb2dFcnJvcigiUnViaWNvbjogZ2V0Rmxvb3IgdGhyZXcgYW4gZXJyb3I6ICIsZSl9cC5ycF9oYXJkX2Zsb29yPSJvYmplY3QiIT09YihsKXx8IlVTRCIhPT1sLmN1cnJlbmN5fHxpc05hTihwYXJzZUludChsLmZsb29yKSk/dm9pZCAwOmwuZmxvb3J9dmFyIGY9ezE6ImF0ZiIsMzoiYnRmIn1bbi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnBvcyIpXXx8IiI7cC5wX3Bvcz0iYXRmIj09PXQucG9zaXRpb258fCJidGYiPT09dC5wb3NpdGlvbj90LnBvc2l0aW9uOmY7dmFyIGc9by5iLmdldENvbmZpZygidXNlci5pZCIpO3JldHVybiBnJiYocC5wcHVpZD1nKSxlLnVzZXJJZEFzRWlkcyYmZS51c2VySWRBc0VpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dHJ5e2lmKCJhZHNlcnZlci5vcmciPT09ZS5zb3VyY2U/KHAudHBpZF90ZGlkPWUudWlkc1swXS5pZCxwWyJlaWRfYWRzZXJ2ZXIub3JnIl09ZS51aWRzWzBdLmlkKToibGl2ZWludGVudC5jb20iPT09ZS5zb3VyY2U/KHBbInRwaWRfbGl2ZWludGVudC5jb20iXT1lLnVpZHNbMF0uaWQscFsiZWlkX2xpdmVpbnRlbnQuY29tIl09ZS51aWRzWzBdLmlkLGUuZXh0JiZBcnJheS5pc0FycmF5KGUuZXh0LnNlZ21lbnRzKSYmZS5leHQuc2VnbWVudHMubGVuZ3RoJiYocFsidGdfdi5MSXNlZyJdPWUuZXh0LnNlZ21lbnRzLmpvaW4oIiwiKSkpOiJsaXZlcmFtcC5jb20iPT09ZS5zb3VyY2U/cC54X2xpdmVyYW1waWRsPWUudWlkc1swXS5pZDoiaWQ1LXN5bmMuY29tIj09PWUuc291cmNlP3BbImVpZF9pZDUtc3luYy5jb20iXT0iIi5jb25jYXQoZS51aWRzWzBdLmlkLCJeIikuY29uY2F0KGUudWlkc1swXS5hdHlwZSwiXiIpLmNvbmNhdChlLnVpZHNbMF0uZXh0JiZlLnVpZHNbMF0uZXh0LmxpbmtUeXBlfHwiIik6cFsiZWlkXyIuY29uY2F0KGUuc291cmNlKV09IiIuY29uY2F0KGUudWlkc1swXS5pZCwiXiIpLmNvbmNhdChlLnVpZHNbMF0uYXR5cGV8fCIiKSwhcC5wcHVpZCl7dmFyIHI9YygpKGUudWlkcywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXh0JiYicHB1aWQiPT09ZS5leHQuc3R5cGV9KSk7ciYmci5pZCYmKHAucHB1aWQ9ci5pZCl9fWNhdGNoKHIpe24ubG9nV2FybigiUnViaWNvbjogZXJyb3IgcmVhZGluZyBlaWQ6IixlLHIpfX0pKSxyLmdkcHJDb25zZW50JiYoImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHAuZ2Rwcj1OdW1iZXIoci5nZHByQ29uc2VudC5nZHByQXBwbGllcykpLHAuZ2Rwcl9jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksci51c3BDb25zZW50JiYocC51c19wcml2YWN5PWVuY29kZVVSSUNvbXBvbmVudChyLnVzcENvbnNlbnQpKSxwLnJwX21heGJpZHM9ci5iaWRMaW1pdHx8MSxDKGUsYS5iLHApLCEwPT09by5iLmdldENvbmZpZygiY29wcGEiKSYmKHAuY29wcGE9MSksZS5zY2hhaW4mJlUoZS5zY2hhaW4pJiYocC5ycF9zY2hhaW49Xy5zZXJpYWxpemVTdXBwbHlDaGFpbihlLnNjaGFpbikpLHB9LHNlcmlhbGl6ZVN1cHBseUNoYWluOmZ1bmN0aW9uKGUpe2lmKCFVKGUpKXJldHVybiIiO3ZhciByPWUudmVyLHQ9ZS5jb21wbGV0ZSxuPWUubm9kZXM7cmV0dXJuIiIuY29uY2F0KHIsIiwiKS5jb25jYXQodCwiISIpLmNvbmNhdChfLnNlcmlhbGl6ZVN1cHBseUNoYWluTm9kZXMobikpfSxzZXJpYWxpemVTdXBwbHlDaGFpbk5vZGVzOmZ1bmN0aW9uKGUpe3ZhciByPVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIl07cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gci5tYXAoKGZ1bmN0aW9uKHIpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZVtyXXx8IiIpfSkpLmpvaW4oIiwiKX0pKS5qb2luKCIhIil9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9ci5iaWRSZXF1ZXN0O2lmKCEoZT1lLmJvZHkpfHwib2JqZWN0IiE9PWIoZSkpcmV0dXJuW107aWYoZS5zZWF0YmlkKXt2YXIgaT1uLmRlZXBBY2Nlc3MoZSwiZXh0LmVycm9ycy5ydWJpY29uIik7QXJyYXkuaXNBcnJheShpKSYmaS5sZW5ndGg+MCYmbi5sb2dXYXJuKCJSdWJpY29uOiBFcnJvciBpbiB2aWRlbyByZXNwb25zZSIpO3ZhciBvPVtdO3JldHVybiBlLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24ocil7KHIuYmlkfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dmFyIHM9e3JlcXVlc3RJZDp0LmJpZElkLGN1cnJlbmN5OmUuY3VyfHwiVVNEIixjcmVhdGl2ZUlkOmkuY3JpZCxjcG06aS5wcmljZXx8MCxiaWRkZXJDb2RlOnIuc2VhdCx0dGw6MzAwLG5ldFJldmVudWU6ITEhPT14Lm5ldFJldmVudWUsd2lkdGg6aS53fHxuLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy52aWRlby53Iil8fG4uZGVlcEFjY2Vzcyh0LCJwYXJhbXMudmlkZW8ucGxheWVyV2lkdGgiKSxoZWlnaHQ6aS5ofHxuLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy52aWRlby5oIil8fG4uZGVlcEFjY2Vzcyh0LCJwYXJhbXMudmlkZW8ucGxheWVySGVpZ2h0Iil9O2kuaWQmJihzLnNlYXRCaWRJZD1pLmlkKSxpLmRlYWxpZCYmKHMuZGVhbElkPWkuZGVhbGlkKSxpLmFkb21haW4mJm4uZGVlcFNldFZhbHVlKHMsIm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnMiLEFycmF5LmlzQXJyYXkoaS5hZG9tYWluKT9pLmFkb21haW46W2kuYWRvbWFpbl0pLG4uZGVlcEFjY2VzcyhpLCJleHQuYmlkZGVyLnJwLmFkdmlkIikmJm4uZGVlcFNldFZhbHVlKHMsIm1ldGEuYWR2ZXJ0aXNlcklkIixpLmV4dC5iaWRkZXIucnAuYWR2aWQpO3ZhciBjPW4uZGVlcEFjY2VzcyhlLCJleHQucmVzcG9uc2V0aW1lbWlsbGlzLnJ1Ymljb24iKTtpZih0JiZjJiYodC5zZXJ2ZXJSZXNwb25zZVRpbWVNcz1jKSxuLmRlZXBBY2Nlc3MoaSwiZXh0LnByZWJpZC50eXBlIik9PT1hLmQpe3MubWVkaWFUeXBlPWEuZCxuLmRlZXBTZXRWYWx1ZShzLCJtZXRhLm1lZGlhVHlwZSIsYS5kKTt2YXIgdT1uLmRlZXBBY2Nlc3MoaSwiZXh0LnByZWJpZC50YXJnZXRpbmciKTt1JiYib2JqZWN0Ij09PWIodSkmJihzLmFkc2VydmVyVGFyZ2V0aW5nPXUpLGkuZXh0LnByZWJpZC5jYWNoZSYmIm9iamVjdCI9PT1iKGkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sKSYmaS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwuY2FjaGVJZCYmaS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwudXJsPyhzLnZpZGVvQ2FjaGVLZXk9aS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwuY2FjaGVJZCxzLnZhc3RVcmw9aS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwudXJsKTp1JiZ1LmhiX3V1aWQmJnUuaGJfY2FjaGVfaG9zdCYmdS5oYl9jYWNoZV9wYXRoJiYocy52aWRlb0NhY2hlS2V5PXUuaGJfdXVpZCxzLnZhc3RVcmw9Imh0dHBzOi8vIi5jb25jYXQodS5oYl9jYWNoZV9ob3N0KS5jb25jYXQodS5oYl9jYWNoZV9wYXRoLCI/dXVpZD0iKS5jb25jYXQodS5oYl91dWlkKSksaS5hZG0mJihzLnZhc3RYbWw9aS5hZG0pLGkubnVybCYmKHMudmFzdFVybD1pLm51cmwpLCFzLnZhc3RVcmwmJmkubnVybCYmKHMudmFzdFVybD1pLm51cmwpLCJvdXRzdHJlYW0iPT09bi5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpLnRvTG93ZXJDYXNlKCkmJihzLnJlbmRlcmVyPWZ1bmN0aW9uKGUpe3ZhciByPWQuYS5pbnN0YWxsKHtpZDplLmFkSWQsdXJsOngucmVuZGVyZXJVcmx8fHksY29uZmlnOngucmVuZGVyZXJDb25maWd8fHt9LGxvYWRlZDohMSxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pO3RyeXtyLnNldFJlbmRlcihqKX1jYXRjaChlKXtuLmxvZ1dhcm4oIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIHJ9KHMpKX1lbHNlIG4ubG9nV2FybigiUnViaWNvbjogdmlkZW8gcmVzcG9uc2UgcmVjZWl2ZWQgbm9uLXZpZGVvIG1lZGlhIHR5cGUiKTtvLnB1c2gocyl9KSl9KSksb312YXIgcyxjPWUuYWRzLHU9MDtyZXR1cm4ib2JqZWN0IiE9PWIodCl8fEFycmF5LmlzQXJyYXkodCl8fCJ2aWRlbyIhPT13KHQpfHwib2JqZWN0IiE9PWIoYyl8fChjPWNbdC5hZFVuaXRDb2RlXSksIUFycmF5LmlzQXJyYXkoYyl8fGMubGVuZ3RoPDE/W106Yy5yZWR1Y2UoKGZ1bmN0aW9uKHIsaSxvKXtpZihpLmltcHJlc3Npb25faWQmJnM9PT1pLmltcHJlc3Npb25faWQ/dSsrOnM9aS5pbXByZXNzaW9uX2lkLCJvayIhPT1pLnN0YXR1cylyZXR1cm4gcjt2YXIgYyxkLHA9QXJyYXkuaXNBcnJheSh0KT90W28tdV06dDtpZihwJiYib2JqZWN0Ij09PWIocCkpe3ZhciBsPXtyZXF1ZXN0SWQ6cC5iaWRJZCxjdXJyZW5jeToiVVNEIixjcmVhdGl2ZUlkOmkuY3JlYXRpdmVfaWR8fCIiLmNvbmNhdChpLm5ldHdvcmt8fCIiLCItIikuY29uY2F0KGkuYWR2ZXJ0aXNlcnx8IiIpLGNwbTppLmNwbXx8MCxkZWFsSWQ6aS5kZWFsLHR0bDozMDAsbmV0UmV2ZW51ZTohMSE9PXgubmV0UmV2ZW51ZSxydWJpY29uOnthZHZlcnRpc2VySWQ6aS5hZHZlcnRpc2VyLG5ldHdvcmtJZDppLm5ldHdvcmt9LG1ldGE6e2FkdmVydGlzZXJJZDppLmFkdmVydGlzZXIsbmV0d29ya0lkOmkubmV0d29yayxtZWRpYVR5cGU6YS5ifX07aWYoaS5jcmVhdGl2ZV90eXBlJiYobC5tZWRpYVR5cGU9aS5jcmVhdGl2ZV90eXBlKSxpLmFkb21haW4mJihsLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9QXJyYXkuaXNBcnJheShpLmFkb21haW4pP2kuYWRvbWFpbjpbaS5hZG9tYWluXSksaS5jcmVhdGl2ZV90eXBlPT09YS5kKWwud2lkdGg9cC5wYXJhbXMudmlkZW8ucGxheWVyV2lkdGgsbC5oZWlnaHQ9cC5wYXJhbXMudmlkZW8ucGxheWVySGVpZ2h0LGwudmFzdFVybD1pLmNyZWF0aXZlX2RlcG90X3VybCxsLmltcHJlc3Npb25faWQ9aS5pbXByZXNzaW9uX2lkLGwudmlkZW9DYWNoZUtleT1pLmltcHJlc3Npb25faWQ7ZWxzZXtsLmFkPShjPWkuc2NyaXB0LGQ9aS5pbXByZXNzaW9uX2lkLCI8aHRtbD5cbjxoZWFkPjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz5pbkRhcElGPXRydWU7PFwvc2NyaXB0PjwvaGVhZD5cbjxib2R5IHN0eWxlPSdtYXJnaW4gOiAwOyBwYWRkaW5nOiAwOyc+XG5ceDNjIS0tIFJ1Ymljb24gUHJvamVjdCBBZCBUYWcgLS1ceDNlXG48ZGl2IGRhdGEtcnAtaW1wcmVzc2lvbi1pZD0nIi5jb25jYXQoZCwiJz5cbjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz4iKS5jb25jYXQoYywiPFwvc2NyaXB0PlxuPC9kaXY+XG48L2JvZHk+XG48L2h0bWw+IikpO3ZhciBmPW0oaFtpLnNpemVfaWRdLnNwbGl0KCJ4IikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyKGUpfSkpLDIpO2wud2lkdGg9ZlswXSxsLmhlaWdodD1mWzFdfWwucnViaWNvblRhcmdldGluZz0oQXJyYXkuaXNBcnJheShpLnRhcmdldGluZyk/aS50YXJnZXRpbmc6W10pLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZVtyLmtleV09ci52YWx1ZXNbMF0sZX0pLHtycGZsX2VsZW1pZDpwLmFkVW5pdENvZGV9KSxyLnB1c2gobCl9ZWxzZSBuLmxvZ0Vycm9yKCJSdWJpY29uOiBiaWRSZXF1ZXN0IHVuZGVmaW5lZCBhdCBpbmRleCBwb3NpdGlvbjoiLmNvbmNhdChvKSx0LGUpO3JldHVybiByfSksW10pLnNvcnQoKGZ1bmN0aW9uKGUscil7cmV0dXJuKHIuY3BtfHwwKS0oZS5jcG18fDApfSkpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsbil7aWYoIU4mJmUuaWZyYW1lRW5hYmxlZCl7dmFyIGk9IiI7cmV0dXJuIHQmJiJzdHJpbmciPT10eXBlb2YgdC5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2YgdC5nZHByQXBwbGllcz9pKz0iP2dkcHI9Ii5jb25jYXQoTnVtYmVyKHQuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdCh0LmNvbnNlbnRTdHJpbmcpOmkrPSI/Z2Rwcl9jb25zZW50PSIuY29uY2F0KHQuY29uc2VudFN0cmluZykpLG4mJihpKz0iIi5jb25jYXQoaT8iJiI6Ij8iLCJ1c19wcml2YWN5PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobikpKSxOPSEwLHt0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly8iLmNvbmNhdCh4LnN5bmNIb3N0fHwiZXVzIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS91c3luYy5odG1sIikraX19fSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbi5jb252ZXJ0VHlwZXMoe2FjY291bnRJZDoibnVtYmVyIixzaXRlSWQ6Im51bWJlciIsem9uZUlkOiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIEEoZSxyKXt2YXIgdD1vLmIuZ2V0Q29uZmlnKCJwYWdlVXJsIik7cmV0dXJuIGUucGFyYW1zLnJlZmVycmVyP3Q9ZS5wYXJhbXMucmVmZXJyZXI6dHx8KHQ9ci5yZWZlcmVySW5mby5yZWZlcmVyKSxlLnBhcmFtcy5zZWN1cmU/dC5yZXBsYWNlKC9eaHR0cDovaSwiaHR0cHM6Iik6dH1mdW5jdGlvbiBqKGUpe3ZhciByLHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5hZFVuaXRDb2RlKTsocj10LnF1ZXJ5U2VsZWN0b3IoImRpdltpZF49J2dvb2dsZV9hZHMnXSIpKSYmci5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsIm5vbmUiKSxmdW5jdGlvbihlKXt2YXIgcj1lLnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtpZF49J3Nhc19zY3JpcHQnXSIpLHQ9ciYmci5uZXh0U2libGluZzt0JiYiaWZyYW1lIj09PXQubG9jYWxOYW1lJiZ0LnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5Iiwibm9uZSIpfSh0KTt2YXIgbj1lLnJlbmRlcmVyLmdldENvbmZpZygpO2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cuTWFnbml0ZUFwZXgucmVuZGVyQWQoe3dpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LHZhc3RVcmw6ZS52YXN0VXJsLHBsYWNlbWVudDp7YXR0YWNoVG86IiMiLmNvbmNhdChlLmFkVW5pdENvZGUpLGFsaWduOm4uYWxpZ258fCJjZW50ZXIiLHBvc2l0aW9uOm4ucG9zaXRpb258fCJhcHBlbmQifSxjbG9zZUJ1dHRvbjpuLmNsb3NlQnV0dG9ufHwhMSxsYWJlbDpuLmxhYmVsfHx2b2lkIDAsY29sbGFwc2U6bi5jb2xsYXBzZXx8ITB9KX0pKX1mdW5jdGlvbiBTKGUscil7dmFyIHQ9ZS5wYXJhbXM7aWYoInZpZGVvIj09PXIpe3ZhciBpPVtdO3JldHVybiB0LnZpZGVvJiZ0LnZpZGVvLnBsYXllcldpZHRoJiZ0LnZpZGVvLnBsYXllckhlaWdodD9pPVt0LnZpZGVvLnBsYXllcldpZHRoLHQudmlkZW8ucGxheWVySGVpZ2h0XTpBcnJheS5pc0FycmF5KG4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSkmJjE9PT1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZS5sZW5ndGg/aT1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXTpBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiZlLnNpemVzLmxlbmd0aD4wJiZBcnJheS5pc0FycmF5KGUuc2l6ZXNbMF0pJiZlLnNpemVzWzBdLmxlbmd0aD4xJiYoaT1lLnNpemVzWzBdKSxpfXZhciBvPVtdO3JldHVybiBBcnJheS5pc0FycmF5KHQuc2l6ZXMpP289dC5zaXplczp2b2lkIDAhPT1uLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKT9vPUkoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk6QXJyYXkuaXNBcnJheShlLnNpemVzKSYmZS5zaXplcy5sZW5ndGg+MD9vPUkoZS5zaXplcyk6bi5sb2dXYXJuKCJSdWJpY29uOiBubyBzaXplcyBhcmUgc2V0dXAgb3IgZm91bmQiKSxSKG8pfWZ1bmN0aW9uIEMoZSxyLHQpe3ZhciBpPXt1c2VyOntleHQ6e2RhdGE6bCh7fSxlLnBhcmFtcy52aXNpdG9yKX19LHNpdGU6e2V4dDp7ZGF0YTpsKHt9LGUucGFyYW1zLmludmVudG9yeSl9fX07ZS5wYXJhbXMua2V5d29yZHMmJihpLnNpdGUua2V5d29yZHM9bi5pc0FycmF5KGUucGFyYW1zLmtleXdvcmRzKT9lLnBhcmFtcy5rZXl3b3Jkcy5qb2luKCIsIik6ZS5wYXJhbXMua2V5d29yZHMpO3ZhciBzPW4ubWVyZ2VEZWVwKHt9LG8uYi5nZXRDb25maWcoIm9ydGIyIil8fHt9LGkpLGM9bi5kZWVwQWNjZXNzKGUub3J0YjJJbXAsImV4dC5kYXRhIil8fHt9LGQ9e3VzZXI6WzRdLHNpdGU6WzEsMiw1LDZdfSx1PXt1c2VyOiJ0Z192LiIsc2l0ZToidGdfaS4iLGFkc2VydmVyOiJ0Z19pLmRmcF9hZF91bml0X2NvZGUiLHBiYWRzbG90OiJ0Z19pLnBiYWRzbG90IixrZXl3b3Jkczoia3cifSxwPWZ1bmN0aW9uKGUscix0KXtpZigiZGF0YSI9PT1yJiZBcnJheS5pc0FycmF5KGUpKXJldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2VnbWVudCYmbi5kZWVwQWNjZXNzKGUsImV4dC5zZWd0YXgiKSYmZFt0XSYmLTEhPT1kW3RdLmluZGV4T2Yobi5kZWVwQWNjZXNzKGUsImV4dC5zZWd0YXgiKSl9KSkubWFwKChmdW5jdGlvbihlKXt2YXIgcj1lLnNlZ21lbnQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGUucHVzaChyLmlkKSxlfSksW10pO2lmKHIubGVuZ3RoPjApcmV0dXJuIHIudG9TdHJpbmcoKX0pKS50b1N0cmluZygpO2lmKCJvYmplY3QiIT09YihlKXx8QXJyYXkuaXNBcnJheShlKSl7aWYodm9pZCAwIT09ZSlyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLmZpbHRlcigoZnVuY3Rpb24oZSl7aWYoIm9iamVjdCIhPT1iKGUpJiZ2b2lkIDAhPT1lKXJldHVybiBlLnRvU3RyaW5nKCk7bi5sb2dXYXJuKCJSdWJpY29uOiBGaWx0ZXJlZCB2YWx1ZTogIixlLCJmb3Iga2V5IixyLCI6IEV4cGVjdGVkIHZhbHVlIHRvIGJlIHN0cmluZywgaW50ZWdlciwgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncy9pbnRzIil9KSkudG9TdHJpbmcoKTplLnRvU3RyaW5nKCl9ZWxzZSBuLmxvZ1dhcm4oIlJ1Ymljb246IEZpbHRlcmVkIEZQRCBrZXk6ICIsciwiOiBFeHBlY3RlZCB2YWx1ZSB0byBiZSBzdHJpbmcsIGludGVnZXIsIG9yIGFuIGFycmF5IG9mIHN0cmluZ3MvaW50cyIpfSxmPWZ1bmN0aW9uKGUscixuKXt2YXIgaT0hKGFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdKXx8YXJndW1lbnRzWzNdLG89cChlLG4sciksYT11W25dJiZpPyIiLmNvbmNhdCh1W25dKToiZGF0YSI9PT1uPyIiLmNvbmNhdCh1W3JdLCJpYWIiKToiIi5jb25jYXQodVtyXSkuY29uY2F0KG4pO3RbYV09dFthXT90W2FdLmNvbmNhdCgiLCIsbyk6b307T2JqZWN0LmtleXMoYykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ImFkc2VydmVyIj09PWU/WyJuYW1lIiwiYWRzbG90Il0uZm9yRWFjaCgoZnVuY3Rpb24ocil7Y1tlXVtyXSYmKGNbZV1bcl09Y1tlXVtyXS50b1N0cmluZygpLnJlcGxhY2UoL15cLysvLCIiKSl9KSk6InBiYWRzbG90Ij09PWUmJihjW2VdPWNbZV0udG9TdHJpbmcoKS5yZXBsYWNlKC9eXC8rLywiIikpfSkpLHI9PT1hLmI/KFsic2l0ZSIsInVzZXIiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhzW2VdKS5mb3JFYWNoKChmdW5jdGlvbihyKXsic2l0ZSI9PT1lJiYiY29udGVudCI9PT1yJiZzW2VdW3JdLmRhdGE/ZihzW2VdW3JdLmRhdGEsZSwiZGF0YSIpOiJleHQiIT09cj9mKHNbZV1bcl0sZSxyKTpzW2VdW3JdLmRhdGEmJk9iamVjdC5rZXlzKHNbZV0uZXh0LmRhdGEpLmZvckVhY2goKGZ1bmN0aW9uKHIpe2Yoc1tlXS5leHQuZGF0YVtyXSxlLHIsITEpfSkpfSkpfSkpLE9iamVjdC5rZXlzKGMpLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJhZHNlcnZlciI9PT1lP2YoY1tlXS5hZHNsb3QsbmFtZSxlKTpmKGNbZV0sInNpdGUiLGUpfSkpKTooT2JqZWN0LmtleXMoYykubGVuZ3RoJiZuLm1lcmdlRGVlcCh0LmltcFswXS5leHQse2RhdGE6Y30pLG4ubWVyZ2VEZWVwKHQscykpfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIG4ucGFyc2VTaXplc0lucHV0KGUpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgdD1wYXJzZUludChoW3JdLDEwKTtyZXR1cm4gdCYmZS5wdXNoKHQpLGV9KSxbXSl9ZnVuY3Rpb24gTyhlKXtyZXR1cm4ib2JqZWN0Ij09PWIobi5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlbyIpKSYmdm9pZCAwIT09bi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYS5kKSl9ZnVuY3Rpb24gdyhlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3JldHVybiBPKGUpPy0xPT09WyJvdXRzdHJlYW0iLCJpbnN0cmVhbSJdLmluZGV4T2Yobi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYS5kLCIuY29udGV4dCIpKSk/dm9pZChyJiZuLmxvZ0Vycm9yKCJSdWJpY29uOiBtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQgbXVzdCBiZSBvdXRzdHJlYW0gb3IgaW5zdHJlYW0iKSk6UyhlLCJ2aWRlbyIpLmxlbmd0aDwyP3ZvaWQociYmbi5sb2dFcnJvcigiUnViaWNvbjogY291bGQgbm90IGRldGVybWluZSB0aGUgcGxheWVyU2l6ZSBvZiB0aGUgdmlkZW8iKSk6KHImJm4ubG9nTWVzc2FnZSgiUnViaWNvbjogbWFraW5nIHZpZGVvIHJlcXVlc3QgZm9yIGFkVW5pdCIsZS5hZFVuaXRDb2RlKSwidmlkZW8iKTowPT09UyhlLCJiYW5uZXIiKS5sZW5ndGg/dm9pZChyJiZuLmxvZ0Vycm9yKCJSdWJpY29uOiBjb3VsZCBub3QgZGV0ZXJtaW5lIHRoZSBzaXplcyBmb3IgYmFubmVyIHJlcXVlc3QiKSk6KHImJm4ubG9nTWVzc2FnZSgiUnViaWNvbjogbWFraW5nIGJhbm5lciByZXF1ZXN0IGZvciBhZFVuaXQiLGUuYWRVbml0Q29kZSksImJhbm5lciIpfXZhciBrPWZ1bmN0aW9uKCl7cmV0dXJuIHg9e319O2Z1bmN0aW9uIFIoZSl7dmFyIHI9WzE1LDIsOV07cmV0dXJuIGUuc29ydCgoZnVuY3Rpb24oZSx0KXt2YXIgbj1yLmluZGV4T2YoZSksaT1yLmluZGV4T2YodCk7cmV0dXJuIG4+LTF8fGk+LTE/LTE9PT1uPzE6LTE9PT1pPy0xOm4taTplLXR9KSl9ZnVuY3Rpb24geihlKXt2YXIgcj1wYXJzZUludChuLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLnNpemVfaWQiKSk7cmV0dXJuIGlzTmFOKHIpPyJvdXRzdHJlYW0iPT09bi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYS5kLCIuY29udGV4dCIpKT8yMDM6MjAxOnJ9ZnVuY3Rpb24gVChlKXtyZXR1cm57cmFuZ2VzOntsb3c6W3ttYXg6NSxpbmNyZW1lbnQ6LjV9XSxtZWRpdW06W3ttYXg6MjAsaW5jcmVtZW50Oi4xfV0saGlnaDpbe21heDoyMCxpbmNyZW1lbnQ6LjAxfV0sYXV0bzpbe21heDo1LGluY3JlbWVudDouMDV9LHttaW46NSxtYXg6MTAsaW5jcmVtZW50Oi4xfSx7bWluOjEwLG1heDoyMCxpbmNyZW1lbnQ6LjV9XSxkZW5zZTpbe21heDozLGluY3JlbWVudDouMDF9LHttaW46MyxtYXg6OCxpbmNyZW1lbnQ6LjA1fSx7bWluOjgsbWF4OjIwLGluY3JlbWVudDouNX1dLGN1c3RvbTplLmdldENvbmZpZygiY3VzdG9tUHJpY2VCdWNrZXQiKSYmZS5nZXRDb25maWcoImN1c3RvbVByaWNlQnVja2V0IikuYnVja2V0c31bZS5nZXRDb25maWcoInByaWNlR3JhbnVsYXJpdHkiKV19fWZ1bmN0aW9uIEUoZSl7dmFyIHI9ITAsdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoW10pLGk9e21pbWVzOnQscHJvdG9jb2xzOnQsbGluZWFyaXR5Ok9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCgwKSxhcGk6dH07cmV0dXJuIE9iamVjdC5rZXlzKGkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby4iK3QpKSE9PWlbdF0mJihyPSExLG4ubG9nRXJyb3IoIlJ1Ymljb246IG1lZGlhVHlwZXMudmlkZW8uIit0KyIgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgb2YgdHlwZTogIitpW3RdKSl9KSkscn1mdW5jdGlvbiBVKGUpe3ZhciByPSExLHQ9WyJhc2kiLCJzaWQiLCJocCJdO3JldHVybiBlLm5vZGVzPygocj1lLm5vZGVzLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZT90LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gci5oYXNPd25Qcm9wZXJ0eShlKX0pKTplfSksITApKXx8bi5sb2dFcnJvcigiUnViaWNvbjogcmVxdWlyZWQgc2NoYWluIHBhcmFtcyBtaXNzaW5nIikscik6cn1mdW5jdGlvbiBQKGUscil7cmV0dXJuInJwX3NjaGFpbiI9PT1lPyJycF9zY2hhaW49Ii5jb25jYXQocik6IiIuY29uY2F0KGUsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHIpKX12YXIgTj0hMTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikoXyl9fSxbNzE5XSk7CnVwYmpzQ2h1bmsoWzEyNF0sezcyNTpmdW5jdGlvbihuLGksZSl7bi5leHBvcnRzPWUoNzI2KX0sNzI2OmZ1bmN0aW9uKG4saSxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGkuaXNTY2hhaW5PYmplY3RWYWxpZD1oLGkuaXNWYWxpZFNjaGFpbkNvbmZpZz11LGkubWFrZUJpZFJlcXVlc3RzSG9vaz1PLGkuaW5pdD1sO3ZhciB0PWUoMyksYz1lKDgpLG89ZSgwKSxhPSJJbnZhbGlkIHNjaGFpbiBvYmplY3QgZm91bmQ6ICIscz0iIHNob3VsZCBiZSBhIHN0cmluZyIscj0iIHNob3VsZCBiZSBhbiBJbnRlZ2VyIixmPSIgc2hvdWxkIGJlIGFuIG9iamVjdCIsZD17U1RSSUNUOiJzdHJpY3QiLFJFTEFYRUQ6InJlbGF4ZWQiLE9GRjoib2ZmIn0sYj1bXTtmdW5jdGlvbiBoKG4saSl7dmFyIGU9IkRldGVjdGVkIHNvbWV0aGluZyB3cm9uZyB3aXRoaW4gYW4gc2NoYWluIGNvbmZpZzoiLHQ9IiI7ZnVuY3Rpb24gYyhuKXt0Kz0iXG4iK259ZnVuY3Rpb24gYSgpeyEwPT09aT9PYmplY3Qoby5sb2dFcnJvcikoZSxuLHQpOk9iamVjdChvLmxvZ1dhcm4pKGUsbix0KX1pZighT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobikmJihjKCJzY2hhaW4uY29uZmlnIitmKSxhKCksaSkpcmV0dXJuITE7aWYoT2JqZWN0KG8uaXNOdW1iZXIpKG4uY29tcGxldGUpJiZPYmplY3Qoby5pc0ludGVnZXIpKG4uY29tcGxldGUpfHxjKCJzY2hhaW4uY29uZmlnLmNvbXBsZXRlIityKSxPYmplY3Qoby5pc1N0cikobi52ZXIpfHxjKCJzY2hhaW4uY29uZmlnLnZlciIrcyksT2JqZWN0KG8uaGFzT3duKShuLCJleHQiKSYmKE9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4uZXh0KXx8Yygic2NoYWluLmNvbmZpZy5leHQiK2YpKSxPYmplY3Qoby5pc0FycmF5KShuLm5vZGVzKSluLm5vZGVzLmZvckVhY2goKGZ1bmN0aW9uKG4saSl7T2JqZWN0KG8uaXNTdHIpKG4uYXNpKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLmFzaSIpK3MpLE9iamVjdChvLmlzU3RyKShuLnNpZCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5zaWQiKStzKSxPYmplY3Qoby5pc051bWJlcikobi5ocCkmJk9iamVjdChvLmlzSW50ZWdlcikobi5ocCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5ocCIpK3IpLE9iamVjdChvLmhhc093bikobiwicmlkIikmJihPYmplY3Qoby5pc1N0cikobi5yaWQpfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0ucmlkIikrcykpLE9iamVjdChvLmhhc093bikobiwibmFtZSIpJiYoT2JqZWN0KG8uaXNTdHIpKG4ubmFtZSl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5uYW1lIikrcykpLE9iamVjdChvLmhhc093bikobiwiZG9tYWluIikmJihPYmplY3Qoby5pc1N0cikobi5kb21haW4pfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0uZG9tYWluIikrcykpLE9iamVjdChvLmhhc093bikobiwiZXh0IikmJihPYmplY3Qoby5pc1BsYWluT2JqZWN0KShuLmV4dCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5leHQiKStmKSl9KSk7ZWxzZSBpZihjKCJzY2hhaW4uY29uZmlnLm5vZGVzIHNob3VsZCBiZSBhbiBBcnJheSIpLGEoKSxpKXJldHVybiExO3JldHVybiEodC5sZW5ndGg+MCYmKGEoKSxpKSl9ZnVuY3Rpb24gdShuKXtyZXR1cm4gdm9pZCAwIT09biYmKCEhT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobil8fChPYmplY3Qoby5sb2dFcnJvcikoYSsidGhlIGZvbGxvd2luZyBzY2hhaW4gY29uZmlnIHdpbGwgbm90IGJlIHVzZWQgYXMgc2NoYWluIGlzIG5vdCBhbiBvYmplY3QuIixuKSwhMSkpfWZ1bmN0aW9uIE8obixpKXt2YXIgZT10LmIuZ2V0Q29uZmlnKCJzY2hhaW4iKSxjPXQuYi5nZXRCaWRkZXJDb25maWcoKTtpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBpPW4uYmlkZGVyQ29kZSx0PWZ1bmN0aW9uKG4pe3JldHVybiBjW25dJiZjW25dLnNjaGFpbnx8ZX0oaSk7bi5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBlPWZ1bmN0aW9uKG4saSl7dmFyIGU9ZC5TVFJJQ1Q7aWYodShuKSl7aWYoT2JqZWN0KG8uaXNTdHIpKG4udmFsaWRhdGlvbikmJi0xIT1iLmluZGV4T2Yobi52YWxpZGF0aW9uKSYmKGU9bi52YWxpZGF0aW9uKSxlPT09ZC5PRkYpcmV0dXJuIG4uY29uZmlnO2lmKGgobi5jb25maWcsIShlIT09ZC5TVFJJQ1QpKSlyZXR1cm4gbi5jb25maWc7T2JqZWN0KG8ubG9nRXJyb3IpKGErImR1ZSB0byB0aGUgJ3N0cmljdCcgdmFsaWRhdGlvbiBzZXR0aW5nLCB0aGlzIHNjaGFpbiBjb25maWcgd2lsbCBub3QgYmUgcGFzc2VkIHRvIGJpZGRlciAnIi5jb25jYXQoaSwiJy4gIFNlZSBhYm92ZSBlcnJvciBmb3IgZGV0YWlscy4iKSl9cmV0dXJuIG51bGx9KHQsaSk7ZSYmKG4uc2NoYWluPWUpfSkpfSkpLG4oaSl9ZnVuY3Rpb24gbCgpe2MuZGVmYXVsdC5tYWtlQmlkUmVxdWVzdHMuYWZ0ZXIoTyl9T2JqZWN0KG8uX2VhY2gpKGQsKGZ1bmN0aW9uKG4pe3JldHVybiBiLnB1c2gobil9KSksbCgpfX0sWzcyNV0pOwp1cGJqc0NodW5rKFsxMjFdLHs3MzM6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDczNCl9LDczNDpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic2hhcmV0aHJvdWdoSW50ZXJuYWwiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLHIuZCh0LCJzaGFyZXRocm91Z2hBZGFwdGVyU3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIG49cigxKSxpPXIoMCksYT1yKDMpO2Z1bmN0aW9uIHMoKXtyZXR1cm4ocz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBvPSJzaGFyZXRocm91Z2giLGM9WzEsMV0sZD17YjY0RW5jb2RlVW5pY29kZTpsLGhhbmRsZUlmcmFtZTpmdW5jdGlvbigpe3ZhciBlPSExO2lmKCF3aW5kb3cubG9ja2VkSW5GcmFtZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7dC5zcmM9Imh0dHBzOi8vbmF0aXZlLnNoYXJldGhyb3VnaC5jb20vYXNzZXRzL3NmcC1zZXQtdGFyZ2V0aW5nLmpzIix0LnR5cGU9InRleHQvamF2YXNjcmlwdCI7dHJ5e3dpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLmFwcGVuZENoaWxkKHQpLGU9ITB9Y2F0Y2goZSl7aS5sb2dFcnJvcigiVHJvdWJsZSB3cml0aW5nIGZyYW1lIGJ1c3RlciBzY3JpcHQsIGVycm9yIGRldGFpbHM6IixlKX19aWYoIShlP3dpbmRvdy50b3AuU1RSJiZ3aW5kb3cudG9wLlNUUi5UYWc6d2luZG93LlNUUiYmd2luZG93LlNUUi5UYWcpKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtyLnNyYz0iaHR0cHM6Ly9uYXRpdmUuc2hhcmV0aHJvdWdoLmNvbS9hc3NldHMvc2ZwLmpzIixyLnR5cGU9InRleHQvamF2YXNjcmlwdCI7dHJ5e2U/d2luZG93LnRvcC5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLmFwcGVuZENoaWxkKHIpOndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLmFwcGVuZENoaWxkKHIpfWNhdGNoKGUpe2kubG9nRXJyb3IoIlRyb3VibGUgd3JpdGluZyBzZnAgc2NyaXB0LCBlcnJvciBkZXRhaWxzOiIsZSl9fX0saXNMb2NrZWRJbkZyYW1lOmZ1bmN0aW9uKCl7d2luZG93LmxvY2tlZEluRnJhbWU9ITE7dHJ5e3dpbmRvdy5sb2NrZWRJbkZyYW1lPSF3aW5kb3cudG9wLmRvY3VtZW50fWNhdGNoKGUpe3dpbmRvdy5sb2NrZWRJbkZyYW1lPWUgaW5zdGFuY2VvZiBET01FeGNlcHRpb259fSxnZXRQcm90b2NvbDpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbH19LHA9e2NvZGU6byxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLnBrZXkmJmUuYmlkZGVyPT09b30sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9e3BsYWNlbWVudF9rZXk6ZS5wYXJhbXMucGtleSxiaWRJZDplLmJpZElkLGNvbnNlbnRfcmVxdWlyZWQ6ITEsaW5zdGFudF9wbGF5X2NhcGFibGU6ZigpLGhiU291cmNlOiJwcmViaWQiLGhiVmVyc2lvbjoiNS4xMS4wIixzdHJWZXJzaW9uOiIzLjQuMSJ9LG49aS5kZWVwQWNjZXNzKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90Iik7biYmKHIuZ3BpZD1uKSxzKHIsZnVuY3Rpb24oZSl7aWYoIWUudXNlcklkKXJldHVybnt9O3ZhciB0PXt9LHI9aS5kZWVwQWNjZXNzKGUsInVzZXJJZC50ZGlkIik7ciYmKHQudHRkdWlkPXIpO3ZhciBuPWkuZGVlcEFjY2VzcyhlLCJ1c2VySWQucHViY2lkIil8fGkuZGVlcEFjY2VzcyhlLCJjcnVtYnMucHViY2lkIik7biYmKHQucHViY2lkPW4pO3ZhciBhPWkuZGVlcEFjY2VzcyhlLCJ1c2VySWQuaWRsX2VudiIpO2EmJih0LmlkbHVpZD1hKTt2YXIgcz1pLmRlZXBBY2Nlc3MoZSwidXNlcklkLmlkNWlkLnVpZCIpO2lmKHMpe3QuaWQ1dWlkPXtpZDpzfTt2YXIgbz1pLmRlZXBBY2Nlc3MoZSwidXNlcklkLmlkNWlkLmV4dC5saW5rVHlwZSIpO28mJih0LmlkNXVpZC5saW5rVHlwZT1vKX12YXIgYz1pLmRlZXBBY2Nlc3MoZSwidXNlcklkLmxpcGIubGlwYmlkIik7YyYmKHQubGl1aWQ9Yyk7cmV0dXJuIHR9KGUpKTt2YXIgbz1kLmdldFByb3RvY29sKCkuaW5kZXhPZigiaHR0cCIpPDA7ci5zZWN1cmU9b3x8ZC5nZXRQcm90b2NvbCgpLmluZGV4T2YoImh0dHBzIik+LTEsdCYmdC5nZHByQ29uc2VudCYmdC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYoci5jb25zZW50X3N0cmluZz10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLHQmJnQuZ2RwckNvbnNlbnQmJihyLmNvbnNlbnRfcmVxdWlyZWQ9ISF0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSx0JiZ0LnVzcENvbnNlbnQmJihyLnVzX3ByaXZhY3k9dC51c3BDb25zZW50KSwhMD09PWEuYi5nZXRDb25maWcoImNvcHBhIikmJihyLmNvcHBhPSEwKSxlLnNjaGFpbiYmKHIuc2NoYWluPUpTT04uc3RyaW5naWZ5KGUuc2NoYWluKSk7dmFyIGM9ZnVuY3Rpb24oZSl7aWYoaS5pc0ZuKGUuZ2V0Rmxvb3IpKXt2YXIgdD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ImJhbm5lciIsc2l6ZTplLnNpemVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpfSk7aWYoaS5pc1BsYWluT2JqZWN0KHQpJiYhaXNOYU4odC5mbG9vcikmJiJVU0QiPT09dC5jdXJyZW5jeSlyZXR1cm4gcGFyc2VGbG9hdCh0LmZsb29yKX1yZXR1cm4gbnVsbH0oZSk7cmV0dXJuIGMmJihyLmJpZGZsb29yPWMpLGUucGFyYW1zLmJhZHYmJihyLmJhZHY9ZS5wYXJhbXMuYmFkdiksZS5wYXJhbXMuYmNhdCYmKHIuYmNhdD1lLnBhcmFtcy5iY2F0KSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vYnRsci5zaGFyZXRocm91Z2guY29tL1dZdTJCWHYxL3YxIixkYXRhOnIsc3RyRGF0YTp7c2tpcElmcmFtZUJ1c3Rpbmc6ZS5wYXJhbXMuaWZyYW1lLGlmcmFtZVNpemU6ZS5wYXJhbXMuaWZyYW1lU2l6ZSxzaXplczplLnNpemVzfX19KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ib2R5O2lmKCFyfHwhci5jcmVhdGl2ZXN8fCFyLmNyZWF0aXZlcy5sZW5ndGgpcmV0dXJuW107dmFyIG49ci5jcmVhdGl2ZXNbMF0saT1jO3JldHVybih0LnN0ckRhdGEuaWZyYW1lU2l6ZXx8dC5zdHJEYXRhLnNpemVzLmxlbmd0aCkmJihpPXQuc3RyRGF0YS5pZnJhbWVTaXplP3Quc3RyRGF0YS5pZnJhbWVTaXplOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGVbMF0qZVsxXX1yZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIHQocik+dChlKT9yOmV9KSl9KHQuc3RyRGF0YS5zaXplcykpLFt7cmVxdWVzdElkOnQuZGF0YS5iaWRJZCx3aWR0aDppWzBdLGhlaWdodDppWzFdLGNwbTpuLmNwbSxjcmVhdGl2ZUlkOm4uY3JlYXRpdmUuY3JlYXRpdmVfa2V5LGRlYWxJZDpuLmNyZWF0aXZlLmRlYWxfaWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzYwLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOm4uY3JlYXRpdmUmJm4uY3JlYXRpdmUuYWRvbWFpbj9uLmNyZWF0aXZlLmFkb21haW46W119LGFkOnUocix0KX1dfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9bj8iJnVzX3ByaXZhY3k9Ii5jb25jYXQobik6IiIsYT1bXTtyZXR1cm4gZS5waXhlbEVuYWJsZWQmJnQubGVuZ3RoPjAmJnRbMF0uYm9keSYmdFswXS5ib2R5LmNvb2tpZVN5bmNVcmxzJiZ0WzBdLmJvZHkuY29va2llU3luY1VybHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YS5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmUraX0pfSkpLGF9LG9uVGltZW91dDpmdW5jdGlvbihlKXt9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe30sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24oZSl7fX07ZnVuY3Rpb24gdShlLHQpe3ZhciByPSJzdHJfcmVzcG9uc2VfIi5jb25jYXQodC5kYXRhLmJpZElkKSxuPSdcbiAgICA8ZGl2IGRhdGEtc3RyLW5hdGl2ZS1rZXk9IicuY29uY2F0KHQuZGF0YS5wbGFjZW1lbnRfa2V5LCciIGRhdGEtc3R4LXJlc3BvbnNlLW5hbWU9IicpLmNvbmNhdChyLCciPlxuICAgIDwvZGl2PlxuICAgIDxzY3JpcHQ+dmFyICcpLmNvbmNhdChyLCcgPSAiJykuY29uY2F0KGwoSlNPTi5zdHJpbmdpZnkoZSkpLCciPFwvc2NyaXB0PlxuICAnKTtyZXR1cm4gdC5zdHJEYXRhLnNraXBJZnJhbWVCdXN0aW5nP24rPSc8c2NyaXB0IHNyYz0iaHR0cHM6Ly9uYXRpdmUuc2hhcmV0aHJvdWdoLmNvbS9hc3NldHMvc2ZwLmpzIj48XC9zY3JpcHQ+JzpuKz0iXG4gICAgICA8c2NyaXB0PlxuICAgICAgICAoIi5jb25jYXQoZC5pc0xvY2tlZEluRnJhbWUudG9TdHJpbmcoKSwiKSgpXG4gICAgICA8XC9zY3JpcHQ+XG4gICAgICA8c2NyaXB0PlxuICAgICAgICAoIikuY29uY2F0KGQuaGFuZGxlSWZyYW1lLnRvU3RyaW5nKCksIikoKVxuICAgICAgPFwvc2NyaXB0PiIpLG59ZnVuY3Rpb24gbChlKXtyZXR1cm4gYnRvYShlbmNvZGVVUklDb21wb25lbnQoZSkucmVwbGFjZSgvJShbMC05QS1GXXsyfSkvZywoZnVuY3Rpb24oZSx0KXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgiMHgiK3QpfSkpKX1mdW5jdGlvbiBmKCl7dmFyIGU9bmF2aWdhdG9yLnVzZXJBZ2VudDtpZighZSlyZXR1cm4hMTt2YXIgdD0vQW5kcm9pZC9pLnRlc3QoZSkscj0vaVBob25lfGlQYWR8aVBvZC9pLnRlc3QoZSksbj1wYXJzZUludCgoL0Nocm9tZVwvKFswLTldKykvLmV4ZWMoZSl8fFswLDBdKVsxXSksaT1wYXJzZUludCgoL0NyaU9TXC8oWzAtOV0rKS8uZXhlYyhlKXx8WzAsMF0pWzFdKSxhPXBhcnNlSW50KCgvVmVyc2lvblwvKFswLTldKykvLmV4ZWMoZSl8fFswLDBdKVsxXSk7cmV0dXJuISEodCYmbj49NTN8fHImJihhPj0xMHx8aT49NTMpfHwhdCYmIXIpfU9iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShwKX19LFs3MzNdKTsKdXBianNDaHVuayhbMTddLHsxODpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO3IuYj1mdW5jdGlvbihlKXt2YXIgcj1bXTtmb3IodmFyIHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpKWlmKCJwdWJQcm92aWRlZElkIj09PXQpcj1yLmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIGE9bihlW3RdLHQpO2EmJnIucHVzaChhKX1yZXR1cm4gcn0sci5hPWZ1bmN0aW9uKGUpe3ZhciByPVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGEuaXNQbGFpbk9iamVjdChlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHQpe2EuZGVlcEFjY2VzcyhlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZhLmRlZXBBY2Nlc3MoaSx0KyIuc291cmNlIikmJnIucHVzaCh7c291cmNlOmlbdF0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHJ9O3ZhciBhPXQoMCksaT17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciByPWEucGljayhlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyhyKS5sZW5ndGgpcmV0dXJuIHJ9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9fTtmdW5jdGlvbiBuKGUscil7dmFyIHQ9aVtyXTtpZih0JiZlKXt2YXIgbj17fTtuLnNvdXJjZT10LnNvdXJjZTt2YXIgbz1hLmlzRm4odC5nZXRWYWx1ZSk/dC5nZXRWYWx1ZShlKTplO2lmKGEuaXNTdHIobykpe3ZhciBkPXtpZDpvLGF0eXBlOnQuYXR5cGV9O2lmKGEuaXNGbih0LmdldFVpZEV4dCkpe3ZhciBzPXQuZ2V0VWlkRXh0KGUpO3MmJihkLmV4dD1zKX1pZihuLnVpZHM9W2RdLGEuaXNGbih0LmdldEVpZEV4dCkpe3ZhciBjPXQuZ2V0RWlkRXh0KGUpO2MmJihuLmV4dD1jKX1yZXR1cm4gbn19cmV0dXJuIG51bGx9fSw3NDU6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDc0Nil9LDc0NjpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIGE9dCgwKSxpPXQoMiksbj10KDMpLG89dCgxOCksZD10KDEpLHM9e2NvZGU6InNtYXJ0YWRzZXJ2ZXIiLGd2bGlkOjQ1LGFsaWFzZXM6WyJzbWFydCJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2kuYixpLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUucGFyYW1zJiZlLnBhcmFtcy5zaXRlSWQmJmUucGFyYW1zLnBhZ2VJZCYmZS5wYXJhbXMuZm9ybWF0SWQpfSxzZXJpYWxpemVTdXBwbHlDaGFpbjpmdW5jdGlvbihlKXtpZighZXx8IWUubm9kZXMpcmV0dXJuIG51bGw7dmFyIHI9WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iXTtyZXR1cm4iIi5jb25jYXQoZS52ZXIsIiwiKS5jb25jYXQoZS5jb21wbGV0ZSwiISIpK2Uubm9kZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gci5tYXAoKGZ1bmN0aW9uKHIpe3JldHVybiBlW3JdP2VuY29kZVVSSUNvbXBvbmVudChlW3JdKToiIn0pKS5qb2luKCIsIil9KSkuam9pbigiISIpfSxhZGFwdEJhbm5lclNpemVzOmZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpfSxmaWxsUGF5bG9hZEZvclZpZGVvQmlkUmVxdWVzdDpmdW5jdGlvbihlLHIsdCl7dmFyIGE9ci5wbGF5ZXJTaXplWzBdO2UuaXNWaWRlbz0iaW5zdHJlYW0iPT09ci5jb250ZXh0LGUubWVkaWFUeXBlPWkuZCxlLnZpZGVvRGF0YT17dmlkZW9Qcm90b2NvbDp0aGlzLmdldFByb3RvY29sRm9yVmlkZW9CaWRSZXF1ZXN0KHIsdCkscGxheWVyV2lkdGg6YVswXSxwbGF5ZXJIZWlnaHQ6YVsxXSxhZEJyZWFrOnRoaXMuZ2V0U3RhcnREZWxheUZvclZpZGVvQmlkUmVxdWVzdChyLHQpfX0sZ2V0UHJvdG9jb2xGb3JWaWRlb0JpZFJlcXVlc3Q6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdm9pZCAwIT09ciYmci5wcm90b2NvbD9yLnByb3RvY29sOnZvaWQgMCE9PWUmJkFycmF5LmlzQXJyYXkoZS5wcm90b2NvbHMpP01hdGgubWF4LmFwcGx5KE1hdGgsZS5wcm90b2NvbHMpOm51bGx9LGdldFN0YXJ0RGVsYXlGb3JWaWRlb0JpZFJlcXVlc3Q6ZnVuY3Rpb24oZSxyKXtpZih2b2lkIDAhPT1yJiZyLnN0YXJ0RGVsYXkpcmV0dXJuIHIuc3RhcnREZWxheTtpZih2b2lkIDAhPT1lKXtpZigwPT1lLnN0YXJ0ZGVsYXkpcmV0dXJuIDE7aWYoLTE9PWUuc3RhcnRkZWxheSlyZXR1cm4gMjtpZigtMj09ZS5zdGFydGRlbGF5KXJldHVybiAzfXJldHVybiAyfSxjcmVhdGVTZXJ2ZXJSZXF1ZXN0OmZ1bmN0aW9uKGUscil7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOih2b2lkIDAhPT1yP3I6Imh0dHBzOi8vcHJnLnNtYXJ0YWRzZXJ2ZXIuY29tIikrIi9wcmViaWQvdjEiLGRhdGE6SlNPTi5zdHJpbmdpZnkoZSl9fSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9bi5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpO3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSxpKXt2YXIgZD17c2l0ZWlkOmkucGFyYW1zLnNpdGVJZCxwYWdlaWQ6aS5wYXJhbXMucGFnZUlkLGZvcm1hdGlkOmkucGFyYW1zLmZvcm1hdElkLGN1cnJlbmN5Q29kZTp0LGJpZGZsb29yOmkucGFyYW1zLmJpZGZsb29yfHxzLmdldEJpZEZsb29yKGksdCksdGFyZ2V0aW5nOmkucGFyYW1zLnRhcmdldCYmIiIhPT1pLnBhcmFtcy50YXJnZXQ/aS5wYXJhbXMudGFyZ2V0OnZvaWQgMCxidWlkOmkucGFyYW1zLmJ1SWQmJiIiIT09aS5wYXJhbXMuYnVJZD9pLnBhcmFtcy5idUlkOnZvaWQgMCxhcHBuYW1lOmkucGFyYW1zLmFwcE5hbWUmJiIiIT09aS5wYXJhbXMuYXBwTmFtZT9pLnBhcmFtcy5hcHBOYW1lOnZvaWQgMCxja2lkOmkucGFyYW1zLmNrSWR8fDAsdGFnSWQ6aS5hZFVuaXRDb2RlLHBhZ2VEb21haW46ciYmci5yZWZlcmVySW5mbyYmci5yZWZlcmVySW5mby5yZWZlcmVyP3IucmVmZXJlckluZm8ucmVmZXJlcjp2b2lkIDAsdHJhbnNhY3Rpb25JZDppLnRyYW5zYWN0aW9uSWQsdGltZW91dDpuLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0IiksYmlkSWQ6aS5iaWRJZCxwcmViaWRWZXJzaW9uOiI1LjExLjAiLHNjaGFpbjpzLnNlcmlhbGl6ZVN1cHBseUNoYWluKGkuc2NoYWluKX07ciYmci5nZHByQ29uc2VudCYmKGQuYWRkdGxfY29uc2VudD1yLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCxkLmdkcHJfY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsZC5nZHByPXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLGkmJmkudXNlcklkJiYoZC5laWRzPU9iamVjdChvLmIpKGkudXNlcklkKSksciYmci51c3BDb25zZW50JiYoZC51c19wcml2YWN5PXIudXNwQ29uc2VudCk7dmFyIGM9YS5kZWVwQWNjZXNzKGksIm1lZGlhVHlwZXMudmlkZW8iKSx1PWEuZGVlcEFjY2VzcyhpLCJtZWRpYVR5cGVzLmJhbm5lciIpLHA9YyYmKCJpbnN0cmVhbSI9PT1jLmNvbnRleHR8fCJvdXRzdHJlYW0iPT09Yy5jb250ZXh0KTtpZighcCYmdSlkLnNpemVzPXMuYWRhcHRCYW5uZXJTaXplcyh1LnNpemVzKSxlLnB1c2gocy5jcmVhdGVTZXJ2ZXJSZXF1ZXN0KGQsaS5wYXJhbXMuZG9tYWluKSk7ZWxzZSBpZihwJiYhdSlzLmZpbGxQYXlsb2FkRm9yVmlkZW9CaWRSZXF1ZXN0KGQsYyxpLnBhcmFtcy52aWRlbyksZS5wdXNoKHMuY3JlYXRlU2VydmVyUmVxdWVzdChkLGkucGFyYW1zLmRvbWFpbikpO2Vsc2UgaWYocCYmdSl7dmFyIGw9YS5kZWVwQ2xvbmUoZCk7cy5maWxsUGF5bG9hZEZvclZpZGVvQmlkUmVxdWVzdChsLGMsaS5wYXJhbXMudmlkZW8pLGUucHVzaChzLmNyZWF0ZVNlcnZlclJlcXVlc3QobCxpLnBhcmFtcy5kb21haW4pKSxkLnNpemVzPXMuYWRhcHRCYW5uZXJTaXplcyh1LnNpemVzKSxlLnB1c2gocy5jcmVhdGVTZXJ2ZXJSZXF1ZXN0KGQsaS5wYXJhbXMuZG9tYWluKSl9ZWxzZSBlLnB1c2goe30pO3JldHVybiBlfSksW10pfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLG49ZS5ib2R5O3RyeXtpZihuJiYhbi5pc05vQWQpe3ZhciBvPUpTT04ucGFyc2Uoci5kYXRhKSxkPXtyZXF1ZXN0SWQ6by5iaWRJZCxjcG06bi5jcG0sd2lkdGg6bi53aWR0aCxoZWlnaHQ6bi5oZWlnaHQsY3JlYXRpdmVJZDpuLmNyZWF0aXZlSWQsZGVhbElkOm4uZGVhbElkLGN1cnJlbmN5Om4uY3VycmVuY3ksbmV0UmV2ZW51ZTpuLmlzTmV0Q3BtLHR0bDpuLnR0bCxkc3BQaXhlbHM6bi5kc3BQaXhlbHMsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6bi5hZG9tYWluP24uYWRvbWFpbjpbXX19O28ubWVkaWFUeXBlPT09aS5kPyhkLm1lZGlhVHlwZT1pLmQsZC52YXN0VXJsPW4uYWRVcmwsZC52YXN0WG1sPW4uYWQsZC5jb250ZW50PW4uYWQpOihkLmFkVXJsPW4uYWRVcmwsZC5hZD1uLmFkKSx0LnB1c2goZCl9fWNhdGNoKGUpe2EubG9nRXJyb3IoIkVycm9yIHdoaWxlIHBhcnNpbmcgc21hcnQgc2VydmVyIHJlc3BvbnNlIixlKX1yZXR1cm4gdH0sZ2V0QmlkRmxvb3I6ZnVuY3Rpb24oZSxyKXtpZighYS5pc0ZuKGUuZ2V0Rmxvb3IpKXJldHVybiAwO3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OnJ8fCJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtyZXR1cm4gYS5pc1BsYWluT2JqZWN0KHQpJiYhaXNOYU4odC5mbG9vcik/dC5mbG9vcjowfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXTtyZXR1cm4gZS5pZnJhbWVFbmFibGVkJiZyLmxlbmd0aD4wJiZudWxsIT1yWzBdLmJvZHkuY1N5bmNVcmw/dC5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDpyWzBdLmJvZHkuY1N5bmNVcmx9KTplLnBpeGVsRW5hYmxlZCYmci5sZW5ndGg+MCYmdm9pZCAwIT09clswXS5ib2R5LmRzcFBpeGVscyYmclswXS5ib2R5LmRzcFBpeGVscy5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnB1c2goe3R5cGU6ImltYWdlIix1cmw6ZX0pfSkpLHR9fTtPYmplY3QoZC5yZWdpc3RlckJpZGRlcikocyl9fSxbNzQ1XSk7CnVwYmpzQ2h1bmsoWzExMl0sezc1NzpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNzU4KX0sNzU4OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxyLmQodCwiX2lzSW5ib3VuZHMiLChmdW5jdGlvbigpe3JldHVybiBPfSkpLHQuX2dldFBsYXRmb3JtPV87dmFyIG49cigxKSxpPXIoMCkscz1yKDIpLGE9cigzKSxvPXIoMTMpLGM9cig1Nik7ZnVuY3Rpb24gZChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBuLGkscz1bXSxhPSEwLG89ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKGE9KG49ci5uZXh0KCkpLmRvbmUpJiYocy5wdXNoKG4udmFsdWUpLCF0fHxzLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtvPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgaX19cmV0dXJuIHN9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gdShlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4gdShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gdShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIHAoKXtyZXR1cm4ocD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGwoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciBiPSJzb25vYmkiLGY9T2JqZWN0KGkuZ2VuZXJhdGVVVUlEKSgpLG09Imh0dHBzOi8vbXRyeC5nby5zb25vYmkuY29tL3NiaV9vdXRzdHJlYW1fcmVuZGVyZXIuanMiLHY9e2NvZGU6YixzdXBwb3J0ZWRNZWRpYVR5cGVzOltzLmIscy5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZighZS5wYXJhbXMpcmV0dXJuITE7aWYoIWUucGFyYW1zLmFkX3VuaXQmJiFlLnBhcmFtcy5wbGFjZW1lbnRfaWQpcmV0dXJuITE7aWYoIU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikmJiFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIikpcmV0dXJuITE7aWYoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSl7aWYoIU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikmJiFlLnBhcmFtcy5zaXplcylyZXR1cm4hMX1lbHNlIGlmKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSl7aWYoIm91dHN0cmVhbSI9PT1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmIWUucGFyYW1zLnNpemVzKXJldHVybiExO2lmKCJpbnN0cmVhbSI9PT1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmIU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKXJldHVybiExfXJldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2lmKGUucGFyYW1zLmFkX3VuaXQpcmV0dXJuIGUucGFyYW1zLmFkX3VuaXQ7cmV0dXJuIGUucGFyYW1zLnBsYWNlbWVudF9pZH0oZSk7cmV0dXJuL15bXC9dP1tcZF0rW1tcL10uK1tcL10/XT8kLy50ZXN0KHQpPyh0PSIvIj09PXQuY2hhckF0KDApP3Q6Ii8iK3QsbCh7fSwiIi5jb25jYXQodCwifCIpLmNvbmNhdChlLmJpZElkKSwiIi5jb25jYXQoeShlKSkuY29uY2F0KGcoZSkpLmNvbmNhdChoKGUpKSkpOi9eWzAtOWEtZkEtRl17MjB9JC8udGVzdCh0KSYmMjA9PT10Lmxlbmd0aD9sKHt9LGUuYmlkSWQsIiIuY29uY2F0KHQsInwiKS5jb25jYXQoeShlKSkuY29uY2F0KGcoZSkpLmNvbmNhdChoKGUpKSk6dm9pZCBPYmplY3QoaS5sb2dFcnJvcikoIlRoZSBhZCB1bml0IGNvZGUgb3IgU29ub2JpIFBsYWNlbWVudCBpZCBmb3Igc2xvdCAiLmNvbmNhdChlLmJpZElkLCIgaXMgaW52YWxpZCIpKX0pKSxuPXt9O3IuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cChuLGUpfSkpO3ZhciBzPXtrZXlfbWFrZXI6SlNPTi5zdHJpbmdpZnkobikscmVmOnQucmVmZXJlckluZm8ucmVmZXJlcixzOk9iamVjdChpLmdlbmVyYXRlVVVJRCkoKSxwdjpmLHZwOl8oKSxsaWJfbmFtZToicHJlYmlkIixsaWJfdjoiNS4xMS4wIix1czowfTtpZihhLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpJiZhLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpLnN5bmNzUGVyQmlkZGVyJiYocy51cz1hLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpLnN5bmNzUGVyQmlkZGVyKSxjLmEuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jKCJpZnJhbWUiLGIpP3MuaXVzPTE6cy5pdXM9MCxPYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuaGZhIikmJihzLmhmYT1PYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuaGZhIikpLGVbMF0ucGFyYW1zLnJlZmVycmVyJiYocy5yZWY9ZVswXS5wYXJhbXMucmVmZXJyZXIpLHQmJnQuZ2RwckNvbnNlbnQmJihzLmdkcHI9dC5nZHByQ29uc2VudC5nZHByQXBwbGllcz8idHJ1ZSI6ImZhbHNlIix0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihzLmNvbnNlbnRfc3RyaW5nPXQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLGVbMF0uc2NoYWluJiYocy5zY2hhaW49SlNPTi5zdHJpbmdpZnkoZVswXS5zY2hhaW4pKSxPYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQiKSYmT2JqZWN0LmtleXMoZVswXS51c2VySWQpLmxlbmd0aD4wKXt2YXIgbz1PYmplY3QoaS5kZWVwQ2xvbmUpKGVbMF0udXNlcklkKTtvLmlkNWlkJiYoby5pZDVpZD1PYmplY3QoaS5kZWVwQWNjZXNzKShvLCJpZDVpZC51aWQiKSkscy51c2VyaWQ9SlNPTi5zdHJpbmdpZnkobyl9dmFyIGQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwidXNlcklkQXNFaWRzIik7QXJyYXkuaXNBcnJheShkKSYmZC5sZW5ndGg+MCYmKHMuZWlkcz1KU09OLnN0cmluZ2lmeShkKSk7dmFyIHU9ZVswXS5wYXJhbXMua2V5d29yZHM7aWYodSYmKHMua3c9dSksdCYmdC51c3BDb25zZW50JiYocy51c19wcml2YWN5PXQudXNwQ29uc2VudCksITA9PT1hLmIuZ2V0Q29uZmlnKCJjb3BwYSIpP3MuY29wcGE9MTpzLmNvcHBhPTAsT2JqZWN0KGkuaXNFbXB0eSkobikpcmV0dXJuIG51bGw7dmFyIG09Imh0dHBzOi8vYXBleC5nby5zb25vYmkuY29tL3RyaW5pdHkuanNvbiI7cmV0dXJuIE9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5iaWRfcmVxdWVzdF91cmwiKSYmKG09T2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmJpZF9yZXF1ZXN0X3VybCIpKSx7bWV0aG9kOiJHRVQiLHVybDptLHdpdGhDcmVkZW50aWFsczohMCxkYXRhOnMsYmlkZGVyUmVxdWVzdHM6ZX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ib2R5LG49W10scz10LmRhdGEucmVmO3JldHVybiAwPT09T2JqZWN0LmtleXMoci5zbG90cykubGVuZ3RofHxPYmplY3Qua2V5cyhyLnNsb3RzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgYT1yLnNsb3RzW2VdLGM9ZS5zcGxpdCgifCIpLnNsaWNlKC0xKVswXSx1PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspaWYoZVtyXS5iaWRJZD09PXQpcmV0dXJuIGVbcl19KHQuYmlkZGVyUmVxdWVzdHMsYykscD1udWxsOyJ2aWRlbyI9PT1hLnNiaV9jdCYmKHA9InZpZGVvIiwib3V0c3RyZWFtIj09PU9iamVjdChpLmRlZXBBY2Nlc3MpKHUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiYocD0ib3V0c3RyZWFtIikpO3ZhciBsPWoocCxzKTtpZihhLnNiaV9haWQmJmEuc2JpX21vdXNlJiZhLnNiaV9zaXplKXt2YXIgYj1kKGEuc2JpX3NpemUuc3BsaXQoIngiKSwyKSxmPWJbMF0sdj12b2lkIDA9PT1mPzE6Zix5PWJbMV0sZz12b2lkIDA9PT15PzE6eSxoPVtdO2Euc2JpX2Fkb21haW4mJihoPVthLnNiaV9hZG9tYWluXSk7dmFyIE89e3JlcXVlc3RJZDpjLGNwbTpOdW1iZXIoYS5zYmlfbW91c2UpLHdpZHRoOk51bWJlcih2KSxoZWlnaHQ6TnVtYmVyKGcpLGFkOmwoci5zYmlfZGMsYS5zYmlfYWlkKSx0dGw6NTAwLGNyZWF0aXZlSWQ6YS5zYmlfY3JpZHx8YS5zYmlfYWlkLGFpZDphLnNiaV9haWQsbmV0UmV2ZW51ZTohMCxjdXJyZW5jeToiVVNEIixtZXRhOnthZHZlcnRpc2VyRG9tYWluczpofX07aWYoYS5zYmlfZG96ZXImJihPLmRlYWxJZD1hLnNiaV9kb3plciksInZpZGVvIj09PXApTy5tZWRpYVR5cGU9InZpZGVvIixPLnZhc3RVcmw9bChyLnNiaV9kYyxhLnNiaV9haWQpLGRlbGV0ZSBPLmFkLGRlbGV0ZSBPLndpZHRoLGRlbGV0ZSBPLmhlaWdodDtlbHNlIGlmKCJvdXRzdHJlYW0iPT09cCYmdSl7Ty5tZWRpYVR5cGU9InZpZGVvIixPLnZhc3RVcmw9bChyLnNiaV9kYyxhLnNiaV9haWQpLE8ucmVuZGVyZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj1vLmEuaW5zdGFsbCh7aWQ6dC5haWQsdXJsOm0sY29uZmlnOnIsbG9hZGVkOiExLGFkVW5pdENvZGU6ZX0pO3RyeXtuLnNldFJlbmRlcihBKX1jYXRjaChlKXtPYmplY3QoaS5sb2dXYXJuKSgiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gbi5zZXRFdmVudEhhbmRsZXJzKHtpbXByZXNzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChpLmxvZ01lc3NhZ2UpKCJTb25vYmkgb3V0c3RyZWFtIHZpZGVvIGltcHJlc3Npb24gZXZlbnQiKX0sbG9hZGVkOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChpLmxvZ01lc3NhZ2UpKCJTb25vYmkgb3V0c3RyZWFtIHZpZGVvIGxvYWRlZCBldmVudCIpfSxlbmRlZDpmdW5jdGlvbigpe09iamVjdChpLmxvZ01lc3NhZ2UpKCJTb25vYmkgb3V0c3RyZWFtIHJlbmRlcmVyIHZpZGVvIGV2ZW50Iil9fSksbn0odS5hZFVuaXRDb2RlLE8sT2JqZWN0KGkuZGVlcEFjY2VzcykodSwicmVuZGVyZXIub3B0aW9ucyIpKTt2YXIgXz1PYmplY3QoaS5kZWVwQWNjZXNzKSh1LCJwYXJhbXMuc2l6ZXMiKTtBcnJheS5pc0FycmF5KF8pJiZBcnJheS5pc0FycmF5KF9bMF0pJiYoXz1fWzBdKSxfJiYoTy53aWR0aD1fWzBdLE8uaGVpZ2h0PV9bMV0pfW4ucHVzaChPKX19KSksbn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPVtdO3RyeXtlLnBpeGVsRW5hYmxlZCYmdFswXS5ib2R5LnNiaV9weC5mb3JFYWNoKChmdW5jdGlvbihlKXtpLnB1c2goe3R5cGU6ZS50eXBlLHVybDplLnVybH0pfSkpfWNhdGNoKGUpe31yZXR1cm4gaX19O2Z1bmN0aW9uIHkoZSl7cmV0dXJuIE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKT8iIjplLnBhcmFtcy5zaXplcz9PYmplY3QoaS5wYXJzZVNpemVzSW5wdXQpKGUucGFyYW1zLnNpemVzKS5qb2luKCIsIik6T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKT9PYmplY3QoaS5wYXJzZVNpemVzSW5wdXQpKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikpLmpvaW4oIiwiKTplLnNpemVzP09iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkoZS5zaXplcykuam9pbigiLCIpOnZvaWQgMH1mdW5jdGlvbiBnKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2lmKCFPYmplY3QoaS5pc0ZuKShlLmdldEZsb29yKSlyZXR1cm4gZS5wYXJhbXMuZmxvb3I/ZS5wYXJhbXMuZmxvb3I6bnVsbDt2YXIgdD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7aWYoT2JqZWN0KGkuaXNQbGFpbk9iamVjdCkodCkmJiFpc05hTih0LmZsb29yKSYmIlVTRCI9PT10LmN1cnJlbmN5KXJldHVybiB0LmZsb29yO3JldHVybiIifShlKTtyZXR1cm4gdD8ifGY9Ii5jb25jYXQodCk6IiJ9ZnVuY3Rpb24gaChlKXt2YXIgdD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpfHxPYmplY3QoaS5kZWVwQWNjZXNzKShPYmplY3QoaS5nZXRHcHRTbG90SW5mb0ZvckFkVW5pdENvZGUpKGUuYWRVbml0Q29kZSksImdwdFNsb3QiKXx8ZS5wYXJhbXMuYWRfdW5pdDtyZXR1cm4gdD8ifGdwaWQ9Ii5jb25jYXQodCk6IiJ9dmFyIGo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4idmlkZW8iPT09ZXx8Im91dHN0cmVhbSI9PT1lP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4iaHR0cHM6Ly8iLmNvbmNhdChlLCJhcGV4LmdvLnNvbm9iaS5jb20vdmFzdC54bWw/dmlkPSIpLmNvbmNhdCh0LCImcmVmPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocikpfShyLG4sdCk6JzxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9IicrImh0dHBzOi8vIi5jb25jYXQociwiYXBleC5nby5zb25vYmkuY29tL3NiaS5qcz9haWQ9IikuY29uY2F0KG4sIiZhcz1udWxsJnJlZj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHQpKSsnIj48XC9zY3JpcHQ+J319O3ZhciBPPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOndpbmRvdztyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtyZXR1cm4gZS5pbm5lcldpZHRoPj10JiZlLmlubmVyV2lkdGg8cn19O2Z1bmN0aW9uIF8oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06d2luZG93LHQ9TyhlKSxyPXtsdDo3Njh9LG49e2x0Ojk5MixnZTo3Njh9O3JldHVybiB0KDAsci5sdCk/Im1vYmlsZSI6dChuLmdlLG4ubHQpPyJ0YWJsZXQiOiJkZXNrdG9wIn1mdW5jdGlvbiBBKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt2YXIgdD1kKGUuZ2V0U2l6ZSgpLnNwbGl0KCJ4IiksMikscj10WzBdLG49dFsxXSxpPW5ldyB3aW5kb3cuU2JpT3V0c3RyZWFtUmVuZGVyZXI7aS5pbml0KHt2YXN0VXJsOmUudmFzdFVybCxoZWlnaHQ6bix3aWR0aDpyfSksaS5zZXRSb290RWxlbWVudChlLmFkVW5pdENvZGUpfSkpfU9iamVjdChuLnJlZ2lzdGVyQmlkZGVyKSh2KX19LFs3NTddKTsKdXBianNDaHVuayhbMTRdLHsxODpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKWlmKCJwdWJQcm92aWRlZElkIj09PXIpdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIGE9aShlW3JdLHIpO2EmJnQucHVzaChhKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGEuaXNQbGFpbk9iamVjdChlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHIpe2EuZGVlcEFjY2VzcyhlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZhLmRlZXBBY2Nlc3MobixyKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOm5bcl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciBhPXIoMCksbj17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PWEucGljayhlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9fTtmdW5jdGlvbiBpKGUsdCl7dmFyIHI9blt0XTtpZihyJiZlKXt2YXIgaT17fTtpLnNvdXJjZT1yLnNvdXJjZTt2YXIgbz1hLmlzRm4oci5nZXRWYWx1ZSk/ci5nZXRWYWx1ZShlKTplO2lmKGEuaXNTdHIobykpe3ZhciBzPXtpZDpvLGF0eXBlOnIuYXR5cGV9O2lmKGEuaXNGbihyLmdldFVpZEV4dCkpe3ZhciBjPXIuZ2V0VWlkRXh0KGUpO2MmJihzLmV4dD1jKX1pZihpLnVpZHM9W3NdLGEuaXNGbihyLmdldEVpZEV4dCkpe3ZhciBkPXIuZ2V0RWlkRXh0KGUpO2QmJihpLmV4dD1kKX1yZXR1cm4gaX19cmV0dXJuIG51bGx9fSw3NjE6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDc2Mil9LDc2MjpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSk7dmFyIGE9cigwKSxuPXIoMSksaT1yKDMpLG89cigyKSxzPXIoMTgpO2Z1bmN0aW9uIGMoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgYSxuLGk9W10sbz0hMCxzPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShvPShhPXIubmV4dCgpKS5kb25lKSYmKGkucHVzaChhLnZhbHVlKSwhdHx8aS5sZW5ndGghPT10KTtvPSEwKTt9Y2F0Y2goZSl7cz0hMCxuPWV9ZmluYWxseXt0cnl7b3x8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IG59fXJldHVybiBpfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGQoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIGQoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGQoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxhPW5ldyBBcnJheSh0KTtyPHQ7cisrKWFbcl09ZVtyXTtyZXR1cm4gYX12YXIgdT0ic29ydGFibGUiLHA9Imh0dHBzOi8vYy5kZXBsb3lhZHMuY29tIjtmdW5jdGlvbiBsKGUsdCl7cmV0dXJuIGUucmVxdWlyZWQmJih0LnJlcXVpcmVkPTEpLHR9ZnVuY3Rpb24gbShlKXtyZXR1cm4gZS53fHxlLmg/e3VybDplLnVybCx3aWR0aDplLncsaGVpZ2h0OmUuaH06ZS51cmx9ZnVuY3Rpb24geShlLHQscil7YS5fZWFjaChlLChmdW5jdGlvbihlKXtlLmJvZHkmJmUuYm9keS5leHQmJmUuYm9keS5leHQuc3luY19kc3BzJiZlLmJvZHkuZXh0LnN5bmNfZHNwcy5sZW5ndGgmJmEuX2VhY2goZS5ib2R5LmV4dC5zeW5jX2RzcHMsKGZ1bmN0aW9uKGUpe2VbMF09PT10JiZlWzFdJiZyLnB1c2goe3R5cGU6dCx1cmw6ZVsxXX0pfSkpfSkpfWZ1bmN0aW9uIGYoZSl7aWYoIWEuaXNGbihlLmdldEZsb29yKSlyZXR1cm4gZS5wYXJhbXMuZmxvb3I/ZS5wYXJhbXMuZmxvb3I6bnVsbDt2YXIgdD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7cmV0dXJuIGEuaXNQbGFpbk9iamVjdCh0KSYmIWlzTmFOKHQuZmxvb3IpJiYiVVNEIj09PXQuY3VycmVuY3k/dC5mbG9vcjpudWxsfXZhciBiPXtjb2RlOnUsc3VwcG9ydGVkTWVkaWFUeXBlczpbby5iLG8uYyxvLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWkuYi5nZXRDb25maWcoInNvcnRhYmxlIikscj10JiYhIXQuc2l0ZUlkfHxlLnBhcmFtcy5zaXRlSWQsbj1mKGUpLHM9IW58fGEuaXNOdW1iZXIobiksYz0hZS5wYXJhbXMua2V5d29yZHN8fGEuaXNQbGFpbk9iamVjdChlLnBhcmFtcy5rZXl3b3JkcykmJk9iamVjdC5rZXlzKGUucGFyYW1zLmtleXdvcmRzKS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIGEuaXNTdHIodCkmJmEuaXNTdHIoZS5wYXJhbXMua2V5d29yZHNbdF0pfSkpLGQ9IWUubWVkaWFUeXBlc3x8ZS5tZWRpYVR5cGVzW28uYl18fCEoZS5tZWRpYVR5cGVzW28uY118fGUubWVkaWFUeXBlc1tvLmRdKSx1PWQ/YS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZS4iLmNvbmNhdChvLmIsIi5zaXplcyIpKXx8ZS5zaXplczpudWxsO3JldHVybiEhKGUucGFyYW1zLnRhZ0lkJiZyJiZzJiZjJiYoIWR8fHUmJnUubGVuZ3RoPjAmJnUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiAyPT1lLmxlbmd0aCYmZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGEuaXNOdW1iZXIoZSl9KSl9KSkpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPShpLmIuZ2V0Q29uZmlnKCJzb3J0YWJsZSIpfHx7fSkuc2l0ZUlkLG49YS5wYXJzZVVybCh0LnJlZmVyZXJJbmZvLnJlZmVyZXIpLGQ9YS5fbWFwKGUsKGZ1bmN0aW9uKGUpe3ZhciB0PXtpZDplLmJpZElkLHRhZ2lkOmUucGFyYW1zLnRhZ0lkLGV4dDp7fX0scj1hLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChvLmIpKSxuPWEuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLiIuY29uY2F0KG8uYykpLGk9YS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoby5kKSk7aWYocnx8IW4mJiFpKXt2YXIgcz1yJiZyLnNpemVzfHxlLnNpemVzO3QuYmFubmVyPXtmb3JtYXQ6YS5fbWFwKHMsKGZ1bmN0aW9uKGUpe3ZhciB0PWMoZSwyKTtyZXR1cm57dzp0WzBdLGg6dFsxXX19KSl9fWlmKG4mJih0Lm5hdGl2ZT1mdW5jdGlvbihlKXt2YXIgdD1bXSxyPWUudGl0bGU7ciYmdC5wdXNoKGwocix7dGl0bGU6e2xlbjpyLmxlbn19KSk7dmFyIG49ZS5pbWFnZTtuJiZ0LnB1c2gobChuLHtpbWc6e3R5cGU6Myx3bWluOjEsaG1pbjoxfX0pKTt2YXIgaT1lLmljb247aSYmdC5wdXNoKGwoaSx7aW1nOnt0eXBlOjEsd21pbjoxLGhtaW46MX19KSk7dmFyIG89ZS5ib2R5O28mJnQucHVzaChsKG8se2RhdGE6e3R5cGU6Mn19KSk7dmFyIHM9ZS5jdGE7cyYmdC5wdXNoKGwocyx7ZGF0YTp7dHlwZToxMn19KSk7dmFyIGM9ZS5zcG9uc29yZWRCeTtyZXR1cm4gYyYmdC5wdXNoKGwoYyx7ZGF0YTp7dHlwZToxfX0pKSxhLl9lYWNoKHQsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaWQ9dH0pKSx7dmVyOiIxIixyZXF1ZXN0OkpTT04uc3RyaW5naWZ5KHt2ZXI6IjEiLGFzc2V0czp0fSl9fShuKSksaSYmImluc3RyZWFtIj09PWkuY29udGV4dCl7dmFyIGQ9e3BsYWNlbWVudDoxfTtkLm1pbWVzPWkubWltZXN8fFtdLGQubWluZHVyYXRpb249YS5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlby5taW5kdXJhdGlvbiIpfHwxMCxkLm1heGR1cmF0aW9uPWEuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8ubWF4ZHVyYXRpb24iKXx8NjA7dmFyIHU9YS5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlby5zdGFydGRlbGF5Iik7aWYobnVsbCE9dSYmKGQuc3RhcnRkZWxheT11KSxpLnBsYXllclNpemUmJmkucGxheWVyU2l6ZS5sZW5ndGgpe3ZhciBwPWkucGxheWVyU2l6ZVswXTtkLnc9cFswXSxkLmg9cFsxXX1pLmFwaSYmKGQuYXBpPWkuYXBpKSxpLnByb3RvY29scyYmKGQucHJvdG9jb2xzPWkucHJvdG9jb2xzKSxpLnBsYXliYWNrbWV0aG9kJiYoZC5wbGF5YmFja21ldGhvZD1pLnBsYXliYWNrbWV0aG9kKSx0LnZpZGVvPWR9dmFyIG09ZihlKTtyZXR1cm4gbSYmKHQuZmxvb3I9bSksZS5wYXJhbXMua2V5d29yZHMmJih0LmV4dC5rZXl3b3Jkcz1lLnBhcmFtcy5rZXl3b3JkcyksZS5wYXJhbXMuYmlkZGVyUGFyYW1zJiZhLl9lYWNoKGUucGFyYW1zLmJpZGRlclBhcmFtcywoZnVuY3Rpb24oZSxyKXt0LmV4dFtyXT1lfSkpLHR9KSksdT10JiZ0LmdkcHJDb25zZW50LG09ZVswXS51c2VySWQseT1PYmplY3Qocy5iKShtKSxiPXtpZDphLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxpbXA6ZCxzb3VyY2U6e2V4dDp7c2NoYWluOmVbMF0uc2NoYWlufX0scmVnczp7ZXh0Ont9fSxzaXRlOntkb21haW46bi5ob3N0bmFtZSxwYWdlOm4uaHJlZixyZWY6bi5ocmVmLHB1Ymxpc2hlcjp7aWQ6cnx8ZVswXS5wYXJhbXMuc2l0ZUlkfSxkZXZpY2U6e3c6c2NyZWVuLndpZHRoLGg6c2NyZWVuLmhlaWdodH19LHVzZXI6e2V4dDp7fX19O3JldHVybiB0JiZ0LnRpbWVvdXQ+MCYmKGIudG1heD10LnRpbWVvdXQpLHUmJihiLnVzZXI9e2V4dDp7Y29uc2VudDp1LmNvbnNlbnRTdHJpbmd9fSwiYm9vbGVhbiI9PXR5cGVvZiB1LmdkcHJBcHBsaWVzJiYoYi5yZWdzLmV4dC5nZHByPXUuZ2RwckFwcGxpZXM/MTowKSkseS5sZW5ndGgmJihiLnVzZXIuZXh0LmVpZHM9eSksdC51c3BDb25zZW50JiYoYi5yZWdzLmV4dC51c19wcml2YWN5PXQudXNwQ29uc2VudCkse21ldGhvZDoiUE9TVCIsdXJsOiIiLmNvbmNhdChwLCIvb3BlbnJ0YjIvYXVjdGlvbj9zcmM9cHJlYmlkX3ByZWJpZF81LjExLjAmaG9zdD0iKS5jb25jYXQobi5ob3N0bmFtZSksZGF0YTpKU09OLnN0cmluZ2lmeShiKSxvcHRpb25zOntjb250ZW50VHlwZToidGV4dC9wbGFpbiJ9fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LHI9dC5pZCxuPXQuc2VhdGJpZCxpPVtdO3JldHVybiByJiZuJiZhLl9lYWNoKG4sKGZ1bmN0aW9uKGUpe2EuX2VhY2goZS5iaWQsKGZ1bmN0aW9uKGUpe3ZhciB0PXtyZXF1ZXN0SWQ6ZS5pbXBpZCxjcG06cGFyc2VGbG9hdChlLnByaWNlKSx3aWR0aDpwYXJzZUludChlLncpLGhlaWdodDpwYXJzZUludChlLmgpLGNyZWF0aXZlSWQ6ZS5jcmlkfHxlLmlkLGRlYWxJZDplLmRlYWxpZHx8bnVsbCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLG1lZGlhVHlwZTpvLmIsdHRsOjYwLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbnx8W119fTtpZihlLmFkbSl7dmFyIHI9YS5kZWVwQWNjZXNzKGUsImV4dC5hZF9mb3JtYXQiKTtpZigibmF0aXZlIj09PXIpe3ZhciBuPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7dHJ5e3Q9SlNPTi5wYXJzZShlKX1jYXRjaChlKXthLmxvZ0Vycm9yKCJTb3J0YWJsZSBiaWQgYWRhcHRlciB1bmFibGUgdG8gcGFyc2UgbmF0aXZlIGJpZCByZXNwb25zZTpcblxuIitlKX1yZXR1cm4gdCYmdC5uYXRpdmV9KGUuYWRtKTtpZighbilyZXR1cm47dC5tZWRpYVR5cGU9by5jLHQubmF0aXZlPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLmxpbmsmJih0LmNsaWNrVXJsPWUubGluay51cmwpLGEuX2VhY2goZS5hc3NldHMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmlkKXtjYXNlIDE6dC50aXRsZT1lLnRpdGxlLnRleHQ7YnJlYWs7Y2FzZSAyOnQuaW1hZ2U9bShlLmltZyk7YnJlYWs7Y2FzZSAzOnQuaWNvbj1tKGUuaW1nKTticmVhaztjYXNlIDQ6dC5ib2R5PWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDU6dC5jdGE9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNjp0LnNwb25zb3JlZEJ5PWUuZGF0YS52YWx1ZX19KSksdH0obil9ZWxzZSJpbnN0cmVhbSI9PT1yPyh0Lm1lZGlhVHlwZT1vLmQsdC52YXN0WG1sPWUuYWRtKToodC5tZWRpYVR5cGU9by5iLHQuYWQ9ZS5hZG0sZS5udXJsJiYodC5hZCs9YS5jcmVhdGVUcmFja1BpeGVsSHRtbChkZWNvZGVVUklDb21wb25lbnQoZS5udXJsKSkpKX1lbHNlIGUubnVybCYmKHQuYWRVcmw9ZS5udXJsKTtlLmV4dCYmKHQuc29ydGFibGU9ZS5leHQpLGkucHVzaCh0KX0pKX0pKSxpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtyZXR1cm4gZS5pZnJhbWVFbmFibGVkJiZ5KHQsImlmcmFtZSIsciksZS5waXhlbEVuYWJsZWQmJnkodCwiaW1hZ2UiLHIpLHJ9LG9uVGltZW91dDpmdW5jdGlvbihlKXtmZXRjaCgiIi5jb25jYXQocCwiL3ByZWJpZC90aW1lb3V0Iikse21ldGhvZDoiUE9TVCIsYm9keTpKU09OLnN0cmluZ2lmeShlKSxtb2RlOiJuby1jb3JzIixoZWFkZXJzOm5ldyBIZWFkZXJzKHsiQ29udGVudC1UeXBlIjoidGV4dC9wbGFpbiJ9KX0pfX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKGIpfX0sWzc2MV0pOwp1cGJqc0NodW5rKFsxMl0sezE4OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpaWYoInB1YlByb3ZpZGVkSWQiPT09cil0PXQuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgaT1hKGVbcl0scik7aSYmdC5wdXNoKGkpfXJldHVybiB0fSx0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5pc1BsYWluT2JqZWN0KGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24ocil7aS5kZWVwQWNjZXNzKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJmkuZGVlcEFjY2VzcyhuLHIrIi5zb3VyY2UiKSYmdC5wdXNoKHtzb3VyY2U6bltyXS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSksdH07dmFyIGk9cigwKSxuPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5waWNrKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX19O2Z1bmN0aW9uIGEoZSx0KXt2YXIgcj1uW3RdO2lmKHImJmUpe3ZhciBhPXt9O2Euc291cmNlPXIuc291cmNlO3ZhciBvPWkuaXNGbihyLmdldFZhbHVlKT9yLmdldFZhbHVlKGUpOmU7aWYoaS5pc1N0cihvKSl7dmFyIGQ9e2lkOm8sYXR5cGU6ci5hdHlwZX07aWYoaS5pc0ZuKHIuZ2V0VWlkRXh0KSl7dmFyIHU9ci5nZXRVaWRFeHQoZSk7dSYmKGQuZXh0PXUpfWlmKGEudWlkcz1bZF0saS5pc0ZuKHIuZ2V0RWlkRXh0KSl7dmFyIGM9ci5nZXRFaWRFeHQoZSk7YyYmKGEuZXh0PWMpfXJldHVybiBhfX1yZXR1cm4gbnVsbH19LDc2NTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNzY2KX0sNzY2OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgaT1yKDApLG49cigxKSxhPXIoMiksbz1yKDE4KSxkPXIoMyksdT17Y29kZToic292cm4iLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYl0sZ3ZsaWQ6MTMsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISghZS5wYXJhbXMudGFnaWR8fGlzTmFOKHBhcnNlRmxvYXQoZS5wYXJhbXMudGFnaWQpKXx8IWlzRmluaXRlKGUucGFyYW1zLnRhZ2lkKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIHIsbixhLHUsYz1bXSxzPVtdO2kuX2VhY2goZSwoZnVuY3Rpb24oZSl7IWEmJmUudXNlcklkJiYoYT1PYmplY3Qoby5iKShlLnVzZXJJZCkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UudWlkcyYmZS51aWRzWzBdJiYoImNyaXRlby5jb20iPT09ZS5zb3VyY2UmJih1PWUudWlkc1swXS5pZCkscy5wdXNoKHtzb3VyY2U6ZS5zb3VyY2UsdWlkOmUudWlkc1swXS5pZH0pKX0pKSxlLnNjaGFpbiYmKG49bnx8ZS5zY2hhaW4pLHI9cnx8aS5nZXRCaWRJZFBhcmFtZXRlcigiaXYiLGUucGFyYW1zKTt2YXIgdD1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fGUuc2l6ZXMsZD0odD0odD1pLmlzQXJyYXkodCkmJmkuaXNBcnJheSh0WzBdKT90Olt0XSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5pc0FycmF5KGUpfSkpKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OnBhcnNlSW50KGVbMF0sMTApLGg6cGFyc2VJbnQoZVsxXSwxMCl9fSkpLHA9ZS5nZXRGbG9vciYmImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3I/ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiJiYW5uZXIiLHNpemU6IioifSk6e307cC5mbG9vcj1wLmZsb29yfHxpLmdldEJpZElkUGFyYW1ldGVyKCJiaWRmbG9vciIsZS5wYXJhbXMpO3ZhciBsPXthZHVuaXRjb2RlOmUuYWRVbml0Q29kZSxpZDplLmJpZElkLGJhbm5lcjp7Zm9ybWF0OmQsdzoxLGg6MX0sdGFnaWQ6U3RyaW5nKGkuZ2V0QmlkSWRQYXJhbWV0ZXIoInRhZ2lkIixlLnBhcmFtcykpLGJpZGZsb29yOnAuZmxvb3J9O2wuZXh0PWkuZ2V0QmlkSWRQYXJhbWV0ZXIoImV4dCIsZS5vcnRiMkltcCl8fHZvaWQgMDt2YXIgbT1pLmdldEJpZElkUGFyYW1ldGVyKCJzZWdtZW50cyIsZS5wYXJhbXMpO20mJihsLmV4dD1sLmV4dHx8e30sbC5leHQuZGVhbHM9bS5zcGxpdCgiLCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpKSxjLnB1c2gobCl9KSk7dmFyIHA9aS5kZWVwQ2xvbmUoZC5iLmdldENvbmZpZygib3J0YjIiKSksbD1wLnNpdGV8fHt9O2wucGFnZT10LnJlZmVyZXJJbmZvLnJlZmVyZXIsbC5kb21haW49aS5wYXJzZVVybChsLnBhZ2UpLmhvc3RuYW1lO3ZhciBtPXtpZDppLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxpbXA6YyxzaXRlOmwsdXNlcjpwLnVzZXJ8fHt9fTtuJiYobS5zb3VyY2U9e2V4dDp7c2NoYWluOm59fSksdC5nZHByQ29uc2VudCYmKGkuZGVlcFNldFZhbHVlKG0sInJlZ3MuZXh0LmdkcHIiLCt0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxpLmRlZXBTZXRWYWx1ZShtLCJ1c2VyLmV4dC5jb25zZW50Iix0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSx0LnVzcENvbnNlbnQmJmkuZGVlcFNldFZhbHVlKG0sInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCksYSYmKGkuZGVlcFNldFZhbHVlKG0sInVzZXIuZXh0LmVpZHMiLGEpLGkuZGVlcFNldFZhbHVlKG0sInVzZXIuZXh0LnRwaWQiLHMpLHUmJmkuZGVlcFNldFZhbHVlKG0sInVzZXIuZXh0LnByZWJpZF9jcml0ZW9pZCIsdSkpO3ZhciBmPSJodHRwczovL2FwLmxpaml0LmNvbS9ydGIvYmlkP3NyYz1wcmViaWRfcHJlYmlkXzUuMTEuMCI7cmV0dXJuIHImJihmKz0iJml2PSIuY29uY2F0KHIpKSx7bWV0aG9kOiJQT1NUIix1cmw6ZixkYXRhOkpTT04uc3RyaW5naWZ5KG0pLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIn19fWNhdGNoKGUpe2kubG9nRXJyb3IoIkNvdWxkIG5vdCBidWlsZCBiaWRyZXF1ZXN0LCBlcnJvciBkZWF0aWxzOiIsZSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkscj10LmlkLG49dC5zZWF0YmlkO3RyeXt2YXIgbz1bXTtyZXR1cm4gciYmbiYmbi5sZW5ndGg+MCYmblswXS5iaWQmJm5bMF0uYmlkLmxlbmd0aD4wJiZuWzBdLmJpZC5tYXAoKGZ1bmN0aW9uKGUpe28ucHVzaCh7cmVxdWVzdElkOmUuaW1waWQsY3BtOnBhcnNlRmxvYXQoZS5wcmljZSksd2lkdGg6cGFyc2VJbnQoZS53KSxoZWlnaHQ6cGFyc2VJbnQoZS5oKSxjcmVhdGl2ZUlkOmUuY3JpZHx8ZS5pZCxkZWFsSWQ6ZS5kZWFsaWR8fG51bGwsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCxtZWRpYVR5cGU6YS5iLGFkOmRlY29kZVVSSUNvbXBvbmVudCgiIi5jb25jYXQoZS5hZG0sJzxpbWcgc3JjPSInKS5jb25jYXQoZS5udXJsLCciPicpKSx0dGw6ZS5leHQmJmUuZXh0LnR0bHx8OTAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZSYmZS5hZG9tYWluP2UuYWRvbWFpbjpbXX19KX0pKSxvfWNhdGNoKGUpe2kubG9nRXJyb3IoIkNvdWxkIG5vdCBpbnRyZXByZXQgYmlkcmVzcG9uc2UsIGVycm9yIGRlYXRpbHM6IixlKX19LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXt0cnl7dmFyIGE9W107aWYodCYmMCE9PXQubGVuZ3RoKXtpZihlLmlmcmFtZUVuYWJsZWQpe3ZhciBvPXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5kZWVwQWNjZXNzKGUsImJvZHkuZXh0LmlpZCIpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYm9keS5leHQuaWlkfSkpLGQ9W107ciYmci5nZHByQXBwbGllcyYmInN0cmluZyI9PXR5cGVvZiByLmNvbnNlbnRTdHJpbmcmJmQucHVzaChbImdkcHJfY29uc2VudCIsci5jb25zZW50U3RyaW5nXSksbiYmZC5wdXNoKFsidXNfcHJpdmFjeSIsbl0pLG9bMF0mJihkLnB1c2goWyJpbmZvcm1lciIsb1swXV0pLGEucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vYXAubGlqaXQuY29tL2JlYWNvbj8iK2QubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKCI9Iil9KSkuam9pbigiJiIpfSkpfWUucGl4ZWxFbmFibGVkJiZ0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZGVlcEFjY2VzcyhlLCJib2R5LmV4dC5zeW5jLnBpeGVscyIpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodC5ib2R5LmV4dC5zeW5jLnBpeGVscyl9KSxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS51cmx9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGEucHVzaCh7dHlwZToiaW1hZ2UiLHVybDplfSl9KSl9cmV0dXJuIGF9Y2F0Y2goZSl7cmV0dXJuW119fX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHUpfX0sWzc2NV0pOwp1cGJqc0NodW5rKFs5OF0sezc5NzpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzk4KX0sNzk4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJ0cmlwbGVsaWZ0QWRhcHRlclNwZWMiLChmdW5jdGlvbigpe3JldHVybiBifSkpO3ZhciBuPXQoMiksaT10KDEpLG89dCgwKSx1PXQoMyk7ZnVuY3Rpb24gYSgpe3JldHVybihhPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcChlKXtyZXR1cm4ocD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGMoZSxyKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3ImJihuPW4uZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpLmVudW1lcmFibGV9KSkpLHQucHVzaC5hcHBseSh0LG4pfXJldHVybiB0fWZ1bmN0aW9uIGQoZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/YyhPYmplY3QodCksITApLmZvckVhY2goKGZ1bmN0aW9uKHIpe3MoZSxyLHRbcl0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpOmMoT2JqZWN0KHQpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcyhlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9ZnVuY3Rpb24gZihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbChlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUscil7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbChlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT10fHwiU2V0Ij09PXQpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSlyZXR1cm4gbChlLHIpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBsKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsbj1uZXcgQXJyYXkocik7dDxyO3QrKyluW3RdPWVbdF07cmV0dXJuIG59dmFyIHk9ITAsbT1udWxsLGI9e2d2bGlkOjI4LGNvZGU6InRyaXBsZWxpZnQiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W24uYixuLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lLnBhcmFtcy5pbnZlbnRvcnlDb2RlfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9Imh0dHBzOi8vdGx4LjNsaWZ0LmNvbS9oZWFkZXIvYXVjdGlvbj8iLG49ZnVuY3Rpb24oZSl7dmFyIHI9e30sdD1lWzBdLnNjaGFpbixuPWZ1bmN0aW9uKCl7dmFyIGU9e30scj17fSx0PXt9LG49dS5iLmdldExlZ2FjeUZwZCh1LmIuZ2V0Q29uZmlnKCJvcnRiMiIpKXx8e30saT1hKHt9LG4uY29udGV4dCkscD1hKHt9LG4udXNlcik7UyhyLGkpLFModCxwKSxvLmlzRW1wdHkocil8fChlLmNvbnRleHQ9cik7by5pc0VtcHR5KHQpfHwoZS51c2VyPXQpO3JldHVybiBlfSgpO3IuaW1wPWUubWFwKChmdW5jdGlvbihlLHIpe3ZhciB0PXtpZDpyLHRhZ2lkOmUucGFyYW1zLmludmVudG9yeUNvZGUsZmxvb3I6dihlKX07cmV0dXJuIGcoZSk/dC52aWRlbz1mdW5jdGlvbihlKXt2YXIgcj1kKGQoe30sZS5wYXJhbXMudmlkZW8pLGUubWVkaWFUeXBlcy52aWRlbyk7ci53fHwoci53PXIucGxheWVyU2l6ZVswXVswXSk7ci5ofHwoci5oPXIucGxheWVyU2l6ZVswXVsxXSk7Imluc3RyZWFtIj09PXIuY29udGV4dCYmKHIucGxhY2VtZW50PTEpO3JldHVybiBkZWxldGUgci5wbGF5ZXJTaXplLHJ9KGUpOmUubWVkaWFUeXBlcy5iYW5uZXImJih0LmJhbm5lcj17Zm9ybWF0Ok8oZS5zaXplcyl9KSxvLmlzRW1wdHkoZS5vcnRiMkltcCl8fCh0LmZwZD1mdW5jdGlvbihlKXt2YXIgcj17fSx0PXt9O1ModCxlLmV4dCksby5pc0VtcHR5KHQpfHwoci5jb250ZXh0PXQpO3JldHVybiByfShlLm9ydGIySW1wKSksdH0pKTt2YXIgaT1bXS5jb25jYXQoZigocD1bZVswXV0saChwLCJ0ZGlkIiwiYWRzZXJ2ZXIub3JnIiwiVERJRCIpKSksZihmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJpZGxfZW52IiwibGl2ZXJhbXAuY29tIiwiaWRsIil9KFtlWzBdXSkpLGYoZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSwiY3JpdGVvSWQiLCJjcml0ZW8uY29tIiwiY3JpdGVvSWQiKX0oW2VbMF1dKSksZihmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwdWJjaWQiLCJwdWJjaWQub3JnIiwicHViY2lkIil9KFtlWzBdXSkpKTt2YXIgcDtpLmxlbmd0aD4wJiYoci51c2VyPXtleHQ6e2VpZHM6aX19KTt2YXIgYz1mdW5jdGlvbihlLHIpe3ZhciB0PXt9O28uaXNFbXB0eShlKXx8KHQuc2NoYWluPWQoe30sZSkpO28uaXNFbXB0eShyKXx8KHQuZnBkPWQoe30scikpO3JldHVybiB0fSh0LG4pO28uaXNFbXB0eShjKXx8KHIuZXh0PWMpO3JldHVybiByfShlKTtpZih0PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwibGliIiwicHJlYmlkIiksdD1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsInYiLCI1LjExLjAiKSxyJiZyLnJlZmVyZXJJbmZvKXt2YXIgaT1yLnJlZmVyZXJJbmZvLnJlZmVyZXI7dD1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsInJlZmVycmVyIixpKX1yZXR1cm4gciYmci50aW1lb3V0JiYodD1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsInRtYXgiLHIudGltZW91dCkpLHImJnIuZ2RwckNvbnNlbnQmJih2b2lkIDAhPT1yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoeT1yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzLHQ9by50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJnZHByIix5LnRvU3RyaW5nKCkpKSx2b2lkIDAhPT1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihtPXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyx0PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwiY21wX2NzIixtKSkpLHImJnIudXNwQ29uc2VudCYmKHQ9by50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJ1c19wcml2YWN5IixyLnVzcENvbnNlbnQpKSwhMD09PXUuYi5nZXRDb25maWcoImNvcHBhIikmJih0PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwiY29wcGEiLCEwKSksdC5sYXN0SW5kZXhPZigiJiIpPT09dC5sZW5ndGgtMSYmKHQ9dC5zdWJzdHJpbmcoMCx0Lmxlbmd0aC0xKSksby5sb2dNZXNzYWdlKCJ0bENhbGwgcmVxdWVzdCBidWlsdDogIit0KSx7bWV0aG9kOiJQT1NUIix1cmw6dCxkYXRhOm4sYmlkZGVyUmVxdWVzdDpyfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1yLmJpZGRlclJlcXVlc3Q7cmV0dXJuKGUuYm9keS5iaWRzfHxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSxyKXt2YXIgdD17fSxuPXIud2lkdGh8fDEsaT1yLmhlaWdodHx8MSxvPXIuZGVhbF9pZHx8IiIsdT1yLmNyaWR8fCIiLGE9ZS5iaWRzW3IuaW1wX2lkXTswIT1yLmNwbSYmci5hZCYmKHQ9e3JlcXVlc3RJZDphLmJpZElkLGNwbTpyLmNwbSx3aWR0aDpuLGhlaWdodDppLG5ldFJldmVudWU6ITAsYWQ6ci5hZCxjcmVhdGl2ZUlkOnUsZGVhbElkOm8sY3VycmVuY3k6IlVTRCIsdHRsOjMwMCx0bF9zb3VyY2U6ci50bF9zb3VyY2UsbWV0YTp7fX0sZyhhKSYmKHQudmFzdFhtbD1yLmFkLHQubWVkaWFUeXBlPSJ2aWRlbyIpLHIuYWR2ZXJ0aXNlcl9uYW1lJiYodC5tZXRhLmFkdmVydGlzZXJOYW1lPXIuYWR2ZXJ0aXNlcl9uYW1lKSxyLmFkb21haW4mJnIuYWRvbWFpbi5sZW5ndGgmJih0Lm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9ci5hZG9tYWluKSxyLnRsX3NvdXJjZSYmImhkeCI9PXIudGxfc291cmNlJiYodC5tZXRhLm1lZGlhVHlwZT0iYmFubmVyIiksci50bF9zb3VyY2UmJiJ0bHgiPT1yLnRsX3NvdXJjZSYmKHQubWV0YS5tZWRpYVR5cGU9Im5hdGl2ZSIpKTtyZXR1cm4gdH0odCxlKX0pKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LG4pe3ZhciBpPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybjtpZihlLmlmcmFtZUVuYWJsZWQpcmV0dXJuImlmcmFtZSI7aWYoZS5waXhlbEVuYWJsZWQpcmV0dXJuImltYWdlIn0oZSk7aWYoaSl7dmFyIHU9Imh0dHBzOi8vZWIyLjNsaWZ0LmNvbS9zeW5jPyI7cmV0dXJuImltYWdlIj09PWkmJih1PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodSwicHgiLDEpLHU9by50cnlBcHBlbmRRdWVyeVN0cmluZyh1LCJzcmMiLCJwcmViaWQiKSksbnVsbCE9PW0mJih1PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodSwiZ2RwciIseSksdT1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHUsImNtcF9jcyIsbSkpLG4mJih1PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodSwidXNfcHJpdmFjeSIsbikpLFt7dHlwZTppLHVybDp1fV19fX07ZnVuY3Rpb24gZyhlKXtyZXR1cm4hIWUubWVkaWFUeXBlcy52aWRlbyYmKCEhZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJiJpbnN0cmVhbSI9PT1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dC50b0xvd2VyQ2FzZSgpKX1mdW5jdGlvbiB2KGUpe3ZhciByPW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTpnKGUpPyJ2aWRlbyI6ImJhbm5lciIsc2l6ZToiKiJ9KTsib2JqZWN0IiE9PXAodCl8fCJVU0QiIT09dC5jdXJyZW5jeXx8aXNOYU4ocGFyc2VGbG9hdCh0LmZsb29yKSl8fChyPXBhcnNlRmxvYXQodC5mbG9vcikpfXJldHVybiBudWxsIT09cj9yOmUucGFyYW1zLmZsb29yfWZ1bmN0aW9uIFMoZSxyKXtvLmlzRW1wdHkocil8fE9iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKHQpe251bGwhPXJbdF0mJihlW3RdPXJbdF0pfSkpfWZ1bmN0aW9uIGgoZSxyLHQsbil7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gciYmci51c2VySWQmJnIudXNlcklkW2VdfX0ocikpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuISFlfSkpLm1hcChmdW5jdGlvbihlLHIpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm57c291cmNlOmUsdWlkczpbe2lkOnQsZXh0OntydGlQYXJ0bmVyOnJ9fV19fX0odCxuKSl9ZnVuY3Rpb24gTyhlKXtyZXR1cm4gZS5maWx0ZXIoQSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSl9ZnVuY3Rpb24gQShlKXtyZXR1cm4gMj09PWUubGVuZ3RoJiYibnVtYmVyIj09dHlwZW9mIGVbMF0mJiJudW1iZXIiPT10eXBlb2YgZVsxXX1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikoYil9fSxbNzk3XSk7CnVwYmpzQ2h1bmsoWzk2XSx7ODAxOmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg4MDIpfSw4MDI6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBTfSkpO3ZhciBuPXQoMCksaT10KDEpLG89dCgxMyksYT10KDIpLHM9dCgzKTtmdW5jdGlvbiBkKGUscil7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHIpe3ZhciB0PW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09dClyZXR1cm47dmFyIG4saSxvPVtdLGE9ITAscz0hMTt0cnl7Zm9yKHQ9dC5jYWxsKGUpOyEoYT0obj10Lm5leHQoKSkuZG9uZSkmJihvLnB1c2gobi52YWx1ZSksIXJ8fG8ubGVuZ3RoIT09cik7YT0hMCk7fWNhdGNoKGUpe3M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PXQucmV0dXJufHx0LnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBpfX1yZXR1cm4gb30oZSxyKXx8bChlLHIpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gdShlKXtyZXR1cm4odT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHAoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxsKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGwoZSxyKXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHAoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09dHx8IlNldCI9PT10P0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KT9wKGUscik6dm9pZCAwfX1mdW5jdGlvbiBwKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsbj1uZXcgQXJyYXkocik7dDxyO3QrKyluW3RdPWVbdF07cmV0dXJuIG59dmFyIGY9IkJpZCBmcm9tIHJlc3BvbnNlIGhhcyBubyBhdWlkIHBhcmFtZXRlciAtICIsbT0iQmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGFkbSBwYXJhbWV0ZXIgLSAiLHk9IkFycmF5IG9mIGJpZCBvYmplY3RzIGlzIGVtcHR5IixnPSJTZWF0YmlkIGFycmF5IGZyb20gcmVzcG9uc2UgaGFzIGVtcHR5IGl0ZW0iLGI9IlJlc3BvbnNlIGlzIGVtcHR5IixoPSJSZXNwb25zZSBoYXMgZW1wdHkgc2VhdGJpZCBhcnJheSIsdj0iU2VhdGJpZCBmcm9tIHJlc3BvbnNlIGhhcyBubyBhcnJheSBvZiBiaWQgb2JqZWN0cyAtICIsUz17Y29kZToidHJ1c3R4IixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLnVpZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe2lmKCFlLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgdD1udWxsLGk9bnVsbCxvPW51bGwsbD1udWxsLHA9bnVsbCxmPW51bGwsbT1udWxsLHk9bnVsbCxnPW51bGwsYj1yfHx7fSxoPWIuYmlkZGVyUmVxdWVzdElkLHY9Yi5hdWN0aW9uSWQsUz1iLmdkcHJDb25zZW50LHc9Yi51c3BDb25zZW50LEE9Yi50aW1lb3V0LGo9Yi5yZWZlcmVySW5mbyxJPWo/ZW5jb2RlVVJJQ29tcG9uZW50KGoucmVmZXJlcik6IiIsRT1bXSxSPXt9O2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aHx8KGg9ZS5iaWRkZXJSZXF1ZXN0SWQpLHZ8fCh2PWUuYXVjdGlvbklkKSxwfHwocD1lLnNjaGFpbiksZnx8KGY9ZS51c2VySWQpLG18fChtPWUudXNlcklkQXNFaWRzKTt2YXIgcj1lLnBhcmFtcyxzPXIudWlkLGM9ci5rZXl3b3Jkcyx5PWUubWVkaWFUeXBlcyxnPWUuYmlkSWQsYj1lLmFkVW5pdENvZGUsUz1lLnJ0ZDtSW2ddPWU7dmFyIHc9ZnVuY3Rpb24oZSxyKXt2YXIgdD1lLnZpZGVvPyJ2aWRlbyI6ImJhbm5lciIsbj1yLnBhcmFtcy5iaWRGbG9vcnx8MDtpZigiZnVuY3Rpb24iPT10eXBlb2Ygci5nZXRGbG9vcil7dmFyIGk9ci5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOnQsc2l6ZTpyLnNpemVzLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZChlLDIpO3JldHVybnt3OnJbMF0saDpyWzFdfX0pKX0pOyJvYmplY3QiIT09dShpKXx8IlVTRCIhPT1pLmN1cnJlbmN5fHxpc05hTihwYXJzZUZsb2F0KGkuZmxvb3IpKXx8KG49TWF0aC5tYXgobixwYXJzZUZsb2F0KGkuZmxvb3IpKSl9cmV0dXJuIG59KHl8fHt9LGUpO2lmKFMpe3ZhciBBPVMuandwbGF5ZXImJlMuandwbGF5ZXIudGFyZ2V0aW5nO0EmJighaSYmQS5zZWdtZW50cyYmKGk9QS5zZWdtZW50cyksIWwmJkEuY29udGVudCYmKGw9QS5jb250ZW50KSk7dmFyIGo9Uy5wX3N0YW5kYXJkJiZTLnBfc3RhbmRhcmQudGFyZ2V0aW5nOyFvJiZqJiZqLnNlZ21lbnRzJiYobz1qLnNlZ21lbnRzKX12YXIgeD17aWQ6Zyx0YWdpZDpzLnRvU3RyaW5nKCksZXh0OntkaXZpZDpifX07aWYobi5pc0VtcHR5KGMpfHwodHx8KHQ9YykseC5leHQuYmlkZGVyPXtrZXl3b3JkczpjfSksdyYmKHguYmlkZmxvb3I9dyksIXl8fHlbYS5iXSl7dmFyIEk9ZnVuY3Rpb24oZSxyKXt2YXIgdD1yLnNpemVzfHxlLnNpemVzO2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuO3ZhciBpPXQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZShlKX0pKSxvPW4ucGFyc2VHUFRTaW5nbGVTaXplQXJyYXlUb1J0YlNpemUodFswXSk7aS5sZW5ndGgmJihvLmZvcm1hdD1pKTtyZXR1cm4gb30oZSx5P3lbYS5iXTp7fSk7SSYmKHguYmFubmVyPUkpfWlmKHkmJnlbYS5kXSl7dmFyIFQ9ZnVuY3Rpb24oZSxyKXt2YXIgdD1yLnBsYXllclNpemUsaT1yLm1pbWVzLG89ci5kdXJhdGlvblJhbmdlU2VjLGE9ci5wcm90b2NvbHMscz0odHx8ZS5zaXplc3x8W10pWzBdO2lmKCFzKXJldHVybjt2YXIgZD1uLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5VG9SdGJTaXplKHMpO2kmJihkLm1pbWVzPWkpO28mJjI9PT1vLmxlbmd0aCYmKGQubWluZHVyYXRpb249b1swXSxkLm1heGR1cmF0aW9uPW9bMV0pO2EmJmEubGVuZ3RoJiYoZC5wcm90b2NvbHM9YSk7cmV0dXJuIGR9KGUseVthLmRdKTtUJiYoeC52aWRlbz1UKX0oeC5iYW5uZXJ8fHgudmlkZW8pJiZFLnB1c2goeCl9KSk7dmFyIFQ9e3RpZDp2LGV4dDp7d3JhcHBlcjoiUHJlYmlkX2pzIix3cmFwcGVyX3ZlcnNpb246IjUuMTEuMCJ9fTtwJiYoVC5leHQuc2NoYWluPXApO3ZhciBPPXMuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKXx8QSxfPUE/TWF0aC5taW4oTyxBKTpPLGs9e2lkOmgsc2l0ZTp7cGFnZTpJfSx0bWF4Ol8sc291cmNlOlQsaW1wOkV9O2wmJihrLnNpdGUuY29udGVudD1sKTt2YXIgej1bXTt4KCJpb3dfbGFic19wdWJfZGF0YSIsImp3cHNlZyIsaSx6KSx4KCJwZXJtdXRpdmUiLCJwX3N0YW5kYXJkIixvLHosInBlcm11dGl2ZS5jb20iKSx6Lmxlbmd0aCYmKHk9e2RhdGE6en0pLFMmJlMuY29uc2VudFN0cmluZyYmKGc9e2NvbnNlbnQ6Uy5jb25zZW50U3RyaW5nfSksbSYmbS5sZW5ndGgmJigoZz1nfHx7fSkuZWlkcz1jKG0pKSxnJiZPYmplY3Qua2V5cyhnKS5sZW5ndGgmJigoeT15fHx7fSkuZXh0PWcpLHkmJihrLnVzZXI9eSk7dmFyIEM9bi5kZWVwQWNjZXNzKHMuYi5nZXRDb25maWcoIm9ydGIyLnVzZXIiKSwia2V5d29yZHMiKXx8bnVsbCxOPW4uZGVlcEFjY2VzcyhzLmIuZ2V0Q29uZmlnKCJvcnRiMi5zaXRlIiksImtleXdvcmRzIil8fG51bGw7cmV0dXJuIEMmJigodD10fHx7fSkudXNlcj10LnVzZXJ8fHt9LHQudXNlci5vcnRiMj1be25hbWU6ImtleXdvcmRzIixrZXl3b3JkczpDLnNwbGl0KCIsIil9XSksTiYmKCh0PXR8fHt9KS5zaXRlPXQuc2l0ZXx8e30sdC5zaXRlLm9ydGIyPVt7bmFtZToia2V5d29yZHMiLGtleXdvcmRzOk4uc3BsaXQoIiwiKX1dKSx0JiYodD1mdW5jdGlvbihlKXt2YXIgcj17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49ZVt0XTtpZihuKWlmKCJzaXRlIj09PXR8fCJ1c2VyIj09PXQpe3ZhciBpPXt9O09iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkobltlXSkpe3ZhciByPVtdO25bZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PT11KGUpJiZlLm5hbWUpe3ZhciB0PXtuYW1lOmUubmFtZSxzZWdtZW50czpbXX07T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7QXJyYXkuaXNBcnJheShlW3JdKSYmZVtyXS5mb3JFYWNoKChmdW5jdGlvbihlKXtlJiYoInN0cmluZyI9PXR5cGVvZiBlP3Quc2VnbWVudHMucHVzaCh7bmFtZTpyLHZhbHVlOmV9KToic2VnbWVudHMiPT09ciYmInN0cmluZyI9PXR5cGVvZiBlLm5hbWUmJiJzdHJpbmciPT10eXBlb2YgZS52YWx1ZSYmdC5zZWdtZW50cy5wdXNoKGUpKX0pKX0pKSx0LnNlZ21lbnRzLmxlbmd0aCYmci5wdXNoKHQpfX0pKSxyLmxlbmd0aCYmKGlbZV09cil9fSkpLHJbdF09aX1lbHNlIHJbdF09bn0pKSxPYmplY3Qua2V5cyhyKS5sZW5ndGgmJnJ9KHQpKSYmKGsuZXh0PXtrZXl3b3Jkczp0fSksUyYmUy5nZHByQXBwbGllcyYmKGsucmVncz17ZXh0OntnZHByOlMuZ2RwckFwcGxpZXM/MTowfX0pLHcmJihrLnJlZ3N8fChrLnJlZ3M9e2V4dDp7fX0pLGsucmVncy5leHQudXNfcHJpdmFjeT13KSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vZ3JpZC5iaWRzd2l0Y2gubmV0L2hianNvbj9zcD10cnVzdHgiLGRhdGE6SlNPTi5zdHJpbmdpZnkoayksYmlkc01hcDpSfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06by5hO2U9ZSYmZS5ib2R5O3ZhciBpLGE9W107cmV0dXJuIGU/ZS5zZWF0YmlkJiYhZS5zZWF0YmlkLmxlbmd0aCYmKGk9aCk6aT1iLCFpJiZlLnNlYXRiaWQmJmUuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtBKHcoZSkscixhLHQpfSkpLGkmJm4ubG9nRXJyb3IoaSksYX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LG4pe2lmKGUucGl4ZWxFbmFibGVkKXt2YXIgaT1zLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYy5zeW5jc1BlckJpZGRlciIpLG89W107dCYmInN0cmluZyI9PXR5cGVvZiB0LmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJBcHBsaWVzP28ucHVzaCgiZ2Rwcj0iLmNvbmNhdChOdW1iZXIodC5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHQuY29uc2VudFN0cmluZykpOm8ucHVzaCgiZ2Rwcl9jb25zZW50PSIuY29uY2F0KHQuY29uc2VudFN0cmluZykpKSxuJiZvLnB1c2goInVzX3ByaXZhY3k9Ii5jb25jYXQobikpO3ZhciBhPW8uam9pbigiJiIpLGQ9W3t0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL3NvZmlhLnRydXN0eC5vcmcvcHVzaF9zeW5jIisoYT8iPyIuY29uY2F0KGEpOiIiKX1dO3JldHVybiBpPjEmJmQucHVzaCh7dHlwZToiaW1hZ2UiLHVybDoiaHR0cHM6Ly94LmJpZHN3aXRjaC5uZXQvc3luYz9zc3A9dGhlbWVkaWFncmlkIisoYT8iJiIuY29uY2F0KGEpOiIiKX0pLGR9fX07ZnVuY3Rpb24gdyhlKXtyZXR1cm4gZT9lLmJpZD9lLmJpZFswXXx8bi5sb2dFcnJvcih5KTpuLmxvZ0Vycm9yKHYrSlNPTi5zdHJpbmdpZnkoZSkpOm4ubG9nRXJyb3IoZyksZSYmZS5iaWQmJmUuYmlkWzBdfWZ1bmN0aW9uIEEoZSxyLHQsaSl7aWYoZSl7dmFyIG87aWYoZS5hdWlkfHwobz1mK0pTT04uc3RyaW5naWZ5KGUpKSxlLmFkbSl7dmFyIHM9ci5iaWRzTWFwW2UuaW1waWRdO2lmKCFvJiZzKXt2YXIgZD17cmVxdWVzdElkOnMuYmlkSWQsY3BtOmUucHJpY2Usd2lkdGg6ZS53LGhlaWdodDplLmgsY3JlYXRpdmVJZDplLmF1aWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMSx0dGw6MzYwLGRlYWxJZDplLmRlYWxpZCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW4/ZS5hZG9tYWluOltdfX07InZpZGVvIj09PWUuY29udGVudF90eXBlPyhkLnZhc3RYbWw9ZS5hZG0sZC5tZWRpYVR5cGU9YS5kLGQuYWRSZXNwb25zZT17Y29udGVudDpkLnZhc3RYbWx9LHMucmVuZGVyZXJ8fHMubWVkaWFUeXBlcyYmcy5tZWRpYVR5cGVzLnZpZGVvJiYib3V0c3RyZWFtIiE9PXMubWVkaWFUeXBlcy52aWRlby5jb250ZXh0fHwoZC5yZW5kZXJlcj1mdW5jdGlvbihlLHIsdCl7dmFyIGk9dC5pbnN0YWxsKHtpZDpyLmlkLHVybDpyLnVybCxsb2FkZWQ6ITF9KTt0cnl7aS5zZXRSZW5kZXIoail9Y2F0Y2goZSl7bi5sb2dXYXJuKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiBpfSgwLHtpZDpzLmJpZElkLHVybDoiaHR0cHM6Ly9hY2RuLmFkbnhzLmNvbS92aWRlby9vdXRzdHJlYW0vQU5PdXRzdHJlYW1WaWRlby5qcyJ9LGkpKSk6KGQuYWQ9ZS5hZG0sZC5tZWRpYVR5cGU9YS5iKSx0LnB1c2goZCl9fWVsc2Ugbz1tK0pTT04uc3RyaW5naWZ5KGUpO28mJm4ubG9nRXJyb3Iobyl9fWZ1bmN0aW9uIGooZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5BTk91dHN0cmVhbVZpZGVvLnJlbmRlckFkKHt0YXJnZXRJZDplLmFkVW5pdENvZGUsYWRSZXNwb25zZTplLmFkUmVzcG9uc2V9KX0pKX1mdW5jdGlvbiB4KGUscix0LG4saSl7aWYodCYmdC5sZW5ndGgpbi5wdXNoKHtuYW1lOmUsc2VnbWVudDp0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6cix2YWx1ZTplfX0pKX0pO2Vsc2UgaWYoaSl7dmFyIG89cy5iLmdldENvbmZpZygib3J0YjIudXNlci5kYXRhIiksYT1udWxsO28mJm8uc29tZSgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5uYW1lLHQ9ZS5zZWdtZW50O2lmKHI9PT1pKXJldHVybiBhPXQsITB9KSksYSYmYS5sZW5ndGgmJm4ucHVzaCh7bmFtZTplLHNlZ21lbnQ6YS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnIsdmFsdWU6ZX19KSl9KX19T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKFMpfX0sWzgwMV0pOwp1cGJqc0NodW5rKFs5M10sezgwOTpmdW5jdGlvbihlLG4sdCl7ZS5leHBvcnRzPXQoODEwKX0sODEwOmZ1bmN0aW9uKGUsbix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4ucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe2Q9ITF9LHQuZChuLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTt2YXIgcz10KDApLGk9dCgzKSxyPXQoMSksYT0iMy41ViIsZD0hMTtzLmxvZ01lc3NhZ2UoIkluaXRpYWxpemluZyBVRE0gQWRhcHRlci4gUEJKUyBWZXJzaW9uOiAiLmNvbmNhdCgiNS4xMS4wIiwiIHdpdGggYWRhcHRlciB2ZXJzaW9uOiAiKS5jb25jYXQoYSwiICBVcGRhdGVkIDIwMTkxMDI4IikpO3ZhciBvPXtjb2RlOiJ1bmRlcmRvZ21lZGlhIixiaWRQYXJhbXM6W10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIG49ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcztyZXR1cm4hIShlLnBhcmFtcyYmZS5wYXJhbXMuc2l0ZUlkJiZuJiZuLmxlbmd0aD4wKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG4pe3ZhciB0PVtdLGk9MDtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOmUuc2l6ZXM7dD1zLmZsYXR0ZW4odCxzLnBhcnNlU2l6ZXNJbnB1dChuKSksaT1lLnBhcmFtcy5zaXRlSWR9KSk7dmFyIHI9e3RpZDoxLGR0OjEwLHNpZDppLHNpemVzOnQuam9pbigiLCIpLHZlcnNpb246YX07aWYobiYmbi5nZHByQ29uc2VudCYmKHZvaWQgMCE9PW4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihyLmdkcHJBcHBsaWVzPSEhbi5nZHByQ29uc2VudC5nZHByQXBwbGllcyksbi5nZHByQ29uc2VudC52ZW5kb3JEYXRhJiZuLmdkcHJDb25zZW50LnZlbmRvckRhdGEudmVuZG9yQ29uc2VudHMmJnZvaWQgMCE9PW4uZ2RwckNvbnNlbnQudmVuZG9yRGF0YS52ZW5kb3JDb25zZW50c1sxNTldJiYoci5jb25zZW50R2l2ZW49ISFuLmdkcHJDb25zZW50LnZlbmRvckRhdGEudmVuZG9yQ29uc2VudHNbMTU5XSksdm9pZCAwIT09bi5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYoci5jb25zZW50RGF0YT1uLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxuLnVzcENvbnNlbnQmJihyLnVzcENvbnNlbnQ9bi51c3BDb25zZW50KSwhci5nZHByQXBwbGllc3x8ci5jb25zZW50R2l2ZW4pcmV0dXJue21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vdWRtc2VydmUubmV0L3VkbS9pbWcuZmV0Y2giLGRhdGE6cixiaWRQYXJhbXM6ZX19LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLG4pe2lmKCFkJiZuLmxlbmd0aD4wJiZuWzBdLmJvZHkmJm5bMF0uYm9keS51c2VyU3luY3MmJm5bMF0uYm9keS51c2VyU3luY3MubGVuZ3RoPjApcmV0dXJuIGQ9ITAsblswXS5ib2R5LnVzZXJTeW5jcy5maWx0ZXIoKGZ1bmN0aW9uKG4pe3ZhciB0PW4udHlwZTtyZXR1cm4hKCFlLmlmcmFtZUVuYWJsZWR8fCJpZnJhbWUiIT09dCl8fCghKCFlLnBpeGVsRW5hYmxlZHx8ImltYWdlIiE9PXQpfHx2b2lkIDApfSkpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLG4pe3ZhciB0PVtdO3JldHVybiBuLmJpZFBhcmFtcy5mb3JFYWNoKChmdW5jdGlvbihuKXtlLmJvZHkubWlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZighKGUudXNlQ291bnQ+MCkpe2UudXNlQ291bnR8fChlLnVzZUNvdW50PTApO3ZhciByPSEwLGQ9bi5tZWRpYVR5cGVzJiZuLm1lZGlhVHlwZXMuYmFubmVyJiZuLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP24ubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6bi5zaXplcztpZihzLnBhcnNlU2l6ZXNJbnB1dChkKS5mb3JFYWNoKChmdW5jdGlvbihuKXtuPT09ZS53aWR0aCsieCIrZS5oZWlnaHQmJihyPSExKX0pKSwhcil7dmFyIHA9e3JlcXVlc3RJZDpuLmJpZElkLGJpZGRlckNvZGU6by5jb2RlLGNwbTpwYXJzZUZsb2F0KGUuY3BtKSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCxhZDplLmFkX2NvZGVfaHRtbCxjcmVhdGl2ZUlkOmUubWlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITEsdHRsOmUudHRsfHw2MCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplLmFkdmVydGlzZXJfZG9tYWluc3x8W119fTtwLmNwbTw9MHx8cC5hZC5sZW5ndGg8PTB8fChlLnVzZUNvdW50KysscC5hZCs9ZnVuY3Rpb24oZSxuLHQpe3ZhciBzPW4ubm90aWZpY2F0aW9uX3VybCxyPXMuaW5kZXhPZigiO3ZlcnNpb249Iik7cisxJiYocz1zLnN1YnN0cmluZygwLHIpKTtzKz0iO3ZlcnNpb249Ii5jb25jYXQoYSkscys9IjtjYj0iK01hdGgucmFuZG9tKCkscys9IjtxcXE9IisxL2UuY3BtLHMrPSI7aGJ0PSIraS5iLmdldENvbmZpZygiX2JpZGRlclRpbWVvdXQiKSxzKz0iO3N0eWxlPWFkYXB0ZXIiLHMrPSI7dmlzPSIrZW5jb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSkscys9Ijt0cmFmZmljX2luZm89IitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoZnVuY3Rpb24oKXtmb3IodmFyIGUsbj17fSx0PXdpbmRvdy5sb2NhdGlvbi5ocmVmLnNsaWNlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoIj8iKSsxKS5zcGxpdCgiJiIpLHM9MDtzPHQubGVuZ3RoO3MrKykoZT10W3NdLnNwbGl0KCI9IikpWzBdLm1hdGNoKC9edXRtXy8pJiYobltlWzBdXT1lWzFdLnN1YnN0cigwLDE1MCkpO3JldHVybiBufSgpKSksdC5wYXJhbXMuc3ViSWQmJihzKz0iO3N1YmlkPSIrZW5jb2RlVVJJQ29tcG9uZW50KHQucGFyYW1zLnN1YklkKSk7cmV0dXJuJzxzY3JpcHQgYXN5bmMgc3JjPSInK3MrJyI+PFwvc2NyaXB0Pid9KHAsZSxuKSx0LnB1c2gocCkpfX19KSl9KSksdH19O09iamVjdChyLnJlZ2lzdGVyQmlkZGVyKShvKX19LFs4MDldKTsKdXBianNDaHVuayhbOF0sezE4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikpaWYoInB1YlByb3ZpZGVkSWQiPT09bil0PXQuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgcj1hKGVbbl0sbik7ciYmdC5wdXNoKHIpfXJldHVybiB0fSx0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gci5pc1BsYWluT2JqZWN0KGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24obil7ci5kZWVwQWNjZXNzKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJnIuZGVlcEFjY2VzcyhvLG4rIi5zb3VyY2UiKSYmdC5wdXNoKHtzb3VyY2U6b1tuXS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSksdH07dmFyIHI9bigwKSxvPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ci5waWNrKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX19O2Z1bmN0aW9uIGEoZSx0KXt2YXIgbj1vW3RdO2lmKG4mJmUpe3ZhciBhPXt9O2Euc291cmNlPW4uc291cmNlO3ZhciBpPXIuaXNGbihuLmdldFZhbHVlKT9uLmdldFZhbHVlKGUpOmU7aWYoci5pc1N0cihpKSl7dmFyIGM9e2lkOmksYXR5cGU6bi5hdHlwZX07aWYoci5pc0ZuKG4uZ2V0VWlkRXh0KSl7dmFyIHU9bi5nZXRVaWRFeHQoZSk7dSYmKGMuZXh0PXUpfWlmKGEudWlkcz1bY10sci5pc0ZuKG4uZ2V0RWlkRXh0KSl7dmFyIHM9bi5nZXRFaWRFeHQoZSk7cyYmKGEuZXh0PXMpfXJldHVybiBhfX1yZXR1cm4gbnVsbH19LDgxOTpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oODIwKX0sODIwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJQQkpTX1VTRVJfSURfT1BUT1VUX05BTUUiLChmdW5jdGlvbigpe3JldHVybiB3fSkpLG4uZCh0LCJjb3JlU3RvcmFnZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSksbi5kKHQsInN5bmNEZWxheSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGp9KSksbi5kKHQsImF1Y3Rpb25EZWxheSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGt9KSksdC5zZXRTdWJtb2R1bGVSZWdpc3RyeT1mdW5jdGlvbihlKXtWPWV9LHQuc2V0U3RvcmVkVmFsdWU9TCx0LnNldFN0b3JlZENvbnNlbnREYXRhPU0sdC5maW5kUm9vdERvbWFpbj1KLHQucmVxdWVzdEJpZHNIb29rPSQsbi5kKHQsInZhbGlkYXRlR2RwckVuZm9yY2VtZW50IiwoZnVuY3Rpb24oKXtyZXR1cm4gWX0pKSx0LmF0dGFjaElkU3lzdGVtPW5lLHQuaW5pdD1yZTt2YXIgcj1uKDExKSxvPW4ubihyKSxhPW4oMyksaT1uKDkpLGM9bi5uKGkpLHU9bigwKSxzPW4oMTQpLGQ9big4KSxsPW4oNSksZj1uLm4obCksZz1uKDEwKSxwPW4oMTgpLG09big3KSxiPW4oMTIpLHk9bi5uKGIpO2Z1bmN0aW9uIHYoZSx0KXt2YXIgbj0idW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYoIW4pe2lmKEFycmF5LmlzQXJyYXkoZSl8fChuPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gaChlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gaChlLHQpfShlKSl8fHQmJmUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpe24mJihlPW4pO3ZhciByPTAsbz1mdW5jdGlvbigpe307cmV0dXJue3M6byxuOmZ1bmN0aW9uKCl7cmV0dXJuIHI+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW3IrK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6b319dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfXZhciBhLGk9ITAsYz0hMTtyZXR1cm57czpmdW5jdGlvbigpe249bi5jYWxsKGUpfSxuOmZ1bmN0aW9uKCl7dmFyIGU9bi5uZXh0KCk7cmV0dXJuIGk9ZS5kb25lLGV9LGU6ZnVuY3Rpb24oZSl7Yz0hMCxhPWV9LGY6ZnVuY3Rpb24oKXt0cnl7aXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGF9fX19ZnVuY3Rpb24gaChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciBJLE8saixrLEQ9IlVzZXIgSUQiLEU9ImNvb2tpZSIsUz0iaHRtbDUiLHg9Il9wYmpzX3VzZXJpZF9jb25zZW50X2RhdGEiLEE9MzAsdz0iX3BianNfaWRfb3B0b3V0IixDPU9iamVjdChtLmEpKCJ1c2VyaWQiKSxVPVtdLF89ITEsUD1bXSxUPVtdLFY9W107ZnVuY3Rpb24gTChlLHQpe3ZhciBuPWUuY29uZmlnLnN0b3JhZ2Uscj0iZnVuY3Rpb24iPT10eXBlb2YgZS5zdWJtb2R1bGUuZG9tYWluT3ZlcnJpZGU/ZS5zdWJtb2R1bGUuZG9tYWluT3ZlcnJpZGUoKTpudWxsO3RyeXt2YXIgbz11LmlzUGxhaW5PYmplY3QodCk/SlNPTi5zdHJpbmdpZnkodCk6dCxhPW5ldyBEYXRlKERhdGUubm93KCkrODY0ZTUqbi5leHBpcmVzKS50b1VUQ1N0cmluZygpO24udHlwZT09PUU/KEMuc2V0Q29va2llKG4ubmFtZSxvLGEsIkxheCIsciksIm51bWJlciI9PXR5cGVvZiBuLnJlZnJlc2hJblNlY29uZHMmJkMuc2V0Q29va2llKCIiLmNvbmNhdChuLm5hbWUsIl9sYXN0IiksKG5ldyBEYXRlKS50b1VUQ1N0cmluZygpLGEsIkxheCIscikpOm4udHlwZT09PVMmJihDLnNldERhdGFJbkxvY2FsU3RvcmFnZSgiIi5jb25jYXQobi5uYW1lLCJfZXhwIiksYSksQy5zZXREYXRhSW5Mb2NhbFN0b3JhZ2Uobi5uYW1lLGVuY29kZVVSSUNvbXBvbmVudChvKSksIm51bWJlciI9PXR5cGVvZiBuLnJlZnJlc2hJblNlY29uZHMmJkMuc2V0RGF0YUluTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChuLm5hbWUsIl9sYXN0IiksKG5ldyBEYXRlKS50b1VUQ1N0cmluZygpKSl9Y2F0Y2goZSl7dS5sb2dFcnJvcihlKX19ZnVuY3Rpb24gTihlKXt2YXIgdD1PYmplY3QodS5nZXRQcmViaWRJbnRlcm5hbCkoKS5zZXRFaWRQZXJtaXNzaW9uczsiZnVuY3Rpb24iPT10eXBlb2YgdCYmdS5pc0FycmF5KGUpJiZ0KE9iamVjdChwLmEpKGUpKX1mdW5jdGlvbiBxKGUpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnZvaWQgMCxyPW4/IiIuY29uY2F0KGUubmFtZSwiXyIpLmNvbmNhdChuKTplLm5hbWU7dHJ5e2lmKGUudHlwZT09PUUpdD1DLmdldENvb2tpZShyKTtlbHNlIGlmKGUudHlwZT09PVMpe3ZhciBvPUMuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KGUubmFtZSwiX2V4cCIpKTsiIj09PW8/dD1DLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKHIpOm8mJm5ldyBEYXRlKG8pLmdldFRpbWUoKS1EYXRlLm5vdygpPjAmJih0PWRlY29kZVVSSUNvbXBvbmVudChDLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKHIpKSl9InN0cmluZyI9PXR5cGVvZiB0JiYieyI9PT10LnRyaW0oKS5jaGFyQXQoMCkmJih0PUpTT04ucGFyc2UodCkpfWNhdGNoKGUpe3UubG9nRXJyb3IoZSl9cmV0dXJuIHR9ZnVuY3Rpb24gRihlKXt2YXIgdD17Y29uc2VudFN0cmluZzoiIixnZHByQXBwbGllczohMSxhcGlWZXJzaW9uOjB9O3JldHVybiBlJiYodC5jb25zZW50U3RyaW5nPWUuY29uc2VudFN0cmluZyx0LmdkcHJBcHBsaWVzPWUuZ2RwckFwcGxpZXMsdC5hcGlWZXJzaW9uPWUuYXBpVmVyc2lvbiksdS5jeXJiNTNIYXNoKEpTT04uc3RyaW5naWZ5KHQpKX1mdW5jdGlvbiBNKGUpe3RyeXt2YXIgdD1uZXcgRGF0ZShEYXRlLm5vdygpKzg2NGU1KkEpLnRvVVRDU3RyaW5nKCk7Qy5zZXRDb29raWUoeCxGKGUpLHQsIkxheCIpfWNhdGNoKGUpe3UubG9nRXJyb3IoZSl9fWZ1bmN0aW9uIEIoKXt0cnl7cmV0dXJuIEMuZ2V0Q29va2llKHgpfWNhdGNoKGUpe3UubG9nRXJyb3IoZSl9fWZ1bmN0aW9uIFIoZSl7aWYoZSYmImJvb2xlYW4iPT10eXBlb2YgZS5nZHByQXBwbGllcyYmZS5nZHByQXBwbGllcyl7aWYoIWUuY29uc2VudFN0cmluZylyZXR1cm4hMTtpZigxPT09ZS5hcGlWZXJzaW9uJiYhMT09PXUuZGVlcEFjY2VzcyhlLCJ2ZW5kb3JEYXRhLnB1cnBvc2VDb25zZW50cy4xIikpcmV0dXJuITE7aWYoMj09PWUuYXBpVmVyc2lvbiYmITE9PT11LmRlZXBBY2Nlc3MoZSwidmVuZG9yRGF0YS5wdXJwb3NlLmNvbnNlbnRzLjEiKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBKKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtpZighQy5jb29raWVzQXJlRW5hYmxlZCgpKXJldHVybiBlO3ZhciB0LG4scj1lLnNwbGl0KCIuIik7aWYoMj09ci5sZW5ndGgpcmV0dXJuIGU7dmFyIG89LTIsYT0iX3JkYyIuY29uY2F0KERhdGUubm93KCkpLGk9IndyaXRlYWJsZSI7ZG97dD1yLnNsaWNlKG8pLmpvaW4oIi4iKTt2YXIgYz1uZXcgRGF0ZSh1LnRpbWVzdGFtcCgpKzFlNCkudG9VVENTdHJpbmcoKTtDLnNldENvb2tpZShhLGksYywiTGF4Iix0LHZvaWQgMCk7dmFyIHM9Qy5nZXRDb29raWUoYSx2b2lkIDApO3M9PT1pPyhuPSExLEMuc2V0Q29va2llKGEsIiIsIlRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UIix2b2lkIDAsdCx2b2lkIDApKToobys9LTEsbj1NYXRoLmFicyhvKTw9ci5sZW5ndGgpfXdoaWxlKG4pO3JldHVybiB0fWZ1bmN0aW9uIEgoZSx0KXt2YXIgbj1mdW5jdGlvbigpe307dCYmKG49dS5kZWxheUV4ZWN1dGlvbigoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoTyksdCgpfSksZS5sZW5ndGgpKSxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuY2FsbGJhY2soKGZ1bmN0aW9uKHQpe3Q/KGUuY29uZmlnLnN0b3JhZ2UmJkwoZSx0KSxlLmlkT2JqPWUuc3VibW9kdWxlLmRlY29kZSh0LGUuY29uZmlnKSk6dS5sb2dJbmZvKCIiLmNvbmNhdChELCI6ICIpLmNvbmNhdChlLnN1Ym1vZHVsZS5uYW1lLCIgLSByZXF1ZXN0IGlkIHJlc3BvbmRlZCB3aXRoIGFuIGVtcHR5IHZhbHVlIikpLG4oKX0pKSxlLmNhbGxiYWNrPXZvaWQgMH0pKX1mdW5jdGlvbiB6KGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD9lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHUuaXNQbGFpbk9iamVjdChlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmtleXModC5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24obil7ZVtuXT10LmlkT2JqW25dfSkpLGV9KSx7fSk6e319ZnVuY3Rpb24gRyhlLHQpe1tlXS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4hQXJyYXkuaXNBcnJheShlKXx8IWUubGVuZ3RofSkpfHxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkcyYmdS5pc0FycmF5KGUuYmlkcykmJighZS5iaWRzLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlcn0pKSYmdS5kZWVwQWNjZXNzKGUsIm9ydGIySW1wLmV4dC5wcmViaWQuc3RvcmVkcmVxdWVzdCIpJiZlLmJpZHMucHVzaCh7YmlkZGVyOiJzMnNCaWRkZXJQbGFjZWhvbGRlciJ9KSxlLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGgmJnQ/ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLmNvbmZpZy5iaWRkZXJzfHwhdS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpfHx5KCkoZS5jb25maWcuYmlkZGVycyx0KXx8InMyc0JpZGRlclBsYWNlaG9sZGVyIj09PXR9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdS5pc1BsYWluT2JqZWN0KGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qua2V5cyh0LmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW25dPXQuaWRPYmpbbl19KSksZX0pLHt9KTp7fX0odCxlLmJpZGRlcik7T2JqZWN0LmtleXMobikubGVuZ3RoJiYoZS51c2VySWQ9bixlLnVzZXJJZEFzRWlkcz1PYmplY3QocC5iKShuKSl9KSkpfSkpfWZ1bmN0aW9uIFcoZSl7dmFyIHQ9ITE7aWYodm9pZCAwPT09SSYmKEk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1ZKGUsdCkscj1uLnVzZXJJZE1vZHVsZXM7aWYoIW4uaGFzVmFsaWRhdGVkJiYhUih0KSlyZXR1cm4gdS5sb2dXYXJuKCIiLmNvbmNhdChELCIgLSBnZHByIHBlcm1pc3Npb24gbm90IHZhbGlkIGZvciBsb2NhbCBzdG9yYWdlIG9yIGNvb2tpZXMsIGV4aXQgbW9kdWxlIikpLFtdO3ZhciBvPUIoKTtyZXR1cm4gTSh0KSxyLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gWihuLHQsbywhMSksZS5wdXNoKG4pLGV9KSxbXSl9KFAsZC5nZHByRGF0YUhhbmRsZXIuZ2V0Q29uc2VudERhdGEoKSkpLmxlbmd0aCl7TihJKTt2YXIgbj1JLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHUuaXNGbihlLmNhbGxiYWNrKX0pKTtpZihuLmxlbmd0aClpZihlJiZrPjApe3Q9ITA7dmFyIHI9ITEsbz1mdW5jdGlvbigpe3J8fChyPSEwLGUoKSl9O3UubG9nSW5mbygiIi5jb25jYXQoRCwiIC0gYXVjdGlvbiBkZWxheWVkIGJ5ICIpLmNvbmNhdChrLCIgYXQgbW9zdCB0byBmZXRjaCBpZHMiKSksTz1zZXRUaW1lb3V0KG8sayksSChuLG8pfWVsc2UgYy5hLm9uKGYuYS5FVkVOVFMuQVVDVElPTl9FTkQsKGZ1bmN0aW9uIGUoKXtjLmEub2ZmKGYuYS5FVkVOVFMuQVVDVElPTl9FTkQsZSksaj4wP3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7SChuKX0pLGopOkgobil9KSl9ZSYmIXQmJmUoKX1mdW5jdGlvbiAkKGUsdCl7VygoZnVuY3Rpb24oKXtHKHQuYWRVbml0c3x8T2JqZWN0KHMuYSkoKS5hZFVuaXRzLEkpLGUuY2FsbCh0aGlzLHQpfSkpfWZ1bmN0aW9uIEsoKXtyZXR1cm4gVygpLHooSSl9ZnVuY3Rpb24gUSgpe3JldHVybiBXKCksT2JqZWN0KHAuYikoeihJKSl9ZnVuY3Rpb24gWChlLHQpe3ZhciBuPWU/ZS5zdWJtb2R1bGVOYW1lczpudWxsO258fChuPVtdKSxXKChmdW5jdGlvbigpe3ZhciBlPWQuZ2RwckRhdGFIYW5kbGVyLmdldENvbnNlbnREYXRhKCkscj1ZKFAsZSksbz1yLnVzZXJJZE1vZHVsZXM7aWYoci5oYXNWYWxpZGF0ZWR8fFIoZSkpe3ZhciBhPUIoKTtNKGUpO3ZhciBpLGM9W10scz12KG8pO3RyeXtmb3Iocy5zKCk7IShpPXMubigpKS5kb25lOyl7dmFyIGw9aS52YWx1ZTtuLmxlbmd0aD4wJiYtMT09PW4uaW5kZXhPZihsLnN1Ym1vZHVsZS5uYW1lKXx8KHUubG9nSW5mbygiIi5jb25jYXQoRCwiIC0gcmVmcmVzaGluZyAiKS5jb25jYXQobC5zdWJtb2R1bGUubmFtZSkpLFoobCxlLGEsITApLGVlKGwpLEkubGVuZ3RoJiZOKEkpLHUuaXNGbihsLmNhbGxiYWNrKSYmYy5wdXNoKGwpKX19Y2F0Y2goZSl7cy5lKGUpfWZpbmFsbHl7cy5mKCl9Yy5sZW5ndGg+MCYmSChjKSx0JiZ0KCl9ZWxzZSB1LmxvZ1dhcm4oIiIuY29uY2F0KEQsIiAtIGdkcHIgcGVybWlzc2lvbiBub3QgdmFsaWQgZm9yIGxvY2FsIHN0b3JhZ2Ugb3IgY29va2llcywgZXhpdCBtb2R1bGUiKSl9KSl9dmFyIFk9T2JqZWN0KGcuYikoInN5bmMiLChmdW5jdGlvbihlLHQpe3JldHVybnt1c2VySWRNb2R1bGVzOmUsaGFzVmFsaWRhdGVkOnQmJnQuaGFzVmFsaWRhdGVkfX0pLCJ2YWxpZGF0ZUdkcHJFbmZvcmNlbWVudCIpO2Z1bmN0aW9uIFooZSx0LG4scil7aWYoZS5jb25maWcuc3RvcmFnZSl7dmFyIG8sYT1xKGUuY29uZmlnLnN0b3JhZ2UpLGk9ITE7aWYoIm51bWJlciI9PXR5cGVvZiBlLmNvbmZpZy5zdG9yYWdlLnJlZnJlc2hJblNlY29uZHMpe3ZhciBjPW5ldyBEYXRlKHEoZS5jb25maWcuc3RvcmFnZSwibGFzdCIpKTtpPWMmJkRhdGUubm93KCktYy5nZXRUaW1lKCk+MWUzKmUuY29uZmlnLnN0b3JhZ2UucmVmcmVzaEluU2Vjb25kc30hYXx8aXx8cnx8IWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGwhPWUmJmU9PT1GKHQpfShuLHQpP289ZS5zdWJtb2R1bGUuZ2V0SWQoZS5jb25maWcsdCxhKToiZnVuY3Rpb24iPT10eXBlb2YgZS5zdWJtb2R1bGUuZXh0ZW5kSWQmJihvPWUuc3VibW9kdWxlLmV4dGVuZElkKGUuY29uZmlnLHQsYSkpLHUuaXNQbGFpbk9iamVjdChvKSYmKG8uaWQmJihMKGUsby5pZCksYT1vLmlkKSwiZnVuY3Rpb24iPT10eXBlb2Ygby5jYWxsYmFjayYmKGUuY2FsbGJhY2s9by5jYWxsYmFjaykpLGEmJihlLmlkT2JqPWUuc3VibW9kdWxlLmRlY29kZShhLGUuY29uZmlnKSl9ZWxzZSBpZihlLmNvbmZpZy52YWx1ZSllLmlkT2JqPWUuY29uZmlnLnZhbHVlO2Vsc2V7dmFyIHM9ZS5zdWJtb2R1bGUuZ2V0SWQoZS5jb25maWcsdCx2b2lkIDApO3UuaXNQbGFpbk9iamVjdChzKSYmKCJmdW5jdGlvbiI9PXR5cGVvZiBzLmNhbGxiYWNrJiYoZS5jYWxsYmFjaz1zLmNhbGxiYWNrKSxzLmlkJiYoZS5pZE9iaj1lLnN1Ym1vZHVsZS5kZWNvZGUocy5pZCxlLmNvbmZpZykpKX19ZnVuY3Rpb24gZWUoZSl7Zm9yKHZhciB0PSExLG49MDtuPEkubGVuZ3RoO24rKylpZihlLmNvbmZpZy5uYW1lLnRvTG93ZXJDYXNlKCk9PT1JW25dLmNvbmZpZy5uYW1lLnRvTG93ZXJDYXNlKCkpe3Q9ITAsSVtuXT1lO2JyZWFrfXR8fEkucHVzaChlKX1mdW5jdGlvbiB0ZSgpe3ZhciBlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4hdHx8dS5pc0VtcHR5U3RyKHQubmFtZSl8fCghdC5zdG9yYWdlfHx1LmlzRW1wdHlTdHIodC5zdG9yYWdlLnR5cGUpfHx1LmlzRW1wdHlTdHIodC5zdG9yYWdlLm5hbWUpfHwtMT09PW4uaW5kZXhPZih0LnN0b3JhZ2UudHlwZSk/dS5pc1BsYWluT2JqZWN0KHQudmFsdWUpP2UucHVzaCh0KTp0LnN0b3JhZ2V8fHQudmFsdWV8fGUucHVzaCh0KTplLnB1c2godCkpLGV9KSxbXSk6W119KFQsMCxVKTtpZihlLmxlbmd0aCl7dmFyIHQ9Vi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFvKCkoUCwoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWUubmFtZX0pKX0pKTtQPXQubWFwKChmdW5jdGlvbih0KXt2YXIgbj1vKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZSYmKGUubmFtZS50b0xvd2VyQ2FzZSgpPT09dC5uYW1lLnRvTG93ZXJDYXNlKCl8fHQuYWxpYXNOYW1lJiZlLm5hbWUudG9Mb3dlckNhc2UoKT09PXQuYWxpYXNOYW1lLnRvTG93ZXJDYXNlKCkpfSkpO3JldHVybiBuJiZ0Lm5hbWUhPT1uLm5hbWUmJihuLm5hbWU9dC5uYW1lKSx0LmZpbmRSb290RG9tYWluPUosbj97c3VibW9kdWxlOnQsY29uZmlnOm4sY2FsbGJhY2s6dm9pZCAwLGlkT2JqOnZvaWQgMH06bnVsbH0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09ZX0pKSwhXyYmUC5sZW5ndGgmJihPYmplY3Qocy5hKSgpLnJlcXVlc3RCaWRzLmJlZm9yZSgkLDQwKSx1LmxvZ0luZm8oIiIuY29uY2F0KEQsIiAtIHVzZXJzeW5jIGNvbmZpZyB1cGRhdGVkIGZvciAiKS5jb25jYXQoUC5sZW5ndGgsIiBzdWJtb2R1bGVzOiAiKSxQLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3VibW9kdWxlLm5hbWV9KSkpLF89ITApfX1mdW5jdGlvbiBuZShlKXtvKCkoViwoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWUubmFtZX0pKXx8KFYucHVzaChlKSx0ZSgpKX1mdW5jdGlvbiByZShlKXtQPVtdLFQ9W10sXz0hMSxJPXZvaWQgMCwtMSE9PShVPVtDLmxvY2FsU3RvcmFnZUlzRW5hYmxlZCgpP1M6bnVsbCxDLmNvb2tpZXNBcmVFbmFibGVkKCk/RTpudWxsXS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09ZX0pKSkuaW5kZXhPZihFKSYmQy5nZXRDb29raWUodyk/dS5sb2dJbmZvKCIiLmNvbmNhdChELCIgLSBvcHQtb3V0IGNvb2tpZSBmb3VuZCwgZXhpdCBtb2R1bGUiKSk6LTEhPT1VLmluZGV4T2YoUykmJkMuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uodyk/dS5sb2dJbmZvKCIiLmNvbmNhdChELCIgLSBvcHQtb3V0IGxvY2FsU3RvcmFnZSBmb3VuZCwgZXhpdCBtb2R1bGUiKSk6KGUuZ2V0Q29uZmlnKChmdW5jdGlvbihlKXt2YXIgdD1lLnVzZXJTeW5jO3QmJnQudXNlcklkcyYmKFQ9dC51c2VySWRzLGo9dS5pc051bWJlcih0LnN5bmNEZWxheSk/dC5zeW5jRGVsYXk6NTAwLGs9dS5pc051bWJlcih0LmF1Y3Rpb25EZWxheSk/dC5hdWN0aW9uRGVsYXk6MCx0ZSgpKX0pKSxPYmplY3Qocy5hKSgpLmdldFVzZXJJZHM9SyxPYmplY3Qocy5hKSgpLmdldFVzZXJJZHNBc0VpZHM9USxPYmplY3Qocy5hKSgpLnJlZnJlc2hVc2VySWRzPVgpfXJlKGEuYiksT2JqZWN0KGcuYykoInVzZXJJZCIsbmUpfX0sWzgxOV0pOwp1cGJqc0NodW5rKFs3MV0sezg1ODpmdW5jdGlvbihlLGEscil7ZS5leHBvcnRzPXIoODU5KX0sODU5OmZ1bmN0aW9uKGUsYSxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZChhLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgbj1yKDApLHQ9cigxKSxpPXIoMTEpLHM9ci5uKGkpLGQ9cigyKSxvPXIoMTMpLGM9Imh0dHBzOi8vYWQueWllbGRsYWIubmV0IixwPXtjb2RlOiJ5aWVsZGxhYiIsZ3ZsaWQ6NzAsc3VwcG9ydGVkTWVkaWFUeXBlczpbZC5kLGQuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5wYXJhbXMmJmUucGFyYW1zLmFkc2xvdElkJiZlLnBhcmFtcy5zdXBwbHlJZCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxhKXt2YXIgcj1bXSx0PXt0czpEYXRlLm5vdygpLGpzb246ITB9O24uX2VhY2goZSwoZnVuY3Rpb24oZSl7aWYoci5wdXNoKGUucGFyYW1zLmFkc2xvdElkKSxlLnBhcmFtcy50YXJnZXRpbmcmJih0LnQ9ZnVuY3Rpb24oZSl7dmFyIGE9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSl7dmFyIG49cix0PWVbcl07YS5wdXNoKG4rIj0iK3QpfXJldHVybiBhLmpvaW4oIiYiKX0oZS5wYXJhbXMudGFyZ2V0aW5nKSksZS51c2VySWRBc0VpZHMmJkFycmF5LmlzQXJyYXkoZS51c2VySWRBc0VpZHMpJiYodC5pZHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciBhPVtdLHI9MDtyPGUubGVuZ3RoO3IrKylhLnB1c2goZVtyXS5zb3VyY2UrIjoiK2Vbcl0udWlkc1swXS5pZCk7cmV0dXJuIGEuam9pbigiLCIpfShlLnVzZXJJZEFzRWlkcykpLGUucGFyYW1zLmN1c3RvbVBhcmFtcyYmbi5pc1BsYWluT2JqZWN0KGUucGFyYW1zLmN1c3RvbVBhcmFtcykpZm9yKHZhciBhIGluIGUucGFyYW1zLmN1c3RvbVBhcmFtcyl0W2FdPWUucGFyYW1zLmN1c3RvbVBhcmFtc1thXTt2YXIgaSxzLGQsbyxjO2Uuc2NoYWluJiZuLmlzUGxhaW5PYmplY3QoZS5zY2hhaW4pJiZBcnJheS5pc0FycmF5KGUuc2NoYWluLm5vZGVzKSYmKHQuc2NoYWluPShpPWUuc2NoYWluLHM9aS52ZXJ8fCIiLGQ9MT09PWkuY29tcGxldGV8fDA9PT1pLmNvbXBsZXRlP2kuY29tcGxldGU6IiIsbz1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiIsImV4dCJdLGM9aS5ub2Rlcy5yZWR1Y2UoKGZ1bmN0aW9uKGUsYSl7cmV0dXJuIGUrIiEiLmNvbmNhdChvLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGFbZV0/KHI9YVtlXSxlbmNvZGVVUklDb21wb25lbnQocikucmVwbGFjZSgvIS9nLCIlMjEiKSk6IiI7dmFyIHJ9KSkuam9pbigiLCIpKX0pLCIiKSwiIi5jb25jYXQocywiLCIpLmNvbmNhdChkKS5jb25jYXQoYykpKX0pKSxhJiYoYS5yZWZlcmVySW5mbyYmYS5yZWZlcmVySW5mby5yZWZlcmVyJiYodC5wdWJyZWY9YS5yZWZlcmVySW5mby5yZWZlcmVyKSxhLmdkcHJDb25zZW50JiYodC5nZHByPSJib29sZWFuIiE9dHlwZW9mIGEuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN8fGEuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMsdC5nZHByJiYodC5jb25zZW50PWEuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpKTt2YXIgaT1yLmpvaW4oIiwiKSxzPWZ1bmN0aW9uKGUpe3ZhciBhPVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpe3ZhciBuPWVbcl07InNjaGFpbiIhPT1yP2EucHVzaChlbmNvZGVVUklDb21wb25lbnQocikrIj0iK2VuY29kZVVSSUNvbXBvbmVudChuKSk6YS5wdXNoKHIrIj0iK24pfXJldHVybiBhLmpvaW4oIiYiKX0odCk7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6IiIuY29uY2F0KGMsIi95cC8iKS5jb25jYXQoaSwiPyIpLmNvbmNhdChzKSx2YWxpZEJpZFJlcXVlc3RzOmUscXVlcnlQYXJhbXM6dH19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsYSl7dmFyIHI9W10sdD1EYXRlLm5vdygpLGk9YS5xdWVyeVBhcmFtcztyZXR1cm4gYS52YWxpZEJpZFJlcXVlc3RzLmZvckVhY2goKGZ1bmN0aW9uKGEpe2lmKGUuYm9keSl7dmFyIHAsdixmPXMoKShlLmJvZHksKGZ1bmN0aW9uKGUpe3JldHVybiBhLnBhcmFtcy5hZHNsb3RJZD09ZS5pZH0pKTtpZihmKXt2YXIgbD0yIT09YS5zaXplcy5sZW5ndGh8fG4uaXNBcnJheShhLnNpemVzWzBdKT9hLnNpemVzWzBdOmEuc2l6ZXMsaD12b2lkIDAhPT1hLnBhcmFtcy5hZFNpemU/dShhLnBhcmFtcy5hZFNpemUpOnZvaWQgMCE9PWYuYWRzaXplP3UoZi5hZHNpemUpOmwseT12b2lkIDAhPT1hLnBhcmFtcy5leHRJZD8iJmlkPSIrYS5wYXJhbXMuZXh0SWQ6IiIsZz12b2lkIDAhPT1mLmFkdHlwZT9mLmFkdHlwZToiIixJPWkuZ2Rwcj8iJmdkcHI9IitpLmdkcHI6IiIsdz1pLmNvbnNlbnQ/IiZjb25zZW50PSIraS5jb25zZW50OiIiLGI9dm9pZCAwIT09Zi5wdmlkPyImcHZpZD0iK2YucHZpZDoiIixBPXtyZXF1ZXN0SWQ6YS5iaWRJZCxjcG06Zi5wcmljZS8xMDAsd2lkdGg6aFswXSxoZWlnaHQ6aFsxXSxjcmVhdGl2ZUlkOiIiK2YuaWQsZGVhbElkOmZbImMuZGVhbGlkIl0/ZlsiYy5kZWFsaWQiXTpmLnBpZCxjdXJyZW5jeToiRVVSIixuZXRSZXZlbnVlOiExLHR0bDozMDAscmVmZXJyZXI6IiIsYWQ6JzxzY3JpcHQgc3JjPSInLmNvbmNhdChjLCIvZC8iKS5jb25jYXQoZi5pZCwiLyIpLmNvbmNhdChhLnBhcmFtcy5zdXBwbHlJZCwiLz90cz0iKS5jb25jYXQodCkuY29uY2F0KHkpLmNvbmNhdChJKS5jb25jYXQodykuY29uY2F0KGIsJyI+PFwvc2NyaXB0PicpLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmYuYWR2ZXJ0aXNlcj9mLmFkdmVydGlzZXI6Im4vYSJ9fTtpZihwPWEsdj1nLG4uZGVlcEFjY2VzcyhwLCJtZWRpYVR5cGVzLnZpZGVvIikmJiJ2aWRlbyI9PT12LnRvTG93ZXJDYXNlKCkpe3ZhciBqPWZ1bmN0aW9uKGUpe3ZhciBhPW4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKTtyZXR1cm4gYSYmbi5pc0FycmF5KGFbMF0pP2FbMF06YX0oYSk7aWYoaiYmKEEud2lkdGg9alswXSxBLmhlaWdodD1qWzFdKSxBLm1lZGlhVHlwZT1kLmQsQS52YXN0VXJsPSIiLmNvbmNhdChjLCIvZC8iKS5jb25jYXQoZi5pZCwiLyIpLmNvbmNhdChhLnBhcmFtcy5zdXBwbHlJZCwiLz90cz0iKS5jb25jYXQodCkuY29uY2F0KHkpLmNvbmNhdChJKS5jb25jYXQodykuY29uY2F0KGIpLGZ1bmN0aW9uKGUpe3JldHVybiJvdXRzdHJlYW0iPT09bi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpfShhKSl7dmFyIFA9by5hLmluc3RhbGwoe2lkOmEuYmlkSWQsdXJsOiJodHRwczovL2FkLmFkaXRpb24uY29tL2R5bmFtaWMuYWQ/YT1vMTkzMDkyJm1hX2xvYWRFdmVudD1tYS1zdGFydC1ldmVudCIsbG9hZGVkOiExfSk7UC5zZXRSZW5kZXIobSksQS5yZW5kZXJlcj1QfX1yLnB1c2goQSl9fX0pKSxyfX07ZnVuY3Rpb24gdShlKXtyZXR1cm4gZS5zcGxpdCgieCIpLm1hcChOdW1iZXIpfWZ1bmN0aW9uIG0oZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5tYV93aWR0aD1lLndpZHRoLHdpbmRvdy5tYV9oZWlnaHQ9ZS5oZWlnaHQsd2luZG93Lm1hX3Zhc3RVcmw9ZS52YXN0VXJsLHdpbmRvdy5tYV9jb250YWluZXI9ZS5hZFVuaXRDb2RlLHdpbmRvdy5kb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgibWEtc3RhcnQtZXZlbnQiKSl9KSl9T2JqZWN0KHQucmVnaXN0ZXJCaWRkZXIpKHApfX0sWzg1OF0pOwp1cGJqcy5wcm9jZXNzUXVldWUoKTs=";try{var decodedCode=atob(prebidjsCode);eval(decodedCode)}catch(e){}_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs=window.upbjs};this.load=function(){_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs||(initPbjs(),subscriptionLayer.invokeEventCallbacks("postset"))}}},246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=function(e,t,n){for(var i=[],r=0;r<e.length;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i},r=function(e){return"[object Array]"===Object.prototype.toString.call(e)};const o={map:function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i,e));return n},filter:i,reject:function(e,t,n){for(var i=[],r=0;r<e.length;r++)t.call(n,e[r],r,e)||i.push(e[r]);return i},forEach:function(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n],n,e)},find:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i,n,e))return i}},flat:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if(r(i))for(var o=0;o<i.length;o++){var a=i[o];t.push(a)}else t.push(i)}return t},isArray:r,distinct:function(e){return i(e,(function(e,t,n){return n.indexOf(e)===t}))},reduce:function(e,t){if(null===e)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,i=Object(e),r=i.length>>>0,o=0;if(arguments.length>=3)n=arguments[2];else{for(;o<r&&!(o in i);)o++;if(o>=r)throw new TypeError("Reduce of empty array with no initial value");n=i[o++]}for(;o<r;)o in i&&(n=t(n,i[o],o,i)),o++;return n},addClass:function(e,t){if(t&&e){var n=t.className;-1==n.indexOf(e)&&(""!=n&&(e=" "+e),t.className=n+e)}},removeClass:function(e,t){if(t&&e){var n=t.className,i=new RegExp("\\b"+e+"\\b","g");n=n.replace(i,""),t.className=n}},hasClass:function(e,t){if(e&&t)return(" "+e.className+" ").indexOf(" "+t+" ")>-1},objectAssign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},CDefer:function(){var e,t,n=this;this.fate="unresolved",this.state="pending",this.promise=new Promise((function(n,i){e=n,t=i})),this.promise.then((function(e){return n.state="fulfilled",e}),(function(e){return n.state="rejected",e})),this.resolve=function(t){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",e(t)},this.reject=function(e){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",t(e)},this.isResolved=function(){return"resolved"===this.fate},this.isPending=function(){return"pending"===this.state},this.isFulfilled=function(){return"fulfilled"===this.state},this.isRejected=function(){return"rejected"===this.state}}}},616:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deepClone:()=>d,isNumber:()=>c,isNil:()=>l,debounce:()=>u,escapeSelector:()=>g,getElementWithSelector:()=>p,isElementInBody:()=>m,isFirstViewPortElement:()=>w,extractQueryParamFromUrl:()=>b,getTopmostAccessibleWindow:()=>v,extractVariableFromString:()=>M,getRandomInt:()=>N,getTrueByProbability:()=>D,truncateString:()=>y,matchStringsOnString:()=>X});var i=n(2),r=n(552),o=n(246),a=n(836),s=new r.Z({prefix:"commonUtils: "}),d=function e(t){if(!t)return t;var n,r=[Number,String,Boolean];try{if(o.Z.forEach(r,(function(e){t instanceof e&&(n=e(t))})),void 0===n)if("[object Array]"===Object.prototype.toString.call(t))n=[],o.Z.forEach(t,(function(t,i,r){n[i]=e(t)}));else if("object"==(0,i.Z)(t))if(t.nodeType&&"function"==typeof t.cloneNode)n=t.cloneNode(!0);else if(t.prototype)n=t;else if(t instanceof Date)n=new Date(t);else for(var a in n={},t)n[a]=e(t[a]);else n=t}catch(e){n=t}return n};function c(e){return!isNaN(e)&&"number"==typeof e}function l(e){return null==e}function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var d=function(){t=null,i||e.apply(r,a)},c=i&&!t;clearTimeout(t),t=setTimeout(d,n),c&&e.apply(r,a)}}var h=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function f(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function g(e){var t=e.charAt(0);return"#"===t||"."===t?t+e.substring(1).replace(h,f):e}function p(e){try{return document.querySelector(e)}catch(t){s.errorf(null,"document.querySelector:%o - error:%o",[e,t])}}function m(e){return e&&(document.documentElement||document.body).contains(e)}var w=function(e){try{if(!e)return;var t,n,i=!1;"none"===window.getComputedStyle(e).display&&(t=e.style.getPropertyValue("display"),n=e.style.getPropertyPriority("display"),e.style.setProperty("display","block","important"),i=!0);var r=e.getBoundingClientRect().top+window.scrollY;return i&&e.style.setProperty("display",t,n),r<=a.Z.consts.acceptableStandardScreenSize.height}catch(e){s.errorf(null,"isFirstViewPortElement - error: %o",e)}},b=function(e,t){e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},v=function(){var e=window;try{for(;e!==e.parent;)e.parent.document,e=e.parent}catch(e){s.errorf(null,"getTopmostAccessibleWindow - error: %o",e)}return e},M=function(e,t){if(e){for(var n=t.split("."),i=e,r=0;r<n.length;r++){var o=n[r];if(!i[o])return;i=i[o]}return i}};function N(e){return Math.floor(Math.random()*Math.floor(e))}function D(e){return N(100)<e}function y(e,t){return e.length>t?e.substring(0,t):e}function X(e,t){return e.every((function(e){return t.includes(e)}))}},614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var i={};n.r(i),n.d(i,{getSizeType:()=>m,isUnacceptable:()=>M,isUnacceptableFirstViewPortSize:()=>w});var r=n(836),o=n(616),a=new function(){this.insertElement=function(e,t,n){switch(n){case"appendChild":t.appendChild(e);break;case"insertBefore":t.parentElement.insertBefore(e,t);break;case"insertAfter":t.nextElementSibling?this.insertElement(e,t.nextElementSibling,"insertBefore"):this.insertElement(e,t.parentElement,"appendChild")}}},s=n(246),d=n(302),c=[{width:300,height:250},{width:336,height:280},{width:300,height:600},{width:160,height:600},{width:120,height:600},{width:120,height:240},{width:250,height:250},{width:200,height:200},{width:180,height:150},{width:125,height:125},{width:728,height:90},{width:970,height:90},{width:970,height:250},{width:468,height:60},{width:234,height:60}],l=function(e,t){var n=function(e,t){return s.Z.filter(e,(function(e){return N.sizeValidation.getSizeType(e)===t}))}(c,e);return n=s.Z.filter(n,(function(e){return!N.sizeValidation.isUnacceptableFirstViewPortSize(e)||!t}))},u=function(e,t,n){for(var i=function(e){for(var t=0,n=0,i=0;i<e.length;i++){var r=e[i];r&&r.width&&r.height&&(r.width>t&&(t=r.width),r.height>n&&(n=r.height))}return{width:t,height:n}}(e),r=N.sizeValidation.getSizeType(t),o=l(r,n),a=0;a<o.length;a++){var s=o[a];if(s.width<=i.width&&s.height<=i.height){for(var d=!0,c=0;c<e.length;c++){var u=e[c];if(u&&u.width===s.width&&u.height===s.height){d=!1;break}}if(d)return s}}},h=function(e){var t=document.createElement("a");return t.setAttribute("href",e),t},f=function(e,t){if(e&&e.length>0)for(var n=0;n<e.length;n++){for(var i=e[n],r=!0,o=0;o<i.length;o++){var a=i[o];if(t[a.type].indexOf(a.string)<0){r=!1;break}}if(r)return!0}};var g=1,p=2,m=function(e){return e.width>350?g:p},w=function(e){var t=m(e),n=r.Z.consts.acceptableStandardScreenSize.width*r.Z.consts.acceptableStandardScreenSize.height,i=e.height,o=e.width,a=o*i/n*100>=16;return t==p?a||o>350:a||e.height>200},b=function e(t,n){var i,o,a=m(n),s=!1,d=!0,c=!1,l=n.height,u=n.width;if(t){"none"===window.getComputedStyle(t).display&&(i=t.style.getPropertyValue("display"),o=t.style.getPropertyPriority("display"),t.style.setProperty("display","block","important"),s=!0);var h=t.getBoundingClientRect().top;l=(c=h+n.height>r.Z.consts.acceptableStandardScreenSize.height)?r.Z.consts.acceptableStandardScreenSize.height-h:n.height}return d=a==p&&c?e(t,{width:u,height:l})&&v(n):w(n),s&&t.style.setProperty("display",i,o),d},v=function(e){var t=r.Z.consts.acceptableStandardScreenSize.width*r.Z.consts.acceptableStandardScreenSize.height,n=m(e);return e.width*e.height/t*100>=26||n==g&&e.height>400},M=function(e,t){return!e||N.commonUtils.isFirstViewPortElement(e)?b(e,t):v(t)};const N={addAcceptableParam:function(e){return e.indexOf(r.Z.upoSettings.acceptableURLParam)>-1?e:e=(e=e.indexOf("?")>-1?e+"&"+r.Z.upoSettings.acceptableURLParam:e+"?"+r.Z.upoSettings.acceptableURLParam).replace("&&upapi=true","&upapi=true")},commonUtils:o,ElementInsertion:a,sizesRemover:function(e,t){var n=[],i=d.Y.fireEvent("enableLegacySizesReplacer");s.Z.forEach(t,(function(e){e.width&&e.height&&n.push({width:e.width,height:e.height})}));for(var r=0;r<n.length;r++){var o=n[r];if(N.sizeValidation.isUnacceptable(e,o))if(i){var a=N.commonUtils.isFirstViewPortElement(e);n[r]=u(n,o,a)}else n.splice(r,1),r--}return n},SubscriptionLayer:function(){var e={};this.subscribeForEvent=function(t,n){e[t]=e[t]||[],e[t].indexOf(n)<0&&e[t].push(n)},this.invokeEventCallbacks=function(t,n){var i=e[t]||[];s.Z.forEach(i,(function(e){e.call(void 0,n)}))}},urlValidations:{isSyncUrl:function(e,t){if("IMG"!==t)return!1;for(var n=h(e),i=[[{string:"/sync",type:"pathname"}],[{string:"/cookiesync",type:"pathname"}],[{string:"/rset",type:"pathname"}],[{string:"/getuid",type:"pathname"}],[{string:"/track",type:"pathname"}],[{string:"/pixel",type:"pathname"}],[{string:"/Pixel",type:"pathname"}],[{string:".pixel",type:"pathname"}],[{string:"pixel.",type:"pathname"}],[{string:"/match",type:"pathname"}],[{string:"/partner",type:"pathname"}],[{string:"/visitormatch",type:"pathname"}],[{string:"/ping_match",type:"pathname"}],[{string:"/ImgSync",type:"pathname"}],[{string:"/identify",type:"pathname"}],[{string:"/usync/",type:"pathname"}],[{string:"/usersync",type:"pathname"}],[{string:"/user-sync",type:"pathname"}],[{string:"/ddm/trackimp",type:"pathname"}],[{string:"/user_sync.php",type:"pathname"}],[{string:"/bh/rtset",type:"pathname"}],[{string:"%2Fsync",type:"pathname"}],[{string:"cksync.php",type:"pathname"}],[{string:".sync",type:"hostname"}],[{string:"sync-",type:"hostname"}],[{string:"storygize.net",type:"hostname"},{string:"/ccm",type:"href"}],[{string:"geo-um.btrll.com",type:"hostname"}],[{string:"nexac.com",type:"hostname"},{string:"/e/sr",type:"href"}],[{string:"api.bttrack.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"sitescout.com",type:"hostname"}],[{string:"criteo.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"},{string:"/sync",type:"href"}]],r=0;r<i.length;r++){for(var o=i[r],a=!0,s=0;s<o.length;s++){var d=o[s];if(n[d.type].indexOf(d.string)<0){a=!1;break}}if(a)return!0}return!1},isWhitelistURL:function(e,t){var n=h(e);return!f({SCRIPT:[[{string:"3lift.com",type:"hostname"},{string:"/header",type:"href"}]]}[t],n)&&!!f({IMG:[[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleclick.net",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"mynativeplatform.com",type:"hostname"}],[{string:"360yield.com",type:"hostname"}],[{string:"sharethrough.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"zemanta.com",type:"hostname"}],[{string:"adnxs.com",type:"hostname"}],[{string:"sonobi.com",type:"hostname"}],[{string:"insight.adsrvr.org",type:"hostname"}],[{string:"serving-sys.com",type:"hostname"}],[{string:"advertising.com",type:"hostname"}],[{string:"openx.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"flashtalking.com",type:"hostname"},{string:"/imp",type:"href"}],[{string:"adroll.com",type:"hostname"}],[{string:"33across.com",type:"hostname"},{string:"/ps",type:"href"}],[{string:"adsrvr.org/bid",type:"href"}],[{string:"imrworldwide.com",type:"hostname"}],[{string:"criteo.com",type:"hostname"},{string:"/delivery",type:"href"}],[{string:"ad_overlays",type:"pathname"}]],IFRAME:[[{string:"googlesyndication.com/safeframe",type:"href"}],[{string:"ad.doubleclick.net/ddm",type:"hostname"}],[{string:"rubiconproject.com",type:"hostname"},{string:"multi-sync.html",type:"href"}],[{string:"3lift.com",type:"hostname"},{string:"sync?",type:"href"}],[{string:"ca-pub-15988",type:"href"}],[{string:"ff.doubleclick.net",type:"hostname"}]],SCRIPT:[[{string:"adnxs.com",type:"hostname"},{string:"trk.js",type:"href"}],[{string:"/sync",type:"pathname"}],[{string:"pagead2.googlesyndication.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}],[{string:"doubleclick.net/gpt/pubads_impl_",type:"href"}],[{string:"native.sharethrough.com/assets/sfp.js",type:"href"}],[{string:"sharethrough.com/api",type:"href"}],[{string:"moatads.com",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"match.adsrvr.org",type:"hostname"}],[{string:".adnxs.com/getuidp",type:"href"}],[{string:"pubads_impl_rendering_",type:"href"}],[{string:"cdn.ampproject.org",type:"href"}]],LINK:[[{string:"//tpc.googlesyndication.com/safeframe",type:"href"}],[{string:"ntv.io",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}]]}[t],n)}},sizeValidation:i}},96:(e,t,n)=>{var i="Expected a function",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,d=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=c||l||Function("return this")(),h=Object.prototype.toString,f=Math.max,g=Math.min,p=function(){return u.Date.now()};function m(e,t,n){var r,o,a,s,d,c,l=0,u=!1,h=!1,m=!0;if("function"!=typeof e)throw new TypeError(i);function v(t){var n=r,i=o;return r=o=void 0,l=t,s=e.apply(i,n)}function M(e){return l=e,d=setTimeout(D,t),u?v(e):s}function N(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-l>=a}function D(){var e=p();if(N(e))return y(e);d=setTimeout(D,function(e){var n=t-(e-c);return h?g(n,a-(e-l)):n}(e))}function y(e){return d=void 0,m&&r?v(e):(r=o=void 0,s)}function X(){var e=p(),n=N(e);if(r=arguments,o=this,c=e,n){if(void 0===d)return M(c);if(h)return d=setTimeout(D,t),v(c)}return void 0===d&&(d=setTimeout(D,t)),s}return t=b(t)||0,w(n)&&(u=!!n.leading,a=(h="maxWait"in n)?f(b(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),X.cancel=function(){void 0!==d&&clearTimeout(d),l=0,r=c=o=d=void 0},X.flush=function(){return void 0===d?s:y(p())},X}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||s.test(e)?d(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(i);return w(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),m(e,t,{leading:r,maxWait:t,trailing:o})}},942:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>i})},2:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Z:()=>i})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{getSpaceElement:()=>Zn,refreshTypeDecoder:()=>xn});var t={};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}__webpack_require__.r(t),__webpack_require__.d(t,{createWhitelistingIFrame:()=>kn,setupWhitelistingIFrameSettings:()=>On});var o=__webpack_require__(2),a=__webpack_require__(836),s=__webpack_require__(246),d=__webpack_require__(302),c=__webpack_require__(942),l=__webpack_require__(614),u=function(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++)t[n[i].toLowerCase()]=e[n[i]];return t},h=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){t[n]=[];for(var i=0;i<e[n].length;i++){var r=e[n][i];t[n].push(r)}}return t},f=function(e,t,n){if((n=n||{}).merge&&n.override)throw new TypeError;this.tr=e,this.headers=u(t),this.merge=n.merge||!1,this.override=n.override||!1};f.prototype.$fetch=function(e,t,n){if(n=n||{},"object"!==(0,o.Z)(t)||"string"!=typeof t.url)throw new TypeError;t=this.addHeaders(t),this.tr.$fetch(e,t,n)},f.prototype.addHeaders=function(e){e=function(e){return{url:e.url,headers:u(h(e.headers||{})),body:e.body,method:e.method}}(e);var t=this.headers,n=e.headers;for(var i in t)if(t.hasOwnProperty(i)){if(this.override)n[i]=[];else if(!this.merge&&n[i])continue;n[i]||(n[i]=[]);for(var r=0;r<t[i].length;r++){var o=t[i][r];n[i].push(o)}}return e};var g=function(e,t){return e.substr(0,t.length)===t},p=function(e){if(e=e.toLowerCase(),g(e,"proxy-"))return!1;if(g(e,"sec-"))return!1;switch(e){case"accept-charset":case"accept-encoding":case"access-control-request-headers":case"access-control-request-method":case"connection":case"content-length":case"cookie":case"cookie2":case"date":case"dnt":case"expect":case"host":case"keep-alive":case"origin":case"te":case"trailer":case"transfer-encoding":case"upgrade":case"via":case"x-client-version":case"x-cookie":case"x-referer":return!1}return!0},m=new function(){this.init=function(e,t){if(t=t||{},!e||"string"!=typeof e)throw new TypeError;this.host=e;var n=void 0===t.secure||t.secure;this.protocol=n?"https":"http",this.suffix=void 0!==t.suffix?t.suffix:""},this.$fetch=function(e){return new Promise(function(t,n){if("object"!==(0,o.Z)(e)||"string"!=typeof e.url)throw new TypeError;var i=!1,r=e.url||"";(r.length<1||"/"!=r[0])&&(r="/"+r);var a=this.protocol+"://"+this.host+r;a+=this.suffix?"#"+this.suffix:"";var s=e.method||"GET",d=e.headers||{},c=e.body?e.body:null,l=new XMLHttpRequest;for(var h in l.onreadystatechange=function(e){if(4==l.readyState){if(0==l.status){if(i)return;return i=!0,void n("status -> "+l.status)}var r=u(function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),i=0;i<n.length;i++){var r=n[i],o=r.indexOf(": ");if(o>0){var a=r.substring(0,o),s=r.substring(o+2);t[a]||(t[a]=[]),t[a].push(s)}}return t}(l.getAllResponseHeaders()));if(r["x-content-type"]&&(r["content-type"]=r["x-content-type"],delete r["x-content-type"]),l.status>=200&&l.status<300){var o={status:l.status,headers:r,body:l.response};t(o)}else n("status -> "+l.status)}},l.onerror=function(e){i||(i=!0,n(e))},l.open(s,a,!0),l.responseType="arraybuffer",d)d.hasOwnProperty(h)&&0!=d[h].length&&(p(h)||l.setRequestHeader(h,d[h][0]));l.send(c)}.bind(this))}},w=function(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n||t<=0||n<=0||t>n)throw new TypeError;for(var i=Math.floor(Math.random()*(n+1-t))+t,r="",o=0;o<i;o++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},b=function(e,t){return w("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e,t)};const v=b;function M(e){for(var t=e.length;--t>=0;)e[t]=0}var N=256,D=286,y=30,X=15,z=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),V=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),_=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x=new Array(576);M(x);var Z=new Array(60);M(Z);var H=new Array(512);M(H);var I=new Array(256);M(I);var Y=new Array(29);M(Y);var S,T,B,O=new Array(y);function F(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}M(O);var W=function(e){return e<256?H[e]:H[256+(e>>>7)]},R=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},G=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,R(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},C=function(e,t,n){G(e,n[2*t],n[2*t+1])},L=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},j=function(e,t,n){var i,r,o=new Array(16),a=0;for(i=1;i<=X;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=L(o[s]++,s))}},A=function(e){var t;for(t=0;t<D;t++)e.dyn_ltree[2*t]=0;for(t=0;t<y;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},J=function(e){e.bi_valid>8?R(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},K=function(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]},P=function(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&K(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!K(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},U=function(e,t,n){var i,r,o,a,s=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?C(e,r,t):(o=I[r],C(e,o+N+1,t),0!==(a=z[o])&&(r-=Y[o],G(e,r,a)),i--,o=W(i),C(e,o,n),0!==(a=V[o])&&(i-=O[o],G(e,i,a)))}while(s<e.last_lit);C(e,256,t)},Q=function(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,d=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<d;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)P(e,o,n);r=d;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],P(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,P(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,d=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,u=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,g=t.stat_desc.max_length,p=0;for(o=0;o<=X;o++)e.bl_count[o]=0;for(d[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=d[2*d[2*(i=e.heap[n])+1]+1]+1)>g&&(o=g,p++),d[2*i+1]=o,i>c||(e.bl_count[o]++,a=0,i>=f&&(a=h[i-f]),s=d[2*i],e.opt_len+=s*(o+a),u&&(e.static_len+=s*(l[2*i+1]+a)));if(0!==p){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,p-=2}while(p>0);for(o=g;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>c||(d[2*r+1]!==o&&(e.opt_len+=(o-d[2*r+1])*d[2*r],d[2*r+1]=o),i--)}}(e,t),j(o,c,e.bl_count)},q=function(e,t,n){var i,r,o=-1,a=t[1],s=0,d=7,c=4;for(0===a&&(d=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<d&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(d=138,c=3):r===a?(d=6,c=3):(d=7,c=4))},$=function(e,t,n){var i,r,o=-1,a=t[1],s=0,d=7,c=4;for(0===a&&(d=138,c=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<d&&r===a)){if(s<c)do{C(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(C(e,r,e.bl_tree),s--),C(e,16,e.bl_tree),G(e,s-3,2)):s<=10?(C(e,17,e.bl_tree),G(e,s-3,3)):(C(e,18,e.bl_tree),G(e,s-11,7));s=0,o=r,0===a?(d=138,c=3):r===a?(d=6,c=3):(d=7,c=4)}},ee=!1,te=function(e,t,n,i){G(e,0+(i?1:0),3),function(e,t,n,i){J(e),i&&(R(e,n),R(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n,!0)},ne=function(e,t,n,i){var r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<N;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Q(e,e.l_desc),Q(e,e.d_desc),a=function(e){var t;for(q(e,e.dyn_ltree,e.l_desc.max_code),q(e,e.dyn_dtree,e.d_desc.max_code),Q(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*E[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?te(e,t,n,i):4===e.strategy||o===r?(G(e,2+(i?1:0),3),U(e,x,Z)):(G(e,4+(i?1:0),3),function(e,t,n,i){var r;for(G(e,t-257,5),G(e,n-1,5),G(e,i-4,4),r=0;r<i;r++)G(e,e.bl_tree[2*E[r]+1],3);$(e,e.dyn_ltree,t-1),$(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),U(e,e.dyn_ltree,e.dyn_dtree)),A(e),i&&J(e)},ie={_tr_init:function(e){ee||(!function(){var e,t,n,i,r,o=new Array(16);for(n=0,i=0;i<28;i++)for(Y[i]=n,e=0;e<1<<z[i];e++)I[n++]=i;for(I[n-1]=i,r=0,i=0;i<16;i++)for(O[i]=r,e=0;e<1<<V[i];e++)H[r++]=i;for(r>>=7;i<y;i++)for(O[i]=r<<7,e=0;e<1<<V[i]-7;e++)H[256+r++]=i;for(t=0;t<=X;t++)o[t]=0;for(e=0;e<=143;)x[2*e+1]=8,e++,o[8]++;for(;e<=255;)x[2*e+1]=9,e++,o[9]++;for(;e<=279;)x[2*e+1]=7,e++,o[7]++;for(;e<=287;)x[2*e+1]=8,e++,o[8]++;for(j(x,287,o),e=0;e<y;e++)Z[2*e+1]=5,Z[2*e]=L(e,5);S=new F(x,z,257,D,X),T=new F(Z,V,0,y,X),B=new F(new Array(0),_,0,19,7)}(),ee=!0),e.l_desc=new k(e.dyn_ltree,S),e.d_desc=new k(e.dyn_dtree,T),e.bl_desc=new k(e.bl_tree,B),e.bi_buf=0,e.bi_valid=0,A(e)},_tr_stored_block:te,_tr_flush_block:ne,_tr_tally:function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(I[n]+N+1)]++,e.dyn_dtree[2*W(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function(e){G(e,2,3),C(e,256,x),function(e){16===e.bi_valid?(R(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},re=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0},oe=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),ae=function(e,t,n,i){var r=oe,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^r[255&(e^t[a])];return-1^e},se={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},de={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},ce=ie._tr_init,le=ie._tr_stored_block,ue=ie._tr_flush_block,he=ie._tr_tally,fe=ie._tr_align,ge=de.Z_NO_FLUSH,pe=de.Z_PARTIAL_FLUSH,me=de.Z_FULL_FLUSH,we=de.Z_FINISH,be=de.Z_BLOCK,ve=de.Z_OK,Me=de.Z_STREAM_END,Ne=de.Z_STREAM_ERROR,De=de.Z_DATA_ERROR,ye=de.Z_BUF_ERROR,Xe=de.Z_DEFAULT_COMPRESSION,ze=de.Z_FILTERED,Ve=de.Z_HUFFMAN_ONLY,_e=de.Z_RLE,Ee=de.Z_FIXED,xe=de.Z_DEFAULT_STRATEGY,Ze=de.Z_UNKNOWN,He=de.Z_DEFLATED,Ie=258,Ye=262,Se=103,Te=113,Be=666,Oe=function(e,t){return e.msg=se[t],t},Fe=function(e){return(e<<1)-(e>4?9:0)},ke=function(e){for(var t=e.length;--t>=0;)e[t]=0},We=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},Re=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Ge=function(e,t){ue(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Re(e.strm)},Ce=function(e,t){e.pending_buf[e.pending++]=t},Le=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},je=function(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,d=e.strstart>e.w_size-Ye?e.strstart-(e.w_size-Ye):0,c=e.window,l=e.w_mask,u=e.prev,h=e.strstart+Ie,f=c[o+a-1],g=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===g&&c[n+a-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<h);if(i=Ie-(h-o),o=h-Ie,i>a){if(e.match_start=t,a=i,i>=s)break;f=c[o+a-1],g=c[o+a]}}}while((t=u[t&l])>d&&0!=--r);return a<=e.lookahead?a:e.lookahead},Ae=function(e){var t,n,i,r,o,a,s,d,c,l,u=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-Ye)){e.window.set(e.window.subarray(u,u+u),0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=u?i-u:0}while(--n);t=n=u;do{i=e.prev[--t],e.prev[t]=i>=u?i-u:0}while(--n);r+=u}if(0===e.strm.avail_in)break;if(a=e.strm,s=e.window,d=e.strstart+e.lookahead,c=r,l=void 0,(l=a.avail_in)>c&&(l=c),n=0===l?0:(a.avail_in-=l,s.set(a.input.subarray(a.next_in,a.next_in+l),d),1===a.state.wrap?a.adler=re(a.adler,s,l,d):2===a.state.wrap&&(a.adler=ae(a.adler,s,l,d)),a.next_in+=l,a.total_in+=l,l),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=We(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=We(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Ye&&0!==e.strm.avail_in)},Je=function(e,t){for(var n,i;;){if(e.lookahead<Ye){if(Ae(e),e.lookahead<Ye&&t===ge)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=We(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Ye&&(e.match_length=je(e,n)),e.match_length>=3)if(i=he(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=We(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=We(e,e.ins_h,e.window[e.strstart+1]);else i=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Ge(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===we?(Ge(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ge(e,!1),0===e.strm.avail_out)?1:2},Ke=function(e,t){for(var n,i,r;;){if(e.lookahead<Ye){if(Ae(e),e.lookahead<Ye&&t===ge)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=We(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ye&&(e.match_length=je(e,n),e.match_length<=5&&(e.strategy===ze||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=he(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=We(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(Ge(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=he(e,0,e.window[e.strstart-1]))&&Ge(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=he(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===we?(Ge(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ge(e,!1),0===e.strm.avail_out)?1:2};function Pe(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}var Ue=[new Pe(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ae(e),0===e.lookahead&&t===ge)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,Ge(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-Ye&&(Ge(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===we?(Ge(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Ge(e,!1),e.strm.avail_out),1)})),new Pe(4,4,8,4,Je),new Pe(4,5,16,8,Je),new Pe(4,6,32,32,Je),new Pe(4,4,16,16,Ke),new Pe(8,16,32,32,Ke),new Pe(8,16,128,128,Ke),new Pe(8,32,128,256,Ke),new Pe(32,128,258,1024,Ke),new Pe(32,258,258,4096,Ke)];function Qe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=He,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ke(this.dyn_ltree),ke(this.dyn_dtree),ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var qe=function(e){if(!e||!e.state)return Oe(e,Ne);e.total_in=e.total_out=0,e.data_type=Ze;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:Te,e.adler=2===t.wrap?0:1,t.last_flush=ge,ce(t),ve},$e=function(e){var t,n=qe(e);return n===ve&&((t=e.state).window_size=2*t.w_size,ke(t.head),t.max_lazy_match=Ue[t.level].max_lazy,t.good_match=Ue[t.level].good_length,t.nice_match=Ue[t.level].nice_length,t.max_chain_length=Ue[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},et=function(e,t,n,i,r,o){if(!e)return Ne;var a=1;if(t===Xe&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>9||n!==He||i<8||i>15||t<0||t>9||o<0||o>Ee)return Oe(e,Ne);8===i&&(i=9);var s=new Qe;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,$e(e)},tt={deflateInit:function(e,t){return et(e,t,He,15,8,xe)},deflateInit2:et,deflateReset:$e,deflateResetKeep:qe,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?Ne:(e.state.gzhead=t,ve):Ne},deflate:function(e,t){var n,i;if(!e||!e.state||t>be||t<0)return e?Oe(e,Ne):Ne;var r=e.state;if(!e.output||!e.input&&0!==e.avail_in||r.status===Be&&t!==we)return Oe(e,0===e.avail_out?ye:Ne);r.strm=e;var o=r.last_flush;if(r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,Ce(r,31),Ce(r,139),Ce(r,8),r.gzhead?(Ce(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Ce(r,255&r.gzhead.time),Ce(r,r.gzhead.time>>8&255),Ce(r,r.gzhead.time>>16&255),Ce(r,r.gzhead.time>>24&255),Ce(r,9===r.level?2:r.strategy>=Ve||r.level<2?4:0),Ce(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Ce(r,255&r.gzhead.extra.length),Ce(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ae(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Ce(r,0),Ce(r,0),Ce(r,0),Ce(r,0),Ce(r,0),Ce(r,9===r.level?2:r.strategy>=Ve||r.level<2?4:0),Ce(r,3),r.status=Te);else{var a=He+(r.w_bits-8<<4)<<8;a|=(r.strategy>=Ve||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),a+=31-a%31,r.status=Te,Le(r,a),0!==r.strstart&&(Le(r,e.adler>>>16),Le(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),Re(e),n=r.pending,r.pending!==r.pending_buf_size));)Ce(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),Re(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Ce(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),Re(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Ce(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.status=Se)}else r.status=Se;if(r.status===Se&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Re(e),r.pending+2<=r.pending_buf_size&&(Ce(r,255&e.adler),Ce(r,e.adler>>8&255),e.adler=0,r.status=Te)):r.status=Te),0!==r.pending){if(Re(e),0===e.avail_out)return r.last_flush=-1,ve}else if(0===e.avail_in&&Fe(t)<=Fe(o)&&t!==we)return Oe(e,ye);if(r.status===Be&&0!==e.avail_in)return Oe(e,ye);if(0!==e.avail_in||0!==r.lookahead||t!==ge&&r.status!==Be){var s=r.strategy===Ve?function(e,t){for(var n;;){if(0===e.lookahead&&(Ae(e),0===e.lookahead)){if(t===ge)return 1;break}if(e.match_length=0,n=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ge(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===we?(Ge(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ge(e,!1),0===e.strm.avail_out)?1:2}(r,t):r.strategy===_e?function(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=Ie){if(Ae(e),e.lookahead<=Ie&&t===ge)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){o=e.strstart+Ie;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);e.match_length=Ie-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=he(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ge(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===we?(Ge(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ge(e,!1),0===e.strm.avail_out)?1:2}(r,t):Ue[r.level].func(r,t);if(3!==s&&4!==s||(r.status=Be),1===s||3===s)return 0===e.avail_out&&(r.last_flush=-1),ve;if(2===s&&(t===pe?fe(r):t!==be&&(le(r,0,0,!1),t===me&&(ke(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Re(e),0===e.avail_out))return r.last_flush=-1,ve}return t!==we?ve:r.wrap<=0?Me:(2===r.wrap?(Ce(r,255&e.adler),Ce(r,e.adler>>8&255),Ce(r,e.adler>>16&255),Ce(r,e.adler>>24&255),Ce(r,255&e.total_in),Ce(r,e.total_in>>8&255),Ce(r,e.total_in>>16&255),Ce(r,e.total_in>>24&255)):(Le(r,e.adler>>>16),Le(r,65535&e.adler)),Re(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?ve:Me)},deflateEnd:function(e){if(!e||!e.state)return Ne;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==Se&&t!==Te&&t!==Be?Oe(e,Ne):(e.state=null,t===Te?Oe(e,De):ve)},deflateSetDictionary:function(e,t){var n=t.length;if(!e||!e.state)return Ne;var i=e.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return Ne;if(1===r&&(e.adler=re(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(ke(i.head),i.strstart=0,i.block_start=0,i.insert=0);var o=new Uint8Array(i.w_size);o.set(t.subarray(n-i.w_size,n),0),t=o,n=i.w_size}var a=e.avail_in,s=e.next_in,d=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ae(i);i.lookahead>=3;){var c=i.strstart,l=i.lookahead-2;do{i.ins_h=We(i,i.ins_h,i.window[c+3-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++}while(--l);i.strstart=c,i.lookahead=2,Ae(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=s,e.input=d,e.avail_in=a,i.wrap=r,ve},deflateInfo:"pako deflate (from Nodeca project)"},nt=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},it=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==(0,o.Z)(n))throw new TypeError(n+"must be non-object");for(var i in n)nt(n,i)&&(e[i]=n[i])}}return e},rt=function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;for(var r=new Uint8Array(t),o=0,a=0,s=e.length;o<s;o++){var d=e[o];r.set(d,a),a+=d.length}return r},ot=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){ot=!1}for(var at=new Uint8Array(256),st=0;st<256;st++)at[st]=st>=252?6:st>=248?5:st>=240?4:st>=224?3:st>=192?2:1;at[254]=at[254]=1;var dt=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,i,r,o,a=e.length,s=0;for(r=0;r<a;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,r=0;o<s;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},ct=function(e,t){var n,i,r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var o=new Array(2*r);for(i=0,n=0;n<r;){var a=e[n++];if(a<128)o[i++]=a;else{var s=at[a];if(s>4)o[i++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<r;)a=a<<6|63&e[n++],s--;s>1?o[i++]=65533:a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|1023&a)}}}return function(e,t){if(t<65534&&e.subarray&&ot)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}(o,i)},lt=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+at[e[n]]>t?n:t};var ut=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ht=Object.prototype.toString,ft=de.Z_NO_FLUSH,gt=de.Z_SYNC_FLUSH,pt=de.Z_FULL_FLUSH,mt=de.Z_FINISH,wt=de.Z_OK,bt=de.Z_STREAM_END,vt=de.Z_DEFAULT_COMPRESSION,Mt=de.Z_DEFAULT_STRATEGY,Nt=de.Z_DEFLATED;function Dt(e){this.options=it({level:vt,method:Nt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Mt},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var n=tt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==wt)throw new Error(se[n]);if(t.header&&tt.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?dt(t.dictionary):"[object ArrayBuffer]"===ht.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=tt.deflateSetDictionary(this.strm,i))!==wt)throw new Error(se[n]);this._dict_set=!0}}function yt(e,t){var n=new Dt(t);if(n.push(e,!0),n.err)throw n.msg||se[n.err];return n.result}Dt.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(i=t===~~t?t:!0===t?mt:ft,"string"==typeof e?r.input=dt(e):"[object ArrayBuffer]"===ht.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(o),r.next_out=0,r.avail_out=o),(i===gt||i===pt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((n=tt.deflate(r,i))===bt)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=tt.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===wt;if(0!==r.avail_out){if(i>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Dt.prototype.onData=function(e){this.chunks.push(e)},Dt.prototype.onEnd=function(e){e===wt&&(this.result=rt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Xt={Deflate:Dt,deflate:yt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,yt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,yt(e,t)},constants:de},zt=function(e,t){var n,i,r,o,a,s,d,c,l,u,h,f,g,p,m,w,b,v,M,N,D,y,X,z,V=e.state;n=e.next_in,X=e.input,i=n+(e.avail_in-5),r=e.next_out,z=e.output,o=r-(t-e.avail_out),a=r+(e.avail_out-257),s=V.dmax,d=V.wsize,c=V.whave,l=V.wnext,u=V.window,h=V.hold,f=V.bits,g=V.lencode,p=V.distcode,m=(1<<V.lenbits)-1,w=(1<<V.distbits)-1;e:do{f<15&&(h+=X[n++]<<f,f+=8,h+=X[n++]<<f,f+=8),b=g[h&m];t:for(;;){if(h>>>=v=b>>>24,f-=v,0===(v=b>>>16&255))z[r++]=65535&b;else{if(!(16&v)){if(0==(64&v)){b=g[(65535&b)+(h&(1<<v)-1)];continue t}if(32&v){V.mode=12;break e}e.msg="invalid literal/length code",V.mode=30;break e}M=65535&b,(v&=15)&&(f<v&&(h+=X[n++]<<f,f+=8),M+=h&(1<<v)-1,h>>>=v,f-=v),f<15&&(h+=X[n++]<<f,f+=8,h+=X[n++]<<f,f+=8),b=p[h&w];n:for(;;){if(h>>>=v=b>>>24,f-=v,!(16&(v=b>>>16&255))){if(0==(64&v)){b=p[(65535&b)+(h&(1<<v)-1)];continue n}e.msg="invalid distance code",V.mode=30;break e}if(N=65535&b,f<(v&=15)&&(h+=X[n++]<<f,(f+=8)<v&&(h+=X[n++]<<f,f+=8)),(N+=h&(1<<v)-1)>s){e.msg="invalid distance too far back",V.mode=30;break e}if(h>>>=v,f-=v,N>(v=r-o)){if((v=N-v)>c&&V.sane){e.msg="invalid distance too far back",V.mode=30;break e}if(D=0,y=u,0===l){if(D+=d-v,v<M){M-=v;do{z[r++]=u[D++]}while(--v);D=r-N,y=z}}else if(l<v){if(D+=d+l-v,(v-=l)<M){M-=v;do{z[r++]=u[D++]}while(--v);if(D=0,l<M){M-=v=l;do{z[r++]=u[D++]}while(--v);D=r-N,y=z}}}else if(D+=l-v,v<M){M-=v;do{z[r++]=u[D++]}while(--v);D=r-N,y=z}for(;M>2;)z[r++]=y[D++],z[r++]=y[D++],z[r++]=y[D++],M-=3;M&&(z[r++]=y[D++],M>1&&(z[r++]=y[D++]))}else{D=r-N;do{z[r++]=z[D++],z[r++]=z[D++],z[r++]=z[D++],M-=3}while(M>2);M&&(z[r++]=z[D++],M>1&&(z[r++]=z[D++]))}break}}break}}while(n<i&&r<a);n-=M=f>>3,h&=(1<<(f-=M<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=r<a?a-r+257:257-(r-a),V.hold=h,V.bits=f},Vt=15,_t=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Et=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),xt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Zt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ht=function(e,t,n,i,r,o,a,s){var d,c,l,u,h,f,g,p,m,w=s.bits,b=0,v=0,M=0,N=0,D=0,y=0,X=0,z=0,V=0,_=0,E=null,x=0,Z=new Uint16Array(16),H=new Uint16Array(16),I=null,Y=0;for(b=0;b<=Vt;b++)Z[b]=0;for(v=0;v<i;v++)Z[t[n+v]]++;for(D=w,N=Vt;N>=1&&0===Z[N];N--);if(D>N&&(D=N),0===N)return r[o++]=20971520,r[o++]=20971520,s.bits=1,0;for(M=1;M<N&&0===Z[M];M++);for(D<M&&(D=M),z=1,b=1;b<=Vt;b++)if(z<<=1,(z-=Z[b])<0)return-1;if(z>0&&(0===e||1!==N))return-1;for(H[1]=0,b=1;b<Vt;b++)H[b+1]=H[b]+Z[b];for(v=0;v<i;v++)0!==t[n+v]&&(a[H[t[n+v]]++]=v);if(0===e?(E=I=a,f=19):1===e?(E=_t,x-=257,I=Et,Y-=257,f=256):(E=xt,I=Zt,f=-1),_=0,v=0,b=M,h=o,y=D,X=0,l=-1,u=(V=1<<D)-1,1===e&&V>852||2===e&&V>592)return 1;for(;;){g=b-X,a[v]<f?(p=0,m=a[v]):a[v]>f?(p=I[Y+a[v]],m=E[x+a[v]]):(p=96,m=0),d=1<<b-X,M=c=1<<y;do{r[h+(_>>X)+(c-=d)]=g<<24|p<<16|m|0}while(0!==c);for(d=1<<b-1;_&d;)d>>=1;if(0!==d?(_&=d-1,_+=d):_=0,v++,0==--Z[b]){if(b===N)break;b=t[n+a[v]]}if(b>D&&(_&u)!==l){for(0===X&&(X=D),h+=M,z=1<<(y=b-X);y+X<N&&!((z-=Z[y+X])<=0);)y++,z<<=1;if(V+=1<<y,1===e&&V>852||2===e&&V>592)return 1;r[l=_&u]=D<<24|y<<16|h-o|0}}return 0!==_&&(r[h+_]=b-X<<24|64<<16|0),s.bits=D,0},It=de.Z_FINISH,Yt=de.Z_BLOCK,St=de.Z_TREES,Tt=de.Z_OK,Bt=de.Z_STREAM_END,Ot=de.Z_NEED_DICT,Ft=de.Z_STREAM_ERROR,kt=de.Z_DATA_ERROR,Wt=de.Z_MEM_ERROR,Rt=de.Z_BUF_ERROR,Gt=de.Z_DEFLATED,Ct=12,Lt=30,jt=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function At(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Jt,Kt,Pt=function(e){if(!e||!e.state)return Ft;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Tt},Ut=function(e){if(!e||!e.state)return Ft;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Pt(e)},Qt=function(e,t){var n;if(!e||!e.state)return Ft;var i=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Ft:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Ut(e))},qt=function(e,t){if(!e)return Ft;var n=new At;e.state=n,n.window=null;var i=Qt(e,t);return i!==Tt&&(e.state=null),i},$t=!0,en=function(e){if($t){Jt=new Int32Array(512),Kt=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ht(1,e.lens,0,288,Jt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ht(2,e.lens,0,32,Kt,0,e.work,{bits:5}),$t=!1}e.lencode=Jt,e.lenbits=9,e.distcode=Kt,e.distbits=5},tn=function(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),o.window.set(t.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(t.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},nn={inflateReset:Ut,inflateReset2:Qt,inflateResetKeep:Pt,inflateInit:function(e){return qt(e,15)},inflateInit2:qt,inflate:function(e,t){var n,i,r,o,a,s,d,c,l,u,h,f,g,p,m,w,b,v,M,N,D,y,X,z,V=0,_=new Uint8Array(4),E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Ft;(n=e.state).mode===Ct&&(n.mode=13),a=e.next_out,r=e.output,d=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,u=s,h=d,y=Tt;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(2&n.wrap&&35615===c){n.check=0,_[0]=255&c,_[1]=c>>>8&255,n.check=ae(n.check,_,2,0),c=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Lt;break}if((15&c)!==Gt){e.msg="unknown compression method",n.mode=Lt;break}if(l-=4,D=8+(15&(c>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=Lt;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:Ct,c=0,l=0;break;case 2:for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==Gt){e.msg="unknown compression method",n.mode=Lt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Lt;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(_[0]=255&c,_[1]=c>>>8&255,n.check=ae(n.check,_,2,0)),c=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(_[0]=255&c,_[1]=c>>>8&255,_[2]=c>>>16&255,_[3]=c>>>24&255,n.check=ae(n.check,_,4,0)),c=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(_[0]=255&c,_[1]=c>>>8&255,n.check=ae(n.check,_,2,0)),c=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(_[0]=255&c,_[1]=c>>>8&255,n.check=ae(n.check,_,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((f=n.length)>s&&(f=s),f&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+f),D)),512&n.flags&&(n.check=ae(n.check,i,f,o)),s-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;f=0;do{D=i[o+f++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D))}while(D&&f<s);if(512&n.flags&&(n.check=ae(n.check,i,f,o)),s-=f,o+=f,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;f=0;do{D=i[o+f++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D))}while(D&&f<s);if(512&n.flags&&(n.check=ae(n.check,i,f,o)),s-=f,o+=f,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Lt;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ct;break;case 10:for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}e.adler=n.check=jt(c),c=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,Ot;e.adler=n.check=1,n.mode=Ct;case Ct:if(t===Yt||t===St)break e;case 13:if(n.last){c>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}switch(n.last=1&c,l-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(en(n),n.mode=20,t===St){c>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=Lt}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Lt;break}if(n.length=65535&c,c=0,l=0,n.mode=15,t===St)break e;case 15:n.mode=16;case 16:if(f=n.length){if(f>s&&(f=s),f>d&&(f=d),0===f)break e;r.set(i.subarray(o,o+f),a),s-=f,o+=f,d-=f,a+=f,n.length-=f;break}n.mode=Ct;break;case 17:for(;l<14;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Lt;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.lens[E[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[E[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,X={bits:n.lenbits},y=Ht(0,n.lens,0,19,n.lencode,0,n.work,X),n.lenbits=X.bits,y){e.msg="invalid code lengths set",n.mode=Lt;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;w=(V=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&V,!((m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(b<16)c>>>=m,l-=m,n.lens[n.have++]=b;else{if(16===b){for(z=m+2;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c>>>=m,l-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=Lt;break}D=n.lens[n.have-1],f=3+(3&c),c>>>=2,l-=2}else if(17===b){for(z=m+3;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}l-=m,D=0,f=3+(7&(c>>>=m)),c>>>=3,l-=3}else{for(z=m+7;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}l-=m,D=0,f=11+(127&(c>>>=m)),c>>>=7,l-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Lt;break}for(;f--;)n.lens[n.have++]=D}}if(n.mode===Lt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Lt;break}if(n.lenbits=9,X={bits:n.lenbits},y=Ht(1,n.lens,0,n.nlen,n.lencode,0,n.work,X),n.lenbits=X.bits,y){e.msg="invalid literal/lengths set",n.mode=Lt;break}if(n.distbits=6,n.distcode=n.distdyn,X={bits:n.distbits},y=Ht(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,X),n.distbits=X.bits,y){e.msg="invalid distances set",n.mode=Lt;break}if(n.mode=20,t===St)break e;case 20:n.mode=21;case 21:if(s>=6&&d>=258){e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,zt(e,h),a=e.next_out,r=e.output,d=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,n.mode===Ct&&(n.back=-1);break}for(n.back=0;w=(V=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&V,!((m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(w&&0==(240&w)){for(v=m,M=w,N=b;w=(V=n.lencode[N+((c&(1<<v+M)-1)>>v)])>>>16&255,b=65535&V,!(v+(m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=v,l-=v,n.back+=v}if(c>>>=m,l-=m,n.back+=m,n.length=b,0===w){n.mode=26;break}if(32&w){n.back=-1,n.mode=Ct;break}if(64&w){e.msg="invalid literal/length code",n.mode=Lt;break}n.extra=15&w,n.mode=22;case 22:if(n.extra){for(z=n.extra;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;w=(V=n.distcode[c&(1<<n.distbits)-1])>>>16&255,b=65535&V,!((m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(0==(240&w)){for(v=m,M=w,N=b;w=(V=n.distcode[N+((c&(1<<v+M)-1)>>v)])>>>16&255,b=65535&V,!(v+(m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=v,l-=v,n.back+=v}if(c>>>=m,l-=m,n.back+=m,64&w){e.msg="invalid distance code",n.mode=Lt;break}n.offset=b,n.extra=15&w,n.mode=24;case 24:if(n.extra){for(z=n.extra;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Lt;break}n.mode=25;case 25:if(0===d)break e;if(f=h-d,n.offset>f){if((f=n.offset-f)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Lt;break}f>n.wnext?(f-=n.wnext,g=n.wsize-f):g=n.wnext-f,f>n.length&&(f=n.length),p=n.window}else p=r,g=a-n.offset,f=n.length;f>d&&(f=d),d-=f,n.length-=f;do{r[a++]=p[g++]}while(--f);0===n.length&&(n.mode=21);break;case 26:if(0===d)break e;r[a++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break e;s--,c|=i[o++]<<l,l+=8}if(h-=d,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?ae(n.check,r,h,a-h):re(n.check,r,h,a-h)),h=d,(n.flags?c:jt(c))!==n.check){e.msg="incorrect data check",n.mode=Lt;break}c=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Lt;break}c=0,l=0}n.mode=29;case 29:y=Bt;break e;case Lt:y=kt;break e;case 31:return Wt;default:return Ft}return e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,(n.wsize||h!==e.avail_out&&n.mode<Lt&&(n.mode<27||t!==It))&&tn(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?ae(n.check,r,h,e.next_out-h):re(n.check,r,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ct?128:0)+(20===n.mode||15===n.mode?256:0),(0===u&&0===h||t===It)&&y===Tt&&(y=Rt),y},inflateEnd:function(e){if(!e||!e.state)return Ft;var t=e.state;return t.window&&(t.window=null),e.state=null,Tt},inflateGetHeader:function(e,t){if(!e||!e.state)return Ft;var n=e.state;return 0==(2&n.wrap)?Ft:(n.head=t,t.done=!1,Tt)},inflateSetDictionary:function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?Ft:11===n.mode&&re(1,t,i,0)!==n.check?kt:tn(e,t,i,i)?(n.mode=31,Wt):(n.havedict=1,Tt):Ft},inflateInfo:"pako inflate (from Nodeca project)"};var rn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},on=Object.prototype.toString,an=de.Z_NO_FLUSH,sn=de.Z_FINISH,dn=de.Z_OK,cn=de.Z_STREAM_END,ln=de.Z_NEED_DICT,un=de.Z_STREAM_ERROR,hn=de.Z_DATA_ERROR,fn=de.Z_MEM_ERROR;function gn(e){this.options=it({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var n=nn.inflateInit2(this.strm,t.windowBits);if(n!==dn)throw new Error(se[n]);if(this.header=new rn,nn.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=dt(t.dictionary):"[object ArrayBuffer]"===on.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=nn.inflateSetDictionary(this.strm,t.dictionary))!==dn))throw new Error(se[n])}function pn(e,t){var n=new gn(t);if(n.push(e),n.err)throw n.msg||se[n.err];return n.result}gn.prototype.push=function(e,t){var n,i,r,o=this.strm,a=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(i=t===~~t?t:!0===t?sn:an,"[object ArrayBuffer]"===on.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(n=nn.inflate(o,i))===ln&&s&&((n=nn.inflateSetDictionary(o,s))===dn?n=nn.inflate(o,i):n===hn&&(n=ln));o.avail_in>0&&n===cn&&o.state.wrap>0&&0!==e[o.next_in];)nn.inflateReset(o),n=nn.inflate(o,i);switch(n){case un:case hn:case ln:case fn:return this.onEnd(n),this.ended=!0,!1}if(r=o.avail_out,o.next_out&&(0===o.avail_out||n===cn))if("string"===this.options.to){var d=lt(o.output,o.next_out),c=o.next_out-d,l=ct(o.output,d);o.next_out=c,o.avail_out=a-c,c&&o.output.set(o.output.subarray(d,d+c),0),this.onData(l)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(n!==dn||0!==r){if(n===cn)return n=nn.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},gn.prototype.onData=function(e){this.chunks.push(e)},gn.prototype.onEnd=function(e){e===dn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=rt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var mn={Inflate:gn,inflate:pn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,pn(e,t)},ungzip:pn,constants:de},wn={Deflate:Xt.Deflate,deflate:Xt.deflate,deflateRaw:Xt.deflateRaw,gzip:Xt.gzip,Inflate:mn.Inflate,inflate:mn.inflate,inflateRaw:mn.inflateRaw,ungzip:mn.ungzip,constants:de},bn=__webpack_require__(552),vn=new bn.Z({prefix:"utf8: "});const Mn=function(e){try{if(window.TextEncoder)return new window.TextEncoder("utf-8").encode(e).buffer}catch(e){vn.debugf(null,"TextEncoder %o",e)}for(var t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},Nn=function(e){try{if(window.TextDecoder)return new window.TextDecoder("utf-8").decode(new Uint8Array(e))}catch(e){vn.debugf(null,"TextDecoder %o",e)}for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return decodeURIComponent(escape(t))};function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xn=new function(){var e,t=v(8,10),n=window.location.href,i=a.Z.upoSettings.recoveryScriptVersion;try{e=window.__bt_intrnl.traceID}catch(t){e=""}var r=function(t,n){""==t&&(t="/");var r=t,o="?";(n=n||{}).upapi=["true"],n.tid=[e],n.cv=[i];for(var a=Object.keys(n),s=0;s<a.length;s++)for(var d=a[s],c=n[d],l=0;l<c.length;l++){var u=c[l];r+=o+encodeURIComponent(d)+"="+encodeURIComponent(u),o="&"}return r};this.sendLog=function(e){var t=a.Z.SharedObject.getItem("websiteConfig")||{},i=t.organizationID,o=t.websiteID,s={event:e.event,severity:e.severity,error:e.error&&{name:e.error.name,stack:e.error.stack,sourceFilename:e.error.sourceFilename},message:e.message,columnNumber:e.columnNumber,lineNumber:e.lineNumber,filename:e.filename,module:e.module,orgID:i,websiteID:o,meta:yn(yn({},e.meta||{}),{},{pageURL:n})},d={method:"POST",url:r("/log"),body:Mn(JSON.stringify(s))};return m.$fetch(d)},this.testCompliance=function(e){return new Promise((function(n,i){var o={};o.pid=[t],o.nr=["2"];var a=e,s=r("/tc",o),d=JSON.stringify(e);try{d&&d.length>=2048&&window.localStorage&&!window.localStorage.updebug?(a=wn.deflate(d).buffer,o.z=[1],s=r("/tc",o)):a=Mn(d)}catch(e){a=Mn(d)}var c={method:"POST",url:s,body:a};m.$fetch(c).then((function(e){var t=JSON.parse(Nn(e.body)),i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]={status:t[r].status,id:t[r].id,backup:t[r].backup});n(i)}),(function(e){i(new Error)}))}))},this.reportAuctionStarted=function(e,i,o,a,c,l,u){var h={};h.pid=[t],h.nr=["1"];var f={};f.websiteID=c,f.orgID=l,f.auctionID=e,f.spaceExternalID=i,f.spaceName=o,f.bids=s.Z.map(a,(function(e){return{bidderExternalID:e.bidderId,provider:e.provider}})),f.refreshDepth=u,f.pageURL=n,d.Y.fireEvent("auctionStartChangeRequestData",{query:h,body:f});var g={method:"POST",url:r("/as",h),body:Mn(JSON.stringify(f))};return m.$fetch(g)},this.reportAuctionEnd=function(e,i,o,a,s,c,l,u,h){var f={};f.pid=[t],f.seid=[l],f.nr=["1"],c.websiteID=a,c.orgID=s,c.auctionID=e,c.spaceExternalID=i,c.spaceName=o,c.dfpAdUnit=l,c.adUnitCode=l,c.gamEnabled=u,c.refreshDepth=h,c.pageURL=n,d.Y.fireEvent("auctionEndChangeRequestData",{query:f,body:c});var g={method:"POST",url:r("/ae",f),body:Mn(JSON.stringify(c))};return m.$fetch(g)},this.reportRender=function(e,t,i,o,a,s,d,c,l,u){var h={nr:["1"]},f={};f.websiteID=c,f.orgID=l,f.auctionID=e,f.spaceExternalID=s,f.spaceName=d,f.bidderExternalID=t,f.provider=i,f.refreshDepth=u,f.pageURL=n,f.amount=o,f.currency=a;var g={method:"POST",url:r("/r",h),body:Mn(JSON.stringify(f))};return m.$fetch(g)},this.reportView=function(e,t,i,o,a,s,d,c){var l={nr:["1"]},u={};u.websiteID=s,u.orgID=d,u.auctionID=e,u.spaceExternalID=o,u.spaceName=a,u.bidderExternalID=t,u.provider=i,u.refreshDepth=c,u.pageURL=n;var h={method:"POST",url:r("/v",l),body:Mn(JSON.stringify(u))};return m.$fetch(h)},this.consentData=function(e){var o={},s={},d={consents:{}},c=e.tcData,u=e.error,h=a.Z.SharedObject.getItem("websiteConfig")||{},f=h.organizationID,g=h.websiteID;f&&(o.organizationID=parseInt(f)),g&&(o.websiteID=parseInt(g)),o.pageID=t,o.clientVersion=i,c?(s.cmpVersion=c.cmpVersion,s.gdprApplies=c.gdprApplies,s.tcfPolicyVersion=c.tcfPolicyVersion,s.tcString=c.tcString,c.gdprApplies&&(s.purpose=c.purpose,[10,13,25,28,32,52,69,76,91,755].forEach((function(e){return d.consents[e]=c.vendor.consents[e]})),s.vendor=d)):(s.gdprApplies=null,s.error=l.Z.commonUtils.truncateString(u.message,1024)),o.tcData=s,o.pageURL=n;var p={method:"POST",url:r("/ce"),body:Mn(JSON.stringify(o))};return m.$fetch(p)}},zn=new bn.Z({prefix:"report: "}),Vn=new function(){this.init=function(){var e=a.Z.SharedObject.getItem("websiteConfig");d.Y.addEventListener("FirePublisherEvent",(function(e){var t=e.data,n=t.eventName,i=t.payload||{bubbles:!1,cancelable:!1,detail:void 0};if(window.CustomEvent)try{var r=new window.CustomEvent(n,i);return void window.dispatchEvent(r)}catch(e){var o=document.createEvent("CustomEvent");return o.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),void window.dispatchEvent(o)}var a=document.createEvent("CustomEvent");a.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),window.dispatchEvent(a)})),d.Y.addEventListener("sendLog",(function(e){var t=e.data;Xn.sendLog(t).then((function(e){zn.infof(null,"sendLog - %o",e)}),(function(e){zn.errorf(null,"sendLog - %o",e)}))})),d.Y.addEventListener("onAuctionStarted",(function(t){var n=t.data.auction,i=n.auctionId,r=n.unit.space.id,o=n.unit.space.name,a=[],d=n.unit.space.preBiddingSettings&&n.unit.space.preBiddingSettings.biddingSettings,c=n.unit.space.postBiddingSettings;if(d)for(var l in d)if(l=parseInt(l),d.hasOwnProperty(l)){var u=d[l];s.Z.forEach(u,(function(e){a.push({bidderId:e.id,provider:e.name})}))}c&&(c.adxId&&a.push({bidderId:c.adxId,provider:"gad"}),c.directId&&a.push({bidderId:c.directId,provider:"direct"})),Xn.reportAuctionStarted(i,r,o,a,e.websiteID,e.organizationID,n.unit.countOfDispatches-1).then((function(e){zn.infof(null,"onAuctionStarted - %o",e)}),(function(e){zn.errorf(null,"onAuctionStarted - %o",e)}))})),d.Y.addEventListener("onAuctionEnded",(function(t){var n=t.data,i=n.auction,r=n.bid,o=i.bids,s=i.unit.space.name,c=d.Y.fireEvent("getDefaultCreative",{auction:i}),l="default-creative"===r.bidder&&c.disableAuctionEventLogging;try{if(e.dfpEnabled)for(var u=window.googletag.pubads().getSlots(),h=0;h<u.length;h++){var f=u[h],g=f.getSlotElementId();if(document.getElementById(g)==i.unit.element){s=f.getAdUnitPath().split("/")[f.getAdUnitPath().split("/").length-1];break}}}catch(e){zn.errorf(null,"onAuctionEnded: %o",e)}for(var p={bids:[],aliens:[],win:void 0},m=0;m<o.length;m++){var w=o[m],b={bid:{cpm:w.cpm,bidderCode:w.bidderCode,complianceStatus:w.complianceStatus}},v=d.Y.fireEvent("bidCpmAdjustment",b)||1,M=w.cpm/1e3*v,N=d.Y.fireEvent("prebidTimeout")||3e3,D={bidderExternalID:w.bidderId,provider:w.bidderCode,amount:M,complianceStatus:w.complianceStatus,timeout:N,latency:w.timeToRespond,requestStatus:"OK",creativeID:w.contentIdHash,adUnit:s,adSize:String(w.width)+"x"+String(w.height),adID:w.adId,currency:w.currency};if(w!=r)switch(D.complianceStatus){case a.Z.consts.complianceStatus.COMPLIANT:case a.Z.consts.complianceStatus.INCOMPLIANT:p.bids.push(D);break;default:p.aliens.push(D)}else p.win=D}if(l){p.win.provider=c.providerName||"default-creative";var y={sendToServer:!0,event:"adRecover Backfill",meta:{adUnitCode:s,aliens:p.aliens,auctionID:i.auctionId,bids:p.bids,dfpAdUnit:s,gamEnabled:e.dfpEnabled,orgID:e.organizationID,pageURL:window.location.href,refreshDepth:i.unit.countOfDispatches-1,spaceExternalID:i.unit.space.id,spaceName:i.unit.space.name,websiteID:e.websiteID,win:p.win}};zn.infof(null,"adRecover Backfill, auction ID -> ",i.auctionId||"N/A",y)}else Xn.reportAuctionEnd(i.auctionId,i.unit.space.id,i.unit.space.name,e.websiteID,e.organizationID,p,s,e.dfpEnabled,i.unit.countOfDispatches-1).then((function(e){zn.infof(null,"onAuctionEnded - %o",e)}),(function(e){zn.errorf(null,"onAuctionEnded - %o",e)}))})),d.Y.addEventListener("onAuctionRendered",(function(t){var n=t.data,i=n.auction,r=n.bid,o=d.Y.fireEvent("getDefaultCreative",{auction:i});if(!("default-creative"===r.bidder&&o.disableAuctionEventLogging)){var a={bid:{cpm:r.cpm,bidderCode:r.bidderCode,complianceStatus:r.complianceStatus}},s=d.Y.fireEvent("bidCpmAdjustment",a)||1,c=r.cpm/1e3*s;Xn.reportRender(i.auctionId,r.bidderId,r.bidderCode,c,r.currency,i.unit.space.id,i.unit.space.name,e.websiteID,e.organizationID,i.unit.countOfDispatches-1).then((function(e){zn.infof(null,"onAuctionRendered - %o",e)}),(function(e){zn.errorf(null,"onAuctionRendered - %o",e)}))}})),d.Y.addEventListener("onAdViewed",(function(t){var n=t.data,i=n.auction,r=n.bid,o=d.Y.fireEvent("getDefaultCreative",{auction:i});"default-creative"===r.bidder&&o.disableAuctionEventLogging||Xn.reportView(i.auctionId,r.bidderId,r.bidderCode,i.unit.space.id,i.unit.space.name,e.websiteID,e.organizationID,i.unit.countOfDispatches-1).then((function(e){zn.infof(null,"onAdViewed - %o",e)}),(function(e){zn.errorf(null,"onAdViewed - %o",e)}))}))},d.Y.addEventListener("consentData",(function(e){var t=e.data;Xn.consentData(t).then((function(e){zn.infof(null,"consentData - %o",e)}),(function(e){zn.errorf(null,"consentData - %o",e)}))}))},_n=new bn.Z({prefix:"verifications: "});const En={Report:Vn,Verifications:new function(){this.run=function(){n(),e()};var e=function(){d.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var t=d.Y.fireEvent("acceptableAbTest");if(t){var n="//static.criteo.net/images/pixel.gif?ch=1&upapi=true";t&&(n=t.src);var i=new Image;i.addEventListener("load",(function(){t.callback(!0)}),!1),i.addEventListener("error",(function(){t.callback(!1)}),!1),i.src=n}}))},t=!1,n=function(){d.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var n=e.data;n.contentRestriction&&n.acceptableAds&&(window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.que.push((function(){window.pbjs.onEvent("bidResponse",(function(e){if(!t&&e&&e.length>0)for(var n=0;n<e.length;n++)if(e[n].cpm>0&&"emx_digital"!==e[n].bidder&&"districtmDMX"!==e[n].bidder){t=!0,d.Y.fireEvent("disableStopFlag")||(window.__bt_intrnl.stopFlag=!0);var i=a.Z.SharedObject.getItem("renderedUnits"),r={adBlockDetectionType:a.Z.SharedObject.getItem("adBlockDetectionType"),stopedProcess:!i||0==i.length},o={sendToServer:!0,event:"pbjsDetected",meta:r};_n.noticef(null,"pub's pbjs was detected -> ",r,o)}if(e){var s={cpm:e.cpm?e.cpm:0,creativeLength:e.ad?e.ad.length:0,bidderCode:e.bidderCode||"",adUnitCode:e.adUnitCode||""},c={sendToServer:!0,event:"pbjsBidReceived",meta:s};_n.noticef(null,"pub's pbjs bid was received -> ",s,c)}}))})))}))}}};var xn=function(e){switch(e){case"ALL":return a.Z.consts.refreshType.ALL;case"VISIBLE":return a.Z.consts.refreshType.VISIBLE;case"HIDDEN":return a.Z.consts.refreshType.HIDDEN;default:return a.Z.consts.refreshType.UNKNOWN}};function Zn(e){return e&&e.selector?l.Z.commonUtils.getElementWithSelector(e.selector.value):null}var Hn=new bn.Z({prefix:"moveElementPosition: "}),In=new function(){var e=[],t=[];this.setMovePositionRules=function(t){e=t||[]},this.dispatch=function(i){try{if(!e||e.length<=0)return;if(!(i=s.Z.filter(i,(function(e){return t.indexOf(e)<0})))||i.length<=0)return;!function r(o,a){if(!(o>a)){for(var d=0;d<i.length;d++){for(var c=i[d],l=[],u=0;u<e.length;u++){var h=e[u];n(h,{space:c})&&(t.push(c),h.stayLive||l.push(h))}e=l.length>0?s.Z.filter(e,(function(e){return l.indexOf(e)<0})):e}e.length>0&&setTimeout((function(){r(o+1,a)}),100)}}(0,20)}catch(e){Hn.errorf(null,"error in `movePositionService` `dispatch` function: %o",e)}};var n=function(e,t){var n=e.elementToMove(t),i=e.relativeElement(t);return!(!n||!i||n.__upo_moved)&&(l.Z.ElementInsertion.insertElement(n,i,e.htmlElementInsertionType),n.__upo_moved=!0,!0)}},Yn=__webpack_require__(17),Sn=__webpack_require__(143),Tn=new bn.Z({prefix:"whitelistingIFrame: "});var Bn="BT_WHITELISTING_IFRAME_ACCESS";function On(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn.Im.whitelistingIFrameSettings.publisherDomainWhitelistingIFrameCandidatesSrcs,n=d.Y.fireEvent("customWhitelistingIFrameURL"),i=d.Y.fireEvent("keepBTDomainWhitelistingIFrame");return(e=n?Promise.resolve(n):i?Promise.resolve(null):Fn(t,0)).then((function(e){Sn.Im.whitelistingIFrameSettings.url=e||Sn.Im.whitelistingIFrameSettings.url,Sn.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame=!e})),e}function Fn(e,t){return e[t]?new Promise((function(n){var i=l.Z.addAcceptableParam(e[t]),r=new window.XMLHttpRequest;r.open("GET",i),r.addEventListener("load",(function(o){try{if(!r.status.toString().startsWith("4")&&r.responseURL==="".concat(window.location.origin).concat(i)&&function(e){var t=e.getResponseHeader("x-frame-options");if(t&&"deny"===t.toLowerCase())return!1;var n=e.getResponseHeader("content-security-policy"),i=n&&n.split(","),r=i&&i.find((function(e){return e.startsWith("frame-ancestors")}))&&r.split(" ");return!(r&&!r.some((function(e){return e===window.location.origin})))}(r))return void function(e){try{var t=localStorage.getItem(Bn);if((t=t&&JSON.parse(t))&&void 0!==t.canAccess&&t.expiration&&t.url&&t.version&&Date.now()<t.expiration&&t.url===e&&"1"===t.version)return Promise.resolve(t.canAccess)}catch(e){Tn.noticef(null,"whitelisting flawed cached value structure")}return new Promise((function(t){var n=document.createElement("iframe");n.src=e,n.addEventListener("load",(function i(){n.removeEventListener("load",i);var r=!1;n.contentDocument&&(r=!0),t(r);var o={canAccess:r,url:e,expiration:Date.now()+6048e5,version:"1"};localStorage.setItem(Bn,JSON.stringify(o)),n.parentElement.removeChild(n)})),n.style.setProperty("visibility","hidden"),document.body.appendChild(n)}))}(i).then((function(e){n(e?i:null)}));Fn(e,t+1).then((function(e){return n(e)}))}catch(i){Fn(e,t+1).then((function(e){return n(e)}))}})),r.addEventListener("error",(function(i){Fn(e,t+1).then((function(e){return n(e)}))})),r.send()})):Promise.resolve(null)}var kn=function(){var e=Sn.Im.whitelistingIFrameSettings.url,t=document.createElement("iframe");return t.addEventListener("load",(function t(){if(this.removeEventListener("load",t),Sn.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame||this.contentDocument||(Sn.Im.whitelistingIFrameSettings.url=Sn.VP,Sn.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame=Sn.k$,localStorage.removeItem(Bn),this.src=Sn.Im.whitelistingIFrameSettings.url),e.includes("about:blank"))try{!function(e){var t=e.contentWindow,n=function(e){return 0===e.indexOf("//")&&(e=l.Z.commonUtils.getTopmostAccessibleWindow().location.protocol+e),e},i=function(e,t){if(e&&""===e.src&&e.outerHTML){var i=new RegExp(t+'="([^"]+)"',"g").exec(e.outerHTML);i&&i[1]&&(e[t]=n(i[1]))}},r=t.XMLHttpRequest.prototype.open;t.XMLHttpRequest.prototype.open=function(){try{var e=Array.prototype.slice.call(arguments);e[1]=n(e[1])}catch(e){Tn.errorf(null,"error in XHRHttpRequest.open hook: %o",e)}return r.apply(this,e)};var o=t.open;t.open=function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){Tn.errorf(null,"error in `window.open` hook: %o",e)}return o.apply(this,e)};var a=function(e){return function(){try{var t=Array.prototype.slice.call(arguments);["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&i(t[0],"src"),"LINK"===t[0].tagName&&i(t[0],"href")}catch(e){Tn.errorf(null,"error in `hookOnFunc`: %o",e)}return e.apply(this,t)}},s=t.HTMLElement.prototype.insertBefore;t.HTMLElement.prototype.insertBefore=a(s);var d=t.HTMLElement.prototype.appendChild;t.HTMLElement.prototype.appendChild=a(d);var c=t.HTMLElement.prototype.__lookupGetter__("innerHTML"),u=t.HTMLElement.prototype.__lookupSetter__("innerHTML");t.HTMLElement.prototype.__defineSetter__("innerHTML",(function(){try{var e=Array.prototype.slice.call(arguments),t=u.apply(this,e),n=this.firstChild;i(n,"src")}catch(e){Tn.errorf(null,'error in HTMLElement "innerHTML" property setter hook: %o',e)}return t})),t.HTMLElement.prototype.__defineGetter__("innerHTML",(function(){try{return c.apply(this)}catch(e){Tn.errorf(null,'error in HTMLElement "innerHTML" property getter hook: %o',e)}}));for(var h=Yn.v.htmlElements,f=0;f<h.length;f++)t[h[f]]&&function(e){var t=e.prototype,i="src",r=t.__lookupGetter__(i),o=t.__lookupSetter__(i);r&&(t.__defineSetter__(i,(function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){Tn.errorf(null,'error in <html> "src" attribute setter hook: %o',e)}return o.apply(this,e)})),t.__defineGetter__(i,(function(){try{return r.apply(this)}catch(e){Tn.errorf(null,'error in <html> "src" attribute getter hook: %o',e)}})))}(t[h[f]])}(this)}catch(e){Tn.errorf(null,"error calling `addAboutBlankHooks` in `createWhitelistingIFrame`: %o",e)}})),t.src=e,t};const Wn={commonBLUtils:e,movePositionService:In,whitelistingIFrame:t};var Rn=new bn.Z({prefix:"auction: "}),Gn=function e(t){var n=!1,i=new l.Z.SubscriptionLayer;this.auctionId=v(8,9),this.unit=t.unit,this.state=e.States.UNOFFERED,this.creationTime=new Date,this.lastUpdate=this.creationTime,this.bids=[],this.subscribeForEvent=function(e,t){i.subscribeForEvent(e,t)},this.cancelAuction=function(){n=!0,r(this)},this.getWinningBid=function(){for(var e=void 0,t=0;t<this.bids.length;t++){var n=this.bids[t];(!e||n.cpm>e.cpm)&&n.complianceStatus===a.Z.consts.complianceStatus.COMPLIANT&&(e=n)}return e},this.addBids=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this.bids.push(n)}};this.getComplianceBids=function(){for(var e=[],t=0;t<this.bids.length;t++){var n=this.bids[t];n.complianceStatus===a.Z.consts.complianceStatus.COMPLIANT&&e.push(n)}return e},this.renderWinningBid=function(){var e=this.getWinningBid();this.renderBid(e)};var r=function(e){e.bids.forEach((function(e){e.cancelBid()}))};function o(e){return new Promise((function(t,n){window.setTimeout((function(){try{e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","block","important"),t()}catch(e){n(e)}}),1e3)}))}this.renderBid=function(t){try{if(d.Y.fireEvent("renderBidInElementStarted",{element:this.unit&&this.unit.element}),this.state=e.States.DONE,function(){if(!document.getElementById("bt-render-styles")){var e=document.createElement("style");e.id="bt-render-styles",e.type="text/css",e.textContent=".up-hide { display: none !important; }",e.textContent+='.ahover + [id^="google_ads_iframe_"] { width: 1px !important; height:1px !important; display: grid !important; }',(document.head||document.body||document.documentElement).appendChild(e)}}(),function(e,t){for(var n=0;n<e.bids.length;n++){var i=e.bids[n];i!==t&&i.cancelBid()}}(this,t),!t||n||!l.Z.commonUtils.isElementInBody(this.unit.element))return this.unit.currentBid||(h=this.unit,s.Z.addClass("up-hide",h.element),s.Z.removeClass("up-show",h.element)),t&&t.cancelBid(),void i.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!1});this.unit.cleanup(),c(this.unit.element),function(e,t){s.Z.addClass("up-show",e.element),s.Z.removeClass("up-hide",e.element)}(this.unit),this.unit.element._adData_=t,t.onRenderedEvent(function(){var e=this;!function(e,t,n){var i=e.querySelector(".default-creative-container")||e.querySelector(".ahover")||e.querySelector('[id^="google_ads_iframe_"]');i.style.position||i.style.setProperty("position","relative");if(i.style.setProperty("width","max-content","important"),["sharethrough","triplelift"].indexOf(t.bidderCode)>=0){var r=t.width,o=function(e){var t=e.sizes,n=0;return s.Z.forEach(t,(function(e){var t=e.split("x")[0];(t=parseInt(t))>n&&(n=t)})),n}(n);(r>o||r<120)&&(r=o),i.style.setProperty("max-width",r+"px","important")}i.style.setProperty("z-index",0),i.style.setProperty("margin","0 auto"),i.style.setProperty("display","block")}(this.unit.element,t,this.unit.space),function(e){if(d.Y.fireEvent("omitBTAdLabel",{unit:e}))return;var t=e.element,n=t.querySelector(".default-creative-container")||t.querySelector(".ahover")||t.querySelector('[id^="google_ads_iframe_"]'),i="upo-label",r=!(!n||!n.querySelector(".".concat(i)));if(!n||r)return;var o=function(e){var t=document.createElement("div");return t.className=e,t.setAttribute("style","text-align:left;padding:0px;margin:0px;position:absolute;top:0;left:0;z-index:10000;transition:opacity 1s ease-out;opacity:0;"),window.setTimeout((function(){t.style.opacity="1"}),2e3),t.innerHTML='<span style="display:block;background:rgba(255, 255, 255, 0.7);height:fit-content;width:fit-content;top:0;left:0;color:#444;font-size:10px;font-weight:bold;font-family:sans-serif;line-height:normal;text-decoration:none;margin:0px;padding:6px;border-radius:0 0 5px 0;">&#65;&#68;</span>',t}(i);n.appendChild(o),e.adLabelElement=o}(this.unit),function(e){return new Promise((function(t,n){try{if(d.Y.fireEvent("skipEnsureElementVisibility",{unit:e}))t();else{var i=e.element;i.classList.contains("up-show")||i.classList.add("up-show"),Promise.all([o(i),o(i.parentElement),o(i.parentElement.parentElement)]).then(t).catch(n)}}catch(e){n(e)}}))}(this.unit).then((function(){!function(e){if(0===e.offsetWidth&&0===e.offsetHeight){var t={sendToServer:!0,sendPercentage:1,event:"ad-unit-hidden-by-css",meta:{elementId:e.id||"N/A"}};Rn.infof(null,"detectAndLogHiddenAdUnit, element ID -> ",e.id||"N/A",t)}}(e.unit.element)})).catch((function(e){Rn.errorf(null,"bid.onRenderedEvent: ensureElementVisibility/detectAndLogHiddenAdUnit: %o",e)})),i.invokeEventCallbacks("auctionRendered",t),this.unit.rendered(t),a.Z.SharedObject.getItem("renderedUnits")||a.Z.SharedObject.setItem("renderedUnits",[]),a.Z.SharedObject.getItem("renderedUnits").push(this.unit)}.bind(this));var r={placement:this.unit.element},u=t.additionalBidsToRender&&t.additionalBidsToRender.length>0&&t.additionalBidsToRender[0];u?(u.onRenderedEvent((function(){return t.renderBid(r)})),u.renderBid()):t.renderBid(r),i.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!0})}catch(e){Rn.errorf(null,"renderBid err:%o",e)}var h};var c=function(e){e.style.removeProperty("background-image"),e.style.removeProperty("background-repeat")}};Gn.States={UNOFFERED:0,DISPATCHED:1,DONE:3};var Cn=function e(t,n,i,r,o,a,s,d){this.bidId=v(16,24),this.ad=t.ad,this.adId=t.adId,this.adUrl=t.adUrl,this.bidderId=t.bidderId,this.bidder=t.bidder,this.bidderCode=t.bidderCode,this.contentIdHash=t.contentIdHash,this.currency=t.currency,this.creativeId=t.creativeId,this.c=t.c,this.cpm=t.cpm,this.complianceStatus=t.complianceStatus||0,this.height=t.height,this.isBackupCreative=t.isBackupCreative,this.timeToRespond=t.timeToRespond,this.size=t.size,this.width=t.width,this.rawBid=n,this.type=i,this.status=e.Status.LIVE,this.additionalBidsToRender=[],this.renderBid=o,this.cancelBid=function(){this.status!==e.Status.CANCELED&&(this.status=e.Status.CANCELED,a&&a(),this.additionalBidsToRender.forEach((function(e){return e.cancelBid()})))},this.getGPTTargeting=function(e){return r&&r.call(this,e)},this.onRenderedEvent=s||function(){},this.makeEntryForTestCompliance=d||function(){}};Cn.Types={EMPTY:0,PREBID:1,RTK:2,ADX:3,ADX_TEXT:4,DFP_PREBID:5,ADSENSE:6,DIRECT:7,SMART_AS:8,DEFAULT_CREATIVE:9},Cn.Status={LIVE:0,CANCELED:1};var Ln=function e(t){this.unitID=v(16,24),this.element=t.element,this.space=t.space,this.state=t.state||e.States.PENDING,this.currentBid,this.countOfDispatches=0,this.countOfRenders=0,this.lastInvokeTime,this.cleanup=function(){for(var e=this.element.children,t=[],i=0;i<e.length;i++)t.push(n(e[i]));for(var r=0;r<t.length;r++)t[r]()},this.rendered=function(e){this.currentBid=e};var n=function(e){return function(){e&&e.parentNode&&e.parentNode.removeChild(e)}}};Ln.States={PENDING:0,CHECKING:1,DISPATCHED:2};const jn={Auction:Gn,Bid:Cn,Space:function(e){if(this.id=e.id,this.name=e.name,this.staging=e.staging,this.deviceType=e.deviceType,this.selector={position:e.selector.position,value:e.selector.value},this.sizes=e.sizes,this.preBiddingSettings={enabled:!1},e.preBiddingSettings&&(this.preBiddingSettings={enabled:e.preBiddingSettings.enabled,biddingSettings:{}},e.preBiddingSettings.enabled&&e.preBiddingSettings.biddingSettings))for(var t in e.preBiddingSettings.biddingSettings)if(e.preBiddingSettings.biddingSettings.hasOwnProperty(t)){var n=e.preBiddingSettings.biddingSettings[t];this.preBiddingSettings.biddingSettings[t]=[];for(var i=0;i<n.length;i++){var r=n[i];if(r.id&&r.name&&r.params){var o={id:r.id,name:r.name,params:r.params};this.preBiddingSettings.biddingSettings[t].push(o)}}}if(this.postBiddingSettings={enabled:!1},e.postBiddingSettings&&e.postBiddingSettings.enabled){this.postBiddingSettings={adxId:e.postBiddingSettings.adxId,directId:e.postBiddingSettings.directId,enabled:e.postBiddingSettings.enabled,type:e.postBiddingSettings.type,order:[]};for(var a=0;a<e.postBiddingSettings.order.length;a++){var s=e.postBiddingSettings.order[a];d.Y.fireEvent("removeAdServerRequestIteration",{iterationConfig:s})||this.postBiddingSettings.order.push({params:{keyValues:s.params.keyValues||{},queryParams:s.params.queryParams||{}},adx:{bidderID:s.adx.bidderID,testCompliance:s.adx.testCompliance},direct:{bidderID:s.direct.bidderID}})}}},Unit:Ln};function An(e){for(var t=e.length,n=5381,i=52711;t--;){var r=e.charCodeAt(t);n=33*n^r,i=33*i^r}return 4096*(n>>>0)+(i>>>0)}var Jn=new bn.Z({prefix:"adUnitParser: "});function Kn(e,t,n){var i=window.googletag.defineSlot(e,t,n);return i&&i.addService(window.googletag.pubads()),i}function Pn(e){if(e){var t=d.Y.fireEvent("rewriteGAMSlots")||d.Y.fireEvent("GAMSpecialAdUnit");if(t&&t.parseSlotAdUnitPath&&!e._is_rewritten_slot){var n=e.getSlotElementId(),i=e.getSizes();i=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i&&i.getWidth&&i.getHeight?t.push([i.getWidth(),i.getHeight()]):i&&"fluid"===i&&t.push("fluid")}return t}(i);try{var r=t.parseSlotAdUnitPath(e);if(t.shouldSkipDestroySlot&&t.shouldSkipDestroySlot(e,r)||function(e){var t=e.getSlotElementId();window.googletag.destroySlots([e]);var n=document.getElementById(t),i=n&&n.querySelector("div[id^='google_ads_iframe_']");n&&i&&n.removeChild(i)}(e),!r)return;var o=Kn(r,i,n);return o&&(o._is_rewritten_slot=!0,t.shouldCopyTargeting&&function(e,t){var n=e.getTargetingMap();for(var i in n)if(n.hasOwnProperty(i)){var r=n[i][0];t.setTargeting(i,r)}}(e,o),t.postSlotCreation&&t.postSlotCreation(o)),o}catch(e){Jn.errorf(null,"error redefining GAM slot (e.g. for SAU or BT AdX unit)",e)}}}}var Un={hookName:"amazonBidderConfiguration",handler:function(e){var t=e.amazonConfig,n=void 0===t?{}:t,i=e.pubID,r=e.keepHbPb,o=void 0!==r&&r,a=n.amazonCPMCurrency,s=void 0===a?"USD":a,d=n.amazonCPMChart;return window.upo_amzn={amazonCPMCurrency:s,amazonCPMChart:d},{pubID:i,keepHbPb:o}}};function Qn(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qn=__webpack_require__(905);function $n(e){var t=qn.tq();switch(e){case"mobile":return t;case"desktop":return!t;default:return!0}}function ei(e){var t=e.string,n=e.condition,i=e.candidates,r=void 0===i?[]:i;if(1===r.length)switch(n){case"equals":case"equalsOneOf":return t===r[0];case"startsWith":case"endsWith":case"includes":return t[n](r[0]);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":var o=n.split("OneOf")[0];return t[o](r[0])}else if(r.length>1)switch(n){case"equalsOneOf":return r.includes(t);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":var a=n.split("OneOf")[0];return r.some((function(e){return t[a](e)}))}}function ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ii={hookName:"prebidDoneInit",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;return e.websiteOverridesOrg?r:ni(ni({},n),r)},handler:function(e,t){var n=e,i=t.data.cpbjs;i.que.push((function(){i.setConfig(n)}))}};const ri={enableAmazon:Un,enableLegacySizesReplacer:{hookName:"enableLegacySizesReplacer",handler:function(e){return e}},hideDOMElementsViaCSS:{parseSettingValue:function(e){var t=e.org,n=void 0===t?[]:t,i=e.website,r=void 0===i?[]:i;return e.websiteOverridesOrg?r:[].concat(Qn(n),Qn(r))},handler:function(e){var t=[];if(e.forEach((function(e){var n=e.whenDevice,i=e.selectors;$n(n)&&t.push.apply(t,Qn(i))})),t.length>0){var n=document.createElement("style");n.textContent="".concat(t.join(", ")," { display: none !important; }"),(document.head||document.body||document.documentElement).appendChild(n)}}},insertCustomCSS:{parseSettingValue:function(e){var t=e.org,n=void 0===t?[]:t,i=e.website,r=void 0===i?[]:i;return e.websiteOverridesOrg?r:[].concat(Qn(n),Qn(r))},handler:function(e){var t="";if(e.forEach((function(e){var n=e.whenDevice,i=e.customCSS,r=void 0===i?"":i;$n(n)&&(t="".concat(t,"\n").concat(r))})),""!==t){var n=document.createElement("style");n.textContent=t,(document.head||document.body||document.documentElement).appendChild(n)}}},prebidConfig:ii,removeSizes:{hookName:"sizesToRemoveBySpace",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i,o=e.websiteOverridesOrg,a=n.forAllSpaces,s=void 0===a?[]:a,d=n.forSpaces,c=void 0===d?[]:d,l=r.forAllSpaces,u=void 0===l?[]:l,h=r.forSpaces,f=void 0===h?[]:h;return{forAllSpaces:o?u:[].concat(Qn(s),Qn(u)),forSpaces:o?f:[].concat(Qn(c),Qn(f))}},handler:function(e,t){var n=e.forAllSpaces,i=e.forSpaces,a=t.data.spaceName,s=t.hookFileData||[],d=new Set(s);return n.forEach((function(e){var t=e.whenDevice,n=e.sizes,i=void 0===n?[]:n;$n(t)&&i.forEach((function(e){d.add(e)}))})),i.forEach((function(e){var t=e.name,n=e.nameList,i=e.whenName,r=e.whenDevice,o=e.sizes,s=void 0===o?[]:o;$n(r)&&ei({string:a,condition:i,candidates:t?[t]:n})&&s.forEach((function(e){d.add(e)}))})),Qn(d).map((function(e){if("fluid"===e)return"fluid";var t,n;if("string"==typeof e){var i=r(e.split("x").map((function(e){return parseInt(e,10)})),2);t=i[0],n=i[1]}else"object"===(0,o.Z)(e)&&(t=e.width,n=e.height);return isNaN(t)||isNaN(n)?null:{width:t,height:n}})).filter((function(e){return null!==e}))}},rewriteGAMSlots:{hookName:"rewriteGAMSlots",handler:function(e,t){var n,i=e.rewritePathMethod,r=e.rewritePathData;if("insertBTAdUnit"===i){var o=r||{},a=o.btUnitName,s=o.insertionDepth,d=o.maxDepth;s&&(n=function(e){var t=e.getAdUnitPath();"/"!==t[0]&&(t="/".concat(t));var n=a||"Blockthrough",i=t.split("/");return i.splice(s,0,n),d&&d>0&&(i=i.slice(0,d+1)),i.join("/")})}if(n)return{parseSlotAdUnitPath:n,shouldCopyTargeting:!0}}},scrapeGoogletagSlots:{hookName:"scrapeGoogletagSlots",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;if(e.websiteOverridesOrg)return r;var o={},a=(n.filterOut||{}).slots,s=(r.filterOut||{}).slots;return(a||s)&&(o.filterOut={},o.filterOut.slots=a&&s?[].concat(Qn(a),Qn(s)):a||s),o},handler:function(e,t){var n=e.dontScrape,i=e.filterOut,r=t.data&&t.data.slot,o=!0;if(n||!r)o=!1;else{var a=i&&i.slots;if(a&&a.length>0)o=!a.some((function(e){var t=e.divId,n=e.divIdList,i=e.whenDivId;return $n(e.whenDevice)&&ei({string:r.getSlotElementId(),condition:i,candidates:t?[t]:n})}))}return o}},scrapePrebid:{hookName:"scrapePrebidAdUnits",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;if(e.websiteOverridesOrg)return r;var o={};o.adUnitsVar=n.adUnitsVar||r.adUnitsVar;var a=(n.parse||{}).removeBidders,s=(r.parse||{}).removeBidders;(a||s)&&(o.parse={},o.parse.removeBidders=a&&s?{forAllAdUnits:[].concat(Qn(a.forAllAdUnits||[]),Qn(s.forAllAdUnits||[])),forAdUnits:[].concat(Qn(a.forAdUnits||[]),Qn(s.forAdUnits||[]))}:a||s);var d=(n.filterOut||{}).adUnits,c=(r.filterOut||{}).adUnits;return(d||c)&&(o.filterOut={},o.filterOut.adUnits=d&&c?[].concat(Qn(d),Qn(c)):d||c),o},handler:function(e,t){var n,i,r=e.dontScrape,o=e.adUnitsVar,a=e.parse,s=e.filterOut;if(r)n=!1;else{if(n=t.hookFileData||{},o&&(n.getAdUnits=function(){return l.Z.commonUtils.extractVariableFromString(window,o)}),a){var d=a.removeBidders?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forAllAdUnits,n=void 0===t?[]:t,i=e.forAdUnits,r=void 0===i?[]:i;if(n.length>0||r.length>0)return function(e){var t=[];return n.forEach((function(e){var n=e.whenDevice,i=e.bidders,r=void 0===i?[]:i;$n(n)&&t.push.apply(t,r)})),r.forEach((function(n){var i=n.code,r=n.codeList,o=n.whenCode,a=n.whenDevice,s=n.bidders,d=void 0===s?[]:s,c=i?[i]:r;$n(a)&&ei({string:e.code,condition:o,candidates:c})&&t.push.apply(t,d)})),e.bids=e.bids.filter((function(e){var n=e.bidder;return!t.includes(n)})),e}}(a.removeBidders):null,c=n.parseAdUnit;d&&(n.parseAdUnit=c?function(e){return d(c(e))}:d)}if(s){var u=s.adUnits?(i=s.adUnits,function(e){return i.some((function(t){var n=t.code,i=t.codeList,r=t.whenCode;return $n(t.whenDevice)&&ei({string:e.code,condition:r,candidates:n?[n]:i})}))}):null,h=n.filterOutAdUnit;u&&(n.filterOutAdUnit=h?function(e){return h(e)||u(e)}:u)}}return n}}};var oi=new bn.Z({prefix:"scriptsettings: "}),ai=ri,si={"prebidConfig__org":{"_enabled":true,"value":{"enableSendAllBids":false,"syncsPerBidder":20}},"removeSizes__org":{"_enabled":true,"value":{"forAllSpaces":[{"sizes":["970x250"],"whenDevice":"any"}],"forSpaces":[]}},"scrapePrebid__org":{"_enabled":true,"value":{"adUnitsVar":"fsprebid.adUnits","filterOut":{},"parse":{"removeBidders":{"forAdUnits":[{"bidders":["gumgum"],"codeList":["_adhesion","_sticky"],"whenCode":"endsWithOneOf","whenDevice":"any"}]}}}}},di=Object.entries(si).reduce((function(e,t){var n=r(t,2),i=n[0],o=n[1];if(o._enabled)if(i.endsWith("__org")){var a=i.split("__org")[0];e[a]=e[a]||{},e[a].org=o.value}else if(i.endsWith("__website")){var s=i.split("__website")[0];e[s]=e[s]||{},e[s].websiteOverridesOrg=!!o._overrides_org,e[s].website=o.value}else e[i]=o.value;return e}),{});var ci={rawSettings:si,parsed:di},li=function(e){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)e();else{var t=!1;document.addEventListener("DOMContentLoaded",(function(){t||(t=!0,e())}),!1),window.addEventListener("load",(function(){t||(t=!0,e())}))}},ui=function(e){window.addEventListener("scroll",(function(t){e()}))},hi=new bn.Z({prefix:"Hooks: "}),fi=new function(){this.Types={XHR_OPEN_PRE:"xhropenpre",FETCH_PRE:"fetchpre",REMOVE_CHILD_PRE:"removechildpre",INSERT_BEFORE_PRE:"insertbeforepre",APPEND_CHILD_PRE:"appendchildpre",APPEND_CHILD_POST:"appendchildpost",IMG_SET_ATTRIBUTE_PRE:"imgsetattributepre",SET_ATTRIBUTE_PRE:"setattributepre",WIN_OPEN_PRE:"winopenpre",HTML_SRC_PROP_PRE:"htmlsrcproppre",HTML_ELEMENT_INNERHTML_PRE:"htmlelementinnerhtmlpre",HTML_ELEMENT_INNERHTML_POST:"htmlelementinnerhtmlpost",HTML_ELEMENT_HAS_CHILD_NODES_PRE:"htmlelementhaschildnodespre",HTML_ELEMENT_TEXTCONTENT_PRE:"htmlelementtextcontentpre"};var e=["xhrThwartOpen","fetchThwartOpen"];this.hookFunction=function(t,n,i,r,o){var a=t[n];a&&(t[n]=function(){var t=Array.prototype.slice.call(arguments);if(window.__bt_intrnl.stopFlag)return a.apply(this,t);if(i)try{var n=d.Y.fireEvent(i,t,this);if(null!=n)return n}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}var s=a.apply(this,t);if(r)try{d.Y.fireEvent(r,s,this)}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}return s})},this.hookPropertySetter=function(t,n,i,r,o){var a=t.__lookupGetter__(n),s=t.__lookupSetter__(n);a&&(t.__defineSetter__(n,(function(){var t=Array.prototype.slice.call(arguments);if(window.__bt_intrnl.stopFlag)return s.apply(this,t);if(i)try{var n=d.Y.fireEvent(i,t,this);if(null!=n)return n}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}var a=s.apply(this,t);if(r)try{d.Y.fireEvent(r,a,this)}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}return a})),t.__defineGetter__(n,(function(){try{return a.apply(this)}catch(e){hi.errorf(null,"error in `hookPropertySetter` object getter hook: %o",e)}})))},this.addEventListener=function(e,t){d.Y.addEventListener(e,t)}},gi=new bn.Z({prefix:"testCompliance: "}),pi=new function(){this.init=function(){d.Y.addEventListener("onAuctionGroupStarted",(function(e){gi.infof(null,"onAuctionGroupStarted: %o",e)})),d.Y.addEventListener("onAuctionGroupEnded",(function(e){gi.infof(null,"onAuctionGroupEnded: %o",e)})),d.Y.addEventListener("onAuctionStarted",(function(e){gi.infof(null,"onAuctionStarted: %o",e)})),d.Y.addEventListener("onAuctionEnded",(function(e){gi.infof(null,"onAuctionEnded: %o",e)})),d.Y.addEventListener("onPrebiddingStarted",(function(e){gi.infof(null,"onPrebiddingStarted: %o",e)})),d.Y.addEventListener("onPrebiddingEnded",(function(e){gi.infof(null,"onPrebiddingEnded: %o",e)})),d.Y.addEventListener("onPostbiddingStarted",(function(e){gi.infof(null,"onPostbiddingStarted: %o",e)})),d.Y.addEventListener("onPostbiddingEnded",(function(e){gi.infof(null,"onPostbiddingEnded: %o",e)})),d.Y.addEventListener("onAuctionBidResponse",(function(e){gi.infof(null,"onAuctionBidResponse: %o",e)})),d.Y.addEventListener("onNewUnitFound",(function(e){gi.infof(null,"onNewUnitFound: %o",e)}))}};function mi(e,t,n,i,r,o,a){try{var s=e[o](a),d=s.value}catch(e){return void n(e)}s.done?t(d):Promise.resolve(d).then(i,r)}function wi(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){mi(o,i,r,a,s,"next",e)}function s(e){mi(o,i,r,a,s,"throw",e)}a(void 0)}))}}var bi=__webpack_require__(757),vi=__webpack_require__.n(bi),Mi=__webpack_require__(96),Ni=__webpack_require__.n(Mi),Di=new function(){var e=[],t={},n={};this.set=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=i;Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++){var a=r[o],s=!a.deviceType||a.deviceType===qn.yC||a.deviceType===qn.l7();a&&s&&(e.push(a),t[a.name]=t[a.name]||[],t[a.name].push(a),n[a.id]=n[a.id]||[],n[a.id].push(a))}return e},this.getSpacesByName=function(e){return t[e]||[]},this.getSpacesByID=function(e){return n[e]||[]},this.getAll=function(){return e},this.remove=function(i){e=s.Z.filter(e,(function(e){return e!=i}));var r=n[i.id].indexOf(i);r>=0&&n[i.id].splice(r,1);var o=t[i.name].indexOf(i);o>=0&&t[i.name].splice(o,1)}};function yi(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Vi=new bn.Z({prefix:"visibility: "}),_i=new Map,Ei=new Map;function xi(e){var t=e.getBoundingClientRect(),n=function(){var e,t,n=window,i=[];for(;n!==window.top;){var r,o=Xi((e=n.parent).document.getElementsByTagName("iframe"));try{for(o.s();!(r=o.n()).done;){var a=r.value;a.contentWindow===n&&(t=a.getBoundingClientRect(),i.push({x:t.x,y:t.y}))}}catch(e){o.e(e)}finally{o.f()}n=e}return i.reduce((function(e,t){return{x:e.x+t.x,y:e.y+t.y}}),{x:0,y:0})}();try{return window.top.document.hasFocus()&&t.top+t.height/2+n.y>0&&t.left+t.width/2+n.x>0&&t.top+t.height/2+n.y<(window.top.innerHeight||window.top.document.documentElement.clientHeight)&&t.left+t.width/2+n.x<(window.top.innerWidth||window.top.document.documentElement.clientWidth)}catch(e){Bi(e)}}function Zi(e,t,n){return Hi.apply(this,arguments)}function Hi(){return(Hi=wi(vi().mark((function e(t,n,i){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ii((function(){return xi(t)?{stopIterations:!1}:{stopIterations:!0}}),10,100);case 2:r=e.sent,l.Z.commonUtils.isElementInBody(t)||i(),r&&n();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ii(e,t,n){return Yi.apply(this,arguments)}function Yi(){return(Yi=wi(vi().mark((function e(t,n,i){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",!0);case 2:if(r=t(),!r.stopIterations){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(Ii(t,n-1,i))}),i)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Si(){_i.forEach((function(e,t){var n=r(e,2);Zi(t,n[0],n[1])}))}try{window.top.addEventListener("scroll",(function(){Si()})),window.top.addEventListener("focus",(function(){Si()}))}catch(Oe){Bi(Oe)}function Ti(e){var t,n,i,r=e.selector,o=e.id,s=e.element;if(!s)try{if(r)s=document.querySelector(r);else{if(!o)throw new Error("No selector, id, or element provided.");s=document.getElementById(o)}if(!s)throw new Error("Could not find element on page with id/selector provided.")}catch(e){return Vi.warningf(null,"getElementVisibility - selector: `%o`, id: `%o` - error: %o",[r,o,e]),a.Z.consts.elementVisibility.NOT_FOUND}"none"===window.getComputedStyle(s).display&&(n=s.style.getPropertyValue("display"),i=s.style.getPropertyPriority("display"),s.style.setProperty("display","block","important"),t=!0);var d,c=function(e){var t,n;if(e)return(n=e.getBoundingClientRect()).width||n.height?(t=document.documentElement,{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}):n}(s),l=document.documentElement.scrollLeft||window.scrollX,u=document.documentElement.scrollTop||window.scrollY,h=window.innerHeight,f=window.innerWidth,g=s.offsetHeight,p=s.offsetWidth;return d=c.left>=l&&c.top>=u&&p+c.left<=l+f&&g+c.top<=u+h||(c.left<=l&&c.left+p>l||c.left>=l&&c.left<=l+f)&&(c.top<=u&&c.top+g>u||c.top>=u&&c.top<=u+h)?a.Z.consts.elementVisibility.VISIBLE:a.Z.consts.elementVisibility.HIDDEN,t&&s.style.setProperty("display",n,i),d}function Bi(e){var t={sendToServer:!0,event:"noViewabilityFromCrossDomainIframe",sendPercentage:1,meta:{error:e}};Vi.warningf(null,"noViewabilityFromCrossDomainIframe","N/A",t)}var Oi="dmFyIF8weGE4YmU9WyJceDYzXHg2OFx4NjlceDZDXHg2NFx4NzJceDY1XHg2RSIsIlx4NkNceDY1XHg2RVx4NjdceDc0XHg2OCIsIlx4NDlceDQ2XHg1Mlx4NDFceDREXHg0NSIsIlx4NzRceDYxXHg2N1x4NEVceDYxXHg2RFx4NjUiLCJceDY5XHg2RVx4NzNceDY1XHg3Mlx4NzRceDQyXHg2NVx4NjZceDZGXHg3Mlx4NjUiLCJceDc3XHg3Mlx4NjlceDc0XHg2NSIsIlx4NkRceDYxXHg3NFx4NjNceDY4IiwiXHg3Mlx4NjVceDcwXHg2Q1x4NjFceDYzXHg2NSIsIlx4NzNceDYzXHg3Mlx4NjlceDcwXHg3NCIsIlx4NzRceDc5XHg3MFx4NjVceDNBXHgyMFx4MjdceDQ4XHg1NFx4NERceDRDXHgzNVx4MjciLCJceDc0XHg3OVx4NzBceDY1XHgzQVx4MjBceDI3XHg0OVx4NERceDQxXHg0N1x4NDVceDI3IiwiXHg2NVx4NjJceDQzXHg2Nlx4NjciLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTNceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDQ4XHg3NFx4NkRceDZDXHg1MFx4NjFceDc0XHg2OCIsIlx4NEZceDYyXHg2QVx4NjVceDYzXHg3NCIsIlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTBceDcyXHg2Rlx4NzBceDY1XHg3Mlx4NzRceDc5IiwiXHg1Rlx4NUZceDVGIiwiXHg3MFx4NjFceDY3XHg2NVx4NTZceDY5XHg3M1x4NjlceDYyXHg2Q1x4NjUiLCJceDZGXHg2Mlx4NkFceDY1XHg2M1x4NzQiLCJceDY4XHg2MVx4NzNceDRGXHg3N1x4NkVceDUwXHg3Mlx4NkZceDcwXHg2NVx4NzJceDc0XHg3OSIsIlx4NzNceDc1XHg3MFx4NzBceDZGXHg3Mlx4NzRceDY1XHg2NFx4NDJceDcyXHg2Rlx4NzdceDczXHg2NVx4NzIiLCJceDYyXHg2MVx4NkVceDZFXHg2NVx4NzJceDQxXHg2NFx4NDhceDc0XHg2RFx4NkNceDU0XHg2NVx4NzhceDc0IiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzIiLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NDdceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDVGXHg1RiIsIlx4NjlceDZFXHg2NFx4NjVceDc4XHg0Rlx4NjYiLCJceDczXHg3NFx4NzJceDY5XHg2RVx4NjciLCJceDZBXHg2MVx4NzZceDYxXHg3M1x4NjNceDcyXHg2OVx4NzBceDc0XHgzQVx4MjciLCJceDY0XHg2Rlx4NjNceDc1XHg2RFx4NjVceDZFXHg3NCIsIlx4NjNceDcyXHg2NVx4NjFceDc0XHg2NVx4NDVceDZDXHg2NVx4NkRceDY1XHg2RVx4NzQiLCJceDczXHg3NFx4NzlceDZDXHg2NSIsIlx4NjhceDY1XHg2MVx4NjQiLCJceDYyXHg2Rlx4NjRceDc5IiwiXHg2NFx4NkZceDYzXHg3NVx4NkRceDY1XHg2RVx4NzRceDQ1XHg2Q1x4NjVceDZEXHg2NVx4NkVceDc0IiwiXHg2MVx4NzBceDcwXHg2NVx4NkVceDY0XHg0M1x4NjhceDY5XHg2Q1x4NjQiLCJceDczXHg3NFx4NzlceDZDXHg2NVx4NTNceDY4XHg2NVx4NjVceDc0XHg3MyIsIlx4NjlceDZFXHg3M1x4NjVceDcyXHg3NFx4NTJceDc1XHg2Q1x4NjUiLCJceDY5XHg2RFx4NjdceDVCXHg2M1x4NkNceDYxXHg3M1x4NzNceDVFXHgzRFx4MjdceDcwXHg2Q1x4MkRceDZDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDJEXHgyN1x4NURceDdCXHg2NFx4NjlceDczXHg3MFx4NkNceDYxXHg3OVx4M0FceDZFXHg2Rlx4NkVceDY1XHgyMFx4MjFceDY5XHg2RFx4NzBceDZGXHg3Mlx4NzRceDYxXHg2RVx4NzRceDdEIiwiXHg2N1x4NjVceDc0XHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NFx4NDJceDc5XHg0OVx4NjQiLCJceDY5XHg2NVx4NjNceDYzXHg3NFx4NjVceDczXHg3NCIsIlx4NjlceDY2XHg3Mlx4NjFceDZEXHg2NSIsIlx4NjNceDYxXHg2Q1x4NkMiLCJceDYxXHg2NFx4NjRceDQ1XHg3Nlx4NjVceDZFXHg3NFx4NENceDY5XHg3M1x4NzRceDY1XHg2RVx4NjVceDcyIiwiXHg2Q1x4NkZceDYxXHg2NCIsIlx4NjNceDZGXHg2RVx4NzRceDY1XHg2RVx4NzRceDU3XHg2OVx4NkVceDY0XHg2Rlx4NzciLCJceDQ4XHg1NFx4NERceDRDXHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NCIsIlx4NzBceDcyXHg2Rlx4NzRceDZGXHg3NFx4NzlceDcwXHg2NSIsIlx4NzNceDY4XHg2OVx4NjZceDc0IiwiXHg3MFx4NzVceDczXHg2OCIsIlx4NjYiLCJceDMwXHg3OFx4MzIiLCJceDMwXHg3OFx4MzEiLCJceDMwXHg3OFx4MzAiLCJceDMwXHg3OFx4MzYiLCJceDMwXHg3OFx4MzMiLCJceDMwXHg3OFx4MzQiLCJceDMwXHg3OFx4MzUiLCJceDMwXHg3OFx4MzkiLCJceDMwXHg3OFx4MzgiLCJceDMwXHg3OFx4MzciLCJceDY4IiwiXHgzMFx4NzhceDYxIiwiXHgzMFx4NzhceDYyIiwiXHg2MiIsIlx4MzBceDc4XHg2MyIsIlx4NzRceDZGXHg0Q1x4NkZceDc3XHg2NVx4NzJceDQzXHg2MVx4NzNceDY1IiwiXHgzMFx4NzhceDY0IiwiXHgzMFx4NzhceDY2IiwiXHg2MSIsIlx4MzBceDc4XHgzMVx4MzAiLCJceDMwXHg3OFx4NjUiLCJceDY3IiwiXHgzMFx4NzhceDMxXHgzMiIsIlx4MzBceDc4XHgzMVx4MzEiLCJceDMwXHg3OFx4MzFceDM0IiwiXHgzMFx4NzhceDMxXHgzMyIsIlx4MzBceDc4XHgzMVx4MzUiLCJceDMwXHg3OFx4MzFceDM2IiwiXHg2OSIsIlx4MzBceDc4XHgzMVx4MzciLCJceDZBIiwiXHgzMFx4NzhceDMxXHgzOCIsIlx4NzRceDY1XHg3M1x4NzQiLCJceDMwXHg3OFx4MzFceDM5IiwiXHgzMFx4NzhceDMxXHg2MiIsIlx4MzBceDc4XHgzMVx4NjEiLCJceDMwXHg3OFx4MzFceDYzIiwiXHgzMFx4NzhceDMxXHg2NCIsIlx4MzBceDc4XHgzMVx4NjUiLCJceDYzIiwiXHgzMFx4NzhceDMyXHgzMCIsIiIsIlx4MzBceDc4XHgzMVx4NjYiLCJceDMwXHg3OFx4MzJceDMxIiwiXHgzMFx4NzhceDMyXHgzMyIsIlx4MzBceDc4XHgzMlx4MzIiLCJceDMwXHg3OFx4MzJceDM0IiwiXHgzMFx4NzhceDMyXHgzNSIsIlx4MzBceDc4XHgzMlx4MzciLCJceDMwXHg3OFx4MzJceDM2IiwiXHg2OVx4NzMiLCJceDMwXHg3OFx4MzJceDM4IiwiXHgzMFx4NzhceDMyXHgzOSIsIlx4MzBceDc4XHgzMlx4NjIiLCJceDMwXHg3OFx4MzJceDYxIiwiXHgyRVx4NjhceDc0XHg2RFx4NkMiLCJceDMwXHg3OFx4MzJceDYzIiwiXHgzMFx4NzhceDMyXHg2NCIsIlx4MzBceDc4XHgzMlx4NjUiLCJceDI3IiwiXHg2MVx4NzBceDcwXHg2Q1x4NzkiXTt2YXIgYWFhPVtfMHhhOGJlWzBdLF8weGE4YmVbMV0sXzB4YThiZVsyXSxfMHhhOGJlWzNdLF8weGE4YmVbNF0sXzB4YThiZVs1XSxfMHhhOGJlWzZdLF8weGE4YmVbN10sXzB4YThiZVs4XSxfMHhhOGJlWzldLF8weGE4YmVbMTBdLF8weGE4YmVbMTFdLF8weGE4YmVbMTJdLF8weGE4YmVbMTNdLF8weGE4YmVbMTRdLF8weGE4YmVbMTVdLF8weGE4YmVbMTZdLF8weGE4YmVbMTddLF8weGE4YmVbMThdLF8weGE4YmVbMTldLF8weGE4YmVbMjBdLF8weGE4YmVbMjFdLF8weGE4YmVbMjJdLF8weGE4YmVbMjNdLF8weGE4YmVbMjRdLF8weGE4YmVbMjVdLF8weGE4YmVbMjZdLF8weGE4YmVbMjddLF8weGE4YmVbMjhdLF8weGE4YmVbMjldLF8weGE4YmVbMzBdLF8weGE4YmVbMzFdLF8weGE4YmVbMzJdLF8weGE4YmVbMzNdLF8weGE4YmVbMzRdLF8weGE4YmVbMzVdLF8weGE4YmVbMzZdLF8weGE4YmVbMzddLF8weGE4YmVbMzhdLF8weGE4YmVbMzldLF8weGE4YmVbNDBdLF8weGE4YmVbNDFdLF8weGE4YmVbNDJdLF8weGE4YmVbNDNdLF8weGE4YmVbNDRdLF8weGE4YmVbNDVdLF8weGE4YmVbNDZdXTsoZnVuY3Rpb24oXzB4NDNlZXgyLF8weDQzZWV4Myl7dmFyIF8weDQzZWV4ND1mdW5jdGlvbihfMHg0M2VleDUpe3doaWxlKC0tXzB4NDNlZXg1KXtfMHg0M2VleDJbXzB4YThiZVs0OF1dKF8weDQzZWV4MltfMHhhOGJlWzQ3XV0oKSl9fTtfMHg0M2VleDQoKytfMHg0M2VleDMpfShhYWEsMHgxNjUpKTt2YXIgYj1mdW5jdGlvbihfMHg0M2VleDIsXzB4NDNlZXgzKXtfMHg0M2VleDI9IF8weDQzZWV4Mi0gMHgwO3ZhciBfMHg0M2VleDQ9YWFhW18weDQzZWV4Ml07cmV0dXJuIF8weDQzZWV4NH07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gXzB4NDNlZXgyKF8weDQzZWV4Myl7aWYoIV8weDQzZWV4M1tfMHhhOGJlWzQ5XV0pe18weDQzZWV4M1tfMHhhOGJlWzQ5XV09ICAhMHgwO3RyeXt2YXIgXzB4NDNlZXg0PV8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldKGIoXzB4YThiZVs1MF0pKTsoXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtiKF8weGE4YmVbNTRdKV18fCBfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW2IoXzB4YThiZVs1NV0pXXx8IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzU2XSldKVtiKF8weGE4YmVbNTNdKV0oXzB4NDNlZXg0KTtfMHg0M2VleDNbXzB4YThiZVsyOF1dW2IoXzB4YThiZVs1OV0pXVsweDBdW2IoXzB4YThiZVs1OF0pXShiKF8weGE4YmVbNTddKSwweDApfWNhdGNoKGYpe307XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYwXV09IGRvY3VtZW50W2IoXzB4YThiZVs2MV0pXTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbMzhdXT0gZnVuY3Rpb24oXzB4NDNlZXg3KXt0cnl7aWYoYihfMHhhOGJlWzYyXSk9PT0gXzB4NDNlZXg3KXtyZXR1cm4gXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzI5XV0oXzB4YThiZVs2M10pfX1jYXRjaChoKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjBdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleDcpfTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbNjNdXT0gZG9jdW1lbnRbYihfMHhhOGJlWzUxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldPSBmdW5jdGlvbihfMHg0M2VleDgpe3RyeXtpZihiKF8weGE4YmVbNjRdKT09PSBfMHg0M2VleDhbXzB4YThiZVs2NV1dKCkpe3ZhciBfMHg0M2VleDk9XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYzXV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXg4KTtfMHg0M2VleDlbYihfMHhhOGJlWzcwXSldKGIoXzB4YThiZVs2N10pLGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyLHRoaXNbXzB4YThiZVs0NF1dW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tfMHhhOGJlWzQ0XV0sdGhpc1tfMHhhOGJlWzQ0XV0pfWNhdGNoKGspe319KTtyZXR1cm4gXzB4NDNlZXg5fX1jYXRjaChsKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjNdXVtiKF8weGE4YmVbNjZdKV0odGhpcyxfMHg0M2VleDgpfTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW2IoXzB4YThiZVs1M10pXTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNTNdKV09IGZ1bmN0aW9uKF8weDQzZWV4YSl7dmFyIF8weDQzZWV4Yj1fMHg0M2VleDNbXzB4YThiZVs0NV1dW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhhKTt0cnl7Zm9yKHZhciBfMHg0M2VleGM9MHgwO18weDQzZWV4YzwgXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtiKF8weGE4YmVbNzRdKV07XzB4NDNlZXhjKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4YVtfMHhhOGJlWzBdXVtfMHg0M2VleGNdW2IoXzB4YThiZVs3N10pXSYmIChfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXhjXVtfMHhhOGJlWzQ0XV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXSkpfTtfMHhhOGJlWzJdPT09IF8weDQzZWV4YVtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhhW18weGE4YmVbNDRdXXx8IF8weDQzZWV4YVtiKF8weGE4YmVbNzBdKV0oXzB4YThiZVs0M10sZnVuY3Rpb24oKXt0aGlzW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbXzB4YThiZVs0NF1dKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHApe307cmV0dXJuIF8weDQzZWV4Yn07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bXzB4YThiZVs3OF1dPSBfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNzldKV07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bYihfMHhhOGJlWzc5XSldPSBmdW5jdGlvbihfMHg0M2VleGQsXzB4NDNlZXhlKXt2YXIgXzB4NDNlZXhmPV8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW18weGE4YmVbNzhdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleGQsXzB4NDNlZXhlKTt0cnl7Zm9yKHZhciBfMHg0M2VleDEwPTB4MDtfMHg0M2VleDEwPCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW2IoXzB4YThiZVs3NF0pXTtfMHg0M2VleDEwKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVszXV0mJiAoXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW18weDQzZWV4MTBdW2IoXzB4YThiZVs3MF0pXShiKF8weGE4YmVbNjddKSxmdW5jdGlvbigpe3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyO3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tiKF8weGE4YmVbNjldKV0sdGhpc1tiKF8weGE4YmVbNjldKV0pfSksXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dW2IoXzB4YThiZVs2Nl0pXSh0aGlzLF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVs0NF1dKSl9O2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhkW18weGE4YmVbNDRdXXx8IF8weDQzZWV4ZFtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4ZFtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHUpe307cmV0dXJuIF8weDQzZWV4Zn07XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzgwXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzgxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bXzB4YThiZVs1XV09IGZ1bmN0aW9uKF8weDQzZWV4MTEpe3RyeXtpZihfMHg0M2VleDExJiYgL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdL1tfMHhhOGJlWzgyXV0oXzB4NDNlZXgxMSkpe3ZhciBfMHg0M2VleDEyPV8weDQzZWV4MTFbYihfMHhhOGJlWzgzXSldKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDQzZWV4MTM9XzB4NDNlZXgxMlsweDBdW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbNjRdKSxiKF8weGE4YmVbODRdKSk7XzB4NDNlZXgxMT0gXzB4NDNlZXgxMVtiKF8weGE4YmVbODVdKV0oXzB4NDNlZXgxMixfMHg0M2VleDEzKX07XzB4NDNlZXgxMSYmIC0weDE8IF8weDQzZWV4MTFbXzB4YThiZVsyNV1dKGIoXzB4YThiZVs4Nl0pKSYmIChfMHg0M2VleDExPSBfMHg0M2VleDExW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbODZdKSxiKF8weGE4YmVbODddKSkpfWNhdGNoKHkpe307XzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzgwXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXgxMSl9O18weDQzZWV4M1tiKF8weGE4YmVbODhdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbXzB4YThiZVs4OV1dPSB2b2lkKDB4MCk7XzB4NDNlZXgzW18weGE4YmVbMjNdXShfMHhhOGJlWzExXSxmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDNbXzB4YThiZVs4OV1dfSk7XzB4NDNlZXgzW2IoXzB4YThiZVs5Ml0pXShiKF8weGE4YmVbODhdKSxmdW5jdGlvbihfMHg0M2VleDE0KXtfMHg0M2VleDE0W2IoXzB4YThiZVs5MF0pXT0gXzB4YThiZVs5MV07cmV0dXJuIF8weDQzZWV4M1tfMHhhOGJlWzg5XV09IF8weDQzZWV4MTR9KTtfMHg0M2VleDQ9IGZ1bmN0aW9uKF8weDQzZWV4MTUsXzB4NDNlZXgxNil7XzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbOTVdKV0oXzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbNzJdKV0sXzB4NDNlZXgxNSx7J1x4NjdceDY1XHg3NCc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tfMHhhOGJlWzE2XSsgXzB4NDNlZXgxNV19LCdceDczXHg2NVx4NzQnOmZ1bmN0aW9uKF8weDQzZWV4MTcpe18weDQzZWV4MTc9IF8weDQzZWV4MTYodGhpcyxfMHg0M2VleDE3KTtfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLF8weDQzZWV4MTUseydceDY3XHg2NVx4NzQnOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYihfMHhhOGJlWzk0XSkrIF8weDQzZWV4MTVdfSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDE4KXtfMHg0M2VleDE4PSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxOCk7dGhpc1tiKF8weGE4YmVbOTRdKSsgXzB4NDNlZXgxNV09IF8weDQzZWV4MTh9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgwfSk7dmFyIF8weDQzZWV4MTk9XzB4NDNlZXgxNztfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLGIoXzB4YThiZVs5NF0pKyBfMHg0M2VleDE1LHsnXHg2N1x4NjVceDc0JzpmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDE5fSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDFhKXtfMHg0M2VleDE5PSBfMHg0M2VleDFhPSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxYSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxfSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxLCdceDYzXHg2Rlx4NkVceDY2XHg2OVx4NjdceDc1XHg3Mlx4NjFceDYyXHg2Q1x4NjUnOiEweDF9KX07XzB4NDNlZXg0KGIoXzB4YThiZVs5Nl0pLGZ1bmN0aW9uKF8weDQzZWV4MWIsXzB4NDNlZXgxYyl7YihfMHhhOGJlWzk3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFiJiYgXzB4NDNlZXgxYltiKF8weGE4YmVbOTldKV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWJbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWN9KTtfMHg0M2VleDQoXzB4YThiZVsxMDBdLGZ1bmN0aW9uKF8weDQzZWV4MWQsXzB4NDNlZXgxZSl7XzB4YThiZVsxOF09PT0gIHR5cGVvZiBfMHg0M2VleDFkJiYgXzB4NDNlZXgxZFtfMHhhOGJlWzE5XV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWRbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWV9KTt2YXIgXzB4NDNlZXgxZj12b2lkKDB4MCk7XzB4NDNlZXg0KGIoXzB4YThiZVsxMDFdKSxmdW5jdGlvbihfMHg0M2VleDIwLF8weDQzZWV4MjEpe3JldHVybiBfMHg0M2VleDFmPSBfMHg0M2VleDIxfSk7XzB4NDNlZXgzW2IoXzB4YThiZVsxMDJdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbYihfMHhhOGJlWzEwNF0pXShfMHhhOGJlWzIyXSxmdW5jdGlvbigpe3JldHVybiB0aGlzW2IoXzB4YThiZVsxMDNdKV19KTtfMHg0M2VleDNbYihfMHhhOGJlWzkyXSldKF8weGE4YmVbMjJdLGZ1bmN0aW9uKF8weDQzZWV4MjIpe3RoaXNbYihfMHhhOGJlWzEwM10pXT0gZnVuY3Rpb24oKXt2YXIgXzB4NDNlZXgyMz1hcmd1bWVudHM7LTB4MTwgXzB4NDNlZXgyM1sweDNdW2IoXzB4YThiZVsxMDZdKV0oXzB4YThiZVsxMDVdKSAmJiBiKF8weGE4YmVbMTA3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFmICYmIChfMHg0M2VleDIzWzB4M109IGIoXzB4YThiZVsxMDhdKSsgXzB4NDNlZXgxZltiKF8weGE4YmVbODVdKV0oLycvZyxfMHhhOGJlWzc4XSkrIF8weGE4YmVbMTA5XSk7XzB4NDNlZXgyMltfMHhhOGJlWzExMF1dKHRoaXMsXzB4NDNlZXgyMyl9O3JldHVybiBfMHg0M2VleDIyfSl9fV8weDQzZWV4Mih3aW5kb3cpfSgpKQ==",Fi=new bn.Z({prefix:"prebidAdapter: "}),ki=new function(){var e=!1,t={},n={},i=new l.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){i.subscribeForEvent(e,t)},this.dispatch=function(n){try{e||(e=!0,t=a.Z.cpbjs,b(),d.Y.fireEvent("wrapPrebidRequestBids")&&M());var o={};s.Z.forEach(n,(function(e){o[e.spaceName]={hbAdUnit:e,deferred:new s.Z.CDefer}}));var l=function(e){return e.map((function(e){var t=d.Y.fireEvent("snigelAdapterConfiguration",{spaceName:e.spaceName})||{},n=t.websiteStoredRequestId,i=t.adUnitStoredRequestId,r=c(e),o=[];e.biddersSettings.forEach((function(e){var t={bidder:e.name,params:e.params};o.push(t)}));var a={code:e.spaceName,bids:o,sizes:r,mediaTypes:{banner:{sizes:r}}};return n&&i&&(a.ortb2Imp={ext:{prebid:{storedrequest:{id:i}}}}),a}))}(n),u=d.Y.fireEvent("prebidTimeout")||3e3;r(),function(e,t){for(var n=function(n){var i=t.find((function(t){return t.code===e[n].spaceName})),r=[];i.bids.forEach((function(e){r.push(e.bidder)}));var o={sendToServer:!0,sendPercentage:5,event:"prebid-size-filtering",meta:{spaceName:e[n].spaceName,auctionId:e[n].auctionId,sizesBeforeFiltering:e[n].sizes,sizesAfterFiltering:i.sizes,biddersNames:r}};Fi.infof(null,"logAdUnitSizesPrebid, spaceName -> ",e[n].spaceName,o)},i=0;i<e.length;i++)n(i)}(n,l),t.requestBids({timeout:u,adUnits:l,bidsBackHandler:function(e){try{for(var t in o)if(o.hasOwnProperty(t)){var n=o[t],r=n.hbAdUnit;if(e){var a=e[t],d=[];if(a){var c=s.Z.find(l,(function(e){return e.code===t})).sizes;a.bids=f(a.bids,c),d=g(a.bids,n.hbAdUnit)}var u={auctionId:r.auctionId,bids:d};n.deferred.resolve(u),s.Z.forEach(d,(function(e){var t={auctionId:r.auctionId,bid:e};i.invokeEventCallbacks("bidReceived",t)}))}else{var h={auctionId:r.auctionId,bids:[]};n.deferred.resolve(h)}}}catch(e){Fi.errorf(null,"dispatch: bidsBackHandler: - %o",e)}}});var h=[];for(var p in o)if(o.hasOwnProperty(p)){var m=o[p];h.push(m.deferred.promise)}return h}catch(e){Fi.errorf(null,"dispatch: - %o",e)}};var r=function(){if(t.bidderSettings&&t.bidderSettings.standard&&t.bidderSettings.standard.adserverTargeting){var e=!!s.Z.find(t.bidderSettings.standard.adserverTargeting,(function(e){return"hb_pb_org"===e.key})),n=!!s.Z.find(t.bidderSettings.standard.adserverTargeting,(function(e){return"hb_pb"===e.key}));!e&&n&&t.bidderSettings.standard.adserverTargeting.push({key:"hb_pb_org",val:function(e){var n=t.getConfig().priceGranularity;return"auto"===n?e.pbAg:"dense"===n?e.pbDg:"low"===n?e.pbLg:"medium"===n?e.pbMg:"high"===n?e.pbHg:"custom"===n?e.pbCg:e.pbHg}})}},o=function(e){var t=e.split("x");if(2!==t.length)throw new Error;var n=parseInt(t[0]),i=parseInt(t[1]);if(isNaN(n)||isNaN(i))throw new Error;return{width:n,height:i}},c=function(e){for(var t=[],n=0;n<e.sizes.length;n++){var i=o(e.sizes[n]),r=i.width,a=i.height;t.push({width:r,height:a})}var c=d.Y.fireEvent("sizesToReplaceBySpace",{spaceName:e.spaceName});c&&(t=s.Z.map(t,(function(e){var t=s.Z.find(c,(function(t){return t.size.width===e.width&&t.size.height===e.height}));return t?{width:t.replacement.width,height:t.replacement.height}:e})));var u=googletag&&googletag.pubads&&googletag.pubads().getSlots()||[],h=e.element&&e.element.getAttribute("id")||e.spaceName,f=u.find((function(e){return e.getSlotElementId()===h})),g=d.Y.fireEvent("sizesToRemoveBySpace",{spaceName:e.spaceName,slot:f});g&&(t=s.Z.filter(t,(function(e){return!s.Z.find(g,(function(t){return t.width===e.width&&t.height===e.height}))})));var p=l.Z.sizesRemover(e.element,t);return p=s.Z.filter(p,(function(e){return!!e})),p=s.Z.map(p,(function(e){return[e.width,e.height]}))};var u=function(e,t){if(e.ad&&e.ad.indexOf(atob("c2VydmluZy1zeXMuY29t"))>-1&&e.ad.indexOf(atob("QnVyc3RpbmdQaXBlL2FkU2VydmVyLmJz"))>-1){var n=atob("PHNjcmlwdD53aW5kb3cuZWJDZmcgPSB7fTt3aW5kb3cuZWJDZmdfXyA9IHt9O3dpbmRvdy5fX2RlZmluZUdldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5lYkNmZ19fO30pO3dpbmRvdy5fX2RlZmluZVNldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7YS5hZEh0bWxQYXRoPScnO3JldHVybiB3aW5kb3cuZWJDZmdfXz1hO30pOzwvc2NyaXB0Pg==");e.ad.indexOf("<body>")>-1?e.ad=e.ad.replace("<body>",n):e.ad=n+e.ad}"amazon"===e.bidder&&(e=function(e){try{var t=JSON.parse(e.adTargeting);for(var n in t.amzniid=e.adId,t)e.adserverTargeting[n]=t[n];e.ad=e.adHtml;try{!a.Z.upoSettings.amazonBidderConfiguration.keepHbPb&&delete e.adserverTargeting.hb_pb}catch(e){Fi.errorf(null,"changeAmazonBid - deleting hb_pb - %o",e)}delete e.adUrl}catch(e){Fi.errorf(null,"changeAmazonBid - %o",e)}return e}(e)),e.bidder&&"smartadserver"===e.bidder&&(e.bidder="smart"),e.bidder&&("triplelift"===e.bidder&&e.ad.indexOf("render_options_bm")>-1||"sharethrough"===e.bidder)&&(e.width=h(t)),e.ad&&e.cpm&&e.ad.replace(/\$\{AUCTION_PRICE\}/g,e.cpm),e.ad&&e.currency&&e.ad.replace(/\$\{AUCTION_CURRENCY\}/g,e.currency)},h=function(e){for(var t=c(e),n=0,i=0;i<t.length;i++){var r=t[i][0];r>n&&(n=r)}return n};function f(e,t){return s.Z.filter(e,(function(e){return s.Z.find(t,(function(t){return e.width===t[0]&&e.height===t[1]}))}))}var g=function(e,i){var r=s.Z.map(e,(function(e){if(e.bidderId=p(e,i),e.bidderId){u(e,i),n[e.adId]=new s.Z.CDefer;var r={ad:e.ad,adId:e.adId,adUrl:e.adUrl,bidderId:e.bidderId,bidder:e.bidder,bidderCode:e.bidderCode,currency:e.currency,creativeId:w(e),cpm:e.cpm,complianceStatus:0,height:e.height,timeToRespond:e.timeToRespond,size:e.size,width:e.width},o=new jn.Bid(r,e,jn.Bid.Types.PREBID,(function(n){var i=n.complianceBidsInAuction.length>0?s.Z.map(n.complianceBidsInAuction,(function(e){return e.rawBid&&e.rawBid})):void 0,r=e.adUnitCode,o=t.getAdserverTargeting(r,i)[r];return""===o.hb_pb&&o.hb_pb_org&&(o.hb_pb=o.hb_pb_org),o=d.Y.fireEvent("customAdserverTargeting",{adServerTargeting:o})||o}),(function(e){try{v(this);var t=e.placement;N(t,this)}catch(e){Fi.errorf(null,"renderBid - %o",e)}}),void 0,function(e){this.renderedDeferred.promise.then((function(){e()}))}.bind({renderedDeferred:n[e.adId]}),(function(){return m(this)}));return o}Fi.errorf(null,"dispatch: bidsBackHandler: - No corresponding bidderSettings found in ad unit: %o for Prebid auction response bid: %o",[i,e])}));return s.Z.reject(r,l.Z.commonUtils.isNil)},p=function(e,t){var n=s.Z.find(t.biddersSettings,(function(t){return t.name===e.bidderCode}));return n?n.id:"s2s"===e.source?"s2s-".concat(e.bidderCode,"-").concat(e.adUnitCode):void 0},m=function(e){var t={bidderExternalID:e.bidderId,markup:e.ad,url:e.adUrl,hint:{provider:e.bidderCode,uid:e.creativeId},width:parseInt(e.width),height:parseInt(e.height)};if("152media"!==e.bidderCode&&"brealtime"!==e.bidderCode&&"districtm"!==e.bidderCode&&"defymedia"!==e.bidderCode&&"appnexusAst"!==e.bidderCode||(t.provider="appnexus"),"ix"===e.bidderCode&&(t.provider="indexExchange"),"underdogmedia"===e.bidderCode&&(t.hintID=t.hintID+"_"+e.width+"_"+e.height),"gumgum"===e.bidderCode&&e.creative&&(t.markup=e.creative),"komoona"===e.bidderCode)try{var n=0,i=JSON.parse(unescape(e.ad.split('"creative_data":"')[1].split('","')[0]));for(var r in i.hdbd_data.hbbids){var o=i.hdbd_data.hbbids[r];o.cpm>n&&(n=o.cpm,t.markup=o.creative_data.creative)}}catch(e){Fi.errorf(null,'innerMakeEntryForTestCompliance - handling "komoona" bid - %o',e)}return e.ad&&e.ad.indexOf("https://googleads.g.doubleclick.net/pagead/adfetch?client=ca-pub-")>-1&&(t.url="https://googleads.g.doubleclick.net/pagead/adfetch"+e.ad.split("https://googleads.g.doubleclick.net/pagead/adfetch")[1].split("&rfl=")[0],t.markup=""),t},w=function(e){return"komoona"===e.bidder||"criteo"===e.bidder||"consumable"===e.bidder?null:e.c?String(e.c):e.adid&&"0"!==e.adid?String(e.adid):e.crid&&"0"!==e.crid?String(e.crid):e.creativeId&&"0"!==e.creativeId?String(e.creativeId):e.creative_id&&"0"!==e.creative_id?String(e.creative_id):null},b=function(){t.onEvent("bidWon",(function(e){n[e.adId].resolve()}))},v=function(e){var t=e.rawBid;t&&t.bidder&&(d.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsRender",payload:{detail:t}}),d.Y.fireEvent("FirePublisherEvent",{eventName:"uponitRender",payload:{detail:t}}))},M=function(){var e=window.pbjs||window.jitaJS;if(e&&e.requestBids){var t=e.requestBids;e.requestBids=function(e){for(var n=[],r=e&&e.adUnits,o=0;o<r.length;o++)n.push(r[o].code);if(i.invokeEventCallbacks("refresh",n),!d.Y.fireEvent("skipOriginalRequestBidsFunction"))return t.apply(this,arguments)}}},N=function(e,n){var i=y(),r=i.container,o=i.iframe;o.addEventListener("load",(function e(){try{o.removeEventListener("load",e);var i=a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame;o.style.setProperty("visibility",""),i||(o.contentWindow.document.documentElement.innerHTML="<html><body></body></html>");var r=!i&&o.contentWindow.document,s=qn.Xh();"sharethrough"===n.bidder&&window.setTimeout((function(){for(var e=document.querySelectorAll(".str-thumbnail"),t=0;t<e.length;t++){var n=e[t].style.backgroundImage;!n||-1!==n.indexOf("upapi")||-1!==n.indexOf("criteo.net")||-1!==n.indexOf("imgix.net")&&-1!==n.indexOf(".gif")?n.indexOf("imgix.net")>-1&&n.indexOf(".gif")>-1&&(n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&adunit=true")'):e[t].style.backgroundImage=n.replace('")','?adunit=true")')):n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&upapi=true")'):e[t].style.backgroundImage=n.replace('")','?upapi=true")')}}),3e3),"edge"===s&&(n.rawBid.ad=n.rawBid.ad.replace(/\.html[?#]/,".html?upapi=true&"),n.rawBid.ad=n.rawBid.ad.replace(/\.html%23/,".html%23upapi=true%26"),window.setTimeout((function(){if(i){o.contentWindow.postMessage({type:"eval",code:"try { var styleSheets = document.styleSheets; for (var i = 0; i < styleSheets.length; i++) { if (styleSheets[i].cssText && styleSheets[i].cssText.indexOf(\"a[href^='http://ads2.williamhill.com/redirect.aspx?']\") > -1) { styleSheets[i].cssText = ''; } } } catch (e) { }"},"*")}else try{for(var e=r.styleSheets,t=0;t<e.length;t++)e[t].cssText&&e[t].cssText.indexOf("a[href^='http://ads2.williamhill.com/redirect.aspx?']")>-1&&(e[t].cssText="")}catch(e){Fi.errorf(null,"innerRenderBid - `onLoad` Edge browser patch - %o",e)}}),3e3)),window.setTimeout((function(){var e="edge"===s||"ie"===s;if(e||D(n,o,i),i){var a='window.parent.postMessage(JSON.stringify({ adId: "'+n.adId+'", message: "Prebid Request" }), "*");';o.contentWindow.postMessage({type:"eval",code:a},"*")}else t.renderAd(r,n.adId);e&&D(n,o,i)}),0),o.style.width=n.width+"px",o.style.height=n.height+"px"}catch(e){Fi.errorf(null,"renderBid - %o",e)}})),e.insertBefore(r,e.children[0])};function D(e,t,n){if(!1!==e.isBackupCreative)if(n)t.contentWindow.postMessage({type:"eval",code:"try { eval(atob('dmFyIF8weGE4YmU9WyJceDYzXHg2OFx4NjlceDZDXHg2NFx4NzJceDY1XHg2RSIsIlx4NkNceDY1XHg2RVx4NjdceDc0XHg2OCIsIlx4NDlceDQ2XHg1Mlx4NDFceDREXHg0NSIsIlx4NzRceDYxXHg2N1x4NEVceDYxXHg2RFx4NjUiLCJceDY5XHg2RVx4NzNceDY1XHg3Mlx4NzRceDQyXHg2NVx4NjZceDZGXHg3Mlx4NjUiLCJceDc3XHg3Mlx4NjlceDc0XHg2NSIsIlx4NkRceDYxXHg3NFx4NjNceDY4IiwiXHg3Mlx4NjVceDcwXHg2Q1x4NjFceDYzXHg2NSIsIlx4NzNceDYzXHg3Mlx4NjlceDcwXHg3NCIsIlx4NzRceDc5XHg3MFx4NjVceDNBXHgyMFx4MjdceDQ4XHg1NFx4NERceDRDXHgzNVx4MjciLCJceDc0XHg3OVx4NzBceDY1XHgzQVx4MjBceDI3XHg0OVx4NERceDQxXHg0N1x4NDVceDI3IiwiXHg2NVx4NjJceDQzXHg2Nlx4NjciLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTNceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDQ4XHg3NFx4NkRceDZDXHg1MFx4NjFceDc0XHg2OCIsIlx4NEZceDYyXHg2QVx4NjVceDYzXHg3NCIsIlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTBceDcyXHg2Rlx4NzBceDY1XHg3Mlx4NzRceDc5IiwiXHg1Rlx4NUZceDVGIiwiXHg3MFx4NjFceDY3XHg2NVx4NTZceDY5XHg3M1x4NjlceDYyXHg2Q1x4NjUiLCJceDZGXHg2Mlx4NkFceDY1XHg2M1x4NzQiLCJceDY4XHg2MVx4NzNceDRGXHg3N1x4NkVceDUwXHg3Mlx4NkZceDcwXHg2NVx4NzJceDc0XHg3OSIsIlx4NzNceDc1XHg3MFx4NzBceDZGXHg3Mlx4NzRceDY1XHg2NFx4NDJceDcyXHg2Rlx4NzdceDczXHg2NVx4NzIiLCJceDYyXHg2MVx4NkVceDZFXHg2NVx4NzJceDQxXHg2NFx4NDhceDc0XHg2RFx4NkNceDU0XHg2NVx4NzhceDc0IiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzIiLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NDdceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDVGXHg1RiIsIlx4NjlceDZFXHg2NFx4NjVceDc4XHg0Rlx4NjYiLCJceDczXHg3NFx4NzJceDY5XHg2RVx4NjciLCJceDZBXHg2MVx4NzZceDYxXHg3M1x4NjNceDcyXHg2OVx4NzBceDc0XHgzQVx4MjciLCJceDY0XHg2Rlx4NjNceDc1XHg2RFx4NjVceDZFXHg3NCIsIlx4NjNceDcyXHg2NVx4NjFceDc0XHg2NVx4NDVceDZDXHg2NVx4NkRceDY1XHg2RVx4NzQiLCJceDczXHg3NFx4NzlceDZDXHg2NSIsIlx4NjhceDY1XHg2MVx4NjQiLCJceDYyXHg2Rlx4NjRceDc5IiwiXHg2NFx4NkZceDYzXHg3NVx4NkRceDY1XHg2RVx4NzRceDQ1XHg2Q1x4NjVceDZEXHg2NVx4NkVceDc0IiwiXHg2MVx4NzBceDcwXHg2NVx4NkVceDY0XHg0M1x4NjhceDY5XHg2Q1x4NjQiLCJceDczXHg3NFx4NzlceDZDXHg2NVx4NTNceDY4XHg2NVx4NjVceDc0XHg3MyIsIlx4NjlceDZFXHg3M1x4NjVceDcyXHg3NFx4NTJceDc1XHg2Q1x4NjUiLCJceDY5XHg2RFx4NjdceDVCXHg2M1x4NkNceDYxXHg3M1x4NzNceDVFXHgzRFx4MjdceDcwXHg2Q1x4MkRceDZDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDJEXHgyN1x4NURceDdCXHg2NFx4NjlceDczXHg3MFx4NkNceDYxXHg3OVx4M0FceDZFXHg2Rlx4NkVceDY1XHgyMFx4MjFceDY5XHg2RFx4NzBceDZGXHg3Mlx4NzRceDYxXHg2RVx4NzRceDdEIiwiXHg2N1x4NjVceDc0XHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NFx4NDJceDc5XHg0OVx4NjQiLCJceDY5XHg2NVx4NjNceDYzXHg3NFx4NjVceDczXHg3NCIsIlx4NjlceDY2XHg3Mlx4NjFceDZEXHg2NSIsIlx4NjNceDYxXHg2Q1x4NkMiLCJceDYxXHg2NFx4NjRceDQ1XHg3Nlx4NjVceDZFXHg3NFx4NENceDY5XHg3M1x4NzRceDY1XHg2RVx4NjVceDcyIiwiXHg2Q1x4NkZceDYxXHg2NCIsIlx4NjNceDZGXHg2RVx4NzRceDY1XHg2RVx4NzRceDU3XHg2OVx4NkVceDY0XHg2Rlx4NzciLCJceDQ4XHg1NFx4NERceDRDXHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NCIsIlx4NzBceDcyXHg2Rlx4NzRceDZGXHg3NFx4NzlceDcwXHg2NSIsIlx4NzNceDY4XHg2OVx4NjZceDc0IiwiXHg3MFx4NzVceDczXHg2OCIsIlx4NjYiLCJceDMwXHg3OFx4MzIiLCJceDMwXHg3OFx4MzEiLCJceDMwXHg3OFx4MzAiLCJceDMwXHg3OFx4MzYiLCJceDMwXHg3OFx4MzMiLCJceDMwXHg3OFx4MzQiLCJceDMwXHg3OFx4MzUiLCJceDMwXHg3OFx4MzkiLCJceDMwXHg3OFx4MzgiLCJceDMwXHg3OFx4MzciLCJceDY4IiwiXHgzMFx4NzhceDYxIiwiXHgzMFx4NzhceDYyIiwiXHg2MiIsIlx4MzBceDc4XHg2MyIsIlx4NzRceDZGXHg0Q1x4NkZceDc3XHg2NVx4NzJceDQzXHg2MVx4NzNceDY1IiwiXHgzMFx4NzhceDY0IiwiXHgzMFx4NzhceDY2IiwiXHg2MSIsIlx4MzBceDc4XHgzMVx4MzAiLCJceDMwXHg3OFx4NjUiLCJceDY3IiwiXHgzMFx4NzhceDMxXHgzMiIsIlx4MzBceDc4XHgzMVx4MzEiLCJceDMwXHg3OFx4MzFceDM0IiwiXHgzMFx4NzhceDMxXHgzMyIsIlx4MzBceDc4XHgzMVx4MzUiLCJceDMwXHg3OFx4MzFceDM2IiwiXHg2OSIsIlx4MzBceDc4XHgzMVx4MzciLCJceDZBIiwiXHgzMFx4NzhceDMxXHgzOCIsIlx4NzRceDY1XHg3M1x4NzQiLCJceDMwXHg3OFx4MzFceDM5IiwiXHgzMFx4NzhceDMxXHg2MiIsIlx4MzBceDc4XHgzMVx4NjEiLCJceDMwXHg3OFx4MzFceDYzIiwiXHgzMFx4NzhceDMxXHg2NCIsIlx4MzBceDc4XHgzMVx4NjUiLCJceDYzIiwiXHgzMFx4NzhceDMyXHgzMCIsIiIsIlx4MzBceDc4XHgzMVx4NjYiLCJceDMwXHg3OFx4MzJceDMxIiwiXHgzMFx4NzhceDMyXHgzMyIsIlx4MzBceDc4XHgzMlx4MzIiLCJceDMwXHg3OFx4MzJceDM0IiwiXHgzMFx4NzhceDMyXHgzNSIsIlx4MzBceDc4XHgzMlx4MzciLCJceDMwXHg3OFx4MzJceDM2IiwiXHg2OVx4NzMiLCJceDMwXHg3OFx4MzJceDM4IiwiXHgzMFx4NzhceDMyXHgzOSIsIlx4MzBceDc4XHgzMlx4NjIiLCJceDMwXHg3OFx4MzJceDYxIiwiXHgyRVx4NjhceDc0XHg2RFx4NkMiLCJceDMwXHg3OFx4MzJceDYzIiwiXHgzMFx4NzhceDMyXHg2NCIsIlx4MzBceDc4XHgzMlx4NjUiLCJceDI3IiwiXHg2MVx4NzBceDcwXHg2Q1x4NzkiXTt2YXIgYWFhPVtfMHhhOGJlWzBdLF8weGE4YmVbMV0sXzB4YThiZVsyXSxfMHhhOGJlWzNdLF8weGE4YmVbNF0sXzB4YThiZVs1XSxfMHhhOGJlWzZdLF8weGE4YmVbN10sXzB4YThiZVs4XSxfMHhhOGJlWzldLF8weGE4YmVbMTBdLF8weGE4YmVbMTFdLF8weGE4YmVbMTJdLF8weGE4YmVbMTNdLF8weGE4YmVbMTRdLF8weGE4YmVbMTVdLF8weGE4YmVbMTZdLF8weGE4YmVbMTddLF8weGE4YmVbMThdLF8weGE4YmVbMTldLF8weGE4YmVbMjBdLF8weGE4YmVbMjFdLF8weGE4YmVbMjJdLF8weGE4YmVbMjNdLF8weGE4YmVbMjRdLF8weGE4YmVbMjVdLF8weGE4YmVbMjZdLF8weGE4YmVbMjddLF8weGE4YmVbMjhdLF8weGE4YmVbMjldLF8weGE4YmVbMzBdLF8weGE4YmVbMzFdLF8weGE4YmVbMzJdLF8weGE4YmVbMzNdLF8weGE4YmVbMzRdLF8weGE4YmVbMzVdLF8weGE4YmVbMzZdLF8weGE4YmVbMzddLF8weGE4YmVbMzhdLF8weGE4YmVbMzldLF8weGE4YmVbNDBdLF8weGE4YmVbNDFdLF8weGE4YmVbNDJdLF8weGE4YmVbNDNdLF8weGE4YmVbNDRdLF8weGE4YmVbNDVdLF8weGE4YmVbNDZdXTsoZnVuY3Rpb24oXzB4NDNlZXgyLF8weDQzZWV4Myl7dmFyIF8weDQzZWV4ND1mdW5jdGlvbihfMHg0M2VleDUpe3doaWxlKC0tXzB4NDNlZXg1KXtfMHg0M2VleDJbXzB4YThiZVs0OF1dKF8weDQzZWV4MltfMHhhOGJlWzQ3XV0oKSl9fTtfMHg0M2VleDQoKytfMHg0M2VleDMpfShhYWEsMHgxNjUpKTt2YXIgYj1mdW5jdGlvbihfMHg0M2VleDIsXzB4NDNlZXgzKXtfMHg0M2VleDI9IF8weDQzZWV4Mi0gMHgwO3ZhciBfMHg0M2VleDQ9YWFhW18weDQzZWV4Ml07cmV0dXJuIF8weDQzZWV4NH07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gXzB4NDNlZXgyKF8weDQzZWV4Myl7aWYoIV8weDQzZWV4M1tfMHhhOGJlWzQ5XV0pe18weDQzZWV4M1tfMHhhOGJlWzQ5XV09ICAhMHgwO3RyeXt2YXIgXzB4NDNlZXg0PV8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldKGIoXzB4YThiZVs1MF0pKTsoXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtiKF8weGE4YmVbNTRdKV18fCBfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW2IoXzB4YThiZVs1NV0pXXx8IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzU2XSldKVtiKF8weGE4YmVbNTNdKV0oXzB4NDNlZXg0KTtfMHg0M2VleDNbXzB4YThiZVsyOF1dW2IoXzB4YThiZVs1OV0pXVsweDBdW2IoXzB4YThiZVs1OF0pXShiKF8weGE4YmVbNTddKSwweDApfWNhdGNoKGYpe307XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYwXV09IGRvY3VtZW50W2IoXzB4YThiZVs2MV0pXTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbMzhdXT0gZnVuY3Rpb24oXzB4NDNlZXg3KXt0cnl7aWYoYihfMHhhOGJlWzYyXSk9PT0gXzB4NDNlZXg3KXtyZXR1cm4gXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzI5XV0oXzB4YThiZVs2M10pfX1jYXRjaChoKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjBdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleDcpfTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbNjNdXT0gZG9jdW1lbnRbYihfMHhhOGJlWzUxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldPSBmdW5jdGlvbihfMHg0M2VleDgpe3RyeXtpZihiKF8weGE4YmVbNjRdKT09PSBfMHg0M2VleDhbXzB4YThiZVs2NV1dKCkpe3ZhciBfMHg0M2VleDk9XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYzXV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXg4KTtfMHg0M2VleDlbYihfMHhhOGJlWzcwXSldKGIoXzB4YThiZVs2N10pLGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyLHRoaXNbXzB4YThiZVs0NF1dW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tfMHhhOGJlWzQ0XV0sdGhpc1tfMHhhOGJlWzQ0XV0pfWNhdGNoKGspe319KTtyZXR1cm4gXzB4NDNlZXg5fX1jYXRjaChsKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjNdXVtiKF8weGE4YmVbNjZdKV0odGhpcyxfMHg0M2VleDgpfTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW2IoXzB4YThiZVs1M10pXTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNTNdKV09IGZ1bmN0aW9uKF8weDQzZWV4YSl7dmFyIF8weDQzZWV4Yj1fMHg0M2VleDNbXzB4YThiZVs0NV1dW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhhKTt0cnl7Zm9yKHZhciBfMHg0M2VleGM9MHgwO18weDQzZWV4YzwgXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtiKF8weGE4YmVbNzRdKV07XzB4NDNlZXhjKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4YVtfMHhhOGJlWzBdXVtfMHg0M2VleGNdW2IoXzB4YThiZVs3N10pXSYmIChfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXhjXVtfMHhhOGJlWzQ0XV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXSkpfTtfMHhhOGJlWzJdPT09IF8weDQzZWV4YVtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhhW18weGE4YmVbNDRdXXx8IF8weDQzZWV4YVtiKF8weGE4YmVbNzBdKV0oXzB4YThiZVs0M10sZnVuY3Rpb24oKXt0aGlzW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbXzB4YThiZVs0NF1dKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHApe307cmV0dXJuIF8weDQzZWV4Yn07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bXzB4YThiZVs3OF1dPSBfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNzldKV07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bYihfMHhhOGJlWzc5XSldPSBmdW5jdGlvbihfMHg0M2VleGQsXzB4NDNlZXhlKXt2YXIgXzB4NDNlZXhmPV8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW18weGE4YmVbNzhdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleGQsXzB4NDNlZXhlKTt0cnl7Zm9yKHZhciBfMHg0M2VleDEwPTB4MDtfMHg0M2VleDEwPCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW2IoXzB4YThiZVs3NF0pXTtfMHg0M2VleDEwKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVszXV0mJiAoXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW18weDQzZWV4MTBdW2IoXzB4YThiZVs3MF0pXShiKF8weGE4YmVbNjddKSxmdW5jdGlvbigpe3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyO3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tiKF8weGE4YmVbNjldKV0sdGhpc1tiKF8weGE4YmVbNjldKV0pfSksXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dW2IoXzB4YThiZVs2Nl0pXSh0aGlzLF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVs0NF1dKSl9O2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhkW18weGE4YmVbNDRdXXx8IF8weDQzZWV4ZFtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4ZFtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHUpe307cmV0dXJuIF8weDQzZWV4Zn07XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzgwXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzgxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bXzB4YThiZVs1XV09IGZ1bmN0aW9uKF8weDQzZWV4MTEpe3RyeXtpZihfMHg0M2VleDExJiYgL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdL1tfMHhhOGJlWzgyXV0oXzB4NDNlZXgxMSkpe3ZhciBfMHg0M2VleDEyPV8weDQzZWV4MTFbYihfMHhhOGJlWzgzXSldKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDQzZWV4MTM9XzB4NDNlZXgxMlsweDBdW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbNjRdKSxiKF8weGE4YmVbODRdKSk7XzB4NDNlZXgxMT0gXzB4NDNlZXgxMVtiKF8weGE4YmVbODVdKV0oXzB4NDNlZXgxMixfMHg0M2VleDEzKX07XzB4NDNlZXgxMSYmIC0weDE8IF8weDQzZWV4MTFbXzB4YThiZVsyNV1dKGIoXzB4YThiZVs4Nl0pKSYmIChfMHg0M2VleDExPSBfMHg0M2VleDExW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbODZdKSxiKF8weGE4YmVbODddKSkpfWNhdGNoKHkpe307XzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzgwXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXgxMSl9O18weDQzZWV4M1tiKF8weGE4YmVbODhdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbXzB4YThiZVs4OV1dPSB2b2lkKDB4MCk7XzB4NDNlZXgzW18weGE4YmVbMjNdXShfMHhhOGJlWzExXSxmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDNbXzB4YThiZVs4OV1dfSk7XzB4NDNlZXgzW2IoXzB4YThiZVs5Ml0pXShiKF8weGE4YmVbODhdKSxmdW5jdGlvbihfMHg0M2VleDE0KXtfMHg0M2VleDE0W2IoXzB4YThiZVs5MF0pXT0gXzB4YThiZVs5MV07cmV0dXJuIF8weDQzZWV4M1tfMHhhOGJlWzg5XV09IF8weDQzZWV4MTR9KTtfMHg0M2VleDQ9IGZ1bmN0aW9uKF8weDQzZWV4MTUsXzB4NDNlZXgxNil7XzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbOTVdKV0oXzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbNzJdKV0sXzB4NDNlZXgxNSx7J1x4NjdceDY1XHg3NCc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tfMHhhOGJlWzE2XSsgXzB4NDNlZXgxNV19LCdceDczXHg2NVx4NzQnOmZ1bmN0aW9uKF8weDQzZWV4MTcpe18weDQzZWV4MTc9IF8weDQzZWV4MTYodGhpcyxfMHg0M2VleDE3KTtfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLF8weDQzZWV4MTUseydceDY3XHg2NVx4NzQnOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYihfMHhhOGJlWzk0XSkrIF8weDQzZWV4MTVdfSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDE4KXtfMHg0M2VleDE4PSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxOCk7dGhpc1tiKF8weGE4YmVbOTRdKSsgXzB4NDNlZXgxNV09IF8weDQzZWV4MTh9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgwfSk7dmFyIF8weDQzZWV4MTk9XzB4NDNlZXgxNztfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLGIoXzB4YThiZVs5NF0pKyBfMHg0M2VleDE1LHsnXHg2N1x4NjVceDc0JzpmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDE5fSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDFhKXtfMHg0M2VleDE5PSBfMHg0M2VleDFhPSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxYSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxfSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxLCdceDYzXHg2Rlx4NkVceDY2XHg2OVx4NjdceDc1XHg3Mlx4NjFceDYyXHg2Q1x4NjUnOiEweDF9KX07XzB4NDNlZXg0KGIoXzB4YThiZVs5Nl0pLGZ1bmN0aW9uKF8weDQzZWV4MWIsXzB4NDNlZXgxYyl7YihfMHhhOGJlWzk3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFiJiYgXzB4NDNlZXgxYltiKF8weGE4YmVbOTldKV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWJbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWN9KTtfMHg0M2VleDQoXzB4YThiZVsxMDBdLGZ1bmN0aW9uKF8weDQzZWV4MWQsXzB4NDNlZXgxZSl7XzB4YThiZVsxOF09PT0gIHR5cGVvZiBfMHg0M2VleDFkJiYgXzB4NDNlZXgxZFtfMHhhOGJlWzE5XV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWRbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWV9KTt2YXIgXzB4NDNlZXgxZj12b2lkKDB4MCk7XzB4NDNlZXg0KGIoXzB4YThiZVsxMDFdKSxmdW5jdGlvbihfMHg0M2VleDIwLF8weDQzZWV4MjEpe3JldHVybiBfMHg0M2VleDFmPSBfMHg0M2VleDIxfSk7XzB4NDNlZXgzW2IoXzB4YThiZVsxMDJdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbYihfMHhhOGJlWzEwNF0pXShfMHhhOGJlWzIyXSxmdW5jdGlvbigpe3JldHVybiB0aGlzW2IoXzB4YThiZVsxMDNdKV19KTtfMHg0M2VleDNbYihfMHhhOGJlWzkyXSldKF8weGE4YmVbMjJdLGZ1bmN0aW9uKF8weDQzZWV4MjIpe3RoaXNbYihfMHhhOGJlWzEwM10pXT0gZnVuY3Rpb24oKXt2YXIgXzB4NDNlZXgyMz1hcmd1bWVudHM7LTB4MTwgXzB4NDNlZXgyM1sweDNdW2IoXzB4YThiZVsxMDZdKV0oXzB4YThiZVsxMDVdKSAmJiBiKF8weGE4YmVbMTA3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFmICYmIChfMHg0M2VleDIzWzB4M109IGIoXzB4YThiZVsxMDhdKSsgXzB4NDNlZXgxZltiKF8weGE4YmVbODVdKV0oLycvZyxfMHhhOGJlWzc4XSkrIF8weGE4YmVbMTA5XSk7XzB4NDNlZXgyMltfMHhhOGJlWzExMF1dKHRoaXMsXzB4NDNlZXgyMyl9O3JldHVybiBfMHg0M2VleDIyfSl9fV8weDQzZWV4Mih3aW5kb3cpfSgpKQ==')) } catch (err) {}"},"*");else try{t.contentWindow.eval(atob(Oi))}catch(e){Fi.errorf(null,"evalBackupCreativeScript: - %o",e)}}var y=function(){var e=document.createElement("div");e.className="ahover";var t=Wn.whitelistingIFrame.createWhitelistingIFrame();return t.style.width="1px",t.style.height="1px",t.style.border="0px",t.setAttribute("marginwidth","0"),t.setAttribute("marginheight","0"),t.scrolling="no",e.appendChild(t),{container:e,iframe:t}}},Wi=new function(){var e=!1,t=new l.Z.SubscriptionLayer;function n(e,t){if(e===Wi.Types.PREBID)return ki.dispatch(t)}this.subscribeForEvent=function(e,n){t.subscribeForEvent(e,n)},this.dispatch=function(i){e&&(e=!1),e=!0,ki.subscribeForEvent("refresh",(function(e){t.invokeEventCallbacks("refresh",e)})),ki.subscribeForEvent("bidReceived",(function(e){t.invokeEventCallbacks("bidReceived",e)}));var r=[],o={};for(var a in s.Z.forEach(i,(function(e){var t={hbAdUnit:e,promises:[]};r.push(t);var n=e.biddingSettings;for(var i in n)if(i=parseInt(i),n.hasOwnProperty(i)){var a=n[i];if(a&&a.length>0){o[i]=o[i]||[];var s={biddersSettings:a,auctionId:e.auctionId,spaceName:e.spaceName,sizes:e.sizes,selector:e.selector,element:e.element};o[i].push(s)}}})),o)if(a=parseInt(a),o.hasOwnProperty(a)){var d=o[a],c=n(a,d);s.Z.forEach(c,(function(e,t){s.Z.find(r,(function(e){return e.hbAdUnit.auctionId==d[t].auctionId})).promises.push(e)}))}return s.Z.map(r,(function(e){return Promise.all(e.promises).then((function(t){var n=s.Z.map(t,(function(e){return e.bids}));return{auctionId:e.hbAdUnit.auctionId,bids:s.Z.flat(n)}}))}))}};Wi.Types={UNKNOWN:0,PREBID:1,RTK:2};var Ri=new bn.Z({prefix:"dfpAdapter: "}),Gi=new function(){var e=!1,t={},n={},i={},r=[],o=[],a=new l.Z.SubscriptionLayer,c={_height_:5,_width_:6,_empty_:7,_is_afc_:8,_fluid_:9,_creative_ids_:14,_adgroup2_ids_:15};this.init=function(){e||(e=!0,k())},this.dispatch=function(e){try{this.init();var r=[];return d.Y.fireEvent("onBeforeDfpRefreshDispatch"),d.Y.fireEvent("tryDisableGoogletagLazyLoad")&&u(),s.Z.forEach(e,(function(e){var i=new s.Z.CDefer;r.push(i.promise),t[e.slotElementId]={asAdUnit:e,deferred:i};var o=new s.Z.CDefer;n[e.slotElementId]=o})),window.googletag.cmd.push((function(){try{Ri.debugf(null,"onAdsRequestPrepareStarted");var t=window.googletag.pubads().getSlots(),n=[];s.Z.forEach(t,(function(t){s.Z.forEach(e,(function(e,r){var o=t.getSlotElementId();if(o===e.slotElementId){n.push(t);var a=v(16,24);if(i[a]=o,t.setTargeting("uponitSlotIterationId",a),d.Y.fireEvent("preTargetingSetting",{dfpSlot:t,ASAdUnit:e}),p(t,e.params.keyValuesParams.toRemove),t.__up_display||(t.__up_display=!0,window.googletag.display(e.slotElementId)),m(t,e.params.keyValuesParams.toAdd),window.uponit&&window.uponit.modifiers&&window.uponit.modifiers.dfpTargeting&&window.uponit.modifiers.dfpTargeting.length>0)try{for(var s=window.uponit.modifiers.dfpTargeting,c=0;c<s.length;c++){var l=t.getTargetingMap(),u={};for(var h in l)u[h]=l[h];var f=null;!e||null==e.floorPrice&&null==e.floorPrice||(f=e.floorPrice);var g=s[c](u,t,f);if(g)for(var w in g)l[w]&&l[w]===g[w]||t.setTargeting(w,g[w])}}catch(e){Ri.errorf(null,"dispatch: uponit-modifiers: %o",e)}t.setForceSafeFrame(!0),t.setCollapseEmptyDiv(!1)}}))})),Ri.debugf(null,"onAdsRequestSlotsPrepare - slots: %o",g(n)),h(n);var r=googletag.pubads().isSRA()&&(c=0,n.forEach((function(e){var t=e.getTargetingMap();Object.entries(t).forEach((function(e){var t=e[0]?e[0].length:0,n=e[1]&&e[1][0]?e[1][0].length:0;c+=t+n}))})),c>=6e3);if(d.Y.fireEvent("forceNotSingleRequestRefresh")||r)for(var o=function(){var e=n[a];setTimeout((function(){window.googletag.pubads().refresh([e],void 0,!0)}),0)},a=0;a<n.length;a++)o();else setTimeout((function(){window.googletag.pubads().refresh(n,void 0,!0)}),0)}catch(e){Ri.errorf(null,"dispatch: %o",e)}var c})),r}catch(e){Ri.criticalf(null,"google cmd function failed: %o",e)}};var u=function(){window.googletag.cmd.push((function(){window.googletag.pubads().enableLazyLoad({fetchMarginPercent:-1,renderMarginPercent:-1})}))},h=function(e){s.Z.forEach(e,(function(e){e.setTargeting("upstdfp",!0)}))},f=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];"fluid"===i?t.push(i):t.push([i.getWidth(),i.getHeight()])}}catch(e){Ri.errorf(null,"getNormalizedDfpSizes errored - %o",e)}return t},g=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];t.push({elementId:i.getSlotElementId(),dfpAdUnitPath:i.getAdUnitPath(),sizes:f(i.getSizes()),targetingMap:i.getTargetingMap()})}}catch(e){Ri.errorf(null,"getNormalizedDFPAdSlots errored - %o",e)}return t},p=function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],r=e.getTargetingKeys(),o=0;o<r.length;o++){var a=r[o];i.test(a)&&e.clearTargeting(a)}},m=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];e.setTargeting(n,i)}},w=function(e){if(!e)return!1;var t=d.Y.fireEvent("isPrebidResponse",{str:e});if(null!=t)return t;if(/\.(renderAd|renderAdNew)\(document,(\s+)?['"][a-zA-Z0-9\-_]+['"]/gm.test(e))return!0;if(/apstag\.renderImp\(document,/gm.test(e))return!0;if(/"hb_adid":[\s\r\n\t]{0,9}?\["[a-z-A-Z0-9\-_]+"\]/gm.test(e))return!0;return!!/ucTagData\.ad[Ii]d(:?\s+)?=(:?\s+)?['"]([a-zA-Z0-9\-_]+)['"]/gm.test(e)||e.indexOf("districtm_adslot = ")>-1},b=function(e,t,n,i){e&&e._html_&&e._html_.indexOf("googletag.pubads().definePassback(")>-1&&(e._html_=e._html_.replace(").setTargeting('",").setTargeting('up_recovery','true').setTargeting('"),e._html_=e._html_.replace(').setTargeting("',').setTargeting("up_recovery","true").setTargeting("')),e&&e._html_&&-1===e._html_.indexOf("ca-pub-15988")&&(e._html_=e._html_.replace("data-ad-slot=",'data-ad-type="text" data-ad-slot=').replace("data-ad-client\\x3d","data-ad-type\\x3d\\x22text\\x22 data-ad-client\\x3d").replace('google_ad_client = "ca-pub','google_ad_type = "text";google_ad_client = "ca-pub'));var r=d.Y.fireEvent("dfpResponseCustomReplace",{googleReponse:e,googleFrame:i,googleSlot:t});if(r&&(e=r),!(e._fluid_||e._height_&&e._width_)&&n.length>0)for(var o=0;o<n.length;o++){var a=n[o];if("fluid"!=a&&a.getWidth()>=120){e._width_=parseInt(a.getWidth()),e._height_=parseInt(a.getHeight());break}}};function M(e){switch(e){case jn.Bid.Types.ADX:return"gad";case jn.Bid.Types.ADX_TEXT:return"gad_text";case jn.Bid.Types.DIRECT:return"gad_dfp_direct"}}var N=function(e,t){switch(e){case jn.Bid.Types.ADSENSE:case jn.Bid.Types.ADX:case jn.Bid.Types.ADX_TEXT:return t.adxBidderId;case jn.Bid.Types.DIRECT:return t.directBidderId}},D=function(e,t){try{try{if(t._adgroup2_ids_&&Array.isArray(t._adgroup2_ids_)&&t._adgroup2_ids_.length>1||t._creative_ids_&&Array.isArray(t._creative_ids_)&&t._creative_ids_.length>1){var n={sendToServer:!0,sendPercentage:5,event:"multiple-creative-and-line-item-ids",meta:{creativeId:t._creative_ids_,lineItemID:t._adgroup2_ids_,provider:M(e),width:t._width_,height:t._height_}};Ri.infof(null,"multiple creative and line item IDs -> ",n,n)}}catch(e){Ri.errorf(null,"log multiple-creative-and-line-item-ids: %o",e)}if(e==jn.Bid.Types.DIRECT&&t._adgroup2_ids_&&t._adgroup2_ids_[0]&&t._creative_ids_&&t._creative_ids_[0])return t._adgroup2_ids_[0].toString()+"_"+t._creative_ids_[0].toString()}catch(e){Ri.errorf(null,"getCreativeId: %o",e)}};function y(e){var n=t[e],i={auctionId:n.asAdUnit.auctionId,bids:[]};n.deferred.resolve(i)}var X=function(e,t){r.push(t),e._html_=d.Y.fireEvent("CustomPrebidHTMLModification",e._html_)||e._html_.replace(/w=w.parent/gm,"w=window").replace(/w = w.parent/gm,"w = window").replace(/pbjs/gm,"upbjs").replace(/renderAd/gm,"renderAdNew")},z=function(e){var t=e.getSlotElementId(),n=l.Z.commonUtils.escapeSelector("#"+t),i=document.querySelector(n+' [id^="google_ads_iframe_"]');return i=d.Y.fireEvent("customInnerContainer",{googleSlot:e})||i},V=function(e,t,n){var i=new RegExp("([?&]"+t+"=)([^&#]*)([&#$].*)","g");return e.replace(i,"$1".concat(encodeURIComponent(n),"$3"))},_=function(e,t){var n=new RegExp("(^|[&])"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[3]?decodeURIComponent(n[3].replace(/\+/g," ")):"":null},E=function(e){try{for(var n={},i=0;i<e.length;i++){var r=e[i],o=t[r.getSlotElementId()].asAdUnit;if(o&&o.params&&o.params.queryParams)for(var a in o.params.queryParams)if(o.params.queryParams.hasOwnProperty(a)){var s=o.params.queryParams[a];n[a]=s}}return n}catch(e){Ri.errorf(null,"getSlotsQueryParams: %o",e)}};var x=function(e,i,r,d){try{var c=s.Z.map(i,(function(e,t){if(r.indexOf(t)>-1)return i[t]}));return function(e,i){try{if(e){for(var r={},d=[],c=0;c<e.length;c++){var l=e[c].response.parsedData,u=e[c].response.rawResponse,h=e[c].slot;if(h){var f=i[c],g=h.getSlotElementId(),p=new s.Z.CDefer;r[g]=p,d.push(p.promise);var m=t[g],v=z(h);if(!l||l&&!l._html_||l&&l._empty_)r[g].resolve({injectToDom:!1}),y(g);else{b(l,h,f,v),w(l._html_)&&X(l,g);var V=(Y=h,S=void 0,S=(I=l)._html_,I._empty_?jn.Bid.Types.EMPTY:w(S)?jn.Bid.Types.DFP_PREBID:I._is_afc_?"text"===E([Y]).ad_type?jn.Bid.Types.ADX_TEXT:jn.Bid.Types.ADX:S.indexOf("js/adsbygoogle.js")>-1||S.indexOf("pagead/show_ads.js")>-1?jn.Bid.Types.ADSENSE:jn.Bid.Types.DIRECT),_={ad:l._html_,adId:null,bidder:M(V),bidderId:N(V,m.asAdUnit.params),bidderCode:M(V),creativeId:D(V,l),width:l._width_,height:l._height_,cpm:m.asAdUnit.floorPrice+.01},x=new jn.Bid(_,u,V,void 0,function(e){return function(){var t=r[e];"unresolved"==t.fate&&t.resolve({injectToDom:!0,injectBackupCreative:this.isBackupCreative})}}(g),function(e){return function(){var t=r[e];"unresolved"==t.fate&&t.resolve({injectToDom:!1})}}(g),function(e){return function(t){n[e].promise.then((function(){t()}))}}(g),function(e){return function(){return{bidderExternalID:this.bidderId,url:this.adUrl,hint:{provider:this.bidderCode,uid:this.creativeId},width:parseInt(this.width),height:parseInt(this.height),lineItemID:e._adgroup2_ids_&&e._adgroup2_ids_[0],creativeID:e._creative_ids_&&e._creative_ids_[0],markup:this.ad.replace(/\\(n|r|\\)/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"\\"}))}}}(l)),Z={auctionId:m.asAdUnit.auctionId,bids:[x]};m.deferred.resolve(Z);var H={auctionId:m.asAdUnit.auctionId,bid:x};a.invokeEventCallbacks("bidReceived",H)}}else d.push(Promise.resolve({injectToDom:!1}))}return Promise.all(d).then(function(e){try{for(var t=[],n=0;n<this.responsesWithSlots.length;n++){var i=e[n],r=this.responsesWithSlots[n].response,a=r.parsedData,s=this.responsesWithSlots[n].slot,d=s&&s.getSlotElementId();i&&!i.injectToDom&&(d&&o.push(d),a._html_="",a._empty_=!0,a._width_=1,a._height_=1),r.injectBackupCreative=i.injectBackupCreative,t.push(r)}return t}catch(e){Ri.errorf(null,"handleDfpBidResponses: Promise.all: %o",e)}}.bind({responsesWithSlots:e,deferredsPromises:d}))}}catch(e){Ri.errorf(null,"handleDfpBidResponses: %o",e)}var I,Y,S}(s.Z.map(e,(function(e,t){return{slot:c[t],response:e}})),d)}catch(e){Ri.errorf(null,"invokeMiddleware: %o",e)}},Z=function(e,t,n,i){return Ri.debugf(null,"onAdsServerResponse - slots: %o, relevantIndexes: %o",[g(t),n]),new Promise((function(r,o){try{if(""===e.responseText)return t.forEach((function(e){return y(e.getSlotElementId())})),void r();var a=function(e){for(var t=e.split("\n"),n=[],i=0;i<t.length;i++){var r=t[i];if(i%2==0&&""!=r){try{var o=window.JSON.parse(r)}catch(e){Ri.errorf(null,"parseGoogleExpandableResponse: 1 %o",e)}var a=Object.keys(o)[0],s=o[a],d={adUnitPath:a,rawResponse:s,parsedData:{}};try{for(var l in c)if(c.hasOwnProperty(l)){var u=c[l];void 0!==s[u]&&null!==s[u]&&(d.parsedData[l]=s[u])}}catch(e){Ri.errorf(null,"parseGoogleExpandableResponse: 2 %o",e)}n.push(d)}else i%2!=0&&(n[n.length-1].parsedData._html_=r)}return n}(e.responseText);x(a,t,n,i).then((function(t){!function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.injectBackupCreative){var i=n.parsedData,r=i._html_,o="<\/script>";i._html_=r.substr(0,r.indexOf(o)+o.length)+atob("PHNjcmlwdD5mdW5jdGlvbiBfMHgxZDJkKF8weDQyMDc4YSxfMHgzMWI5ZjQpe3ZhciBfMHgyYzJlMDY9XzB4MmMyZSgpO3JldHVybiBfMHgxZDJkPWZ1bmN0aW9uKF8weDFkMmRjZCxfMHgxNjIxMDQpe18weDFkMmRjZD1fMHgxZDJkY2QtMHg2ODt2YXIgXzB4NDg4NzMwPV8weDJjMmUwNltfMHgxZDJkY2RdO3JldHVybiBfMHg0ODg3MzA7fSxfMHgxZDJkKF8weDQyMDc4YSxfMHgzMWI5ZjQpO30oZnVuY3Rpb24oXzB4ZGRlN2EyLF8weDE1ZTM3Nyl7dmFyIF8weDE1NzA0Zj1fMHgxZDJkLF8weDE1MGU4Mz1fMHhkZGU3YTIoKTt3aGlsZSghIVtdKXt0cnl7dmFyIF8weDdjNWEyZj1wYXJzZUludChfMHgxNTcwNGYoMHg3OSkpLzB4MSstcGFyc2VJbnQoXzB4MTU3MDRmKDB4OGMpKS8weDIqKHBhcnNlSW50KF8weDE1NzA0ZigweDk5KSkvMHgzKSstcGFyc2VJbnQoXzB4MTU3MDRmKDB4NzcpKS8weDQrLXBhcnNlSW50KF8weDE1NzA0ZigweDg4KSkvMHg1KigtcGFyc2VJbnQoXzB4MTU3MDRmKDB4YTYpKS8weDYpK3BhcnNlSW50KF8weDE1NzA0ZigweDczKSkvMHg3Ky1wYXJzZUludChfMHgxNTcwNGYoMHg3NCkpLzB4OCstcGFyc2VJbnQoXzB4MTU3MDRmKDB4OTIpKS8weDkqKHBhcnNlSW50KF8weDE1NzA0ZigweDljKSkvMHhhKTtpZihfMHg3YzVhMmY9PT1fMHgxNWUzNzcpYnJlYWs7ZWxzZSBfMHgxNTBlODNbJ3B1c2gnXShfMHgxNTBlODNbJ3NoaWZ0J10oKSk7fWNhdGNoKF8weDI3NTEyMSl7XzB4MTUwZTgzWydwdXNoJ10oXzB4MTUwZTgzWydzaGlmdCddKCkpO319fShfMHgyYzJlLDB4NmI3NWQpLChmdW5jdGlvbigpe3ZhciBfMHgyNTc1Njc9ZnVuY3Rpb24oXzB4NGE1YzA2KXt2YXIgXzB4NDA3ZTEwPV8weDFkMmQ7aWYoXzB4NGE1YzA2WydhbHJlYWR5SW5qZWN0ZWQnXSlyZXR1cm47XzB4NGE1YzA2W18weDQwN2UxMCgweDc2KV09ISFbXTt0cnl7dmFyIF8weDRiNzMxYj1fMHg0YTVjMDZbXzB4NDA3ZTEwKDB4YTgpXVsnY3JlYXRlRWxlbWVudCddKCdzdHlsZScpOyhfMHg0YTVjMDZbXzB4NDA3ZTEwKDB4YTgpXVtfMHg0MDdlMTAoMHg5NyldfHxfMHg0YTVjMDZbXzB4NDA3ZTEwKDB4YTgpXVtfMHg0MDdlMTAoMHg3NSldfHxfMHg0YTVjMDZbXzB4NDA3ZTEwKDB4YTgpXVtfMHg0MDdlMTAoMHhhMCldKVtfMHg0MDdlMTAoMHg4YildKF8weDRiNzMxYiksXzB4NGE1YzA2Wydkb2N1bWVudCddW18weDQwN2UxMCgweDgwKV1bMHgwXVtfMHg0MDdlMTAoMHg4YSldKCdpbWdbY2xhc3NePVx4MjdwbC1sb2FkZXItXHgyN117ZGlzcGxheTpub25lXHgyMCFpbXBvcnRhbnR9JywweDApO31jYXRjaChfMHgxMjUzZDEpe31fMHg0YTVjMDZbXzB4NDA3ZTEwKDB4YTgpXVsnZ2V0RWxlbWVudEJ5SWRPJ109ZG9jdW1lbnRbXzB4NDA3ZTEwKDB4N2EpXSxfMHg0YTVjMDZbJ2RvY3VtZW50J11bXzB4NDA3ZTEwKDB4N2EpXT1mdW5jdGlvbihfMHg0MjA5ZGUpe3ZhciBfMHgyYzY3NDE9XzB4NDA3ZTEwO3RyeXtpZihfMHg0MjA5ZGU9PT1fMHgyYzY3NDEoMHg2YikpcmV0dXJuIF8weDRhNWMwNltfMHgyYzY3NDEoMHhhOCldW18weDJjNjc0MSgweDZlKV0oJ2InKTt9Y2F0Y2goXzB4NWE2YzU0KXt9cmV0dXJuIF8weDRhNWMwNlsnZG9jdW1lbnQnXVtfMHgyYzY3NDEoMHhhNyldW18weDJjNjc0MSgweDlmKV0odGhpcyxfMHg0MjA5ZGUpO30sXzB4NGE1YzA2W18weDQwN2UxMCgweGE4KV1bXzB4NDA3ZTEwKDB4YTEpXT1kb2N1bWVudFtfMHg0MDdlMTAoMHg2ZSldLF8weDRhNWMwNltfMHg0MDdlMTAoMHhhOCldW18weDQwN2UxMCgweDZlKV09ZnVuY3Rpb24oXzB4NWFkMzczKXt2YXIgXzB4NDNmODllPV8weDQwN2UxMDt0cnl7aWYoXzB4NWFkMzczW18weDQzZjg5ZSgweGEzKV0oKT09PV8weDQzZjg5ZSgweDhmKSl7dmFyIF8weDM2N2QyNT1fMHg0YTVjMDZbXzB4NDNmODllKDB4YTgpXVtfMHg0M2Y4OWUoMHhhMSldW18weDQzZjg5ZSgweDlmKV0odGhpcyxfMHg1YWQzNzMpO3JldHVybiBfMHgzNjdkMjVbJ2FkZEV2ZW50TGlzdGVuZXInXShfMHg0M2Y4OWUoMHg4NSksZnVuY3Rpb24oKXt2YXIgXzB4MTU2MGY1PV8weDQzZjg5ZTt0cnl7dGhpc1tfMHgxNTYwZjUoMHg4OSldWyd3cmFwSWZyYW1lJ109XzB4MjU3NTY3LHRoaXNbXzB4MTU2MGY1KDB4ODkpXVtfMHgxNTYwZjUoMHg3MCldW18weDE1NjBmNSgweDlmKV0odGhpc1tfMHgxNTYwZjUoMHg4OSldLHRoaXNbXzB4MTU2MGY1KDB4ODkpXSk7fWNhdGNoKF8weDMwMzkyNil7fX0pLF8weDM2N2QyNTt9fWNhdGNoKF8weDNlZDFjOSl7fXJldHVybiBfMHg0YTVjMDZbXzB4NDNmODllKDB4YTgpXVtfMHg0M2Y4OWUoMHhhMSldWydjYWxsJ10odGhpcyxfMHg1YWQzNzMpO30sXzB4NGE1YzA2W18weDQwN2UxMCgweDdiKV1bXzB4NDA3ZTEwKDB4OTQpXVtfMHg0MDdlMTAoMHg2YyldPV8weDRhNWMwNltfMHg0MDdlMTAoMHg3YildW18weDQwN2UxMCgweDk0KV1bJ2FwcGVuZENoaWxkJ10sXzB4NGE1YzA2W18weDQwN2UxMCgweDdiKV1bXzB4NDA3ZTEwKDB4OTQpXVsnYXBwZW5kQ2hpbGQnXT1mdW5jdGlvbihfMHgzNzE4M2Upe3ZhciBfMHgzZWZlZTE9XzB4NDA3ZTEwLF8weDViMGY2Mz1fMHg0YTVjMDZbXzB4M2VmZWUxKDB4N2IpXVtfMHgzZWZlZTEoMHg5NCldW18weDNlZmVlMSgweDZjKV1bXzB4M2VmZWUxKDB4OWYpXSh0aGlzLF8weDM3MTgzZSk7dHJ5e2Zvcih2YXIgXzB4NGMwNjBjPTB4MDtfMHg0YzA2MGM8XzB4MzcxODNlWydjaGlsZHJlbiddW18weDNlZmVlMSgweDY4KV07XzB4NGMwNjBjKyspe18weDM3MTgzZVtfMHgzZWZlZTEoMHg4NyldW18weDRjMDYwY11bJ3RhZ05hbWUnXT09PV8weDNlZmVlMSgweDhlKSYmKCFfMHgzNzE4M2VbXzB4M2VmZWUxKDB4ODcpXVtfMHg0YzA2MGNdW18weDNlZmVlMSgweDg5KV0mJl8weDM3MTgzZVtfMHgzZWZlZTEoMHg4NyldW18weDRjMDYwY11bXzB4M2VmZWUxKDB4OWQpXShfMHgzZWZlZTEoMHg4NSksZnVuY3Rpb24oKXt2YXIgXzB4Y2M5MDllPV8weDNlZmVlMTt0aGlzW18weGNjOTA5ZSgweDg5KV1bXzB4Y2M5MDllKDB4NzApXT1fMHgyNTc1NjcsdGhpc1tfMHhjYzkwOWUoMHg4OSldW18weGNjOTA5ZSgweDcwKV1bXzB4Y2M5MDllKDB4OWYpXSh0aGlzW18weGNjOTA5ZSgweDg5KV0sdGhpc1tfMHhjYzkwOWUoMHg4OSldKTt9KSxfMHgzNzE4M2VbXzB4M2VmZWUxKDB4ODcpXVtfMHg0YzA2MGNdW18weDNlZmVlMSgweDg5KV1bXzB4M2VmZWUxKDB4NzApXT1fMHgyNTc1NjcsXzB4MzcxODNlWydjaGlsZHJlbiddW18weDRjMDYwY11bJ2NvbnRlbnRXaW5kb3cnXVtfMHgzZWZlZTEoMHg3MCldW18weDNlZmVlMSgweDlmKV0odGhpcyxfMHgzNzE4M2VbJ2NoaWxkcmVuJ11bXzB4NGMwNjBjXVtfMHgzZWZlZTEoMHg4OSldKSk7fV8weDM3MTgzZVtfMHgzZWZlZTEoMHg5YSldPT09XzB4M2VmZWUxKDB4OGUpJiYoIV8weDM3MTgzZVtfMHgzZWZlZTEoMHg4OSldJiZfMHgzNzE4M2VbXzB4M2VmZWUxKDB4OWQpXShfMHgzZWZlZTEoMHg4NSksZnVuY3Rpb24oKXt2YXIgXzB4M2VlNzJjPV8weDNlZmVlMTt0aGlzW18weDNlZTcyYygweDg5KV1bXzB4M2VlNzJjKDB4NzApXT1fMHgyNTc1NjcsdGhpc1snY29udGVudFdpbmRvdyddW18weDNlZTcyYygweDcwKV1bXzB4M2VlNzJjKDB4OWYpXSh0aGlzW18weDNlZTcyYygweDg5KV0sdGhpc1tfMHgzZWU3MmMoMHg4OSldKTt9KSxfMHgzNzE4M2VbXzB4M2VmZWUxKDB4ODkpXVtfMHgzZWZlZTEoMHg3MCldPV8weDI1NzU2NyxfMHgzNzE4M2VbXzB4M2VmZWUxKDB4ODkpXVsnd3JhcElmcmFtZSddW18weDNlZmVlMSgweDlmKV0odGhpcyxfMHgzNzE4M2VbXzB4M2VmZWUxKDB4ODkpXSkpO31jYXRjaChfMHg1YjQxMmQpe31yZXR1cm4gXzB4NWIwZjYzO30sXzB4NGE1YzA2W18weDQwN2UxMCgweDdiKV1bJ3Byb3RvdHlwZSddW18weDQwN2UxMCgweDZkKV09XzB4NGE1YzA2WydIVE1MRWxlbWVudCddWydwcm90b3R5cGUnXVtfMHg0MDdlMTAoMHg3YyldLF8weDRhNWMwNlsnSFRNTEVsZW1lbnQnXVtfMHg0MDdlMTAoMHg5NCldW18weDQwN2UxMCgweDdjKV09ZnVuY3Rpb24oXzB4NTA3OTgwLF8weDM3ZThmYyl7dmFyIF8weDNlMDllYz1fMHg0MDdlMTAsXzB4MjQ2MTI5PV8weDRhNWMwNltfMHgzZTA5ZWMoMHg3YildW18weDNlMDllYygweDk0KV1bXzB4M2UwOWVjKDB4NmQpXVsnY2FsbCddKHRoaXMsXzB4NTA3OTgwLF8weDM3ZThmYyk7dHJ5e2Zvcih2YXIgXzB4YmFmOTA0PTB4MDtfMHhiYWY5MDQ8XzB4NTA3OTgwW18weDNlMDllYygweDg3KV1bJ2xlbmd0aCddO18weGJhZjkwNCsrKXtfMHg1MDc5ODBbXzB4M2UwOWVjKDB4ODcpXVtfMHhiYWY5MDRdWyd0YWdOYW1lJ109PT1fMHgzZTA5ZWMoMHg4ZSkmJighXzB4NTA3OTgwW18weDNlMDllYygweDg3KV1bXzB4YmFmOTA0XVsnY29udGVudFdpbmRvdyddJiZfMHg1MDc5ODBbXzB4M2UwOWVjKDB4ODcpXVtfMHhiYWY5MDRdW18weDNlMDllYygweDlkKV0oJ2xvYWQnLGZ1bmN0aW9uKCl7dmFyIF8weDJiMzgzMD1fMHgzZTA5ZWM7dGhpc1tfMHgyYjM4MzAoMHg4OSldW18weDJiMzgzMCgweDcwKV09XzB4MjU3NTY3LHRoaXNbXzB4MmIzODMwKDB4ODkpXVtfMHgyYjM4MzAoMHg3MCldW18weDJiMzgzMCgweDlmKV0odGhpc1tfMHgyYjM4MzAoMHg4OSldLHRoaXNbXzB4MmIzODMwKDB4ODkpXSk7fSksXzB4NTA3OTgwWydjaGlsZHJlbiddW18weGJhZjkwNF1bJ2NvbnRlbnRXaW5kb3cnXVtfMHgzZTA5ZWMoMHg3MCldPV8weDI1NzU2NyxfMHg1MDc5ODBbJ2NoaWxkcmVuJ11bXzB4YmFmOTA0XVtfMHgzZTA5ZWMoMHg4OSldWyd3cmFwSWZyYW1lJ11bXzB4M2UwOWVjKDB4OWYpXSh0aGlzLF8weDUwNzk4MFtfMHgzZTA5ZWMoMHg4NyldW18weGJhZjkwNF1bXzB4M2UwOWVjKDB4ODkpXSkpO31fMHg1MDc5ODBbJ3RhZ05hbWUnXT09PSdJRlJBTUUnJiYoIV8weDUwNzk4MFtfMHgzZTA5ZWMoMHg4OSldJiZfMHg1MDc5ODBbJ2FkZEV2ZW50TGlzdGVuZXInXSgnbG9hZCcsZnVuY3Rpb24oKXt2YXIgXzB4ZjI1OTJlPV8weDNlMDllYzt0aGlzW18weGYyNTkyZSgweDg5KV1bXzB4ZjI1OTJlKDB4NzApXT1fMHgyNTc1NjcsdGhpc1tfMHhmMjU5MmUoMHg4OSldW18weGYyNTkyZSgweDcwKV1bJ2NhbGwnXSh0aGlzW18weGYyNTkyZSgweDg5KV0sdGhpc1tfMHhmMjU5MmUoMHg4OSldKTt9KSxfMHg1MDc5ODBbXzB4M2UwOWVjKDB4ODkpXVtfMHgzZTA5ZWMoMHg3MCldPV8weDI1NzU2NyxfMHg1MDc5ODBbXzB4M2UwOWVjKDB4ODkpXVsnd3JhcElmcmFtZSddW18weDNlMDllYygweDlmKV0odGhpcyxfMHg1MDc5ODBbXzB4M2UwOWVjKDB4ODkpXSkpO31jYXRjaChfMHgyNjE4MjMpe31yZXR1cm4gXzB4MjQ2MTI5O30sXzB4NGE1YzA2W18weDQwN2UxMCgweGE4KV1bJ3dyaXRlTyddPV8weDRhNWMwNltfMHg0MDdlMTAoMHhhOCldW18weDQwN2UxMCgweDkxKV0sXzB4NGE1YzA2W18weDQwN2UxMCgweGE4KV1bXzB4NDA3ZTEwKDB4OTEpXT1mdW5jdGlvbihfMHg1OTJlNmIpe3ZhciBfMHhjNTMzNzE9XzB4NDA3ZTEwO3RyeXtpZihfMHg1OTJlNmImJi9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzP1w9XHM/WyciXWlmcmFtZVsnIl0vW18weGM1MzM3MSgweDllKV0oXzB4NTkyZTZiKSl7dmFyIF8weDI2M2QyND1fMHg1OTJlNmJbXzB4YzUzMzcxKDB4NzgpXShuZXcgUmVnRXhwKF8weGM1MzM3MSgweDk2KSkpLF8weDQ4N2Y3Mj1fMHgyNjNkMjRbMHgwXVtfMHhjNTMzNzEoMHg4NildKF8weGM1MzM3MSgweDhmKSxfMHhjNTMzNzEoMHg3ZSkpO18weDU5MmU2Yj1fMHg1OTJlNmJbJ3JlcGxhY2UnXShfMHgyNjNkMjQsXzB4NDg3ZjcyKTt9XzB4NTkyZTZiJiZfMHg1OTJlNmJbXzB4YzUzMzcxKDB4YTQpXShfMHhjNTMzNzEoMHg4NCkpPi0weDEmJihfMHg1OTJlNmI9XzB4NTkyZTZiWydyZXBsYWNlJ10oXzB4YzUzMzcxKDB4ODQpLF8weGM1MzM3MSgweDk1KSkpO31jYXRjaChfMHg0MjIzYTgpe31fMHg0YTVjMDZbJ2RvY3VtZW50J11bJ3dyaXRlTyddW18weGM1MzM3MSgweDlmKV0odGhpcyxfMHg1OTJlNmIpO30sXzB4NGE1YzA2WydlYkNmZyddPXVuZGVmaW5lZCxfMHg0YTVjMDZbXzB4NDA3ZTEwKDB4N2YpXT11bmRlZmluZWQsXzB4NGE1YzA2W18weDQwN2UxMCgweDk4KV0oXzB4NDA3ZTEwKDB4OGQpLGZ1bmN0aW9uKF8weDJmYWNiNSl7dmFyIF8weDNjZTJiZT1fMHg0MDdlMTA7cmV0dXJuIF8weDRhNWMwNltfMHgzY2UyYmUoMHg3ZildO30pLF8weDRhNWMwNlsnX19kZWZpbmVTZXR0ZXJfXyddKF8weDQwN2UxMCgweDhkKSxmdW5jdGlvbihfMHg1ODI0Yjkpe3ZhciBfMHgxYzcwYWM9XzB4NDA3ZTEwO3JldHVybiBfMHg1ODI0YjlbJ2FkSHRtbFBhdGgnXT0nJyxfMHg0YTVjMDZbXzB4MWM3MGFjKDB4N2YpXT1fMHg1ODI0Yjk7fSk7dmFyIF8weGM0MDQ3MT1mdW5jdGlvbihfMHgyM2FiZTksXzB4NGI5MDIzKXt2YXIgXzB4MWRlNjViPV8weDQwN2UxMDtfMHg0YTVjMDZbJ09iamVjdCddW18weDFkZTY1YigweDkwKV0oXzB4NGE1YzA2W18weDFkZTY1YigweDcyKV1bJ3Byb3RvdHlwZSddLF8weDIzYWJlOSx7J2dldCc6ZnVuY3Rpb24oKXt2YXIgXzB4MTMxNWQxPV8weDFkZTY1YjtyZXR1cm4gdGhpc1tfMHgxMzE1ZDEoMHg2YSkrXzB4MjNhYmU5XTt9LCdzZXQnOmZ1bmN0aW9uKF8weDQxMTkxNCl7dmFyIF8weDVkMDg4NT1fMHgxZGU2NWI7XzB4NDExOTE0PV8weDRiOTAyMyh0aGlzLF8weDQxMTkxNCksXzB4NGE1YzA2WydPYmplY3QnXVtfMHg1ZDA4ODUoMHg5MCldKHRoaXMsXzB4MjNhYmU5LHsnZ2V0JzpmdW5jdGlvbigpe3ZhciBfMHg0MTBjZGE9XzB4NWQwODg1O3JldHVybiB0aGlzW18weDQxMGNkYSgweDZhKStfMHgyM2FiZTldO30sJ3NldCc6ZnVuY3Rpb24oXzB4M2I0ZDliKXt2YXIgXzB4NDNiMTkyPV8weDVkMDg4NTtfMHgzYjRkOWI9XzB4NGI5MDIzKHRoaXMsXzB4M2I0ZDliKSx0aGlzW18weDQzYjE5MigweDZhKStfMHgyM2FiZTldPV8weDNiNGQ5Yjt9LCdlbnVtZXJhYmxlJzohIVtdfSk7dmFyIF8weDE4Y2E1Nz1fMHg0MTE5MTQ7XzB4NGE1YzA2W18weDVkMDg4NSgweDcyKV1bXzB4NWQwODg1KDB4OTApXSh0aGlzLF8weDVkMDg4NSgweDZhKStfMHgyM2FiZTkseydnZXQnOmZ1bmN0aW9uKCl7cmV0dXJuIF8weDE4Y2E1Nzt9LCdzZXQnOmZ1bmN0aW9uKF8weDUzMTg5Yyl7XzB4NTMxODljPV8weDRiOTAyMyh0aGlzLF8weDUzMTg5YyksXzB4MThjYTU3PV8weDUzMTg5Yzt9LCdlbnVtZXJhYmxlJzohW119KTt9LCdlbnVtZXJhYmxlJzohW10sJ2NvbmZpZ3VyYWJsZSc6IVtdfSk7fTtfMHhjNDA0NzEoXzB4NDA3ZTEwKDB4YTIpLGZ1bmN0aW9uKF8weDRhM2YzYixfMHg0YzgxYTQpe3ZhciBfMHg1YWRlMzI9XzB4NDA3ZTEwO3JldHVybiB0eXBlb2YgXzB4NGEzZjNiPT09XzB4NWFkZTMyKDB4ODEpJiZfMHg0YTNmM2JbXzB4NWFkZTMyKDB4OWIpXSgnc3VwcG9ydGVkQnJvd3NlcicpJiYoXzB4NGEzZjNiWydzdXBwb3J0ZWRCcm93c2VyJ109ZnVuY3Rpb24oKXtyZXR1cm4hW107fSksXzB4NGM4MWE0O30pLF8weGM0MDQ3MSgnaXMnLGZ1bmN0aW9uKF8weDVlYTExMSxfMHgyYWI2MDcpe3ZhciBfMHgxYmM2OWE9XzB4NDA3ZTEwO3JldHVybiB0eXBlb2YgXzB4NWVhMTExPT09XzB4MWJjNjlhKDB4ODEpJiZfMHg1ZWExMTFbXzB4MWJjNjlhKDB4OWIpXSgnc3VwcG9ydGVkQnJvd3NlcicpJiYoXzB4NWVhMTExW18weDFiYzY5YSgweDkzKV09ZnVuY3Rpb24oKXtyZXR1cm4hW107fSksXzB4MmFiNjA3O30pO3ZhciBfMHgyODc0MGY9dW5kZWZpbmVkO18weGM0MDQ3MShfMHg0MDdlMTAoMHg2OSksZnVuY3Rpb24oXzB4MzZjMjc3LF8weDVlODRjMCl7cmV0dXJuIF8weDI4NzQwZj1fMHg1ZTg0YzAsXzB4NWU4NGMwO30pLF8weDRhNWMwNlsnYWRMb2FkZXInXT11bmRlZmluZWQsXzB4NGE1YzA2W18weDQwN2UxMCgweDk4KV0oJ2FkTG9hZGVyJyxmdW5jdGlvbigpe3ZhciBfMHgxNWQ2NjI9XzB4NDA3ZTEwO3JldHVybiB0aGlzW18weDE1ZDY2MigweDgyKV07fSksXzB4NGE1YzA2W18weDQwN2UxMCgweDcxKV0oXzB4NDA3ZTEwKDB4ODMpLGZ1bmN0aW9uKF8weDJkOTBkMSl7dmFyIF8weDMxMjY1Yj1fMHg0MDdlMTA7cmV0dXJuIHRoaXNbXzB4MzEyNjViKDB4ODIpXT1mdW5jdGlvbigpe3ZhciBfMHg0YmViODI9XzB4MzEyNjViLF8weDFkNDQwMT1hcmd1bWVudHM7XzB4MWQ0NDAxWzB4M11bXzB4NGJlYjgyKDB4YTQpXShfMHg0YmViODIoMHhhNSkpPi0weDEmJnR5cGVvZiBfMHgyODc0MGY9PT0nc3RyaW5nJyYmKF8weDFkNDQwMVsweDNdPV8weDRiZWI4MigweDdkKStfMHgyODc0MGZbXzB4NGJlYjgyKDB4ODYpXSgvJy9nLCdpJykrJ1x4MjcnKSxfMHgyZDkwZDFbXzB4NGJlYjgyKDB4NmYpXSh0aGlzLF8weDFkNDQwMSk7fSxfMHgyZDkwZDE7fSk7fTtfMHgyNTc1Njcod2luZG93KTt9KCkpKTtmdW5jdGlvbiBfMHgyYzJlKCl7dmFyIF8weDU1Y2I5MD1bJzMzMTgwNDB1UW9sdmMnLCdtYXRjaCcsJzg1NDEyMVNOY1RmaicsJ2dldEVsZW1lbnRCeUlkJywnSFRNTEVsZW1lbnQnLCdpbnNlcnRCZWZvcmUnLCdqYXZhc2NyaXB0Olx4MjcnLCdzY3JpcHQnLCdlYkNmZ19fJywnc3R5bGVTaGVldHMnLCdvYmplY3QnLCdhZExvYWRlcl9fJywnYWRMb2FkZXInLCd0eXBlOlx4MjBceDI3SFRNTDVceDI3JywnbG9hZCcsJ3JlcGxhY2UnLCdjaGlsZHJlbicsJzVpemVBaVEnLCdjb250ZW50V2luZG93JywnaW5zZXJ0UnVsZScsJ2FwcGVuZENoaWxkJywnNThlUERTckonLCdlYkNmZycsJ0lGUkFNRScsJ2lmcmFtZScsJ2RlZmluZVByb3BlcnR5Jywnd3JpdGUnLCcxOGp2c2JVWCcsJ3N1cHBvcnRlZEJyb3dzZXInLCdwcm90b3R5cGUnLCd0eXBlOlx4MjBceDI3SU1BR0VceDI3JywnZGF0YVx4NWMtZGNtXHg1Yy1yZW5kZXJpbmdceDVjLW1vZGVceDVjcz89XHg1Y3M/W1x4MjdceDIyXWlmcmFtZVtceDI3XHgyMl0nLCdoZWFkJywnX19kZWZpbmVHZXR0ZXJfXycsJzMxMDUzZURRbmZOJywndGFnTmFtZScsJ2hhc093blByb3BlcnR5JywnNzY2ODMwVlNRS1ZrJywnYWRkRXZlbnRMaXN0ZW5lcicsJ3Rlc3QnLCdjYWxsJywnZG9jdW1lbnRFbGVtZW50JywnY3JlYXRlRWxlbWVudE8nLCdwYWdlVmlzaWJsZScsJ3RvTG93ZXJDYXNlJywnaW5kZXhPZicsJy5odG1sJywnNDUzNjA1NFlmaUNadycsJ2dldEVsZW1lbnRCeUlkTycsJ2RvY3VtZW50JywnbGVuZ3RoJywnYmFubmVyQWRIdG1sVGV4dCcsJ19fXycsJ2llY2N0ZXN0JywnYXBwZW5kQ2hpbGRPJywnaW5zZXJ0QmVmb3JlTycsJ2NyZWF0ZUVsZW1lbnQnLCdhcHBseScsJ3dyYXBJZnJhbWUnLCdfX2RlZmluZVNldHRlcl9fJywnT2JqZWN0JywnNTk1NDk3ME5oV0lOZycsJzU5MDEwMjRnZUxaeXcnLCdib2R5JywnYWxyZWFkeUluamVjdGVkJ107XzB4MmMyZT1mdW5jdGlvbigpe3JldHVybiBfMHg1NWNiOTA7fTtyZXR1cm4gXzB4MmMyZSgpO308L3NjcmlwdD4=")+r.substr(r.indexOf(o)+o.length)}}}(t);var n=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n],r=i.parsedData,o=r._html_;delete r._html_;var a=i.rawResponse,s={};try{for(var d in c)if(c.hasOwnProperty(d)){var l=c[d];1==r[d]?a[l]=1:0==r[d]?a[l]=0:a[l]=r[d]}s[i.adUnitPath]=a}catch(e){Ri.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 1 %o",e)}try{t=t+JSON.stringify(s)+"\n"+o+"\n"}catch(e){Ri.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 2 %o",e)}}return t}(t);!function(e,t){t.__defineGetter__("responseText",(function(){return e})),t.__defineGetter__("response",(function(){return e})),t.__defineGetter__("status",(function(){return 200})),t.__defineGetter__("readyState",(function(){return 4}))}(n,e),r()}))}catch(e){Ri.criticalf(null,"handleResponsesFromXHR errored: %o",e)}}))},H=function(e){var t="sz",n=l.Z.commonUtils.extractQueryParamFromUrl(t,e);if(n||(t="prev_iu_szs",n=l.Z.commonUtils.extractQueryParamFromUrl(t,e)),n){var i=n.split(",");return i=s.Z.map(i,(function(e){return e.split("|")})),i=s.Z.map(i,(function(e,t){return s.Z.map(e,(function(e){var t=e.split("x");return{width:parseInt(t[0]),height:parseInt(t[1])}}))}))}},I={width:320,height:50};function Y(e,t,n){return!("fluid"!==e||!n)||t.some((function(t){return t.width===e.width&&t.height===e.height}))}function S(e){var t=l.Z.commonUtils.extractQueryParamFromUrl("fluid",e);if(t){var n=t.split(",");return n=n.map((function(e){return isNaN(e)?e:parseInt(e)}))}}var T=function(e,n,i){var r;if(e)try{var o;if(e.indexOf("&sz=")>-1)o="sz";else{if(!(e.indexOf("&prev_iu_szs=")>-1))return;o="prev_iu_szs"}var a=H(e);if(!a)return;var c=a.length;r=s.Z.filter(a,(function(e,t){return i.indexOf(t)>-1}));var u=(S(e)||Array(c).fill(0)).filter((function(e,t){return i.includes(t)})),h=[],f=[];!function(){var t=d.Y.fireEvent("removeSizesDfpConfig");if(t){var i=t.forAll||[];r=s.Z.map(r,(function(r,o){var a=n[o].getSlotElementId(),d=(t[a]||[]).concat(i);return d=s.Z.map(d,(function(t){if("fluid"==t){var n=new RegExp("fluid=(.*?)&","g");return e=e.replace(n,""),{width:I.width,height:I.height}}return t})),s.Z.filter(r,(function(e){return!s.Z.find(d,(function(t){return t.width==e.width&&t.height==e.height}))}))}))}}(),r=s.Z.map(r,(function(e,i){var r=n[i],o=r.getSlotElementId(),a=t[o].asAdUnit.spaceName,c=u[i],l=d.Y.fireEvent("sizesToRemoveBySpace",{spaceName:a,slot:r});return l?(l.includes("fluid")&&c&&(u[i]=0),s.Z.filter(e,(function(e){return!s.Z.find(l,(function(t){return"fluid"===t?I.width==e.width&&I.height==e.height:t.width===e.width&&t.height===e.height}))}))):e}));try{s.Z.forEach(r,(function(e,i){var r=n[i].getSlotElementId(),o=t[r].asAdUnit,a=u[i],c=d.Y.fireEvent("sizesToAddBySpace",{ASAdUnit:o});if(!c)return e;s.Z.forEach(c,(function(t){Y(t,e,a)||("fluid"===t?(Y(I,e,a)||e.push({width:I.width,height:I.height}),u[i]="height"):e.push({width:t.width,height:t.height}))}))}))}catch(e){Ri.errorf(null,"sizesToAddBySpace error - %o",e)}s.Z.forEach(r,(function(e,t){var i=n[t].getSlotElementId(),r=document.getElementById(i),o=l.Z.sizesRemover(r,e);0==(o=s.Z.filter(o,(function(e){return!!e}))).length&&(o=[{width:2,height:3}]),h.push(o);var a,d=(a=o,s.Z.map(a,(function(e){var t={getWidth:function(){return e.width},getHeight:function(){return e.height}};return e.width==I.width&&e.height==I.height&&(t="fluid"),t})));f.push(d)}));var g,p=0,m=s.Z.map(a,(function(e,t){if(i.indexOf(t)<0)return e;var n=h[p];return p++,n}));return g=s.Z.map(m,(function(e){return s.Z.map(e,(function(e){return e.width+"x"+e.height}))})),g=(g=s.Z.map(g,(function(e){return e.join("|")}))).join(","),{url:e=function(e,t){var n=!!S(e),i=t.join(",");return n?V(e,"fluid",i):"".concat(e,"&fluid=").concat(encodeURIComponent(i))}(e=V(e,o,g),u),modifiedSizes:f}}catch(t){return Ri.errorf(null,"modifySizesInUrl errored - %o",t),{url:e,modifiedSizes:s.Z.map(n,(function(e){return e.getSizes()}))}}},B=function(){fi.addEventListener(fi.Types.XHR_OPEN_PRE,(function(e){try{var n=e.data;if(O(n[1])){var r=n[1],o=function(e){var t=[],n=l.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=l.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){for(var r=n.split("|"),o=0;o<r.length;o++){var a=r[o],s=_("uponitSlotIterationId",a);i[s]&&t.push(i[s])}return t}}(n[1]),a=function(e){for(var t=[],n=window.googletag.pubads().getSlots(),i=0;i<n.length;i++)for(var r=n[i],o=0;o<e.length;o++){var a=e[o];r.getSlotElementId()==a&&t.push(r)}return t}(o),c=function(e){var t=[],n=l.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=l.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){var i,r=l.Z.commonUtils.extractQueryParamFromUrl("csp",e);r&&(i=_("upstdfp",r),Ri.debugf(null,"onCommonSlotTargetDetected - upstdfp: %o",i));for(var o=n.split("|"),a=0;a<o.length;a++){var s=o[a];(i||_("upstdfp",s))&&t.push(a)}return t}}(n[1]);b=a,s.Z.forEach(b,(function(e){e.clearTargeting("upstdfp")})),n[1]=l.Z.addAcceptableParam(n[1]),n[1]=function(e,t){var n=E(t);if(n)for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];e.indexOf("?")<0?e=e+"?"+i+"="+r:e.indexOf("&"+i+"=")<0&&e.indexOf("?"+i+"=")<0&&(e=e+"&"+i+"="+r)}return e}(n[1],a);var u=T(n[1],a,c);n[1]=u.url;var h=u.modifiedSizes;!function(e,n,i,r){for(var o=0;o<e.length;o++){for(var a=e[o],s=t[n[a]],d=[],c=0;c<i[a].length;c++)i[a][c]&&(i[a][c].width&&i[a][c].height?d.push([i[a][c].width,i[a][c].height]):"fluid"===i[a][c]&&d.push("fluid"));for(var l=[],u=0;u<r[a].length;u++)r[a][u]&&(r[a][u].getWidth&&r[a][u].getHeight?l.push([r[a][u].getWidth(),r[a][u].getHeight()]):"fluid"===r[a][u]&&l.push("fluid"));var h={sendToServer:!0,sendPercentage:5,event:"dfp-size-filtering",meta:{spaceName:s.asAdUnit.spaceName,auctionId:s.asAdUnit.auctionId,sizesBeforeFiltering:d,sizesAfterFiltering:l}};Ri.infof(null,"logAdUnitSizesDfp, spaceName -> ",s.asAdUnit.spaceName,h)}}(c,o,H(r),h),n[1]=function(e){var t=[],n=["21063911","21063048","21063670","21063817","21063671"],i=l.Z.commonUtils.extractQueryParamFromUrl("eid",e);if(!i)return e;for(var r=i.split(","),o=0;o<r.length;o++){var a=r[o];n.indexOf(a)<0&&t.push(a)}return V(e,"eid",t.join(","))}(n[1]),d.Y.fireEvent("onBeforeDfpAdsRequest",{url:n[1]}),Ri.debugf(null,"onDfpAdsRequest - url: %s, slots: %o, relevantIndexes: %o",[n[1],g(a),c]);var f=null,p=null,m=this,w=!1;this.onload=function(){try{if(!f||w)return;w=!0,Z(m,a,c,h).then((function(){f.call(m)}))}catch(e){Ri.errorf(null,"addListenersOnHooks: onload: %o",e)}},this.onreadystatechange=function(e){try{if(!p||w)return;4===this.readyState&&(200===this.status?(w=!0,Z(m,a,c,h).then((function(){p.call(m,e)}))):Ri.criticalf(null,"onDfpAdsRequestError, status: %s, responseText: %s",[this.status,this.responseText]))}catch(e){Ri.criticalf(null,"onReadyStateChangeError, err %o",e)}},this.__defineGetter__("onload",(function(){return f})),this.__defineSetter__("onload",(function(e){return f=e,e})),this.__defineGetter__("onreadystatechange",(function(){return p})),this.__defineSetter__("onreadystatechange",(function(e){return p=e,e}))}}catch(e){Ri.errorf(null,"addListenersOnHooks: %o",e)}var b}))},O=function(e){try{return e&&e.indexOf("doubleclick.net/gampad/ads")>-1&&e.indexOf("upstdfp")>-1}catch(e){}};this.subscribeForEvent=function(e,t){a.subscribeForEvent(e,t)};var F=function(){window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t=e.slot,i=t.getSlotElementId(),a=z(t),s=a&&a.querySelector("iframe");if(o.indexOf(i)>=0)o.splice(o.indexOf(i),1);else{var d=n[i];if(d&&"unresolved"==d.fate&&d.resolve(),function(e){setTimeout((function(){var t=e.getSlotElementId(),n=document.getElementById(t),i=z(e);if(!(i&&i.querySelector("iframe")&&i&&l.Z.commonUtils.isElementInBody(n)&&n)){var r={sendToServer:!0,sendPercentage:5,event:"creative-removed",meta:{creativeId:t}};Ri.infof(null,"removed creative id -> ",r,r)}}),1e3)}(t),s)if(r.indexOf(i)>-1){r.splice(r.indexOf(i),1);try{a.style.width="1px",a.style.height="1px",s.width="1",s.height="1"}catch(e){Ri.errorf(null,"setGoogletagEvents: %o",e)}}else if("0"===s.width)s.style.setProperty("width","max-content","important");else{var c=s.width;s.style.setProperty("width",c+"px","important")}}}))};var k=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){var e;d.Y.fireEvent("shouldNotWrapGoogleTagRefresh")||(e=window.googletag.pubads().refresh,window.googletag.pubads().refresh=function(t,n,i){if(i)return t?e(t,n):e();Ri.debugf(null,"pub invoked `googletag` refresh - %o",{slots:t&&g(t),settings:n}),t||(t=window.googletag.pubads().getSlots());for(var r=[],o=0;o<t.length;o++)try{var s=t[o].getSlotElementId();s&&r.push(s)}catch(e){Ri.errorf(null,"wrapGoogleTagRefresh: refresh-invoked-by-the-publisher: %o",e)}a.invokeEventCallbacks("refresh",r)}),F(),B(window)}))}},Ci=new function(){var e=!1,t=new l.Z.SubscriptionLayer;function n(e,t){switch(e){case Ci.Types.DFP:return Gi.dispatch(t);case Ci.Types.SMART_AS:}}this.subscribeForEvent=function(e,n){t.subscribeForEvent(e,n)},this.dispatch=function(i){e||(e=!0,Gi.subscribeForEvent("refresh",(function(e){t.invokeEventCallbacks("refresh",e)})),Gi.subscribeForEvent("bidReceived",(function(e){t.invokeEventCallbacks("bidReceived",e)})));var r=[];s.Z.forEach(i,(function(e){r.push({asAdUnit:e,promise:void 0})}));for(var o={},a=0;a<i.length;a++){var d=i[a];o[d.type]=o[d.type]||[],o[d.type].push(d)}for(var c in o)if(c=parseInt(c),o.hasOwnProperty(c)){var l=o[c],u=n(c,l);s.Z.forEach(u,(function(e,t){var n=l[t];s.Z.find(r,(function(e){return e.asAdUnit==n})).promise=e}))}return s.Z.map(r,(function(e){return e.promise}))}};Ci.Types={UNKNOWN:0,DFP:1,SMART_AS:2};var Li=new bn.Z({prefix:"testCompliance: "});var ji=!1;try{ji=window.location.href&&window.location.href.indexOf("bt_tc=false")>=0||"false"===localStorage.getItem("bt_tc")}catch(Oe){Li.errorf(null,"testComplianceDisabled: %o",Oe)}function Ai(e,t){return l.Z.sizeValidation.isUnacceptable(e.unit.element,{width:t.width,height:t.height})}function Ji(e,t,n,i){var r={sendToServer:!0,sendPercentage:5,event:"client_tc_applied",meta:{client_tc_type:i,auctionID:t,bidderID:n.bidderId}};Li.noticef(null,e,n,r)}function Ki(e,t){var n=a.Z.consts.complianceStatus.UNKNOWN,i=d.Y.fireEvent("customComplianceCheck",{bid:e});return ji?(n=a.Z.consts.complianceStatus.COMPLIANT,Li.debugf(null,"compliance is disabled for the current bid: ",e)):i?(n=i,Ji("custom hook file tc check: ",t.auctionId,e,"custom_hook_file_tc_check")):Ai(t,e)?(n=a.Z.consts.complianceStatus.INCOMPLIANT,Ji("bid with unacceptance size: ",t.auctionId,e,"bid_with_unacceptance_size")):!function(e){var t=e.ad,n=e.type;return!![[".rhurl",".rhbodyurl"],[".rhurl","rh-image"],[".rhurl","rh-title"],[".rhurl",".rhbutton"],[".image-link","call-to-action-link"],[".image-link",".attribution"],[".image-link",".attribution"],[".rhprice",".rhsaleprice","gstatic.com/shopping"],[".grid-link-container",".grid-link"],[".rhsimpleprice",".rh-box-image","gstatic.com/shopping"],[".product-image",".product-container","gstatic.com/shopping"],["logoMCImageWidth","-webkit-animation"],["productBannerSlot","logoBackColorDerived"],["js/adsbygoogle.js",'data-ad-format="link"'],["js/adsbygoogle.js",'data-ad-type="text"']].some((function(e){return l.Z.commonUtils.matchStringsOnString(e,t)}))||!(!t.includes("googletag.pubads().definePassback(")||n!=jn.Bid.Types.ADX)}(e)?function(e){switch(e.bidderCode){case"adyoulike":case"lockerdome":case"sharethrough":return!0}return!1}(e)&&(n=a.Z.consts.complianceStatus.COMPLIANT,Ji("compliant bidder: ",t.auctionId,e,"compliant_bidder")):(n=a.Z.consts.complianceStatus.COMPLIANT,Ji("compliant based on HTML: ",t.auctionId,e,"compliant_based_on_HTML")),n}function Pi(e){var t,n={},i={},r=a.Z.SharedObject.getItem("websiteConfig"),o=r.websiteID,d=r.organizationID,c={};if(s.Z.forEach(e,(function(e){var t=e.auction,r=e.bids;c[t.auctionId]=c[t.auctionId]||{};for(var o=0;o<r.length;o++){var s=r[o],d=Ki(s,t);if(d==a.Z.consts.complianceStatus.UNKNOWN){c[t.auctionId][s.bidId]={bid:s,result:{}};var l=s.makeEntryForTestCompliance();l.auctionID=t.auctionId,l.spaceExternalID=t.unit.space.id,l.spaceName=t.unit.space.name,l.refreshDepth=t.unit.countOfDispatches-1;var u=parseFloat(s.cpm);l.cpm=isNaN(u)?0:u,Ui(l);var h=v(5,8);n[h]=l,i[h]=s}else c[t.auctionId][s.bidId]={bid:s,result:{status:d,backup:!1}}}})),Object.keys(n).length<=0){for(var l in c)if(c.hasOwnProperty(l)){var u=c[l];for(var h in u)if(u.hasOwnProperty(h)){var f=u[h];c[l][h]=f.result}}return Promise.resolve(c)}try{t=(new Intl.DateTimeFormat).resolvedOptions()}catch(e){t={locale:void 0,timeZone:void 0}}var g={domain:window.location.host,websiteID:o,orgID:d,bids:n,locale:t.locale,timezone:t.timeZone,pageURL:window.location.href};return Xn.testCompliance(g).then((function(e){for(var t in e)if(e.hasOwnProperty(t)){var r=n[t].auctionID,o=c[r][i[t].bidId];o.result.status=e[t].status,o.result.bidContentIdHash=e[t].id,o.result.backup=e[t].backup}for(var a in c)if(c.hasOwnProperty(a)){var s=c[a];for(var d in s)if(s.hasOwnProperty(d)){var l=s[d];c[a][d]=l.result}}return c}))}function Ui(e){if(e.markup&&e.markup.indexOf("://secure.ace.advertising.com/")>-1)try{var t="https://secure.ace.advertising.com/site="+e.markup.split("Site: '")[1].split("'")[0]+"/size="+e.markup.split("Size: '")[1].split("'")[0]+"/rip="+e.markup.split("/rip=")[1].split("/")[0];t&&(e.markup='\x3c!-- "'+t+'"--\x3e'+e.markup)}catch(e){Li.errorf(null,"generalEntryFix: %o",e)}e.markup&&!e.url&&-1===e.markup.indexOf("<body")&&(e.markup="<body>"+e.markup+"</body>")}Li.debugf(null,"test Compliance disabled? ",ji);var Qi=["ad","adId","bidderId","bidder","bidderCode","currency","creativeId","cpm","height","size","width"],qi=new bn.Z({prefix:"dispatch: ",level:bn.z.INFO}),$i=new function(){var e=new l.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)};var t=function(e){return s.Z.filter(e,(function(e){return e.cpm>=.01}))};this.dispatchHB=function(e){try{var n={},i=[],r=[];s.Z.forEach(e,(function(e){var t=new s.Z.CDefer;n[e.auctionId]=t,i.push(t.promise);var o=e.unit.space.preBiddingSettings;if(o&&o.enabled)r.push(e);else{var a={auctionId:e.auctionId,bids:[]};t.resolve(a)}}));var o=s.Z.map(r,(function(e){var t=e.unit.space.preBiddingSettings.biddingSettings;return{auctionId:e.auctionId,biddingSettings:t,spaceName:e.unit.space.name,sizes:e.unit.space.sizes,element:e.unit.element}})),a=Wi.dispatch(o);return Promise.all(a).then((function(e){try{for(var i=[],o=0;o<e.length;o++){var a=e[o],c=a.auctionId,l=s.Z.find(r,(function(e){return e.auctionId==c})),u=a.bids;u=d.Y.fireEvent("passZeroCpmBidsFilter")?u:t(u);var h=d.Y.fireEvent("filterPrebidBids");if(h)u=h(s.Z.map(u,(function(e){return{bid:e,rawBid:e.rawBid}})));l.addBids(u),a.bids=u,i.push({auction:l,bids:u})}Pi(i).then((function(t){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o=s.Z.find(e,(function(e){return e.auctionId==i})),a=o.bids;for(var d in r)if(r.hasOwnProperty(d)){var c=r[d],l=s.Z.find(a,(function(e){return e.bidId==d}));l.contentIdHash=c.bidContentIdHash,l.complianceStatus=c.status,l.isBackupCreative=c.backup}n[i].resolve(o)}}))}catch(e){qi.errorf(null,"error testing Prebid bid compliance: %o",e)}})),i}catch(e){qi.errorf(null,"error in `dispatchHB`: %o",e)}},this.dispatchAS=function(e){try{var t={},i=[],r=[];s.Z.forEach(e,(function(e){var n=new s.Z.CDefer;t[e.auctionId]=n,i.push(n.promise);var o=e.unit.space.postBiddingSettings;if(o&&o.enabled)r.push(e);else{var a={auctionId:e.auctionId,bids:[]};n.resolve(a)}}));var o=n(r,0);return s.Z.forEach(o,(function(n){n.then((function(n){var i=n.auctionId;e.find((function(e){return e.auctionId==i})).addBids(n.bids),t[i].resolve(n)}))})),i}catch(e){qi.errorf(null,"error in `dispatchAS`: %o",e)}};var n=function e(t,n){try{var r={},o=[];s.Z.forEach(t,(function(e){var t=new s.Z.CDefer;o.push(t.promise),r[e.auctionId]={auction:e,deferred:t}}));var d=[];if(s.Z.forEach(t,(function(e){e.unit.space.postBiddingSettings.order[n]?d.push(e):r[e.auctionId].deferred.resolve({auctionId:e.auctionId,bids:[]})})),!d)return;var c=s.Z.map(d,(function(e){var t=e.unit.space.postBiddingSettings,r=e.getWinningBid(),o=r?r.cpm:0;return{auctionId:e.auctionId,spaceName:e.unit.space.name,params:i(e,t.order[n]),slotElementId:e.unit.element.getAttribute("id"),floorPrice:o,type:t.type}})),u=Ci.dispatch(c);return s.Z.forEach(u,(function(t){t.then((function(t){try{var i=t.auctionId,o=t.bids[0],u=s.Z.find(d,(function(e){return e.auctionId==i})),h=s.Z.find(c,(function(e){return e.auctionId==i})),f=u.getWinningBid();if(!o){e([u],n+1)[0].then((function(e){r[i].deferred.resolve(e)}));try{if(f){f.ad,f.adId,f.bidderId,f.bidder,f.bidderCode,f.currency,f.creativeId,f.cpm,f.height,f.size,f.width;var g=yi(f,Qi),p={sendToServer:!0,event:"winButNoAACreative",meta:{auctionID:h.auctionId,winningBidData:g,spaceID:u.unit.space.id}};qi.infof(null,"logWinButNoAACreative, auction ID -> ",h.auctionId||"N/A",p)}}catch(e){qi.errorf(null,'error checking for "winButNoAACreative": %o',e)}return}if(o.type==jn.Bid.Types.DFP_PREBID)return f.additionalBidsToRender.push(o),o.complianceStatus=a.Z.consts.complianceStatus.COMPLIANT,void r[i].deferred.resolve({auctionId:i,bids:[]});if(!(o.type!=jn.Bid.Types.ADX_TEXT||h.params.adxShouldTestCompliance||Ai(u,o)||function(e){return e.type==Cn.Types.ADX_TEXT&&[["video-box"],["google-native-video"],["imasdk.googleapis.com/formats/outstream"],["video-in-display"],["vix.eu.criteo.net/concat"],[".video-container","googlevideo.com"],["product-video","googlevideo.com"],["twoOfTwoVertical","animation-container"],["animation:text2Frames","-webkit-animation"]].some((function(t){return l.Z.commonUtils.matchStringsOnString(t,e.ad)}))}(o))){o.complianceStatus=a.Z.consts.complianceStatus.COMPLIANT,r[i].deferred.resolve(t);var m={sendToServer:!0,sendPercentage:1,event:"client_tc_applied",meta:{client_tc_type:"gad_text_ad",auctionID:i,bidderID:o.bidderId}};return void qi.noticef(null,"gam text ad: ",o,m)}Pi([{auction:u,bids:[o]}]).then((function(s){if(o.contentIdHash=s[i][o.bidId].bidContentIdHash,o.complianceStatus=s[i][o.bidId].status,o.isBackupCreative=s[i][o.bidId].backup,o.complianceStatus!=a.Z.consts.complianceStatus.COMPLIANT)return o.cancelBid(),void e([u],n+1)[0].then((function(e){e.bids.push(o),r[i].deferred.resolve(e)}));r[i].deferred.resolve(t)})).catch((function(t){o.cancelBid(),e([u],n+1)[0].then((function(e){e.bids.push(o),r[i].deferred.resolve(e)}))}))}catch(e){qi.errorf(null,"error handling auction responses from AS: %o",e)}}))})),o}catch(e){qi.errorf(null,"error in `innerInvokePostbid`: %o",e)}},i=function(e,t){if(e.unit.space.postBiddingSettings.type===Ci.Types.DFP)return o(e,t)},r={},o=function(e,t){var n={},i=function(e,t){var n=e.getWinningBid(),i=e.getComplianceBids(),o=c(n,e.unit),a=n?n.getGPTTargeting({complianceBidsInAuction:i}):{},d=s.Z.objectAssign({},o||{},a,t.keyValues||{}),l=r[e.unit.unitID]?Object.keys(r[e.unit.unitID]).map((function(e){return new RegExp(e)})):[];return l.push.apply(l,Qn(["hb_adid","hb_bidder","hb_pb","hb_format","hb_size","hb_source","amznbid","amzniid","amznp","amznsz"].map((function(e){return new RegExp("".concat(e,".*"))})))),r[e.unit.unitID]=d,{toAdd:d,toRemove:l}}(e,t);return n.keyValuesParams=i,n.queryParams=t.params.queryParams||{},n.adxBidderId=t.adx.bidderID,n.adxShouldTestCompliance=t.adx.testCompliance,n.directBidderId=t.direct.bidderID,n},c=function(e,t){var n={up_bidder:!0};if(e&&e.bidder)if("s2s"===e.rawBid.source)n.up_bidder="bt_exchange";else if(["true","false","undefined","152media","33across","a4g","aardvark","adblade","adbund","adbutler","adform","adkernel","adkerneladn","admedia","admixer","adocean","adsparc","adspirit","adsupply","adtelligent","adxcg","adyoulike","aerserv","amazon","andbeyond","aol","appnexus","appnexusAst","arteebee","atomx","audienceNetwork","automatad","beachfront","betweendigital","bidfluence","brainy","brealtime","bridgewell","brightcom","buysellads","c1x","carambola","clickforce","clickonometrics","colossus","connectad","consumable","contentIgnite","conversant","cox","cpx","criteo","defymedia","dgads","districtm","districtmDMX","e-planning","emx_digital","emxdigital","engagebdr","essens","fairtrade","featureForward","fidelityMedia","freewheel-ssp","fyber","gamma","gamoshi","getintent","gourmetAds","gumgum","gxone","imonomy","improvedigital","indexExchange","IndexExchange","inneractive","innity","inskin","insticator","invibes","iqm","ix","justpremium","kargo","komoona","kumma","lifestreet","lkqd","lockerdome","madvertise","marsmedia","matomy","media.net","medianet","mobfox","my6sense","mytarget","nginad","nobid","oftmedia","onemobile","oneplanetonly","onetag","openx","optimatic","optimera","orbitsoft","peak226","piximedia","platform.io","playgroundXyz","polluxNetwork","polymorph","prebidServer","pubgears","pubmatic","pulsepoint","pulsepointLite","quantcast","quantum","readpeak","realvu","rhythmone","rockyou","roxot","rtbdemandadk","rtbdemandBidder","rtbhouse","rubicon","rxrtb","sara","sekindoum","serverbid","sharethrough","smart","smartyads","soloway","somoAudience","sonobi","sortable","sovrn","spotx","springserve","stickyadstv","tapsense","teads","thoughtleadr","tremor","trionInteractive","triplelift","trustx","twenga","ucfunnel","underdogmedia","undertone","unruly","upo","upo1","upo10","upo2","upo3","upo4","upo5","upo6","upo7","upo8","upo9","vertamedia","vertoz","vi","vidazoo","vis.x","vuble","weborama","wideorbit","widespace","xaxis","xendiz","yahoossp","yieldbot","yieldlab","yieldmo","yieldone"].indexOf(e.bidder)>-1)n.up_bidder=e.bidder;else{var i={sendToServer:!0,event:"upBidder_unknownBidder",meta:{bidder:e.bidder,bidderCode:e.bidderCode}};qi.noticef(null,"unknown bidder for up_bidder targeting -> ",e.bidder,i)}var r=window.location.hostname;0===r.indexOf("www.")&&(r=r.replace("www.",""));var o=r;o=o.match(/(co\.il|co\.uk|org\.il)/)?o.replace("www.","").split(".").splice(-3).join("."):o.replace("www.","").split(".").splice(-2).join("."),n.up_recovery="true";var s=qn.Xh(),d=qn.Uh(),c=qn.Jv();n.up_browser=s,n.up_device=d,n.up_platform=c,n.up_domain=r,n.up_website=o,n.up_website_id=a.Z.SharedObject.getItem("websiteConfig").websiteID;var l=t.countOfDispatches-1;return n.up_refresh=l>30?"30":"".concat(l),n};Ci.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),Ci.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)})),Wi.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),Wi.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)}))},er=new function(){var e=[];this.set=function(t){e.push(t)},this.getBySpace=function(t){for(var n=0;n<e.length;n++){var i=e[n];if(i.space==t)return i}},this.getByElement=function(t){return e.find((function(e){return e.element===t}))},this.getAll=function(){return e},this.purgeUnitsWithNoElementOnPage=function(){e=e.filter((function(e){return l.Z.commonUtils.isElementInBody(e.element)}))}},tr=["space"];function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var ir=new bn.Z({prefix:"refresh: "}),rr=new function(){this.initialize=function(c){var u=c.invokeSpaces,h=function(i){var s=i.invokeSpaces;function d(){if(document.hasFocus()){if(0!==t.size){var i=new Map;if(t.forEach((function(n,r){var o,s,d=Ti({selector:r.selector.value});d===a.Z.consts.elementVisibility.VISIBLE?(o=n.skipComplianceCheck||Date.now()-e<3e3,s="IS_VISIBLE"===n.whenVisibility||"ANY"===n.whenVisibility):d===a.Z.consts.elementVisibility.HIDDEN?(o=!0,s="IS_HIDDEN"===n.whenVisibility||"ANY"===n.whenVisibility):d===a.Z.consts.elementVisibility.NOT_FOUND&&t.delete(r),o&&s&&(t.delete(r),i.set(r,n))})),0!==i.size){var r=Array.from(i.keys());ir.infof(null,"Attempting to refresh: %o\nLeft in queue: %o",[o(i),o(t)]),s(r).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=r.filter((function(t){return!e.includes(t)}));t.length>0&&(t.forEach((function(e){n(i.get(e))})),ir.infof(null,"Could not refresh & requeued: %o",t))}))}else ir.debugf(null,"triggerRefresh: No eligible refreshes in queue to attempt: %o",o(t))}}else ir.debugf(null,"triggerRefresh: User not on page (tab/window out of focus), no refreshes attempted.")}return l.Z.commonUtils.debounce(d,r)}({invokeSpaces:u});(function(e){var t=e.triggerRefresh;ui(t),n=t,window.addEventListener("focus",(function(e){n()})),window.addEventListener("locationChange",i);var n})({triggerRefresh:h}),(d.Y.hasEventListener("spaceRefreshOnInterval")||d.Y.hasEventListener("spaceRefreshSettings"))&&(this.spaceRefreshOnInterval=function(e){var t=e.triggerRefresh;return function(e){var i=e.space,r=e.unitDispatchCount,o={space:i,unitDispatchCount:r},s=d.Y.fireEvent("spaceRefreshOnInterval",o)||d.Y.fireEvent("spaceRefreshSettings",o);if(s){var c=s.whenVisibility,l=s.type,u=s.skipComplianceCheck,h=void 0!==u&&u;if(h=h||d.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:i}),!c){if(!l)return void ir.errorf(null,"spaceRefreshSettings [deprecated]: Use new hook `spaceRefreshOnInterval` and provide `whenVisibility`.");switch(Wn.commonBLUtils.refreshTypeDecoder(l)){case a.Z.consts.refreshType.UNKNOWN:return void ir.errorf(null,"spaceRefreshSettings [deprecated]: Invalid refresh `type` %s",l);case a.Z.consts.refreshType.ALL:case a.Z.consts.refreshType.VISIBLE:return void ir.debugf(null,"spaceRefreshSettings [deprecated]: Ignoring refresh with `type` %s",l);case a.Z.consts.refreshType.HIDDEN:c="IS_HIDDEN"}}var f=s.interval||s.rate||3e4;setTimeout((function(){n({space:i,whenVisibility:c,skipComplianceCheck:h}),t()}),f),ir.infof(null,"spaceRefreshOnInterval: Refresh to be enqueued (& attempted) in %i secs: %o",[f/1e3,{spaceName:i.name,space:i,whenVisibility:c,skipComplianceCheck:h}])}}}({triggerRefresh:h}));(function(e){var t=e.triggerRefresh;$i.subscribeForEvent("refresh",(function(e){e.forEach((function(e){var t=document.getElementById(e),i=t&&er.getByElement(t),r=i&&i.space;if(r&&i.countOfDispatches>0){var o,s=Ti({element:t});if(s===a.Z.consts.elementVisibility.VISIBLE)o="IS_VISIBLE";else if(s===a.Z.consts.elementVisibility.HIDDEN)o="IS_HIDDEN";else if(s===a.Z.consts.elementVisibility.NOT_FOUND)return;var c=d.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:r});ir.infof(null,"googletag refresh: Enqueuing: %o",{spaceName:r.name,space:r,correspondingUnit:i,whenVisibility:o,skipComplianceCheck:c}),n({space:r,whenVisibility:o,skipComplianceCheck:c})}})),t()}))})({triggerRefresh:h}),function(e){var t=e.invokeSpaces,n=[];d.Y.addEventListener("refreshByForce",(function(e){var i=e.data,r=i&&i.settings,o=Di.getAll(),a=r&&r.minTimeBetweenRefreshes,d=r&&r.shouldRefreshFailedSpaces,c=r&&r.spacesNames,l=r&&r.shouldRefreshAllSpaces,u=[],h={filteringSettings:{minTimeBetweenRefreshes:a}};l?u=o:(d&&s.Z.forEach(n,(function(e){u.push(e)})),c&&s.Z.forEach(o,(function(e){c.indexOf(e.name)>-1&&u.push(e)}))),u=s.Z.distinct(u),ir.infof(null,"refreshByForce (settings: %o): Re-auctioning Spaces: %o",[r,u]),t(u,h).then((function(e){n=s.Z.filter(u,(function(t){return e.indexOf(t)<0}))}))}))}({invokeSpaces:u})},this.minTimeBetweenAuctionsUnitsFilter=function(t,n){var i=a.Z.upoSettings.minTimeBetweenRefreshes;d.Y.hasEventListener("minTimeBetweenRefreshes")&&(i=d.Y.fireEvent("minTimeBetweenRefreshes"));l.Z.commonUtils.isNumber(n.minTimeBetweenRefreshes)&&(i=n.minTimeBetweenRefreshes);return t.filter((function(t){var n;if(t)if(t.lastInvokeTime){var r=Date.now()-t.lastInvokeTime.getTime();r>i||e&&t.lastInvokeTime.getTime()<e?(n=!0,ir.infof(null,"Re-auctioning Unit: %o",t)):(n=!1,ir.infof(null,"Must wait at least %i seconds before we can re-auction Unit: %o",[(i-r)/1e3,t]))}else n=!0;else n=!1;return n}))},this.spaceRefreshOnInterval;var e,t=new Map;function n(e){var n=e.space,i=e.whenVisibility,r=e.skipComplianceCheck;"IS_VISIBLE"===i&&d.Y.fireEvent("dontQueueViewableRefreshes",{space:n})?ir.debugf(null,"queueSpaceForRefresh: `dontQueueViewableRefreshes` hook set to not enqueue refresh: &o",{spaceName:n.name,space:n,whenVisibility:i,skipComplianceCheck:r}):t.set(n,{space:n,whenVisibility:i,skipComplianceCheck:r})}function i(){e=Date.now()}var r=500;function o(e){return Array.from(e.values()).map((function(e){var t=e.space,n=yi(e,tr);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({spaceName:t.name,space:t},n)}))}};new bn.Z;function or(e){var t=d.Y.fireEvent("maxAmountOfUnitDispatches");return t?e.filter((function(e){return e.countOfDispatches<t})):e}function ar(e,t){return rr.minTimeBetweenAuctionsUnitsFilter(e,t)}function sr(e){return e.filter((function(e){return!d.Y.fireEvent("filterOutUnitToBeAuctioned",{unit:e})}))}function dr(e){var t=e.map((function(e){return e.element}));return e.filter((function(e,n){return t.indexOf(e.element)==n}))}function cr(e,t){return new Promise((function(n,i){t&&t.definedSlotsFilteringSettings&&(t.definedSlotsFilteringSettings.dfpEnabled||t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots)?window.googletag.cmd.push((function(){var i=window.googletag.pubads().getSlots(),r=[];e.forEach((function(e){t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots||e.space.postBiddingSettings.enabled?i.forEach((function(t){t.getSlotElementId()===e.element.getAttribute("id")&&r.push(e)})):r.push(e)})),n(r)})):n(e)}))}var lr=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){window.__cmp&&window.__cmp("getVendorConsents",null,(function(e){e&&e.gdprApplies&&(e.purposeConsents&&e.purposeConsents[1]&&e.purposeConsents[2]&&e.purposeConsents[3]&&e.purposeConsents[4]&&e.purposeConsents[5]||window.googletag.pubads().setRequestNonPersonalizedAds(1))})),d.Y.fireEvent("skipDisableInitialLoad")||window.googletag.pubads().disableInitialLoad(),d.Y.fireEvent("disableSingleRequest")||window.googletag.pubads().enableSingleRequest(),d.Y.fireEvent("collapseEmptyDivs")&&window.googletag.pubads().collapseEmptyDivs(!0),window.googletag.pubads().enableAsyncRendering(),window.googletag.enableServices()}))},ur=function(e){if("dfp"===e)return lr},hr=__webpack_require__(616);function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pr,mr=new bn.Z({prefix:"prebidPostset: "}),wr=function(){var e,t;pr=a.Z.cpbjs,function(){var e=a.Z.SharedObject.getItem("whitelistingIFrame");e?pr.setCookieFrame({frame:e,isBTSafeFrameDomain:a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame}):d.Y.addEventListener("whitelistingIFrameLoaded",(function(e){pr.setCookieFrame({frame:e.data.whitelistingIFrame,isBTSafeFrameDomain:a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame})}))}(),function(){try{var e=window.pbjs,t=e&&e.version&&parseInt(e.version[1]);if(t&&!isNaN(t)&&t>=4){var n=e.getConfig("consentManagement");if(n&&(n.gdpr||n.usp))return void pr.setConfig({consentManagement:n})}}catch(e){mr.errorf(null,"setConsentConfig: copy publisher consentManagement settings: %o",e)}try{"function"==typeof window.__tcfapi&&window.__tcfapi("ping",2,(function(e){if(e&&e.cmpLoaded&&e.gdprApplies){var t={consentManagement:pr.getConfig().consentManagement||{}};t.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},pr.setConfig(t)}}))}catch(e){mr.errorf(null,"setConsentConfig: __tcfapi: %o",e)}try{"function"==typeof window.__cmp&&"function"!=typeof window.__tcfapi&&window.__cmp("getConsentData",null,(function(e){if(e&&e.gdprApplies){var t={consentManagement:pr.getConfig().consentManagement||{}};t.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},pr.setConfig(t)}}))}catch(e){mr.errorf(null,"setConsentConfig: __cmp: %o",e)}try{"function"==typeof window.__uspapi&&window.__uspapi("getUSPData",1,(function(e,t){if(t&&e.uspString){var n={consentManagement:pr.getConfig().consentManagement||{}};n.consentManagement.usp={cmpApi:"iab",timeout:100},pr.setConfig(n)}}))}catch(e){mr.errorf(null,"setConsentConfig: __uspapi: %o",e)}}(),pr.que.push((function(){pr.setConfig({userSync:{userIds:[{name:"pubProvidedId",params:{eidsFunction:function(){return[{source:"blockthrough.com",uids:[{id:"bt-aauser",atype:1,ext:{stype:"ppuid"}}]}]}}},{name:"id5Id",params:{partner:993},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}],auctionDelay:50}})})),e={},pr.onSendLog((function(t,n,i,r){if(r.meta.fired){var o=1;e[r.meta.uid]=(0,hr.getTrueByProbability)(o)}if(e[r.meta.uid])return r=gr(gr({},r),{},{sendPercentage:101,sendToServer:!0}),void mr.infof(t,n,i,r);r.sendPercentage&&(r=gr(gr({},r),{},{sendToServer:!0}),mr.infof(t,n,i,r))})),pr.onBeforeRequest((function(e){var t=e&&l.Z.addAcceptableParam(e);if(t.includes("criteo.com/cdb")&&d.Y.fireEvent("addCriteoAdblockQueryParam")){var n=t.includes("abp=1");t=n?t:"".concat(t,"&abp=1")}return t})),pr.aliasBidder("pulsepointLite","pulsepoint"),pr.aliasBidder("indexExchange","ix"),pr.aliasBidder("ix","indexExchange"),pr.aliasBidder("my6sense","upo2"),pr.aliasBidder("lockerdome","upo3"),function(){var e=window.pbjs||window.jitaJS;e&&e.bidderSettings&&(pr.bidderSettings=e.bidderSettings);var t=e&&e.getConfig&&e.getConfig(),n="high";if(t){var i=t.customPriceBucket,r=t.priceGranularity;n="custom"===r?i:r}pr.setConfig({priceGranularity:n,userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}},syncsPerBidder:25,syncEnabled:!0}})}(),(t=(d.Y.fireEvent("snigelAdapterConfiguration")||{}).websiteStoredRequestId)&&pr.setConfig({s2sConfig:[{defaultVendor:"snigel",accountId:"1000",bidders:[],extPrebid:{storedrequest:{id:t}}}]}),pr.setBidderConfig({bidders:["rubicon"],config:{ortb2:{site:{ext:{data:{keywords:"blockthrough"}}}}}});var n,i=d.Y.fireEvent("scrapePrebidRequestBids");i&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onListenerAdded,n=e.pollingInterval,i=void 0===n?100:n,r=e.maxIntervalCount,o=void 0===r?50:r;if(br())vr(t);else var a=0,s=setInterval((function(){++a>=o?clearInterval(s):br()&&(clearInterval(s),vr(t))}),i)}(i),d.Y.fireEvent("addIndexExchangeWrappers")&&function(){var e={aol:"ix_aol_om",appnexus:"ix_apnx_om",beachfront:"ix_bft_cpm",colossusssp:"ix_clss_cpm",consumable:"ix_cnsm_cpm",conversant:"ix_conv_cpm",criteo:"ix_cdb_om",districtm:"ix_dism_om",districtmDMX:"ix_dis_cpm",emx_digital:"ix_brt_cpm",gumgum:"ix_gum_cpm",improvedigital:"ix_imdi_cpm",justpremium:"ix_justp_cpm",kargo:"ix_karg_om",lockerdome:"ix_lkdm_cpm",onedisplay:"ix_oath_cpm",onemobile:"ix_oath_cpm",openx:"ix_ox_om",optimera:"ix_opti_cpm",piximedia:"ix_pix_cpm",pubmatic:"ix_pubm_om",pulsepoint:"ix_pp_om",pxyz:"ix_pxyz_cpm",quantcast:"ix_qua_cpm",rubicon:"ix_rubi_om",sharethrough:"ix_shth_cpm",sonobi:"ix_sbi_om",sovrn:"ix_sovrn_om",triplelift:"ix_tpl_cpm",trustx:"ix_trstx_cpm",indexExchange:"IOM",ix:"IOM",undertone:"ix_undr_cpm"};function t(e){return(100*parseFloat(e)).toFixed()}for(var n in e)pr.bidderSettings[n]={adserverTargeting:[{key:e[n],val:function(e){var n=pr.getConfig().priceGranularity;return"auto"===n?e.size+"_"+t(e.pbAg):"dense"===n?e.size+"_"+t(e.pbDg):"low"===n?e.size+"_"+t(e.pbLg):"medium"===n?e.size+"_"+t(e.pbMg):"high"===n?e.size+"_"+t(e.pbHg):"custom"===n?e.size+"_"+t(e.pbCg):e.size+"_"+t(e.pbHg)}}]}}(),(n=d.Y.fireEvent("provideSChainConfig"))&&pr.que.push((function(){try{if(!window[n.prebidVariable].getConfig("schain"))throw new Error("Could not find publisher's schain in their prebid variable - use manual fallback.");pr.setConfig({schain:window[n.prebidVariable].getConfig("schain")})}catch(t){try{var e=n.manualFallback||{};pr.setConfig({schain:{validation:"strict",config:{ver:"1.0",complete:null!==e.complete&&void 0!==e.complete?e.complete:1,nodes:[{asi:e.asi,sid:e.sid,hp:null!==e.hp&&void 0!==e.hp?e.hp:1}]}}})}catch(e){mr.errorf(null,"setPublisherSChain: error within manual fallback cpbjs.setConfig(): %o",e)}}})),d.Y.fireEvent("prebidDoneInit",{cpbjs:pr})};function br(){return window.pbjs&&window.pbjs.onEvent}function vr(e){try{window.pbjs.onEvent("beforeRequestBids",(function(e){var t=window.pbjs.adUnits||[],n=t.map((function(e){return e.code})),i=e.filter((function(e){return!n.includes(e.code)}));i.length>0&&(window.pbjs.adUnits=[].concat(Qn(t),Qn(i)))})),e&&e()}catch(e){mr.errorf(null,"prebidPostset - listen to pbjs.requestBids: %o",e)}}var Mr=function(e){if("prebid"===e)return wr},Nr=new function(){var e=new l.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)};this.load=function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e.invokeEventCallbacks("preset"),new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){Promise.all([new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){e()})),n.addEventListener("error",(function(e){t(e)})),n.src="https://adservice.google.com/adsid/integrator.js?domain="+window.location.hostname+"&upapi=true",(document.head||document.body||document.documentElement).appendChild(n)})),new Promise((function(e,t){var n=!1;try{if(window.googletag&&window.googletag.getVersion){n=!0;var i=document.createElement("script");i.async="true",i.type="text/javascript",i.addEventListener("load",(function(){e()})),i.addEventListener("error",(function(e){t(e)})),i.src="https://securepubads.g.doubleclick.net/gpt/pubads_impl_"+window.googletag.getVersion()+".js?upapi=true",(document.head||document.body||document.documentElement).appendChild(i)}}catch(e){t("error in getting pubads_impl -> "+e)}if(window.googletag._vars_){var r=window.googletag._vars_,o=[21063911,21063048,21063670,21063817,21063671],a=[];for(var s in r){var d=r[s];if("string"==typeof d&&d.indexOf("pubads_impl_")>-1&&!n)try{n=!0;var c=document.createElement("script");c.async="true",c.type="text/javascript",c.addEventListener("load",(function(){e()})),c.addEventListener("error",(function(e){t(e)})),d.indexOf("?")>-1?c.src=d+"&upapi=true":c.src=d+"?upapi=true",(document.head||document.body||document.documentElement).appendChild(c)}catch(e){t("error in getting pubads_impl -> "+e)}else if(Array.isArray(d))try{var l=d.length;if(o)for(;l--;){var u=d[l];o.indexOf(u)>-1&&d.splice(l,1)}if(a)for(var h=0;h<a.length;h++){var f=a[h];-1===d.indexOf(f)&&d.push(f)}}catch(e){console.error("error in adding/removing eids -> "+e)}}}n||t()}))]).then((function(){e()}),(function(e){t(e)}))})),n.addEventListener("error",(function(){t()})),n.src="//www.googletagservices.com/tag/js/gpt.js?upapi=true",(document.head||document.body||document.documentElement).appendChild(n)}))}},Dr=__webpack_require__(228),yr=new l.Z.SubscriptionLayer,Xr=!1,zr=function(e){switch(Xr||Xr||(Xr=!0,Nr.subscribeForEvent("preset",(function(){_r("dfp")})),Nr.subscribeForEvent("postset",(function(){xr("dfp")})),Dr.k.subscribeForEvent("preset",(function(){_r("prebid")})),Dr.k.subscribeForEvent("postset",(function(){xr("prebid")}))),e){case"dfp":Nr.load();break;case"prebid":Dr.k.load()}},Vr=function(e,t){yr.subscribeForEvent(e,t)},_r=function(e){yr.invokeEventCallbacks(e)},Er=function(e,t){yr.subscribeForEvent(e,t)},xr=function(e){yr.invokeEventCallbacks(e)},Zr=new bn.Z({prefix:"defaultCreativeBid: "});function Hr(e,t){var n=[],i=!1;var r={ad:e.creativeHTML,bidder:"default-creative",bidderId:"default-creative-"+t.unit.space.name,bidderCode:"default-creative",width:e.width,height:e.height},o=new jn.Bid(r,r,jn.Bid.Types.DEFAULT_CREATIVE,void 0,(function(t){!function(t){var r=e.height+"px",o=e.width+"px",d=e.creativeHTML,c=document.createElement("div");c.className="default-creative-container",c.style.height=r,c.style.width=o;var l=Wn.whitelistingIFrame.createWhitelistingIFrame();l.className="default-creative-iframe",l.setAttribute("scrolling","no"),l.setAttribute("marginwidth","0"),l.setAttribute("marginheight","0"),l.setAttribute("height",r),l.setAttribute("width",o),c.appendChild(l),l.addEventListener("load",(function e(){try{if(l.removeEventListener("load",e),a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame)l.contentWindow.postMessage(JSON.stringify({message:"Render Secure Creative",ad:d}),"*");else{var t=l.contentWindow.document;if(navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox/")>-1){var r=navigator.userAgent.toLowerCase().match(/firefox\/([\d.]+)/)[1];r&&parseInt(r,10)<67&&t.open("text/html","replace")}t.write(d),t.close()}i=!0,s.Z.forEach(n,(function(e){e()}))}catch(e){Zr.errorf(null,"auction: createDefaultCreativeBid: renderDefaultCreative: %o",e)}})),t.appendChild(c)}(t.placement)}),void 0,(function(e){i?e():n.push(e)}),void 0);return o}function Ir(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Br=new bn.Z,Or=new function(){var e,t=!1,n=[],i=[],r=!1;function o(){return window.pbjs&&window.pbjs.adUnits}function c(e){return u(v(e))}function u(t,i){var r=function(){var e=[],t=d.Y.fireEvent("auctionBlockerHook");return t&&e.push(t),e}();return Promise.all(r).then((function(){return function(e){var t=[],n=[];return s.Z.forEach(e,(function(e){var i,r,o=Wn.commonBLUtils.getSpaceElement(e);o&&((i=er.getByElement(o))||((r=o).alreadyWraped||(fi.hookFunction(r,"setAttribute",fi.Types.SET_ATTRIBUTE_PRE,void 0,!0),r.alreadyWraped=!0),i=new jn.Unit({element:o,space:e}),d.Y.fireEvent("onNewUnitFound",i),er.set(i),n.push(i)),i&&i.space==e&&t.push(i))})),function(e){var t=d.Y.fireEvent("newGAMSlotsOnUnitCreation")||{},n=t.AD_UNIT_PATH_PREFIX,i=t.deriveDataFromUnitForSpaces,r=t.slotDataBySpaceName;e.length>0&&(i||r)&&window.googletag.cmd.push((function(){try{e.forEach((function(e){var t,o,a,s=e.unitID,d=e.element,c=e.space,l=i&&i.includes(c.name)&&n,u=r&&r[c.name];if(l||u){if(u){var h=r[c.name]||{};t=h.adUnitPath,o=h.sizes,a=h.slotElementId}!t&&n&&(t="".concat(n).concat(c.name)),o||(o=c.sizes.map((function(e){return e.split("x").map((function(e){return parseInt(e,10)}))})).filter((function(e){return 2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}))),a||(d.id||d.setAttribute("id","bt-unit-".concat(s)),a=d.id),t&&o&&o.length>0&&a&&Kn(t,o,a)}}))}catch(e){Jn.errorf(null,"error defining new GAM slots on Unit creation",e)}}))}(n),t}(t)})).then((function(t){return function(t,i){return new Promise((function(r,o){if(0!==t.length){d.Y.fireEvent("onBeforeInvokeDispatch",{spaces:s.Z.map(t,(function(e){return e.space}))}),function(e){e.forEach((function(e){var t=e.space;d.Y.fireEvent("modifySpacesOnBeforeFetching",{space:t})}))}(t);var c={};i&&(c=i.filteringSettings||{}),function(e,t){return b.apply(this,arguments)}(t,c).then((function(t){try{if(function(e,t){e&&0!==e.length&&t&&a.Z.upoSettings.amazonBidderConfiguration.enabled&&e.forEach((function(e){var t=e.space;if(t.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid]=t.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid]||[],!t.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid].some((function(e){return"amazon"===e.name}))){var n=e.element,i=googletag.pubads().getSlots().find((function(e){return document.getElementById(e.getSlotElementId())===n})).getAdUnitPath();t.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid].push({id:i+"_amazon_bidder",name:"amazon",params:{pubID:a.Z.upoSettings.amazonBidderConfiguration.pubID,adUnitGPTPath:i}})}}))}(t,e.dfp),r(t||[]),!t||0===t.length)return;var i=s.Z.map(t,(function(e){return e.space}));Wn.movePositionService.dispatch(i);var o=s.Z.map(t,(function(e){return new jn.Auction({unit:e})}));if(d.Y.fireEvent("onAuctionGroupStarted",o),function(e){s.Z.forEach(e,(function(e){e.state=jn.Auction.States.DISPATCHED,e.unit.state=jn.Unit.States.DISPATCHED,n.push(e),e.unit.countOfDispatches++,e.unit.lastInvokeTime=new Date,d.Y.fireEvent("onAuctionStarted",{auction:e})}))}(o),window.__bt_intrnl.stopFlag)return;d.Y.fireEvent("onPrebiddingStarted",o);var c=$i.dispatchHB(o);Promise.all(c).then((function(t){if(d.Y.fireEvent("onPrebiddingEnded",o),!window.__bt_intrnl.stopFlag){var n=$i.dispatchAS(o);s.Z.forEach(n,(function(t,n){t.then((function(t){var n=s.Z.find(o,(function(e){return e.auctionId==t.auctionId})),i=n.getWinningBid();if(i&&i.type===jn.Bid.Types.PREBID&&0===i.additionalBidsToRender.length&&e.dfp&&n.unit.space.postBiddingSettings.enabled&&n.cancelAuction(),!window.__bt_intrnl.stopFlag){if(localStorage.getItem("forceDefaultCreative")&&(i=void 0),!i){var r=d.Y.fireEvent("getDefaultCreative",{auction:n});r&&(r={width:r.width,height:r.height,creativeHTML:r.creativeHTML},i=Hr(r,n),n.addBids([i]))}n.subscribeForEvent("auctionRendered",(function(){n.unit.countOfRenders++,d.Y.fireEvent("onAuctionRendered",{auction:n,bid:i}),d.Y.fireEvent("onAuctionRenderedWebsiteHook",{space:n.unit.space,element:n.unit.element,winningBid:i});var e=n.unit.countOfRenders;!function(e,t){var n,i;if(_i.has(e))Ei.get(e).push(t);else{var r=new Promise((function(e,t){n=e,i=t}));_i.set(e,[n,i]),Ei.set(e,[t]),r.then((function(){Ei.get(e).forEach((function(e){return e()}))})).finally((function(){_i.delete(e),Ei.delete(e)})),Zi(e,n,i)}}(n.unit.element,(function(){e==n.unit.countOfRenders&&(d.Y.fireEvent("onAdViewed",{auction:n,bid:i}),d.Y.fireEvent("onAdViewedWebsiteHook",{space:n.unit.space,element:n.unit.element,winningBid:i}))}))})),n.subscribeForEvent("renderBidDone",(function(e){d.Y.fireEvent("onAuctionEnded",{auction:n,bid:e.successfulyRenderedBid&&i}),d.Y.fireEvent("onAuctionEndedWebsiteHook",{element:n.unit.element,bid:e.successfulyRenderedBid&&i})})),n.renderBid(i),n.unit.state=jn.Unit.States.PENDING,rr.spaceRefreshOnInterval&&rr.spaceRefreshOnInterval({space:n.unit.space,unitDispatchCount:n.unit.countOfDispatches})}}))}))}}))}catch(e){Br.errorf(null,"recovery: filterUnits %o",e)}}))}else r([])}))}(t,i)})).then((function(e){return e.map((function(e){return e.space}))}))}function h(e){var t='[id="'.concat(e,'"]'),n=l.Z.commonUtils.getElementWithSelector(t);if(n){var i=er.getByElement(n);return i?i.space:v().find((function(e){var t=Wn.commonBLUtils.getSpaceElement(e);return t&&t===n}))}}this.invoke=function(f){if(!window.__bt_intrnl.stopFlag&&!t){t=!0,e=f.settings||{};var g,w,b=Di.set(f.spaces);r=d.Y.fireEvent("alwaysFilterByGoogletagSlots"),function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]){var n=[],i=[],r=ur(t),o=Mr(t);r&&n.push(r),o&&i.push(o);var a=d.Y.fireEvent("thirdPartyModulePreset",{type:t}),c=d.Y.fireEvent("thirdPartyModulePostset",{type:t});a&&n.push(a),c&&i.push(c),s.Z.forEach(n,(function(e){Vr(t,e)})),s.Z.forEach(i,(function(e){Er(t,e)})),zr(t)}}(e),(e.dfp||r)&&(g=window.googletag&&window.googletag.cmd.unshift?"unshift":"push",window.googletag.cmd[g]((function(){var e=window.googletag.defineSlot;if(window.googletag.defineSlot=function(t,n,i){var r=e(t,n,i);return setTimeout((function(){if(r){if(Pn(r))return;p(r)}}),0),r},d.Y.fireEvent("overrideDefineOutOfPageSlot")){var t=window.googletag.defineOutOfPageSlot;window.googletag.defineOutOfPageSlot=function(e,n){var i=t(e,n);return setTimeout((function(){if(i){if(Pn(i))return;p(i)}}),0),i}}}))),window.googletag.cmd.push((function(){var e=window.googletag.pubads().getSlots();s.Z.forEach(e,(function(e){Pn(e)}))})),w=Di.getAll(),d.Y.fireEvent("listenToNewSpaces",{spaces:w,callback:function(e){if(e){for(var t=0;t<e.length;t++){var n=e[t],i=n&&new jn.Space(n);Di.set(i)}c()}}}),(i=d.Y.fireEvent("movePositionRules")||[])&&i.length>0&&Wn.movePositionService.setMovePositionRules(i),function(){try{history.pushState=(e=history.pushState,function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationChange")),t}),history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationChange")),t}}(history.replaceState),window.addEventListener("popstate",(function(){window.dispatchEvent(new Event("locationChange"))}))}catch(e){Br.errorf(null,"setupLocationChangeEvent - error: %o",e)}var e}();var v=Ni()((function(){c()}),500);ui(v),window.addEventListener("locationChange",(function(){setTimeout(c,1001)})),rr.initialize({invokeSpaces:u,invokeSpacesWithoutUnits:c}),d.Y.addEventListener("websiteHooksGetSpaces",(function(){return Di.getAll()}));var M=d.Y.fireEvent("scrapePrebidAdUnits");M&&("boolean"==typeof M&&(M={}),function(e){var t,n=e.getAdUnits||o,i=e.filterOutAdUnit,r=e.parseAdUnit,d=e.postParsingAdUnits,u=e.parseInterval||1e3,h=[],f=function(){if((t=n()||[]).length>0){for(var e=[],o=[],u=0;u<t.length;u++){var f=t[u];f&&(h.indexOf(f)>=0||(f=JSON.parse(JSON.stringify(f)),f=r?r(f):f,i&&i(f)||(h.push(f),e.push(f))))}if(0===e.length)return;if(e=d?d(e):e,s.Z.forEach(e,(function(e){var t=function(e){try{var t,n=function(e){return 2===e.length&&e.every((function(e){return!Array.isArray(e)&&!isNaN(e)}))},i=function(e){return"".concat(e[0],"x").concat(e[1])},r={},o=e.selector||l.Z.commonUtils.escapeSelector("#"+e.code),s=e.sizes;if(s||e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(s=e.mediaTypes.banner.sizes),!s)return;if(t=n(s)?[i(s)]:s.filter(n).map(i),r.id=e.id,r.id||(r.id="space_"+An(e.code+"_"+o)),r.id=r.id.substr(0,500),r.name=e.code,r.deviceType=e.deviceType,r.sizes=t,r.selector={position:0,value:o},e.bids){r.preBiddingSettings={enabled:!0,biddingSettings:[]},r.preBiddingSettings.biddingSettings[1]=[];for(var d=0;d<e.bids.length;d++){var c=e.bids[d];c.params=c.params||{};var u="bidder_"+An(r.id+"_"+c.bidder+"_"+JSON.stringify(c.params).trim());u=u.substr(0,500),r.preBiddingSettings.biddingSettings[1].push({id:u,name:c.bidder,params:c.params})}}else r.preBiddingSettings={enabled:!1};return r.preBiddingSettings.biddingSettings[1]=r.preBiddingSettings.biddingSettings[1].filter((function(e,t){return t===r.preBiddingSettings.biddingSettings[1].findIndex((function(t){return JSON.stringify(t)===JSON.stringify(e)}))})),a.Z.SharedObject.getItem("websiteConfig").dfpEnabled?r.postBiddingSettings={adxId:r.name+"_adx",directId:r.name+"_direct",enabled:!0,type:1,order:[{params:{},adx:{bidderID:r.name+"_adx",testCompliance:!0},direct:{bidderID:r.name+"_direct"}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:r.name+"_adx",testCompliance:!1},direct:{bidderID:r.name+"_direct"}}]}:r.postBiddingSettings={enabled:!1},r}catch(e){Jn.errorf(null,"error in parsing prebid ad unit - err: %o",e)}}(e),n=t&&new jn.Space(t);n&&(Di.getSpacesByName(n.name).length>0||o.push(n))})),0===o.length)return;Di.set(o),c(o)}};f(),setInterval((function(){f()}),u)}(M)),d.Y.hasEventListener("scrapeGoogletagSlots")&&window.googletag.cmd.push((function(){window.googletag.pubads().getSlots().forEach((function(e){!h(e.getSlotElementId())&&d.Y.fireEvent("scrapeGoogletagSlots",{slot:e})&&Di.set(m(e))}))})),(e.dfp||r)&&window.googletag.cmd.push((function(){window.googletag.pubads().getSlots().forEach((function(e){p(e)}))})),window.__upo_d.getSpaces=function(){return Di.getAll()},window.__upo_d.getUnits=function(){return er.getAll()},window.__upo_d.getAuctions=function(){return n},c(b);var N=1,D=setInterval((function(){15===N&&clearInterval(D),N++,c(b)}),100)}};var f,g=[];function p(e){var t=e.getSlotElementId(),n=e.getAdUnitPath(),i=Di.getAll(),r=h(t);if(!r){if(d.Y.fireEvent("useSlotPath"))r=Di.getSpacesByName(n.split("/")[n.split("/").length-1])[0];else{var o=d.Y.fireEvent("customGetSpace",{spaces:i,divId:t,slot:e});o&&(r=s.Z.find(i,(function(e){return e.name==o.name})))}(r=r&&JSON.parse(JSON.stringify(r)))&&(r.selector.value=l.Z.commonUtils.escapeSelector("#"+t),r.name=t,Di.set(r))}!r&&d.Y.fireEvent("scrapeGoogletagSlots",{slot:e})&&Di.set(m(e)),r&&g.indexOf(r)<0&&(g.push(r),clearTimeout(f),f=setTimeout((function(){u(g),g=[]}),100))}function m(t){if(t&&!d.Y.fireEvent("shouldIgnoreGoogletagSlotScraping",{slot:t})){var n=t.getSlotElementId(),i=t.getSizes(),r=s.Z.map(i,(function(e){if(e.getWidth)return e.getWidth()+"x"+e.getHeight()}));r=s.Z.filter(r,(function(e){return!!e}));var o="adxId_"+n,c="directId_"+n,u={id:n,name:n,staging:!1,selector:{value:l.Z.commonUtils.escapeSelector("#"+n),position:a.Z.consts.selectorPosition.APPEND_CHILD},sizes:r,preBiddingSettings:{enabled:!0,biddingSettings:{}},postBiddingSettings:{adxId:o,directId:c,enabled:e.dfp,type:1,order:[{params:{},adx:{bidderID:o,testCompliance:!0},direct:{bidderID:c}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:o,testCompliance:!1},direct:{bidderID:c}}]}};return u.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid]=[],new jn.Space(u)}}var w=[or,ar,sr,dr,cr];function b(){return(b=wi(vi().mark((function t(n,i){var o,a,s,d,c,l;return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o={definedSlotsFilteringSettings:{dfpEnabled:e.dfp,alwaysFilterByGoogletagSlots:r}},i=Tr(Tr({},o),i),!((a=n.filter((function(e){return e.state===jn.Unit.States.PENDING}))).length>0)){t.next=27;break}a.forEach((function(e){e.state=jn.Unit.States.CHECKING})),s=Qn(a),d=Ir(w),t.prev=7,d.s();case 9:if((c=d.n()).done){t.next=19;break}return l=c.value,t.next=13,l(a,i);case 13:if(a=t.sent,s=s.filter((function(e){var t=a.includes(e);return t||(e.state=jn.Unit.States.PENDING),t})),0!==a.length){t.next=17;break}return t.abrupt("break",19);case 17:t.next=9;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(7),d.e(t.t0);case 24:return t.prev=24,d.f(),t.finish(24);case 27:return t.abrupt("return",a);case 28:case"end":return t.stop()}}),t,null,[[7,21,24,27]])})))).apply(this,arguments)}function v(e){var t=e||Di.getAll();return er.purgeUnitsWithNoElementOnPage(),t.filter((function(e){return!er.getBySpace(e)}))}};function Fr(e){return window.location.hostname.indexOf(e)>-1}var kr={isSite:Fr,isSiteOneOf:function(e){return e.some((function(e){return Fr(e)}))},showElement:function(e){e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","","")},hasClass:function(e,t){if(e&&t)return(" "+e.className+" ").indexOf(" "+t+" ")>-1},removeClass:function(e,t){if(t&&e){var n=new RegExp("\\b"+e+"\\b","g"),i=t.className;i=i.replace(n,""),t.className=i}},addClass:function(e,t){if(t&&e){var n=t.className;n.indexOf(e)>-1||(""!==n&&(e=" "+e),t.className=n+e)}}},Wr=new bn.Z({prefix:"main: "});window.__upo_d=window.__upo_d||{},window.__upo_d.v="v2",window.__bt_intrnl=window.__bt_intrnl||{},window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var Rr,Gr={"contentEnabled":true,"mobileContentEnabled":true,"dfpEnabled":true,"spaces":{}},Cr=Gr.spaces||{},Lr="api.btloader.com",jr=a.Z.upoSettings.staticDomain,Ar=a.Z.upoSettings.recoveryScriptVersion;(window.location.href.indexOf("bt_debug=true")>=0||"true"===window.localStorage.getItem("bt_debug"))&&(Gr.dfpEnabled="true"===localStorage.getItem("forceGAM")||Gr.dfpEnabled,Gr.mobileContentEnabled="true"===localStorage.getItem("forceMobileContent")||Gr.mobileContentEnabled,Gr.contentEnabled="true"===localStorage.getItem("forceContent")||Gr.contentEnabled);var Jr,Kr={websiteData:Gr,scriptSettings:ci,apiDomain:Lr,staticDomain:jr,websiteID:"5641177724354560",organizationID:"5714937848528896",dfpEnabled:Gr.dfpEnabled,prebidEnabled:!1,mobileContentEnabled:Gr.mobileContentEnabled,contentEnabled:Gr.contentEnabled,recoveryScriptVersion:Ar};window.__upo_d.websiteConfig=Kr,a.Z.SharedObject.setItem("websiteConfig",Kr);var Pr=function(){return{browser:qn.Xh(),device:qn.Uh(),platform:qn.Jv(),isMobile:qn.tq()}};var Ur=function(){$r(window),to(),Wn.whitelistingIFrame.setupWhitelistingIFrameSettings().then(qr),d.Y.fireEvent("clearSpaces")&&(Cr=[]),Qr()},Qr=function(){var e=s.Z.map(Cr,(function(e){return e})),t=d.Y.fireEvent("customSpacesFilter",{spaces:e});t&&(Cr=s.Z.filter(Cr,(function(e){return s.Z.find(t,(function(t){return t.id==e.id}))})))},qr=function(){var e=Wn.whitelistingIFrame.createWhitelistingIFrame();e.addEventListener("load",(function(){Rr=e,a.Z.SharedObject.setItem("whitelistingIFrame",Rr),d.Y.fireEvent("whitelistingIFrameLoaded",{whitelistingIFrame:Rr})})),e.style.width="0px",e.style.height="0px",e.style.display="none",document.body?document.body.appendChild(e):window.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(e)}))},$r=function(e){e&&function(e,t){if(e.grumi){var n=document.createElement("iframe");n.style="display:none;width:1px;height:1px;",n.addEventListener("load",(function(){n.done||(e.Node.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,t())})),li((function(){if(document.body.appendChild(n),n.contentWindow)return n.done=!0,e.Node.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,void t()}))}else t()}(e,(function(){try{e.XMLHttpRequest&&fi.hookFunction(e.XMLHttpRequest.prototype,"open",fi.Types.XHR_OPEN_PRE,void 0,!0),fi.hookFunction(e,"fetch",fi.Types.FETCH_PRE,void 0,!0),e.HTMLElement&&fi.hookFunction(e.HTMLElement.prototype,"insertBefore",fi.Types.INSERT_BEFORE_PRE,void 0,!0),e.HTMLElement&&fi.hookFunction(e.HTMLElement.prototype,"appendChild",fi.Types.APPEND_CHILD_PRE,fi.Types.APPEND_CHILD_POST,!0),e.HTMLImageElement&&fi.hookFunction(e.HTMLImageElement.prototype,"setAttribute",fi.Types.IMG_SET_ATTRIBUTE_PRE,void 0,!0),fi.hookFunction(e,"open",fi.Types.WIN_OPEN_PRE,void 0,!0),e.HTMLElement&&fi.hookPropertySetter(e.HTMLElement.prototype,"innerHTML",fi.Types.HTML_ELEMENT_INNERHTML_PRE,void 0,!0),e.HTMLElement&&fi.hookFunction(e.HTMLElement.prototype,"hasChildNodes",fi.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,void 0,!0),eo(e)}catch(e){Wr.errorf(null,"`createHooksOnWindow` - %o",e)}}))},eo=function(e){for(var t=a.Z.consts.htmlElements,n=0;n<t.length;n++)e[t[n]]&&fi.hookPropertySetter(e[t[n]].prototype,"src",fi.Types.HTML_SRC_PROP_PRE,void 0,!0)},to=function(){fi.addEventListener(fi.Types.HTML_SRC_PROP_PRE,(function(e){var t=e.data;if("object"===(0,o.Z)(t[0])&&t[0].toString&&(t[0]=t[0].toString()),l.Z.urlValidations.isWhitelistURL(t[0],this.tagName))t[0]=l.Z.addAcceptableParam(t[0]);else if(l.Z.urlValidations.isSyncUrl(t[0],this.tagName)&&Rr){if(a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){var n="new window.Image().src = '"+t[0]+"'";return Rr.contentWindow.postMessage({type:"eval",code:n},"*"),t[0]}return(new Rr.contentWindow.Image).src=t[0]}})),fi.addEventListener(fi.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,(function(e){try{if(s.Z.hasClass(this,"up-show"))return!1;if(this.childNodes&&this.childNodes.length>0){for(var t=!1,n=0;n<this.children.length;n++)if(s.Z.hasClass(this.children[n],"up-show")){t=!0;break}if(t)return!1}}catch(e){Wr.errorf(null,"`hasChildNodes` hook - %o",e)}})),fi.addEventListener(fi.Types.HTML_ELEMENT_INNERHTML_POST,(function(e){if(this&&this.classList&&"adsbygoogle"===this.classList[0]){var t=this.querySelector("iframe"),n=t.contentWindow;"about:blank"!==t.src&&""!==t.src||$r(n);var i=n.document.write;n.document.write=function(e){e&&e.indexOf("show_ads_impl.js")>-1&&(e=l.Z.addAcceptableParam(e)),i.call(this,e)}}})),fi.addEventListener(fi.Types.XHR_OPEN_PRE,(function(e){var t=e.data;l.Z.urlValidations.isWhitelistURL(t[1],"SCRIPT")&&(t[1]=l.Z.addAcceptableParam(t[1]))})),fi.addEventListener(fi.Types.IMG_SET_ATTRIBUTE_PRE,(function(e){var t=e.data;if("srcset"===t[0].toLowerCase()){this.src&&l.Z.urlValidations.isWhitelistURL(this.src,this.tagName)&&(this.src=l.Z.addAcceptableParam(this.src));for(var n=t[1].split(","),i=0;i<n.length;i++){var r=n[i],o=(r=r.trim()).split(" ")[0],a=r.split(" ")[1]||"";l.Z.urlValidations.isWhitelistURL(o,this.tagName)&&(r=l.Z.addAcceptableParam(o)+" "+a,n[i]=r)}t[1]=n.join(",")}else"src"===t[0].toLowerCase()&&l.Z.urlValidations.isWhitelistURL(t[1],this.tagName)&&(t[1]=l.Z.addAcceptableParam(t[1]))})),fi.addEventListener(fi.Types.INSERT_BEFORE_PRE,(function(e){var t=e.data;d.Y.fireEvent("InsertBeforeWebsiteHooksIntercept",{element:t[0]}),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&l.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=l.Z.addAcceptableParam(t[0].src)),"LINK"===t[0].tagName&&t[0].href&&l.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=l.Z.addAcceptableParam(t[0].href))})),fi.addEventListener(fi.Types.APPEND_CHILD_PRE,(function(e){var t=e.data;if(t[0]&&t[0].src&&0===t[0].src.indexOf("blob:"))e.shouldStop=!0;else{if(t[0].children&&t[0].children.length>0)for(var n=0;n<t[0].children.length;n++){var i=t[0].children[n];if(i.src&&l.Z.urlValidations.isWhitelistURL(i.src,i.tagName)&&(i.src=l.Z.addAcceptableParam(i.src)),i.src&&l.Z.urlValidations.isSyncUrl(i.src,i.tagName)&&Rr){if(a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){var r="new Image().src = '"+t[0].src+"'";return Rr.contentWindow.postMessage({type:"eval",code:r},"*"),t[0]}return Rr.contentDocument.body.appendChild(t[0])}}if("LINK"===t[0].tagName&&t[0].href&&l.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=l.Z.addAcceptableParam(t[0].href)),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&l.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=l.Z.addAcceptableParam(t[0].src)),l.Z.urlValidations.isSyncUrl(t[0].src,t[0].tagName)&&Rr){if(a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){var o="new Image().src = '"+t[0].src+"'";return Rr.contentWindow.postMessage({type:"eval",code:o},"*"),t[0]}return Rr.contentDocument.body.appendChild(t[0])}}})),fi.addEventListener(fi.Types.APPEND_CHILD_POST,(function(e){var t=e.data;"IFRAME"!==t.tagName||"about:blank"!==t.src&&""!==t.src||$r(t.contentWindow)})),fi.addEventListener(fi.Types.WIN_OPEN_PRE,(function(e){if(e.data[0]&&(e.data[0].indexOf("clickout.sharethrough.com")>-1||e.data[0].indexOf("3lift.com/pass")>-1)&&Rr&&!a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame)return Rr.contentWindow.open(e.data[0])})),fi.addEventListener(fi.Types.SET_ATTRIBUTE_PRE,(function(e){var t=e.data[0],n=e.data[1];"class"===t&&this.className.indexOf("up-show")>=0&&n.indexOf("up-show")<0&&(e.data[1]=e.data[1]+" up-show")}))},no=function(){window.uponit=window.uponit||{que:[]},window.uponit.addModifier=function(e,t){window.uponit.modifiers=window.uponit.modifiers||{},window.uponit.modifiers[e]=window.uponit.modifiers[e]||[],window.uponit.modifiers[e].push(t)};for(var e=0;e<window.uponit.que.length;e++){var t=window.uponit.que[e];try{t()}catch(e){Wr.errorf(null,"window.uponit.que - %o",e)}}window.uponit.que.push=function(e){e()}},io=function(e){var t=Object.entries(e).map((function(e){var t=r(e,2),n=t[0],i=t[1],o={};o.id=n,o.name=i.name,o.staging=i.staging,o.deviceType=i.device_type,o.selector={position:i.selector.position,value:i.selector.value},o.sizes=i.sizes;var a=i.prebids&&Object.keys(i.prebids).length>0;return o.preBiddingSettings={enabled:a,biddingSettings:{}},a&&(o.preBiddingSettings.biddingSettings[1]=[],Object.entries(i.prebids).forEach((function(e){var t=r(e,2),n=t[0],i=t[1],a={id:n,name:i.bidder,params:i.params};o.preBiddingSettings.biddingSettings[1].push(a)}))),o.postBiddingSettings={adxId:i.adx,directId:i.direct,enabled:Kr.dfpEnabled&&"0"!=i.adx,type:1,order:[{params:{},adx:{bidderID:i.adx,testCompliance:!0},direct:{bidderID:i.direct}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:i.adx,testCompliance:!1},direct:{bidderID:i.direct}}]},[n,o]}));return Object.fromEntries(t)},ro=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i.id=n;var r=new jn.Space(i);t.push(r)}return t};!function(){if(!window.uponitAlreadyLoaded){window.uponitAlreadyLoaded=!0,m.init(Lr,{secure:!0});try{pi.init(),En.Verifications.run(),En.Report.init()}catch(e){Wr.errorf(null,"init - initializing log, verification, and report layers - %o",e)}Jr=Pr(),window.__upo_d.isMobile=Jr.isMobile;var e,t={browser:Jr.browser,device:Jr.device,platform:Jr.platform,isMobile:Jr.isMobile};d.Y.addEventListener("getUserEnvDataWebsiteHooks",(function(){return t})),window.__upo_d.userEvnData=t,function(){try{window.__tcfapi("addEventListener",0,(function(e,t){if(!t||"useractioncomplete"!==e.eventStatus&&"tcloaded"!==e.eventStatus){if(!t){var n="Unable to attach event listener. tcfapi does not adhere to IAB spec. ";n+="listenerSuccess: "+t+". ",e&&(n+="eventStatus: "+e.eventStatus+"."),d.Y.fireEvent("consentData",{error:{message:n}})}}else d.Y.fireEvent("consentData",{tcData:e})}))}catch(e){d.Y.fireEvent("consentData",{error:e})}}(),function(){try{var e=new bn.Z({prefix:"hook: "});window.eval.call(window,"(function (CustomEvents, websiteConfig, lg, hookUtils) {\n"+atob("Q3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3NjcmFwZVByZWJpZEFkVW5pdHMnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICBldmVudC5ob29rRmlsZURhdGEgPSB7CiAgICBnZXRBZFVuaXRzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB3aW5kb3cuZnNwcmViaWQgJiYgd2luZG93LmZzcHJlYmlkLmFkVW5pdHM7CiAgICB9LAogICAgcGFyc2VBZFVuaXQ6IHBhcnNlQWRVbml0LAogICAgZmlsdGVyT3V0QWRVbml0OiBmaWx0ZXJPdXRBZFVuaXQsCiAgfTsKICAvLyByZXR1cm4gdW5kZWZpbmVkIHNvIHRoYXQgc2NyaXB0IHNldHRpbmdzIGV2ZW50IGxpc3RlbmVyIGlzIGNhbGxlZAp9KTsKCnZhciBwYXJzZUFkVW5pdCA9IGZ1bmN0aW9uIChhZFVuaXQpIHsKICB2YXIgY29kZVBhcnRzID0gYWRVbml0LmNvZGUgJiYgYWRVbml0LmNvZGUuc3BsaXQoJy8nKTsKICBhZFVuaXQuY29kZSA9IGNvZGVQYXJ0c1tjb2RlUGFydHMubGVuZ3RoIC0gMV07CgogIGFkVW5pdC5zZWxlY3RvciA9ICdbaWQ9IicgKyBhZFVuaXQuY29kZSArICciXSc7CgogIC8vIFJlbW92ZSAzbGlmdCBtb2JpbGUgYmlkZGVyIHdoZW4gcnVubmluZyB0aGUgc2NyaXB0IGluIGEgZGVza3RvcCBicm93c2VyCiAgaWYgKGFkVW5pdC5iaWRzICYmICF3aW5kb3dbJ19fdXBvX2QnXVsnaXNNb2JpbGUnXSkgewogICAgYWRVbml0LmJpZHMgPSBhZFVuaXQuYmlkcy5maWx0ZXIoZnVuY3Rpb24gKGJpZFNldHRpbmdzKSB7CiAgICAgIHJldHVybiAhKAogICAgICAgIGJpZFNldHRpbmdzLnBhcmFtcyAmJgogICAgICAgIGJpZFNldHRpbmdzLnBhcmFtcy5pbnZlbnRvcnlDb2RlICYmCiAgICAgICAgYmlkU2V0dGluZ3MucGFyYW1zLmludmVudG9yeUNvZGUuaW5kZXhPZignbW9iaWxlJykgIT09IC0xCiAgICAgICk7CiAgICB9KTsKICB9CgogIC8vIFtBTS01NTFdIC0gUmVtb3ZlIGJpZHMgd2l0aCA5NzB4MjUwIHNpemUgaW5uZXIgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBhZFVuaXQgLSBvbmx5IGZvciBzaGFyZXRocm91Z2ggYW5kIHRyaXBsZWxpZnQgYmlkcwogIGFkVW5pdCA9IHJlbW92ZVNoYXJldGhyb3VnaEFuZFRyaXBsZWxpZnQ5NzB4MjUwQmlkcyhhZFVuaXQpOwoKICByZXR1cm4gYWRVbml0Owp9OwoKLy8gW0FNLTU1MV0gLSBSZW1vdmUgYmlkcyB3aXRoIDk3MHgyNTAgc2l6ZSBpbm5lciBjb25maWd1cmF0aW9uIGZyb20gdGhlIGFkVW5pdCAtIG9ubHkgZm9yIHNoYXJldGhyb3VnaCBhbmQgdHJpcGxlbGlmdCBiaWRzCmZ1bmN0aW9uIHJlbW92ZVNoYXJldGhyb3VnaEFuZFRyaXBsZWxpZnQ5NzB4MjUwQmlkcyhhZFVuaXQpIHsKICB0cnkgewogICAgdmFyIGJpZGRlcnMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWRVbml0LmJpZHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGJpZCA9IGFkVW5pdC5iaWRzW2ldOwogICAgICBpZiAoCiAgICAgICAgKGJpZC5iaWRkZXIgPT09ICd0cmlwbGVsaWZ0JyB8fCBiaWQuYmlkZGVyID09PSAnc2hhcmV0aHJvdWdoJykgJiYKICAgICAgICBiaWQuc2l6ZSAmJgogICAgICAgIGJpZC5zaXplWzBdICYmCiAgICAgICAgYmlkLnNpemVbMF1bMF0gPT09IDk3MCAmJgogICAgICAgIGJpZC5zaXplWzBdWzFdID09PSAyNTAKICAgICAgKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgYmlkZGVycy5wdXNoKGJpZCk7CiAgICB9CiAgICBhZFVuaXQuYmlkcyA9IGJpZGRlcnM7CiAgfSBjYXRjaCAoZSkgewogICAgbGcuZXJyb3JmKG51bGwsICdlcnJvciByZW1vdmluZyBiaWQgZnJvbSBhZCB1bml0OiAlbycsIGUpOwogIH0KICByZXR1cm4gYWRVbml0Owp9CgovLyBkZWNsYXJlZCBoZXJlLCBhbmQgZGVmaW5lZCBpbiBhIEZyZWVzdGFyIHdlYnNpdGUgaG9vayBmaWxlIGlmIGRlc2lyZWQKLy8gYXZvaWQgdXNpbmcgYHdlYnNpdGVIb29rRmlsdGVyT3V0QWRVbml0YCBpbiBmYXZvciBvZiBTZXR0aW5ncwp2YXIgd2Vic2l0ZUhvb2tGaWx0ZXJPdXRBZFVuaXQ7CmZ1bmN0aW9uIGZpbHRlck91dEFkVW5pdChhZFVuaXQpIHsKICAvLyBGaWx0ZXIgb3V0IGFkIHVuaXQgaWYgdGhpcyBmdW5jdGlvbiBpcyBkZWZpbmVkIGluIGEgRnJlZXN0YXIgd2Vic2l0ZSBob29rIGZpbGUgKHRvIGF2b2lkIGFkZGluZyB0aGF0IGxvZ2ljIGhlcmUgYW5kIGdyb3dpbmcgdGhlIG9yZyBob29rIGZpbGUpCiAgaWYgKHdlYnNpdGVIb29rRmlsdGVyT3V0QWRVbml0KSB7CiAgICByZXR1cm4gd2Vic2l0ZUhvb2tGaWx0ZXJPdXRBZFVuaXQoYWRVbml0KTsKICB9Cn0KCi8vIEV4dGVuZCB0aGlzIG9yZyBob29rIHdpdGggYGdldFNpemVzVG9SZW1vdmVGb3JTcGFjZU9uV2Vic2l0ZWAgd2hpY2ggY2FuIGJlIGRlZmluZWQgYXMgYSBmdW5jdGlvbiBpbiBhbnkgd2Vic2l0ZSBob29rCi8vIGF2b2lkIHVzaW5nIGBnZXRTaXplc1RvUmVtb3ZlRm9yU3BhY2VPbldlYnNpdGVgIGluIGZhdm9yIG9mIFNldHRpbmdzCnZhciBnZXRTaXplc1RvUmVtb3ZlRm9yU3BhY2VPbldlYnNpdGU7CkN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdzaXplc1RvUmVtb3ZlQnlTcGFjZScsIGZ1bmN0aW9uIChldmVudCkgewogIHZhciBzcGFjZU5hbWUgPSBldmVudC5kYXRhLnNwYWNlTmFtZTsKCiAgZXZlbnQuaG9va0ZpbGVEYXRhID0gZ2V0U2l6ZXNUb1JlbW92ZUZvclNwYWNlT25XZWJzaXRlCiAgICA/IGdldFNpemVzVG9SZW1vdmVGb3JTcGFjZU9uV2Vic2l0ZShzcGFjZU5hbWUpCiAgICA6IFtdOwogIC8vIHJldHVybiB1bmRlZmluZWQgc28gdGhhdCBzY3JpcHQgc2V0dGluZ3MgZXZlbnQgbGlzdGVuZXIgaXMgY2FsbGVkCn0pOwoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb3ZpZGVTQ2hhaW5Db25maWcnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICByZXR1cm4gewogICAgcHJlYmlkVmFyaWFibGU6ICdmc3ByZWJpZCcsCiAgICBtYW51YWxGYWxsYmFjazogewogICAgICBhc2k6ICdmcmVlc3Rhci5pbycsCiAgICAgIHNpZDogd2luZG93LmZyZWVzdGFyLmZzZGF0YS5zaXRlSWQudG9TdHJpbmcoKSwKICAgIH0sCiAgfTsKfSk7CgovLyBSZXNldCBYTUxIdHRwUmVxdWVzdCBiYWNrIHRvIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpZiBwdWIgaGFzIG92ZXJ3cml0dGVuIGl0CmlmIChob29rVXRpbHMuaXNTaXRlT25lT2YoWydpbm5lcnN0cmVuZ3RoLnpvbmUnLCAnYnJvYWRjYXN0dHJpdmlhLmNvbScsICd0aGV0cml2aWFidWZmLmNvbSddKSkgewogIHRyeSB7CiAgICB2YXIgbmF0aXZlWE1MSHR0cFJlcXVlc3RJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdC50b1N0cmluZygpLmluZGV4T2YoJ25hdGl2ZSBjb2RlJykgPT09IC0xKSB7CiAgICAgICAgdmFyIGlmciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyKTsKICAgICAgICBpZnIuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpOwogICAgICAgIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCA9IGlmci5jb250ZW50V2luZG93LlhNTEh0dHBSZXF1ZXN0OwogICAgICAgIGNsZWFySW50ZXJ2YWwobmF0aXZlWE1MSHR0cFJlcXVlc3RJbnRlcnZhbCk7CiAgICAgIH0KICAgIH0sIDMwMCk7CiAgfSBjYXRjaCAoZSkgewogICAgbGcuZXJyb3JmKG51bGwsICdlcnJvciByZXNldHRpbmcgaWZyYW1lOiAlbycsIGUpOwogIH0KfQoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ2tlZXBCVERvbWFpbldoaXRlbGlzdGluZ0lGcmFtZScsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdHJ1ZTsKfSk7Cgp2YXIgc3R5bGVFbGVtZW50Owp2YXIgc3R5bGVSdWxlcyA9IFsKICAnI2ZzLXN0aWNreS1icmFuZGluZy1lbG0sIC51cC1zaG93ID4gLmZzLWJyYW5kaW5nLWVsbSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScsCiAgLy8gQWQgY29udGFpbmVyICguYWhvdmVyIG9yICNnb29nbGVfYWRzX2lmcmFtZV8vLi4uIGRpdikgaGFzIHRoZWlyIHN0eWxlcyB3ZSBzZXQgZXJhc2VkIGZvciBmb290ZXIgdW5pdHMsIG5lZWQgdGhpcyBzdHlsZSB0byBjZW50ZXIgdGhlIGFkIGxhYmVsKQogICcudXAtc2hvdyA+IC5haG92ZXIsIC51cC1zaG93ID4gW2lkXj0iZ29vZ2xlX2Fkc19pZnJhbWVfIl0geyBwb3NpdGlvbjogcmVsYXRpdmU7IH0nLAogIC8vIEVuc3VyZSBpZiBIQiB3aW5zIGFuZCBHQU0gaXMgZW5hYmxlZCwgdGhhdCB0aGUgMXgxIEdBTSBhZCBpZnJhbWUgd2UgcmVuZGVyIHVuZGVybmVhdGggdGhlIEhCIGFkIGNyZWF0aXZlIGRvZXNuJ3QgYWRkIGV4dHJhIHNwYWNlIHRvIHRoZSBmb290ZXIgW0FNLTQ5OV0KICAvLyAoRm9yIGFuIGV4cGxhbmF0aW9uIG9uIHdoeSB3ZSByZW5kZXIgdGhpcyAxeDEgaWZyYW1lIC0gc2VlIGByZWNvdmVyeS5qc2AgbGluZSA4MzEgKHdoZXJlIHdlIHByb2Nlc3MgdGhlIEFkIFNlcnZlciAoR0FNKSBhdWN0aW9uIHJlc3BvbnNlcykpCiAgJyNzbG90LWZvb3Rlci13cmFwcGVyIHsgaGVpZ2h0OiBhdXRvOyBsaW5lLWhlaWdodDogMXB4IH0nLApdLmpvaW4oJyAnKTsKCnN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CnN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IHN0eWxlUnVsZXM7Cihkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpOwoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ2FtYXpvbkJpZGRlckNvbmZpZ3VyYXRpb24nLCBmdW5jdGlvbiAoZXZlbnQpIHsKICByZXR1cm4gewogICAgcHViSUQ6ICcwYWIxOThkZC1iMjY1LTQ2MmEtYWUzNi03NGUxNjNhZDYxNTknLAogIH07Cn0pOwoKd2luZG93LnVwb19hbXpuID0gewogIGFtYXpvbkNQTUNoYXJ0OiB7CiAgICAxNjg3NDAwOiA2LjE1LAogICAgJzFwcHdsNHcnOiAwLjA1LAogICAgJzF1NXEzOWMnOiAwLjA5LAogICAgJzFsYTMzMGcnOiAwLjEzLAogICAgJzF3ZG11YmsnOiAwLjE3LAogICAgJzEzcWFyazAnOiA2LjU1LAogICAgJzF6dHppOCc6IDYuNywKICAgIHRxcGRzMDogNi44LAogICAgZTdjNGNnOiA2LjksCiAgICBpbjVtZ3c6IDcsCiAgICAnMXk5MjNuayc6IDcuMDUsCiAgICB3aWxibHM6IDcuMiwKICAgICcxbjVpY2NnJzogNy4yNSwKICAgIG9xd293MDogNy40LAogICAgJzJqdDY5cyc6IDcuNSwKICAgIHF5dGZ5ODogNy42LAogICAgJzE4MTRnemsnOiA3Ljc1LAogICAgbHUweWRjOiA3LjgsCiAgICAnMWE5MTgxcyc6IDcuOTUsCiAgICBxanUxdms6IDksCiAgICB0YnB6cGM6IDEwLAogICAgbDZheDM0OiAxMSwKICAgIGZ3aW10YzogMTIuNSwKICAgICc3enU3ZW8nOiAxMy41LAogICAgYzVvNDVjOiAxNC41LAogICAgJzN3aTcwZyc6IDE1LjUsCiAgICBkYzRlMHc6IDE2LjUsCiAgICAnNXVmY293JzogMTcuNSwKICAgIGs0dWZ3ZzogMTksCiAgICB3bWM2NGc6IDIwLAogICAgc29tZmk4OiAyMiwKICAgIHhqZmJwYzogMjQsCiAgICBseWU5ejQ6IDI3LAogICAgdmUwZ3prOiAyOCwKICAgIGpocXZwYzogMzEsCiAgICB6YjNxaW86IDMyLAogICAgbDBvbmI0OiAzNSwKICAgIHE3Y2s1YzogMC4wNCwKICAgIHVuNjI5czogMC4wOCwKICAgIGxyajIwdzogMC4xMiwKICAgIHd2MnRjMDogMC4xNiwKICAgIG56ZnQzNDogMC4yLAogICAgJzFuaHp1Mm8nOiAwLjIxLAogICAgc2Y5YjdrOiAwLjI0LAogICAgYW56YXBzOiAwLjI2LAogICAgJzFqMjZieTgnOiAwLjI5LAogICAgeHoxNnY0OiAwLjMyLAogICAgJzFmcWI3Y3cnOiAwLjM1LAogICAgJzFvbHk3bHMnOiAwLjM3LAogICAgdGo3b3FvOiAwLjQsCiAgICBkenVmYjQ6IDAuNSwKICAgICcxMDZ4eHhjJzogMC42MywKICAgIHBuZGRkczogMC42OCwKICAgICcxdGxxd2hzJzogMC43MywKICAgICczZzl1cmsnOiAwLjc4LAogICAgbmZnbWJrOiAwLjg0LAogICAgcnZhNGcwOiAwLjg4LAogICAgaXpuNDc0OiAwLjkyLAogICAgeGYyMDNrOiAwLjk2LAogICAgb2plenVvOiAxLAogICAgJzFvMXowdTgnOiAxLjAxLAogICAgazNsaHE4OiAxLjA4LAogICAgJzFjeWY5ajQnOiAxLjE1LAogICAgcXJicXd3OiAxLjIsCiAgICAnOTAxcWY0JzogMS4yMiwKICAgICc0ZXE2OCc6IDEuMjYsCiAgICAnMWg0OTY5cyc6IDEuMzEsCiAgICAnMTg4bTYwdyc6IDEuMzUsCiAgICAnMWNvZm81Yyc6IDEuMzksCiAgICAnNGE4bXd3JzogMS40MiwKICAgICcxZXdjZjdrJzogMS40NywKICAgIGF4eXczazogMS41NCwKICAgICcxNXFwdGt3JzogMC4yMywKICAgICcxYTZqYnBjJzogMC4yNywKICAgICcxMWF3YmdnJzogMC4zMSwKICAgIGc3cjZkYzogMC4zNCwKICAgICc3YzQ2NGcnOiAwLjM4LAogICAgJzF0MXJwcTgnOiAwLjQxLAogICAga25rb2hzOiAwLjQ0LAogICAgJzJ3YW8wMCc6IDAuNDYsCiAgICB2cjRmc3c6IDAuNDgsCiAgICAnMWRpZWdhbyc6IDAuNTEsCiAgICAnMW1lMWdqayc6IDAuNTMsCiAgICAnMTRtcmcxcyc6IDAuNTUsCiAgICAnMXF0dXlvMCc6IDAuNTcsCiAgICBpZm54Zms6IDAuNiwKICAgIG9kd3hzOiAwLjYyLAogICAgZ3JxZDR3OiAwLjY2LAogICAgJzFwNXhlZGMnOiAwLjY5LAogICAgdTM2dmk4OiAwLjcyLAogICAgbDdqdjljOiAwLjc2LAogICAgd2IzbWtnOiAwLjgsCiAgICBlanRtMm86IDAuODIsCiAgICAnMTU2cW10Yyc6IDAuODcsCiAgICAnMWlpNzU2byc6IDAuOTMsCiAgICBmbnJ6bHM6IDAuOTgsCiAgICAnNnM0emN3JzogMS4wMiwKICAgIGI3eWhoYzogMS4wNiwKICAgICcyY2JoOGcnOiAxLjEsCiAgICAnMXVwcGEwdyc6IDEuMTMsCiAgICAnNGs4OGFvJzogMS4xOCwKICAgIGh2b3FvMDogMS4yNCwKICAgIHpjejVzMDogMS4yOCwKICAgIGhscDVhODogMS4zLAogICAgJzhxMjUxYyc6IDEuMzQsCiAgICAnMXVmcG9uNCc6IDEuMzcsCiAgICAnMWxrMm9lOCc6IDEuNDEsCiAgICAnMXdubWZwYyc6IDEuNDUsCiAgICAnMW5yemZnZyc6IDEuNDksCiAgICBzcDh3bGM6IDEuNTIsCiAgICBqdGx3Y2c6IDEuNTYsCiAgICB5OTBzOHc6IDEuNiwKICAgIGdocXJyNDogMS42MiwKICAgICc3bTNyaTgnOiAxLjY2LAogICAgYzF4OW1vOiAxLjcsCiAgICAnMzZhOWRzJzogMS43NCwKICAgIGU5dTBvdzogMS43OCwKICAgICcxNHdyMWZrJzogMS44MywKICAgICcxOWNramswJzogMS44NywKICAgICcxMGd4amI0JzogMS45MSwKICAgICcxZ2s5emk4JzogMS45NSwKICAgICcxN29tejljJzogMS45OSwKICAgICcxeWxqbGRzJzogMC4wMSwKICAgIGhicGp3ZzogMC4wMiwKICAgICcxZ3U5a3cwJzogMC4wMywKICAgICc4ZzJqbmsnOiAwLjA2LAogICAgJzE3eW1rbjQnOiAwLjA3LAogICAgY3Z3MXMwOiAwLjEsCiAgICAnMWNlZzJyayc6IDAuMTEsCiAgICAnNDA5MWo0JzogMC4xNCwKICAgICcxM2l0MmlvJzogMC4xNSwKICAgIGYzc3N1ODogMC4xOCwKICAgICcxZW1jdHRzJzogMC4xOSwKICAgICc2ODVzbGMnOiAwLjIyLAogICAgJzFyeHRjNzQnOiAwLjI1LAogICAgamptYXlvOiAwLjI4LAogICAgJzFzY2Fndyc6IDAuMywKICAgICcxeGhsN3VvJzogMC4zMywKICAgIHAzZTZtODogMC4zNiwKICAgICcxNnVvNzQwJzogMC4zOSwKICAgICcxM3NzbndnJzogMS40MywKICAgIHg1MmVwczogMS40NCwKICAgIGZkc2U4MDogMS40NiwKICAgIG85ZmVndzogMS40OCwKICAgICc2aTVkejQnOiAxLjUsCiAgICAnMTYwcGV5byc6IDEuNTEsCiAgICAnMXM3c3hrdyc6IDEuNTMsCiAgICAnMWFnaXgzNCc6IDEuNTUsCiAgICAnMWpjNXhjMCc6IDEuNTcsCiAgICAnMjJidnVvJzogMS41OCwKICAgICcxeHJrdDhnJzogMS42MSwKICAgICcxZzBhc3FvJzogMS42MywKICAgICcxb3Z4c3prJzogMS42NSwKICAgICcxNzRuc2hzJzogMS42NywKICAgICcxdGJyYjQwJzogMS42OSwKICAgICcxYmtoYW04JzogMS43MSwKICAgICcxa2c0YXY0JzogMS43MywKICAgICcxMm91YWRjJzogMS43NSwKICAgICcxdmpvMjY4JzogMS43NywKICAgICcxZHNlMW9nJzogMS43OSwKICAgICc1ZTcwZzAnOiAxLjgyLAogICAgcmxhajI4OiAxLjg0LAogICAgJzl1MGlrZyc6IDEuODYsCiAgICBpcG5pdGM6IDEuODgsCiAgICB5ZGliazogMS45LAogICAgeXN6ejBnOiAxLjkyLAogICAgaDFweWlvOiAxLjk0LAogICAgcHhjeXJrOiAxLjk2LAogICAgJzFwZnd6cjQnOiAxLjk3LAogICAgdWQ2Z3cwOiAyLAogICAgY2x3Z2U4OiAyLjAyLAogICAgbGhqZ240OiAyLjA0LAogICAgJzNxOWc1Yyc6IDIuMDYsCiAgICAnMXczbjh4cyc6IDIuMDksCiAgICAnMWVjZDhnMCc6IDIuMTEsCiAgICAnMW44MDhvdyc6IDIuMTMsCiAgICBzNTlwdHM6IDIuMTYsCiAgICBhZHpwYzA6IDIuMTgsCiAgICBqOW1wa3c6IDIuMiwKICAgICcxaXM2cWtnJzogMi4yMSwKICAgICcxMTB3cTJvJzogMi4yMywKICAgICcxeDdsbWd3JzogMi4yNSwKICAgIGZ4cmt6azogMi4yNiwKICAgICcxb2J5bTgwJzogMi4yOSwKICAgICcxYzRnaGRzJzogMi4wMywKICAgICcxMzh0aDR3JzogMi4wNywKICAgIGV0dDdnZzogMi4xLAogICAgJzV5Njc3ayc6IDIuMTQsCiAgICAnMXJudHF0Yyc6IDIuMTcsCiAgICB4cDFsaGM6IDIuMjQsCiAgICAnMWZnYmx6NCc6IDIuMjcsCiAgICAnNzI0a3FvJzogMi4zLAogICAgYmh5MnY0OiAyLjM0LAogICAgJzJtYjJtOCc6IDIuMzgsCiAgICAnMWQ4ZXV3dyc6IDIuNDMsCiAgICAnNHU3dG9nJzogMi40NiwKICAgICc5YTFic3cnOiAyLjUsCiAgICBlZWJrMDogMi41NCwKICAgICcxZ3o5ZGt3JzogMi41OSwKICAgIHVzNXV5bzogMi42NCwKICAgICcxY2pmdmdnJzogMi42NywKICAgICcxM25zdjdrJzogMi43MSwKICAgIGY4c2xqNDogMi43NCwKICAgICc2ZDVsYTgnOiAyLjc4LAogICAgam9tM25rOiAyLjg0LAogICAgeTQwemswOiAyLjg4LAogICAgJzFmdmIwMXMnOiAyLjkxLAogICAgJzE2em56c3cnOiAyLjk1LAogICAgJzFiZmhoeGMnOiAyLjk5LAogICAgJzF2ZW85aGMnOiAzLjA1LAogICAgJzFwYXg3MjgnOiAzLjI1LAogICAgJzFyaXR5NGcnOiAzLjQ1LAogICAgdDQ4YW8wOiAzLjYsCiAgICBpMG9qY3c6IDMuOCwKICAgIHhhMjdlbzogNCwKICAgICcxMXB2cGo0JzogNC4xNSwKICAgICcxZHhkdWRjJzogNC4zNSwKICAgICcxN3Rtcnk4JzogNC41NSwKICAgICcxYTFqajBnJzogNC43NSwKICAgICcxMjl1d2FvJzogNC45NSwKICAgICcxcW92NXo0JzogNS4wNSwKICAgIHVrbzV4YzogNS4yLAogICAgamg0ZW04OiA1LjQsCiAgICB2b21qZ2c6IDUuNiwKICAgICcxMDRnMWt3JzogNS43NSwKICAgICcxZHp2cXBzJzogNS45NSwKICAgICcxaWZwOHU4JzogNi4wNSwKICAgIGsxM2xkczogNi4yLAogICAgemFoOWZrOiA2LjQsCiAgICBvNnhpNGc6IDYuNiwKICAgICcxZnhzd2U4JzogNi43NSwKICAgICcxNHU5NTM0JzogNi45NSwKICAgICcxYzF5bDFjJzogNy4xNSwKICAgICcxMHlldHE4JzogNy4zNSwKICAgICcxZDV3eWtnJzogNy41NSwKICAgIGhlN2c4dzogNy43LAogICAgJzZhbm94cyc6IDcuOSwKICAgICc1Z293c2cnOiA5LjUsCiAgICAnMzVzMDAnOiAxMS41LAogICAgbzM2bmxzOiAxMywKICAgIGpkZGszazogMTUsCiAgICBwOW14aGM6IDE3LAogICAgJzlsOXZjdyc6IDE4LjUsCiAgICBtdXV5Z3c6IDIxLAogICAgcTFxYWRjOiAyNSwKICAgIG5oYzFrdzogMjksCiAgICBvcmo1ejQ6IDMzLAogICAgYnJ4bzh3OiAwLjQyLAogICAgJzFiYWhwOGcnOiAwLjQzLAogICAgJzFrNjRwaGMnOiAwLjQ1LAogICAgJzEyZXVvemsnOiAwLjQ3LAogICAgJzF2OW9nc2cnOiAwLjQ5LAogICAgbXZoZmswOiAwLjUyLAogICAgJzU0N2YyOCc6IDAuNTQsCiAgICByYmF4b2c6IDAuNTYsCiAgICAnOWsweDZvJzogMC41OCwKICAgICcxOTJreTY4JzogMC41OSwKICAgICcxaHk3eWY0JzogMC42MSwKICAgIHlqMGRtbzogMC42NCwKICAgICcxeTFrZW04JzogMC42NSwKICAgICcxZ2FhZTRnJzogMC42NywKICAgICc3dzNjdzAnOiAwLjcsCiAgICAnMTdlbmR2ayc6IDAuNzEsCiAgICBjYnd2MGc6IDAuNzQsCiAgICAnMWJ1Z3cwMCc6IDAuNzUsCiAgICAnMWtxM3c4dyc6IDAuNzcsCiAgICAnMTJ5dHZyNCc6IDAuNzksCiAgICAnMXZ0bm5rMCc6IDAuODEsCiAgICAnMWUyZG4yOCc6IDAuODMsCiAgICAnMW15MG5iNCc6IDAuODUsCiAgICAnNW82bHRzJzogMC44NiwKICAgICcxcmR1NWZrJzogMC44OSwKICAgIGE0MDN5ODogMC45LAogICAgJzE5bWs0eHMnOiAwLjkxLAogICAgJzE4ZDNwYyc6IDAuOTQsCiAgICAnMTBxeDRvdyc6IDAuOTUsCiAgICAnMXd4bTEzNCc6IDAuOTcsCiAgICAnMWY2YzBsYyc6IDAuOTksCiAgICAnMTZhcDBjZyc6IDEuMDMsCiAgICBzejhoejQ6IDEuMDQsCiAgICAnMXNoc2l5byc6IDEuMDUsCiAgICAnMWFxaWlndyc6IDEuMDcsCiAgICAnMWptNWlwcyc6IDEuMDksCiAgICAnMTF1dmk4MCc6IDEuMTEsCiAgICB2NzU5MWM6IDEuMTIsCiAgICBkZnY4ams6IDEuMTQsCiAgICBtYmk4c2c6IDEuMTYsCiAgICAnMWx1MjlzMCc6IDEuMTcsCiAgICAnMTQyczlhOCc6IDEuMTksCiAgICAnMXE5dnJ3Zyc6IDEuMjEsCiAgICAnMThpbHJlbyc6IDEuMjMsCiAgICAnMWhlOHJuayc6IDEuMjUsCiAgICB6bXlyNXM6IDEuMjcsCiAgICAnMXl2ajZyayc6IDEuMjksCiAgICBxaGM1ajQ6IDEuMzIsCiAgICAnMXB6dzZpbyc6IDEuMzMsCiAgICB1eDVubms6IDEuMzYsCiAgICBkNXZuNXM6IDEuMzgsCiAgICBtMWluZW86IDEuNCwKICAgICcxMWt2d3U4JzogMS41OSwKICAgIHBkZHMwMDogMS42NCwKICAgIHR0N2E0ZzogMS42OCwKICAgIGt4azl2azogMS43MiwKICAgIHcxNDE2bzogMS43NiwKICAgIG41aDB4czogMS44LAogICAgJzFtbzExeGMnOiAxLjgxLAogICAgJzFyM3VrMXMnOiAxLjg1LAogICAgJzFpODdqc3cnOiAxLjg5LAogICAgJzF5YmswMDAnOiAxLjkzLAogICAgJzg2Mnk5cyc6IDEuOTgsCiAgICAnMXR2cWh2ayc6IDIuMDEsCiAgICAnMWwwM2htbyc6IDIuMDUsCiAgICB3bDM3eTg6IDIuMDgsCiAgICBucGc3cGM6IDIuMTIsCiAgICAnMTVncTg3NCc6IDIuMTUsCiAgICAnMTl3anFiayc6IDIuMTksCiAgICAnMWljcDM0JzogMi4yMiwKICAgIG90ZWw4ZzogMi4yOCwKICAgIHQ5ODNjdzogMi4zMiwKICAgIGtkbDM0MDogMi4zNiwKICAgIHZoNHVmNDogMi40LAogICAgbWxodTY4OiAyLjQ0LAogICAgJzE0Y3J1bzAnOiAyLjQ3LAogICAgJzE4c2xjc2cnOiAyLjUxLAogICAgend5Y2prOiAyLjU1LAogICAgaGdwY2xjOiAyLjU4LAogICAgJzFwdXdkdHMnOiAyLjYxLAogICAgJzF1YXB2eTgnOiAyLjY1LAogICAgJzFsZjJ2cGMnOiAyLjY5LAogICAgJzF3aW1uMGcnOiAyLjczLAogICAgJzFubXptcmsnOiAyLjc3LAogICAgJzFzMnQ0dzAnOiAyLjgxLAogICAgJzFqNzY0bjQnOiAyLjg1LAogICAgZ2NxejI4OiAyLjksCiAgICAnN2gzeXRjJzogMi45NCwKICAgIGJ3eGd4czogMi45OCwKICAgIHlvMDZiazogMy4yLAogICAgJzEzM3RvZzAnOiAzLjM1LAogICAgJzFmYmJ0YTgnOiAzLjU1LAogICAgJzE0N3MxejQnOiAzLjc1LAogICAgJzFjdGZndTgnOiAzLjk1LAogICAgJzFud3o4NWMnOiA0LjA1LAogICAgJzE2a29scTgnOiAyLjMxLAogICAgJzFzcnM0Y2cnOiAyLjMzLAogICAgJzFiMGkzdW8nOiAyLjM1LAogICAgJzFqdzU0M2snOiAyLjM3LAogICAgJzEyNHYzbHMnOiAyLjM5LAogICAgJzF1em92ZW8nOiAyLjQxLAogICAgZHB1dHhjOiAyLjQyLAogICAgJzFtNDF2NXMnOiAyLjQ1LAogICAgcjFiY2FvOiAyLjQ4LAogICAgJzFxanZkYTgnOiAyLjQ5LAogICAgaTVvYzFzOiAyLjUyLAogICAgJzFobzhkMWMnOiAyLjUzLAogICAgejd6ZDM0OiAyLjU2LAogICAgJzF5cWplMm8nOiAyLjU3LAogICAgcWNjY3U4OiAyLjYsCiAgICAnOGwyY2NnJzogMi42MiwKICAgICcxODNtZGMwJzogMi42MywKICAgIGQwdnVndzogMi42NiwKICAgIGx3aXVwczogMi42OCwKICAgICc0NTh1ODAnOiAyLjcsCiAgICB4MDJtMHc6IDIuNzIsCiAgICAnMWVyY21pbyc6IDIuNzUsCiAgICBvNGZsczA6IDIuNzYsCiAgICAnMTV2cG05cyc6IDIuNzksCiAgICBzazkzd2c6IDIuOCwKICAgIGFzejNlbzogMi44MiwKICAgICcxYWJqNGU4JzogMi44MywKICAgICcxeGMzNXMnOiAyLjg2LAogICAgJzExZnc0NWMnOiAyLjg3LAogICAgJzF4bWwwamsnOiAyLjg5LAogICAgcDhkemI0OiAyLjkyLAogICAgJzFvcXkwYW8nOiAyLjkzLAogICAgdG83aGZrOiAyLjk2LAogICAgJzF0NnJpZjQnOiAyLjk3LAogICAga3NraDZvOiAzLAogICAgJzU5NzdyNCc6IDMuMSwKICAgICcxOTdrcXY0JzogMy4xNSwKICAgIGNnd25wYzogMy4zLAogICAgbmtnZjBnOiAzLjQsCiAgICAnMWRjd2U4JzogMy41LAogICAgJzFqcjViZW8nOiAzLjY1LAogICAgZGt2MThnOiAzLjcsCiAgICAnMXowaXpnZyc6IDMuODUsCiAgICAnOHYxeHE4JzogMy45LAogICAgYjJ5b3NnOiA0LjEsCiAgICBwaWRrb3c6IDQuMiwKICAgICczYmEyMm8nOiA0LjMsCiAgICAnMXRncjNzdyc6IDQuMjUsCiAgICAnMWlkN2Nocyc6IDQuNDUsCiAgICAnMXc4bjFtbyc6IDQuNjUsCiAgICAnMW9neWV3dyc6IDQuODUsCiAgICAnMWdycm9qayc6IDUuMTUsCiAgICAnMTVvN3g4Zyc6IDUuMzUsCiAgICAnNzltOXMwJzogNS41LAogICAgJzloajB1OCc6IDUuNywKICAgICczZHJ5ZjQnOiA1LjksCiAgICAnMXVuN2RvZyc6IDYuMjUsCiAgICAnMXB4ZWE2OCc6IDYuNDUsCiAgICAnMXM1YjE4Zyc6IDYuNjUsCiAgICAnMWtkbWVpbyc6IDYuODUsCiAgICAnODNsMXhjJzogNy4xLAogICAgYWJoc3prOiA3LjMsCiAgICAnMXNwYTgwMCc6IDcuNDUsCiAgICAnMWhscWdvdyc6IDcuNjUsCiAgICAnMXdnNHFvMCc6IDcuODUsCiAgICB5MWozN2s6IDgsCiAgICBlbWJpZjQ6IDguNSwKICAgIGFtcWNqazogMTAuNSwKICAgIHZ6djMwZzogMTIsCiAgICBxdjJsZms6IDE0LAogICAgcnFhYnI0OiA0LjQsCiAgICBoNnByN2s6IDQuNSwKICAgIGxtajljMDogNC42LAogICAgJzYzNXp3Zyc6IDQuNywKICAgIHh1MWU2ODogNC44LAogICAgYm14dmswOiA0LjksCiAgICBtcWhtdjQ6IDUsCiAgICBqZTQ4dzogNS4xLAogICAgJzFsN2w2bzAnOiA1LjI1LAogICAgZjFhd2hzOiA1LjMsCiAgICAnMXhmM2JpOCc6IDUuNDUsCiAgICAnMWI3enN3MCc6IDUuNTUsCiAgICAnMW1iams3NCc6IDUuNjUsCiAgICBwa3ZoMWM6IDUuOCwKICAgICcxdGo5MDVjJzogNS44NSwKICAgIHJzczgzazogNiwKICAgIGZsYTM5YzogNi4xLAogICAgJzRocWJ5OCc6IDYuMywKICAgICcxOGczdjI4JzogNi4zNSwKICAgIGQzZHF0YzogNi41LAogICAgeWY5ajQwOiAxNiwKICAgIHVvZjBnMDogMTgsCiAgICAnMjNrdTB3JzogMTkuNSwKICAgIGk1MXV5bzogMjMsCiAgICB0ZzNiYjQ6IDI2LAogICAgcm41eWJrOiAzMCwKICAgIHU2Yjh4czogMzQsCiAgfSwKfTsKCg==")+"\n})")(d.Y,Kr,e,kr)}catch(e){Wr.errorf(null,"failed to pass CustomEvents, websiteConfig, logger and hooks utility functions - %o",e)}}(),Object.entries(di).forEach((function(e){var t=r(e,2),n=t[0],i=t[1];if(ai[n]){var o=ai[n],a=o.hookName,s=o.parseSettingValue,c=o.handler,l=s?s(i):i;a?d.Y.addEventListener(a,(function(e){return c(l,e)})):(c(l),oi.infof(null,"loadSettings: ".concat(n," (no associated hook): Setting applied.")))}else oi.errorf(null,"loadSettings: No setting handler found for %o (setting will not be applied).",n)})),(e=d.Y.fireEvent("amazonBidderConfiguration"))&&e.pubID&&(a.Z.upoSettings.amazonBidderConfiguration.enabled=!0,a.Z.upoSettings.amazonBidderConfiguration=Object.assign(a.Z.upoSettings.amazonBidderConfiguration,e));var n=d.Y.fireEvent("hookDFPEnabledValue");n&&(Kr.dfpEnabled=n);try{Cr=ro(io(Cr))}catch(e){Wr.errorf(null,"init - parsing static spaces - %o",e)}if(no(),d.Y.fireEvent("shouldDisableUponit"))Wr.noticef(null,"halting: we have been disabled by hooks");else{d.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!0}}),d.Y.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!0}}),Ur(),Kr.prebidEnabled=!(!s.Z.find(Cr,(function(e){return e.preBiddingSettings&&e.preBiddingSettings.enabled}))&&!d.Y.fireEvent("scrapePrebidAdUnits"));var i={spaces:Cr,settings:{prebid:d.Y.fireEvent("forcePrebidEnabled")||Kr.prebidEnabled,dfp:Kr.dfpEnabled}};li((function(){d.Y.fireEvent("onDomLoaded"),d.Y.fireEvent("onBeforeRecovery",{spaces:Cr,settings:i.settings}),Or.invoke(i)}))}}}()})()})();
//# sourceMappingURL=recovery.js.map

})({});
